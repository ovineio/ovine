/*! jQuery v3.3.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var n=[],r=e.document,i=Object.getPrototypeOf,o=n.slice,a=n.concat,s=n.push,u=n.indexOf,l={},c=l.toString,f=l.hasOwnProperty,p=f.toString,d=p.call(Object),h={},g=function e(t){return"function"==typeof t&&"number"!=typeof t.nodeType},y=function e(t){return null!=t&&t===t.window},v={type:!0,src:!0,noModule:!0};function m(e,t,n){var i,o=(t=t||r).createElement("script");if(o.text=e,n)for(i in v)n[i]&&(o[i]=n[i]);t.head.appendChild(o).parentNode.removeChild(o)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[c.call(e)]||"object":typeof e}var b="3.3.1",w=function(e,t){return new w.fn.init(e,t)},T=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.fn=w.prototype={jquery:"3.3.1",constructor:w,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||g(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(l&&r&&(w.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&w.isPlainObject(n)?n:{},a[t]=w.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},w.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==c.call(e))&&(!(t=i(e))||"function"==typeof(n=f.call(t,"constructor")&&t.constructor)&&p.call(n)===d)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){m(e)},each:function(e,t){var n,r=0;if(C(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(T,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(C(Object(e))?w.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;o<a;o++)(r=!t(e[o],o))!==s&&i.push(e[o]);return i},map:function(e,t,n){var r,i,o=0,s=[];if(C(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return a.apply([],s)},guid:1,support:h}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=n[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});function C(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!g(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}var E=function(e){var t,n,r,i,o,a,s,u,l,c,f,p,d,h,g,y,v,m,x,b="sizzle"+1*new Date,w=e.document,T=0,C=0,E=ae(),k=ae(),S=ae(),D=function(e,t){return e===t&&(f=!0),0},N={}.hasOwnProperty,A=[],j=A.pop,q=A.push,L=A.push,H=A.slice,O=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",I="\\["+M+"*("+R+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+M+"*\\]",W=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+I+")*)|.*)\\)|)",$=new RegExp(M+"+","g"),B=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),F=new RegExp("^"+M+"*,"+M+"*"),_=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),z=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),X=new RegExp(W),U=new RegExp("^"+R+"$"),V={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+W),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,K=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),ee=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){p()},ie=me(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{L.apply(A=H.call(w.childNodes),w.childNodes),A[w.childNodes.length].nodeType}catch(e){L={apply:A.length?function(e,t){q.apply(e,H.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function oe(e,t,r,i){var o,s,l,c,f,h,v,m=t&&t.ownerDocument,T=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==T&&9!==T&&11!==T)return r;if(!i&&((t?t.ownerDocument||t:w)!==d&&p(t),t=t||d,g)){if(11!==T&&(f=J.exec(e)))if(o=f[1]){if(9===T){if(!(l=t.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(m&&(l=m.getElementById(o))&&x(t,l)&&l.id===o)return r.push(l),r}else{if(f[2])return L.apply(r,t.getElementsByTagName(e)),r;if((o=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return L.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!S[e+" "]&&(!y||!y.test(e))){if(1!==T)m=t,v=e;else if("object"!==t.nodeName.toLowerCase()){(c=t.getAttribute("id"))?c=c.replace(te,ne):t.setAttribute("id",c=b),s=(h=a(e)).length;while(s--)h[s]="#"+c+" "+ve(h[s]);v=h.join(","),m=K.test(e)&&ge(t.parentNode)||t}if(v)try{return L.apply(r,m.querySelectorAll(v)),r}catch(e){}finally{c===b&&t.removeAttribute("id")}}}return u(e.replace(B,"$1"),t,r,i)}function ae(){var e=[];function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}return t}function se(e){return e[b]=!0,e}function ue(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){var n=e.split("|"),i=n.length;while(i--)r.attrHandle[n[i]]=t}function ce(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function de(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function he(e){return se(function(t){return t=+t,se(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function ge(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}n=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},p=oe.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:w;return a!==d&&9===a.nodeType&&a.documentElement?(d=a,h=d.documentElement,g=!o(d),w!==d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),n.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ue(function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(d.getElementsByClassName),n.getById=ue(function(e){return h.appendChild(e).id=b,!d.getElementsByName||!d.getElementsByName(b).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&g){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],y=[],(n.qsa=Q.test(d.querySelectorAll))&&(ue(function(e){h.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||y.push("\\["+M+"*(?:value|"+P+")"),e.querySelectorAll("[id~="+b+"-]").length||y.push("~="),e.querySelectorAll(":checked").length||y.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||y.push(".#.+[+~]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&y.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&y.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&y.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),y.push(",.*:")})),(n.matchesSelector=Q.test(m=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ue(function(e){n.disconnectedMatch=m.call(e,"*"),m.call(e,"[s!='']:x"),v.push("!=",W)}),y=y.length&&new RegExp(y.join("|")),v=v.length&&new RegExp(v.join("|")),t=Q.test(h.compareDocumentPosition),x=t||Q.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===d||e.ownerDocument===w&&x(w,e)?-1:t===d||t.ownerDocument===w&&x(w,t)?1:c?O(c,e)-O(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===d?-1:t===d?1:i?-1:o?1:c?O(c,e)-O(c,t):0;if(i===o)return ce(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?ce(a[r],s[r]):a[r]===w?-1:s[r]===w?1:0},d):d},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==d&&p(e),t=t.replace(z,"='$1']"),n.matchesSelector&&g&&!S[t+" "]&&(!v||!v.test(t))&&(!y||!y.test(t)))try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return oe(t,d,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==d&&p(e),x(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==d&&p(e);var i=r.attrHandle[t.toLowerCase()],o=i&&N.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.escape=function(e){return(e+"").replace(te,ne)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,r=[],i=0,o=0;if(f=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(D),f){while(t=e[o++])t===e[o]&&(i=r.push(o));while(i--)e.splice(r[i],1)}return c=null,e},i=oe.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else while(t=e[r++])n+=i(t);return n},(r=oe.selectors={cacheLength:50,createPseudo:se,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Z,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return V.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&E(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=oe.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace($," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==a?"nextSibling":"previousSibling",y=t.parentNode,v=s&&t.nodeName.toLowerCase(),m=!u&&!s,x=!1;if(y){if(o){while(g){p=t;while(p=p[g])if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?y.firstChild:y.lastChild],a&&m){x=(d=(l=(c=(f=(p=y)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===T&&l[1])&&l[2],p=d&&y.childNodes[d];while(p=++d&&p&&p[g]||(x=d=0)||h.pop())if(1===p.nodeType&&++x&&p===t){c[e]=[T,d,x];break}}else if(m&&(x=d=(l=(c=(f=(p=t)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===T&&l[1]),!1===x)while(p=++d&&p&&p[g]||(x=d=0)||h.pop())if((s?p.nodeName.toLowerCase()===v:1===p.nodeType)&&++x&&(m&&((c=(f=p[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]=[T,x]),p===t))break;return(x-=i)===r||x%r==0&&x/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return i[b]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,n){var r,o=i(e,t),a=o.length;while(a--)e[r=O(e,o[a])]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:se(function(e){var t=[],n=[],r=s(e.replace(B,"$1"));return r[b]?se(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:se(function(e){return function(t){return oe(e,t).length>0}}),contains:se(function(e){return e=e.replace(Z,ee),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:se(function(e){return U.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(Z,ee).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:de(!1),disabled:de(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:he(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pe(t);function ye(){}ye.prototype=r.filters=r.pseudos,r.setFilters=new ye,a=oe.tokenize=function(e,t){var n,i,o,a,s,u,l,c=k[e+" "];if(c)return t?0:c.slice(0);s=e,u=[],l=r.preFilter;while(s){n&&!(i=F.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=_.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(B," ")}),s=s.slice(n.length));for(a in r.filter)!(i=V[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?oe.error(e):k(e,u).slice(0)};function ve(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function me(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=C++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var l,c,f,p=[T,s];if(u){while(t=t[r])if((1===t.nodeType||a)&&e(t,n,u))return!0}else while(t=t[r])if(1===t.nodeType||a)if(f=t[b]||(t[b]={}),c=f[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[o])&&l[0]===T&&l[1]===s)return p[2]=l[2];if(c[o]=p,p[2]=e(t,n,u))return!0}return!1}}function xe(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function be(e,t,n){for(var r=0,i=t.length;r<i;r++)oe(e,t[r],n);return n}function we(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Te(e,t,n,r,i,o){return r&&!r[b]&&(r=Te(r)),i&&!i[b]&&(i=Te(i,o)),se(function(o,a,s,u){var l,c,f,p=[],d=[],h=a.length,g=o||be(t||"*",s.nodeType?[s]:s,[]),y=!e||!o&&t?g:we(g,p,e,s,u),v=n?i||(o?e:h||r)?[]:a:y;if(n&&n(y,v,s,u),r){l=we(v,d),r(l,[],s,u),c=l.length;while(c--)(f=l[c])&&(v[d[c]]=!(y[d[c]]=f))}if(o){if(i||e){if(i){l=[],c=v.length;while(c--)(f=v[c])&&l.push(y[c]=f);i(null,v=[],l,u)}c=v.length;while(c--)(f=v[c])&&(l=i?O(o,f):p[c])>-1&&(o[l]=!(a[l]=f))}}else v=we(v===a?v.splice(h,v.length):v),i?i(null,a,v,u):L.apply(a,v)})}function Ce(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,c=me(function(e){return e===t},s,!0),f=me(function(e){return O(t,e)>-1},s,!0),p=[function(e,n,r){var i=!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):f(e,n,r));return t=null,i}];u<o;u++)if(n=r.relative[e[u].type])p=[me(xe(p),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[b]){for(i=++u;i<o;i++)if(r.relative[e[i].type])break;return Te(u>1&&xe(p),u>1&&ve(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(B,"$1"),n,u<i&&Ce(e.slice(u,i)),i<o&&Ce(e=e.slice(i)),i<o&&ve(e))}p.push(n)}return xe(p)}function Ee(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,u,c){var f,h,y,v=0,m="0",x=o&&[],b=[],w=l,C=o||i&&r.find.TAG("*",c),E=T+=null==w?1:Math.random()||.1,k=C.length;for(c&&(l=a===d||a||c);m!==k&&null!=(f=C[m]);m++){if(i&&f){h=0,a||f.ownerDocument===d||(p(f),s=!g);while(y=e[h++])if(y(f,a||d,s)){u.push(f);break}c&&(T=E)}n&&((f=!y&&f)&&v--,o&&x.push(f))}if(v+=m,n&&m!==v){h=0;while(y=t[h++])y(x,b,a,s);if(o){if(v>0)while(m--)x[m]||b[m]||(b[m]=j.call(u));b=we(b)}L.apply(u,b),c&&!o&&b.length>0&&v+t.length>1&&oe.uniqueSort(u)}return c&&(T=E,l=w),x};return n?se(o):o}return s=oe.compile=function(e,t){var n,r=[],i=[],o=S[e+" "];if(!o){t||(t=a(e)),n=t.length;while(n--)(o=Ce(t[n]))[b]?r.push(o):i.push(o);(o=S(e,Ee(i,r))).selector=e}return o},u=oe.select=function(e,t,n,i){var o,u,l,c,f,p="function"==typeof e&&e,d=!i&&a(e=p.selector||e);if(n=n||[],1===d.length){if((u=d[0]=d[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===t.nodeType&&g&&r.relative[u[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(Z,ee),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(u.shift().value.length)}o=V.needsContext.test(e)?0:u.length;while(o--){if(l=u[o],r.relative[c=l.type])break;if((f=r.find[c])&&(i=f(l.matches[0].replace(Z,ee),K.test(u[0].type)&&ge(t.parentNode)||t))){if(u.splice(o,1),!(e=i.length&&ve(u)))return L.apply(n,i),n;break}}}return(p||s(e,d))(i,t,!g,n,!t||K.test(e)&&ge(t.parentNode)||t),n},n.sortStable=b.split("").sort(D).join("")===b,n.detectDuplicates=!!f,p(),n.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(d.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||le(P,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),oe}(e);w.find=E,w.expr=E.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=E.uniqueSort,w.text=E.getText,w.isXMLDoc=E.isXML,w.contains=E.contains,w.escapeSelector=E.escape;var k=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&w(e).is(n))break;r.push(e)}return r},S=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},D=w.expr.match.needsContext;function N(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,t,n){return g(t)?w.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?w.grep(e,function(e){return e===t!==n}):"string"!=typeof t?w.grep(e,function(e){return u.call(t,e)>-1!==n}):w.filter(t,e,n)}w.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<r;t++)if(w.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)w.find(e,i[t],n);return r>1?w.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&D.test(e)?w(e):e||[],!1).length}});var q,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||q,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:L.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:r,!0)),A.test(i[1])&&w.isPlainObject(t))for(i in t)g(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(o=r.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,q=w(r);var H=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&w(e);if(!D.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?w.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?u.call(w(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function P(e,t){while((e=e[t])&&1!==e.nodeType);return e}w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,n){return k(e,"parentNode",n)},next:function(e){return P(e,"nextSibling")},prev:function(e){return P(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,n){return k(e,"nextSibling",n)},prevUntil:function(e,t,n){return k(e,"previousSibling",n)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return N(e,"iframe")?e.contentDocument:(N(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},function(e,t){w.fn[e]=function(n,r){var i=w.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=w.filter(r,i)),this.length>1&&(O[e]||w.uniqueSort(i),H.test(e)&&i.reverse()),this.pushStack(i)}});var M=/[^\x20\t\r\n\f]+/g;function R(e){var t={};return w.each(e.match(M)||[],function(e,n){t[n]=!0}),t}w.Callbacks=function(e){e="string"==typeof e?R(e):w.extend({},e);var t,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||e.once,r=t=!0;a.length;s=-1){n=a.shift();while(++s<o.length)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1)}e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){w.each(n,function(n,r){g(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==x(r)&&t(r)})}(arguments),n&&!t&&u()),this},remove:function(){return w.each(arguments,function(e,t){var n;while((n=w.inArray(t,o,n))>-1)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?w.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l};function I(e){return e}function W(e){throw e}function $(e,t,n,r){var i;try{e&&g(i=e.promise)?i.call(e).done(t).fail(n):e&&g(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}w.extend({Deferred:function(t){var n=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(e){return i.then(null,e)},pipe:function(){var e=arguments;return w.Deferred(function(t){w.each(n,function(n,r){var i=g(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&g(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){var o=0;function a(t,n,r,i){return function(){var s=this,u=arguments,l=function(){var e,l;if(!(t<o)){if((e=r.apply(s,u))===n.promise())throw new TypeError("Thenable self-resolution");l=e&&("object"==typeof e||"function"==typeof e)&&e.then,g(l)?i?l.call(e,a(o,n,I,i),a(o,n,W,i)):(o++,l.call(e,a(o,n,I,i),a(o,n,W,i),a(o,n,I,n.notifyWith))):(r!==I&&(s=void 0,u=[e]),(i||n.resolveWith)(s,u))}},c=i?l:function(){try{l()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,c.stackTrace),t+1>=o&&(r!==W&&(s=void 0,u=[e]),n.rejectWith(s,u))}};t?c():(w.Deferred.getStackHook&&(c.stackTrace=w.Deferred.getStackHook()),e.setTimeout(c))}}return w.Deferred(function(e){n[0][3].add(a(0,e,g(i)?i:I,e.notifyWith)),n[1][3].add(a(0,e,g(t)?t:I)),n[2][3].add(a(0,e,g(r)?r:W))}).promise()},promise:function(e){return null!=e?w.extend(e,i):i}},o={};return w.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=o.call(arguments),a=w.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?o.call(arguments):n,--t||a.resolveWith(r,i)}};if(t<=1&&($(e,a.done(s(n)).resolve,a.reject,!t),"pending"===a.state()||g(i[n]&&i[n].then)))return a.then();while(n--)$(i[n],s(n),a.reject);return a.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&B.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},w.readyException=function(t){e.setTimeout(function(){throw t})};var F=w.Deferred();w.fn.ready=function(e){return F.then(e)["catch"](function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||F.resolveWith(r,[w]))}}),w.ready.then=F.then;function _(){r.removeEventListener("DOMContentLoaded",_),e.removeEventListener("load",_),w.ready()}"complete"===r.readyState||"loading"!==r.readyState&&!r.documentElement.doScroll?e.setTimeout(w.ready):(r.addEventListener("DOMContentLoaded",_),e.addEventListener("load",_));var z=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===x(n)){i=!0;for(s in n)z(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,g(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(w(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},X=/^-ms-/,U=/-([a-z])/g;function V(e,t){return t.toUpperCase()}function G(e){return e.replace(X,"ms-").replace(U,V)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Q(){this.expando=w.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[G(t)]=n;else for(r in t)i[G(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][G(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(G):(t=G(t))in r?[t]:t.match(M)||[]).length;while(n--)delete r[t[n]]}(void 0===t||w.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var J=new Q,K=new Q,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ee=/[A-Z]/g;function te(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Z.test(e)?JSON.parse(e):e)}function ne(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ee,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=te(n)}catch(e){}K.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return K.hasData(e)||J.hasData(e)},data:function(e,t,n){return K.access(e,t,n)},removeData:function(e,t){K.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),w.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=K.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){n=a.length;while(n--)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=G(r.slice(5)),ne(o,r,i[r]));J.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){K.set(this,e)}):z(this,function(t){var n;if(o&&void 0===t){if(void 0!==(n=K.get(o,e)))return n;if(void 0!==(n=ne(o,e)))return n}else this.each(function(){K.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){K.remove(this,e)})}}),w.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=J.get(e,t),n&&(!r||Array.isArray(n)?r=J.access(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),r=n.length,i=n.shift(),o=w._queueHooks(e,t),a=function(){w.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:w.Callbacks("once memory").add(function(){J.remove(e,[t+"queue",n])})})}}),w.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?w.queue(this[0],e):void 0===t?this:this.each(function(){var n=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=w.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=J.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ie=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&w.contains(e.ownerDocument,e)&&"none"===w.css(e,"display")},se=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};function ue(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return w.css(e,t,"")},u=s(),l=n&&n[3]||(w.cssNumber[t]?"":"px"),c=(w.cssNumber[t]||"px"!==l&&+u)&&ie.exec(w.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)w.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,w.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var le={};function ce(e){var t,n=e.ownerDocument,r=e.nodeName,i=le[r];return i||(t=n.body.appendChild(n.createElement(r)),i=w.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),le[r]=i,i)}function fe(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=J.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ae(r)&&(i[o]=ce(r))):"none"!==n&&(i[o]="none",J.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}w.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?w(this).show():w(this).hide()})}});var pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,he=/^$|^module$|\/(?:java|ecma)script/i,ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td;function ye(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&N(e,t)?w.merge([e],n):n}function ve(e,t){for(var n=0,r=e.length;n<r;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===x(o))w.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+w.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;w.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&w.inArray(o,r)>-1)i&&i.push(o);else if(l=w.contains(o.ownerDocument,o),a=ye(f.appendChild(o),"script"),l&&ve(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}!function(){var e=r.createDocumentFragment().appendChild(r.createElement("div")),t=r.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),h.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var be=r.documentElement,we=/^key/,Te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ce=/^([^.]*)(?:\.(.+)|)/;function Ee(){return!0}function ke(){return!1}function Se(){try{return r.activeElement}catch(e){}}function De(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)De(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=ke;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return w().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=w.guid++)),e.each(function(){w.event.add(this,t,i,r,n)})}w.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=J.get(e);if(y){n.handler&&(n=(o=n).handler,i=o.selector),i&&w.find.matchesSelector(be,i),n.guid||(n.guid=w.guid++),(u=y.events)||(u=y.events={}),(a=y.handle)||(a=y.handle=function(t){return"undefined"!=typeof w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(M)||[""]).length;while(l--)d=g=(s=Ce.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=w.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=w.event.special[d]||{},c=w.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&w.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),w.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=J.hasData(e)&&J.get(e);if(y&&(u=y.events)){l=(t=(t||"").match(M)||[""]).length;while(l--)if(s=Ce.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){f=w.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,y.handle)||w.removeEvent(e,d,y.handle),delete u[d])}else for(d in u)w.event.remove(e,d+t[l],n,r,!0);w.isEmptyObject(u)&&J.remove(e,"handle events")}},dispatch:function(e){var t=w.event.fix(e),n,r,i,o,a,s,u=new Array(arguments.length),l=(J.get(this,"events")||{})[t.type]||[],c=w.event.special[t.type]||{};for(u[0]=t,n=1;n<arguments.length;n++)u[n]=arguments[n];if(t.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){s=w.event.handlers.call(this,t,l),n=0;while((o=s[n++])&&!t.isPropagationStopped()){t.currentTarget=o.elem,r=0;while((a=o.handlers[r++])&&!t.isImmediatePropagationStopped())t.rnamespace&&!t.rnamespace.test(a.namespace)||(t.handleObj=a,t.data=a.data,void 0!==(i=((w.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,u))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?w(i,this).index(l)>-1:w.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Se()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Se()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&N(this,"input"))return this.click(),!1},_default:function(e){return N(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ee:ke,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ee,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ee,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ee,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&we.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Te.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||w.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),w.fn.extend({on:function(e,t,n,r){return De(this,e,t,n,r)},one:function(e,t,n,r){return De(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,w(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ke),this.each(function(){w.event.remove(this,e,n,t)})}});var Ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ae=/<script|<style|<link/i,je=/checked\s*(?:[^=]|=\s*.checked.)/i,qe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Le(e,t){return N(e,"table")&&N(11!==t.nodeType?t:t.firstChild,"tr")?w(e).children("tbody")[0]||e:e}function He(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Oe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Pe(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(J.hasData(e)&&(o=J.access(e),a=J.set(t,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)w.event.add(t,i,l[i][n])}K.hasData(e)&&(s=K.access(e),u=w.extend({},s),K.set(t,u))}}function Me(e,t){var n=t.nodeName.toLowerCase();"input"===n&&pe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Re(e,t,n,r){t=a.apply([],t);var i,o,s,u,l,c,f=0,p=e.length,d=p-1,y=t[0],v=g(y);if(v||p>1&&"string"==typeof y&&!h.checkClone&&je.test(y))return e.each(function(i){var o=e.eq(i);v&&(t[0]=y.call(this,i,o.html())),Re(o,t,n,r)});if(p&&(i=xe(t,e[0].ownerDocument,!1,e,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(u=(s=w.map(ye(i,"script"),He)).length;f<p;f++)l=i,f!==d&&(l=w.clone(l,!0,!0),u&&w.merge(s,ye(l,"script"))),n.call(e[f],l,f);if(u)for(c=s[s.length-1].ownerDocument,w.map(s,Oe),f=0;f<u;f++)l=s[f],he.test(l.type||"")&&!J.access(l,"globalEval")&&w.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?w._evalUrl&&w._evalUrl(l.src):m(l.textContent.replace(qe,""),c,l))}return e}function Ie(e,t,n){for(var r,i=t?w.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||w.cleanData(ye(r)),r.parentNode&&(n&&w.contains(r.ownerDocument,r)&&ve(ye(r,"script")),r.parentNode.removeChild(r));return e}w.extend({htmlPrefilter:function(e){return e.replace(Ne,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=w.contains(e.ownerDocument,e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(a=ye(s),r=0,i=(o=ye(e)).length;r<i;r++)Me(o[r],a[r]);if(t)if(n)for(o=o||ye(e),a=a||ye(s),r=0,i=o.length;r<i;r++)Pe(o[r],a[r]);else Pe(e,s);return(a=ye(s,"script")).length>0&&ve(a,!u&&ye(e,"script")),s},cleanData:function(e){for(var t,n,r,i=w.event.special,o=0;void 0!==(n=e[o]);o++)if(Y(n)){if(t=n[J.expando]){if(t.events)for(r in t.events)i[r]?w.event.remove(n,r):w.removeEvent(n,r,t.handle);n[J.expando]=void 0}n[K.expando]&&(n[K.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Ie(this,e,!0)},remove:function(e){return Ie(this,e)},text:function(e){return z(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Re(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Le(this,e).appendChild(e)})},prepend:function(){return Re(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Le(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(ye(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return z(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ae.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Re(this,arguments,function(t){var n=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(ye(this)),n&&n.replaceChild(t,this))},e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){for(var n,r=[],i=w(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),w(i[a])[t](n),s.apply(r,n.get());return this.pushStack(r)}});var We=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),$e=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Be=new RegExp(oe.join("|"),"i");!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",be.appendChild(l).appendChild(c);var t=e.getComputedStyle(c);i="1%"!==t.top,u=12===n(t.marginLeft),c.style.right="60%",s=36===n(t.right),o=36===n(t.width),c.style.position="absolute",a=36===c.offsetWidth||"absolute",be.removeChild(l),c=null}}function n(e){return Math.round(parseFloat(e))}var i,o,a,s,u,l=r.createElement("div"),c=r.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===c.style.backgroundClip,w.extend(h,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),a}}))}();function Fe(e,t,n){var r,i,o,a,s=e.style;return(n=n||$e(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||w.contains(e.ownerDocument,e)||(a=w.style(e,t)),!h.pixelBoxStyles()&&We.test(a)&&Be.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function _e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}var ze=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ue={position:"absolute",visibility:"hidden",display:"block"},Ve={letterSpacing:"0",fontWeight:"400"},Ge=["Webkit","Moz","ms"],Ye=r.createElement("div").style;function Qe(e){if(e in Ye)return e;var t=e[0].toUpperCase()+e.slice(1),n=Ge.length;while(n--)if((e=Ge[n]+t)in Ye)return e}function Je(e){var t=w.cssProps[e];return t||(t=w.cssProps[e]=Qe(e)||e),t}function Ke(e,t,n){var r=ie.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ze(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=w.css(e,n+oe[a],!0,i)),r?("content"===n&&(u-=w.css(e,"padding"+oe[a],!0,i)),"margin"!==n&&(u-=w.css(e,"border"+oe[a]+"Width",!0,i))):(u+=w.css(e,"padding"+oe[a],!0,i),"padding"!==n?u+=w.css(e,"border"+oe[a]+"Width",!0,i):s+=w.css(e,"border"+oe[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))),u}function et(e,t,n){var r=$e(e),i=Fe(e,t,r),o="border-box"===w.css(e,"boxSizing",!1,r),a=o;if(We.test(i)){if(!n)return i;i="auto"}return a=a&&(h.boxSizingReliable()||i===e.style[t]),("auto"===i||!parseFloat(i)&&"inline"===w.css(e,"display",!1,r))&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(i=parseFloat(i)||0)+Ze(e,t,n||(o?"border":"content"),a,r,i)+"px"}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Fe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=G(t),u=Xe.test(t),l=e.style;if(u||(t=Je(s)),a=w.cssHooks[t]||w.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"==(o=typeof n)&&(i=ie.exec(n))&&i[1]&&(n=ue(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(w.cssNumber[s]?"":"px")),h.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=G(t);return Xe.test(t)||(t=Je(s)),(a=w.cssHooks[t]||w.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Fe(e,t,r)),"normal"===i&&t in Ve&&(i=Ve[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n)return!ze.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,r):se(e,Ue,function(){return et(e,t,r)})},set:function(e,n,r){var i,o=$e(e),a="border-box"===w.css(e,"boxSizing",!1,o),s=r&&Ze(e,t,r,a,o);return a&&h.scrollboxSize()===o.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Ze(e,t,"border",!1,o)-.5)),s&&(i=ie.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=w.css(e,t)),Ke(e,n,s)}}}),w.cssHooks.marginLeft=_e(h.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Fe(e,"marginLeft"))||e.getBoundingClientRect().left-se(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+oe[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(w.cssHooks[e+t].set=Ke)}),w.fn.extend({css:function(e,t){return z(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=$e(e),i=t.length;a<i;a++)o[t[a]]=w.css(e,t[a],!1,r);return o}return void 0!==n?w.style(e,t,n):w.css(e,t)},e,t,arguments.length>1)}});function tt(e,t,n,r,i){return new tt.prototype.init(e,t,n,r,i)}w.Tween=tt,tt.prototype={constructor:tt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(w.cssNumber[n]?"":"px")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,n=tt.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):tt.propHooks._default.set(this),this}},tt.prototype.init.prototype=tt.prototype,tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[w.cssProps[e.prop]]&&!w.cssHooks[e.prop]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}},tt.propHooks.scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=tt.prototype.init,w.fx.step={};var nt,rt,it=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function at(){rt&&(!1===r.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(at):e.setTimeout(at,w.fx.interval),w.fx.tick())}function st(){return e.setTimeout(function(){nt=void 0}),nt=Date.now()}function ut(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=oe[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function lt(e,t,n){for(var r,i=(pt.tweeners[t]||[]).concat(pt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function ct(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),y=J.get(e,"fxshow");n.queue||(null==(a=w._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,w.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(i=t[r],it.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!y||void 0===y[r])continue;g=!0}d[r]=y&&y[r]||w.style(e,r)}if((u=!w.isEmptyObject(t))||!w.isEmptyObject(d)){f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=y&&y.display)&&(l=J.get(e,"display")),"none"===(c=w.css(e,"display"))&&(l?c=l:(fe([e],!0),l=e.style.display||l,c=w.css(e,"display"),fe([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===w.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1;for(r in d)u||(y?"hidden"in y&&(g=y.hidden):y=J.access(e,"fxshow",{display:l}),o&&(y.hidden=!g),g&&fe([e],!0),p.done(function(){g||fe([e]),J.remove(e,"fxshow");for(r in d)w.style(e,r,d[r])})),u=lt(g?y[r]:0,r,p),r in y||(y[r]=u.start,g&&(u.end=u.start,u.start=0))}}function ft(e,t){var n,r,i,o,a;for(n in e)if(r=G(n),i=t[r],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=w.cssHooks[r])&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function pt(e,t,n){var r,i,o=0,a=pt.prefilters.length,s=w.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=nt||st(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),r<1&&a?n:(a||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:t,originalOptions:n,startTime:nt||st(),duration:n.duration,tweens:[],createTween:function(t,n){var r=w.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(ft(c,l.opts.specialEasing);o<a;o++)if(r=pt.prefilters[o].call(l,e,c,l.opts))return g(r.stop)&&(w._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return w.map(c,lt,l),g(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),w.fx.timer(w.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}w.Animation=w.extend(pt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ue(n.elem,e,ie.exec(t),n),n}]},tweener:function(e,t){g(e)?(t=e,e=["*"]):e=e.match(M);for(var n,r=0,i=e.length;r<i;r++)n=e[r],pt.tweeners[n]=pt.tweeners[n]||[],pt.tweeners[n].unshift(t)},prefilters:[ct],prefilter:function(e,t){t?pt.prefilters.unshift(e):pt.prefilters.push(e)}}),w.speed=function(e,t,n){var r=e&&"object"==typeof e?w.extend({},e):{complete:n||!n&&t||g(e)&&e,duration:e,easing:n&&t||t&&!g(t)&&t};return w.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in w.fx.speeds?r.duration=w.fx.speeds[r.duration]:r.duration=w.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){g(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=w.isEmptyObject(e),o=w.speed(t,n,r),a=function(){var t=pt(this,w.extend({},e),o);(i||J.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=w.timers,a=J.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ot.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||w.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=J.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=w.timers,a=r?r.length:0;for(n.finish=!0,w.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),w.each(["toggle","show","hide"],function(e,t){var n=w.fn[t];w.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ut(t,!0),e,r,i)}}),w.each({slideDown:ut("show"),slideUp:ut("hide"),slideToggle:ut("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),w.timers=[],w.fx.tick=function(){var e,t=0,n=w.timers;for(nt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||w.fx.stop(),nt=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){rt||(rt=!0,at())},w.fx.stop=function(){rt=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,n){return t=w.fx?w.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=r.createElement("input"),t=r.createElement("select").appendChild(r.createElement("option"));e.type="checkbox",h.checkOn=""!==e.value,h.optSelected=t.selected,(e=r.createElement("input")).value="t",e.type="radio",h.radioValue="t"===e.value}();var dt,ht=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return z(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?w.prop(e,t,n):(1===o&&w.isXMLDoc(e)||(i=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?dt:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=w.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!h.radioValue&&"radio"===t&&N(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(M);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),dt={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ht[t]||w.find.attr;ht[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=ht[a],ht[a]=i,i=null!=n(e,t,r)?a:null,ht[a]=o),i}});var gt=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;w.fn.extend({prop:function(e,t){return z(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(e)||(t=w.propFix[t]||t,i=w.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):gt.test(e.nodeName)||yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),h.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this});function vt(e){return(e.match(M)||[]).join(" ")}function mt(e){return e.getAttribute&&e.getAttribute("class")||""}function xt(e){return Array.isArray(e)?e:"string"==typeof e?e.match(M)||[]:[]}w.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(g(e))return this.each(function(t){w(this).addClass(e.call(this,t,mt(this)))});if((t=xt(e)).length)while(n=this[u++])if(i=mt(n),r=1===n.nodeType&&" "+vt(i)+" "){a=0;while(o=t[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=vt(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(g(e))return this.each(function(t){w(this).removeClass(e.call(this,t,mt(this)))});if(!arguments.length)return this.attr("class","");if((t=xt(e)).length)while(n=this[u++])if(i=mt(n),r=1===n.nodeType&&" "+vt(i)+" "){a=0;while(o=t[a++])while(r.indexOf(" "+o+" ")>-1)r=r.replace(" "+o+" "," ");i!==(s=vt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):g(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,mt(this),t),t)}):this.each(function(){var t,i,o,a;if(r){i=0,o=w(this),a=xt(e);while(t=a[i++])o.hasClass(t)?o.removeClass(t):o.addClass(t)}else void 0!==e&&"boolean"!==n||((t=mt(this))&&J.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":J.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&(" "+vt(mt(n))+" ").indexOf(t)>-1)return!0;return!1}});var bt=/\r/g;w.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=g(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,w(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=w.map(i,function(e){return null==e?"":e+""})),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return(t=w.valHooks[i.type]||w.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(bt,""):null==n?"":n}}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:vt(w.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!N(n.parentNode,"optgroup"))){if(t=w(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=w.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=w.inArray(w.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},h.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),h.focusin="onfocusin"in e;var wt=/^(?:focusinfocus|focusoutblur)$/,Tt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,n,i,o){var a,s,u,l,c,p,d,h,v=[i||r],m=f.call(t,"type")?t.type:t,x=f.call(t,"namespace")?t.namespace.split("."):[];if(s=h=u=i=i||r,3!==i.nodeType&&8!==i.nodeType&&!wt.test(m+w.event.triggered)&&(m.indexOf(".")>-1&&(m=(x=m.split(".")).shift(),x.sort()),c=m.indexOf(":")<0&&"on"+m,t=t[w.expando]?t:new w.Event(m,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=x.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+x.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:w.makeArray(n,[t]),d=w.event.special[m]||{},o||!d.trigger||!1!==d.trigger.apply(i,n))){if(!o&&!d.noBubble&&!y(i)){for(l=d.delegateType||m,wt.test(l+m)||(s=s.parentNode);s;s=s.parentNode)v.push(s),u=s;u===(i.ownerDocument||r)&&v.push(u.defaultView||u.parentWindow||e)}a=0;while((s=v[a++])&&!t.isPropagationStopped())h=s,t.type=a>1?l:d.bindType||m,(p=(J.get(s,"events")||{})[t.type]&&J.get(s,"handle"))&&p.apply(s,n),(p=c&&s[c])&&p.apply&&Y(s)&&(t.result=p.apply(s,n),!1===t.result&&t.preventDefault());return t.type=m,o||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(v.pop(),n)||!Y(i)||c&&g(i[m])&&!y(i)&&((u=i[c])&&(i[c]=null),w.event.triggered=m,t.isPropagationStopped()&&h.addEventListener(m,Tt),i[m](),t.isPropagationStopped()&&h.removeEventListener(m,Tt),w.event.triggered=void 0,u&&(i[c]=u)),t.result}},simulate:function(e,t,n){var r=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(r,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),h.focusin||w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=J.access(r,t);i||r.addEventListener(e,n,!0),J.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=J.access(r,t)-1;i?J.access(r,t,i):(r.removeEventListener(e,n,!0),J.remove(r,t))}}});var Ct=e.location,Et=Date.now(),kt=/\?/;w.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+t),n};var St=/\[\]$/,Dt=/\r?\n/g,Nt=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;function jt(e,t,n,r){var i;if(Array.isArray(t))w.each(t,function(t,i){n||St.test(e)?r(e,i):jt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==x(t))r(e,t);else for(i in t)jt(e+"["+i+"]",t[i],n,r)}w.param=function(e,t){var n,r=[],i=function(e,t){var n=g(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){i(this.name,this.value)});else for(n in e)jt(n,e[n],t,i);return r.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&At.test(this.nodeName)&&!Nt.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}}):{name:t.name,value:n.replace(Dt,"\r\n")}}).get()}});var qt=/%20/g,Lt=/#.*$/,Ht=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mt=/^(?:GET|HEAD)$/,Rt=/^\/\//,It={},Wt={},$t="*/".concat("*"),Bt=r.createElement("a");Bt.href=Ct.href;function Ft(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(M)||[];if(g(n))while(r=o[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function _t(e,t,n,r){var i={},o=e===Wt;function a(s){var u;return i[s]=!0,w.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),a(l),!1)}),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function zt(e,t){var n,r,i=w.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&w.extend(!0,e,r),e}function Xt(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function Ut(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ct.href,type:"GET",isLocal:Pt.test(Ct.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zt(zt(e,w.ajaxSettings),t):zt(w.ajaxSettings,e)},ajaxPrefilter:Ft(It),ajaxTransport:Ft(Wt),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,u,l,c,f,p,d,h=w.ajaxSetup({},n),g=h.context||h,y=h.context&&(g.nodeType||g.jquery)?w(g):w.event,v=w.Deferred(),m=w.Callbacks("once memory"),x=h.statusCode||{},b={},T={},C="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s){s={};while(t=Ot.exec(a))s[t[1].toLowerCase()]=t[2]}t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=T[e.toLowerCase()]=T[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)E.always(e[E.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||C;return i&&i.abort(t),k(0,t),this}};if(v.promise(E),h.url=((t||h.url||Ct.href)+"").replace(Rt,Ct.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(M)||[""],null==h.crossDomain){l=r.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=Bt.protocol+"//"+Bt.host!=l.protocol+"//"+l.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=w.param(h.data,h.traditional)),_t(It,h,n,E),c)return E;(f=w.event&&h.global)&&0==w.active++&&w.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Mt.test(h.type),o=h.url.replace(Lt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(qt,"+")):(d=h.url.slice(o.length),h.data&&(h.processData||"string"==typeof h.data)&&(o+=(kt.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(o=o.replace(Ht,"$1"),d=(kt.test(o)?"&":"?")+"_="+Et+++d),h.url=o+d),h.ifModified&&(w.lastModified[o]&&E.setRequestHeader("If-Modified-Since",w.lastModified[o]),w.etag[o]&&E.setRequestHeader("If-None-Match",w.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&E.setRequestHeader("Content-Type",h.contentType),E.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+$t+"; q=0.01":""):h.accepts["*"]);for(p in h.headers)E.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(!1===h.beforeSend.call(g,E,h)||c))return E.abort();if(C="abort",m.add(h.complete),E.done(h.success),E.fail(h.error),i=_t(Wt,h,n,E)){if(E.readyState=1,f&&y.trigger("ajaxSend",[E,h]),c)return E;h.async&&h.timeout>0&&(u=e.setTimeout(function(){E.abort("timeout")},h.timeout));try{c=!1,i.send(b,k)}catch(e){if(c)throw e;k(-1,e)}}else k(-1,"No Transport");function k(t,n,r,s){var l,p,d,b,T,C=n;c||(c=!0,u&&e.clearTimeout(u),i=void 0,a=s||"",E.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(b=Xt(h,E,r)),b=Ut(h,b,E,l),l?(h.ifModified&&((T=E.getResponseHeader("Last-Modified"))&&(w.lastModified[o]=T),(T=E.getResponseHeader("etag"))&&(w.etag[o]=T)),204===t||"HEAD"===h.type?C="nocontent":304===t?C="notmodified":(C=b.state,p=b.data,l=!(d=b.error))):(d=C,!t&&C||(C="error",t<0&&(t=0))),E.status=t,E.statusText=(n||C)+"",l?v.resolveWith(g,[p,C,E]):v.rejectWith(g,[E,C,d]),E.statusCode(x),x=void 0,f&&y.trigger(l?"ajaxSuccess":"ajaxError",[E,h,l?p:d]),m.fireWith(g,[E,C]),f&&(y.trigger("ajaxComplete",[E,h]),--w.active||w.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],function(e,t){w[t]=function(e,n,r,i){return g(n)&&(i=i||r,r=n,n=void 0),w.ajax(w.extend({url:e,type:t,dataType:i,data:n,success:r},w.isPlainObject(e)&&e))}}),w._evalUrl=function(e){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return g(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=g(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Vt={0:200,1223:204},Gt=w.ajaxSettings.xhr();h.cors=!!Gt&&"withCredentials"in Gt,h.ajax=Gt=!!Gt,w.ajaxTransport(function(t){var n,r;if(h.cors||Gt&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Vt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),w.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),w.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,o){t=w("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),r.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Yt=[],Qt=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||w.expando+"_"+Et++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Qt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=g(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Qt,"$1"+i):!1!==t.jsonp&&(t.url+=(kt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||w.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?w(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Yt.push(i)),a&&g(o)&&o(a[0]),a=o=void 0}),"script"}),h.createHTMLDocument=function(){var e=r.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),w.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var i,o,a;return t||(h.createHTMLDocument?((i=(t=r.implementation.createHTMLDocument("")).createElement("base")).href=r.location.href,t.head.appendChild(i)):t=r),o=A.exec(e),a=!n&&[],o?[t.createElement(o[1])]:(o=xe([e],t,a),a&&a.length&&w(a).remove(),w.merge([],o.childNodes))},w.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=vt(e.slice(s)),e=e.slice(0,s)),g(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&w.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?w("<div>").append(w.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.expr.pseudos.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length},w.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=w.css(e,"position"),f=w(e),p={};"static"===c&&(e.style.position="relative"),s=f.offset(),o=w.css(e,"top"),u=w.css(e,"left"),(l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1)?(a=(r=f.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),g(t)&&(t=t.call(e,n,w.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):f.css(p)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,n,r=this[0];if(r)return r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===w.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),i.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-w.css(r,"marginTop",!0),left:t.left-i.left-w.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===w.css(e,"position"))e=e.offsetParent;return e||be})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;w.fn[e]=function(r){return z(this,function(e,r,i){var o;if(y(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),w.each(["top","left"],function(e,t){w.cssHooks[t]=_e(h.pixelPosition,function(e,n){if(n)return n=Fe(e,t),We.test(n)?w(e).position()[t]+"px":n})}),w.each({Height:"height",Width:"width"},function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){w.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return z(this,function(t,n,i){var o;return y(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?w.css(t,n,s):w.style(t,n,i,s)},t,a?i:void 0,a)}})}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),w.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),g(e))return r=o.call(arguments,2),i=function(){return e.apply(t||this,r.concat(o.call(arguments)))},i.guid=e.guid=e.guid||w.guid++,i},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=N,w.isFunction=g,w.isWindow=y,w.camelCase=G,w.type=x,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define1&&define1.amd&&define1("jquery",[],function(){return w});var Jt=e.jQuery,Kt=e.$;return w.noConflict=function(t){return e.$===w&&(e.$=Kt),t&&e.jQuery===w&&(e.jQuery=Jt),w},t||(e.jQuery=e.$=w),w});
// ---
(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?module.exports=factory():typeof define1==="function"&&define1.amd?define1(factory):(global.CodeMirror=factory())}(this,(function(){var userAgent=navigator.userAgent;var platform=navigator.platform;var gecko=/gecko\/\d/i.test(userAgent);var ie_upto10=/MSIE \d/.test(userAgent);var ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(userAgent);var edge=/Edge\/(\d+)/.exec(userAgent);var ie=ie_upto10||ie_11up||edge;var ie_version=ie&&(ie_upto10?document.documentMode||6:+(edge||ie_11up)[1]);var webkit=!edge&&/WebKit\//.test(userAgent);var qtwebkit=webkit&&/Qt\/\d+\.\d+/.test(userAgent);var chrome=!edge&&/Chrome\//.test(userAgent);var presto=/Opera\//.test(userAgent);var safari=/Apple Computer/.test(navigator.vendor);var mac_geMountainLion=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(userAgent);var phantom=/PhantomJS/.test(userAgent);var ios=!edge&&/AppleWebKit/.test(userAgent)&&/Mobile\/\w+/.test(userAgent);var android=/Android/.test(userAgent);var mobile=ios||android||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);var mac=ios||/Mac/.test(platform);var chromeOS=/\bCrOS\b/.test(userAgent);var windows=/win/i.test(platform);var presto_version=presto&&userAgent.match(/Version\/(\d*\.\d*)/);if(presto_version){presto_version=Number(presto_version[1])}if(presto_version&&presto_version>=15){presto=false;webkit=true}var flipCtrlCmd=mac&&(qtwebkit||presto&&(presto_version==null||presto_version<12.11));var captureRightClick=gecko||(ie&&ie_version>=9);function classTest(cls){return new RegExp("(^|\\s)"+cls+"(?:$|\\s)\\s*")}var rmClass=function(node,cls){var current=node.className;var match=classTest(cls).exec(current);if(match){var after=current.slice(match.index+match[0].length);node.className=current.slice(0,match.index)+(after?match[1]+after:"")}};function removeChildren(e){for(var count=e.childNodes.length;count>0;--count){e.removeChild(e.firstChild)}return e}function removeChildrenAndAdd(parent,e){return removeChildren(parent).appendChild(e)
}function elt(tag,content,className,style){var e=document.createElement(tag);if(className){e.className=className}if(style){e.style.cssText=style}if(typeof content=="string"){e.appendChild(document.createTextNode(content))}else{if(content){for(var i=0;i<content.length;++i){e.appendChild(content[i])}}}return e}function eltP(tag,content,className,style){var e=elt(tag,content,className,style);e.setAttribute("role","presentation");return e}var range;if(document.createRange){range=function(node,start,end,endNode){var r=document.createRange();r.setEnd(endNode||node,end);r.setStart(node,start);return r}}else{range=function(node,start,end){var r=document.body.createTextRange();try{r.moveToElementText(node.parentNode)}catch(e){return r}r.collapse(true);r.moveEnd("character",end);r.moveStart("character",start);return r}}function contains(parent,child){if(child.nodeType==3){child=child.parentNode}if(parent.contains){return parent.contains(child)}do{if(child.nodeType==11){child=child.host}if(child==parent){return true}}while(child=child.parentNode)}function activeElt(){var activeElement;try{activeElement=document.activeElement}catch(e){activeElement=document.body||null}while(activeElement&&activeElement.shadowRoot&&activeElement.shadowRoot.activeElement){activeElement=activeElement.shadowRoot.activeElement}return activeElement}function addClass(node,cls){var current=node.className;if(!classTest(cls).test(current)){node.className+=(current?" ":"")+cls}}function joinClasses(a,b){var as=a.split(" ");for(var i=0;i<as.length;i++){if(as[i]&&!classTest(as[i]).test(b)){b+=" "+as[i]}}return b}var selectInput=function(node){node.select()};if(ios){selectInput=function(node){node.selectionStart=0;node.selectionEnd=node.value.length}}else{if(ie){selectInput=function(node){try{node.select()}catch(_e){}}}}function bind(f){var args=Array.prototype.slice.call(arguments,1);return function(){return f.apply(null,args)}}function copyObj(obj,target,overwrite){if(!target){target={}}for(var prop in obj){if(obj.hasOwnProperty(prop)&&(overwrite!==false||!target.hasOwnProperty(prop))){target[prop]=obj[prop]
}}return target}function countColumn(string,end,tabSize,startIndex,startValue){if(end==null){end=string.search(/[^\s\u00a0]/);if(end==-1){end=string.length}}for(var i=startIndex||0,n=startValue||0;;){var nextTab=string.indexOf("\t",i);if(nextTab<0||nextTab>=end){return n+(end-i)}n+=nextTab-i;n+=tabSize-(n%tabSize);i=nextTab+1}}var Delayed=function(){this.id=null};Delayed.prototype.set=function(ms,f){clearTimeout(this.id);this.id=setTimeout(f,ms)};function indexOf(array,elt){for(var i=0;i<array.length;++i){if(array[i]==elt){return i}}return -1}var scrollerGap=30;var Pass={toString:function(){return"CodeMirror.Pass"}};var sel_dontScroll={scroll:false};var sel_mouse={origin:"*mouse"};var sel_move={origin:"+move"};function findColumn(string,goal,tabSize){for(var pos=0,col=0;;){var nextTab=string.indexOf("\t",pos);if(nextTab==-1){nextTab=string.length}var skipped=nextTab-pos;if(nextTab==string.length||col+skipped>=goal){return pos+Math.min(skipped,goal-col)}col+=nextTab-pos;col+=tabSize-(col%tabSize);pos=nextTab+1;if(col>=goal){return pos}}}var spaceStrs=[""];function spaceStr(n){while(spaceStrs.length<=n){spaceStrs.push(lst(spaceStrs)+" ")}return spaceStrs[n]}function lst(arr){return arr[arr.length-1]}function map(array,f){var out=[];for(var i=0;i<array.length;i++){out[i]=f(array[i],i)}return out}function insertSorted(array,value,score){var pos=0,priority=score(value);while(pos<array.length&&score(array[pos])<=priority){pos++}array.splice(pos,0,value)}function nothing(){}function createObj(base,props){var inst;if(Object.create){inst=Object.create(base)}else{nothing.prototype=base;inst=new nothing()}if(props){copyObj(props,inst)}return inst}var nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function isWordCharBasic(ch){return/\w/.test(ch)||ch>"\x80"&&(ch.toUpperCase()!=ch.toLowerCase()||nonASCIISingleCaseWordChar.test(ch))}function isWordChar(ch,helper){if(!helper){return isWordCharBasic(ch)
}if(helper.source.indexOf("\\w")>-1&&isWordCharBasic(ch)){return true}return helper.test(ch)}function isEmpty(obj){for(var n in obj){if(obj.hasOwnProperty(n)&&obj[n]){return false}}return true}var extendingChars=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;
function isExtendingChar(ch){return ch.charCodeAt(0)>=768&&extendingChars.test(ch)}function skipExtendingChars(str,pos,dir){while((dir<0?pos>0:pos<str.length)&&isExtendingChar(str.charAt(pos))){pos+=dir}return pos}function findFirst(pred,from,to){var dir=from>to?-1:1;for(;;){if(from==to){return from}var midF=(from+to)/2,mid=dir<0?Math.ceil(midF):Math.floor(midF);if(mid==from){return pred(mid)?from:to}if(pred(mid)){to=mid}else{from=mid+dir}}}function Display(place,doc,input){var d=this;this.input=input;d.scrollbarFiller=elt("div",null,"CodeMirror-scrollbar-filler");d.scrollbarFiller.setAttribute("cm-not-content","true");d.gutterFiller=elt("div",null,"CodeMirror-gutter-filler");d.gutterFiller.setAttribute("cm-not-content","true");d.lineDiv=eltP("div",null,"CodeMirror-code");d.selectionDiv=elt("div",null,null,"position: relative; z-index: 1");d.cursorDiv=elt("div",null,"CodeMirror-cursors");d.measure=elt("div",null,"CodeMirror-measure");d.lineMeasure=elt("div",null,"CodeMirror-measure");d.lineSpace=eltP("div",[d.measure,d.lineMeasure,d.selectionDiv,d.cursorDiv,d.lineDiv],null,"position: relative; outline: none");var lines=eltP("div",[d.lineSpace],"CodeMirror-lines");d.mover=elt("div",[lines],null,"position: relative");d.sizer=elt("div",[d.mover],"CodeMirror-sizer");d.sizerWidth=null;d.heightForcer=elt("div",null,null,"position: absolute; height: "+scrollerGap+"px; width: 1px;");d.gutters=elt("div",null,"CodeMirror-gutters");d.lineGutter=null;d.scroller=elt("div",[d.sizer,d.heightForcer,d.gutters],"CodeMirror-scroll");d.scroller.setAttribute("tabIndex","-1");d.wrapper=elt("div",[d.scrollbarFiller,d.gutterFiller,d.scroller],"CodeMirror");if(ie&&ie_version<8){d.gutters.style.zIndex=-1;d.scroller.style.paddingRight=0}if(!webkit&&!(gecko&&mobile)){d.scroller.draggable=true}if(place){if(place.appendChild){place.appendChild(d.wrapper)}else{place(d.wrapper)}}d.viewFrom=d.viewTo=doc.first;d.reportedViewFrom=d.reportedViewTo=doc.first;d.view=[];d.renderedView=null;d.externalMeasured=null;
d.viewOffset=0;d.lastWrapHeight=d.lastWrapWidth=0;d.updateLineNumbers=null;d.nativeBarWidth=d.barHeight=d.barWidth=0;d.scrollbarsClipped=false;d.lineNumWidth=d.lineNumInnerWidth=d.lineNumChars=null;d.alignWidgets=false;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null;d.maxLine=null;d.maxLineLength=0;d.maxLineChanged=false;d.wheelDX=d.wheelDY=d.wheelStartX=d.wheelStartY=null;d.shift=false;d.selForContextMenu=null;d.activeTouch=null;input.init(d)}function getLine(doc,n){n-=doc.first;if(n<0||n>=doc.size){throw new Error("There is no line "+(n+doc.first)+" in the document.")}var chunk=doc;while(!chunk.lines){for(var i=0;;++i){var child=chunk.children[i],sz=child.chunkSize();if(n<sz){chunk=child;break}n-=sz}}return chunk.lines[n]}function getBetween(doc,start,end){var out=[],n=start.line;doc.iter(start.line,end.line+1,function(line){var text=line.text;if(n==end.line){text=text.slice(0,end.ch)}if(n==start.line){text=text.slice(start.ch)}out.push(text);++n});return out}function getLines(doc,from,to){var out=[];doc.iter(from,to,function(line){out.push(line.text)});return out}function updateLineHeight(line,height){var diff=height-line.height;if(diff){for(var n=line;n;n=n.parent){n.height+=diff}}}function lineNo(line){if(line.parent==null){return null}var cur=line.parent,no=indexOf(cur.lines,line);for(var chunk=cur.parent;chunk;cur=chunk,chunk=chunk.parent){for(var i=0;;++i){if(chunk.children[i]==cur){break}no+=chunk.children[i].chunkSize()}}return no+cur.first}function lineAtHeight(chunk,h){var n=chunk.first;outer:do{for(var i$1=0;i$1<chunk.children.length;++i$1){var child=chunk.children[i$1],ch=child.height;if(h<ch){chunk=child;continue outer}h-=ch;n+=child.chunkSize()}return n}while(!chunk.lines);var i=0;for(;i<chunk.lines.length;++i){var line=chunk.lines[i],lh=line.height;if(h<lh){break}h-=lh}return n+i}function isLine(doc,l){return l>=doc.first&&l<doc.first+doc.size}function lineNumberFor(options,i){return String(options.lineNumberFormatter(i+options.firstLineNumber))
}function Pos(line,ch,sticky){if(sticky===void 0){sticky=null}if(!(this instanceof Pos)){return new Pos(line,ch,sticky)}this.line=line;this.ch=ch;this.sticky=sticky}function cmp(a,b){return a.line-b.line||a.ch-b.ch}function equalCursorPos(a,b){return a.sticky==b.sticky&&cmp(a,b)==0}function copyPos(x){return Pos(x.line,x.ch)}function maxPos(a,b){return cmp(a,b)<0?b:a}function minPos(a,b){return cmp(a,b)<0?a:b}function clipLine(doc,n){return Math.max(doc.first,Math.min(n,doc.first+doc.size-1))}function clipPos(doc,pos){if(pos.line<doc.first){return Pos(doc.first,0)}var last=doc.first+doc.size-1;if(pos.line>last){return Pos(last,getLine(doc,last).text.length)}return clipToLen(pos,getLine(doc,pos.line).text.length)}function clipToLen(pos,linelen){var ch=pos.ch;if(ch==null||ch>linelen){return Pos(pos.line,linelen)}else{if(ch<0){return Pos(pos.line,0)}else{return pos}}}function clipPosArray(doc,array){var out=[];for(var i=0;i<array.length;i++){out[i]=clipPos(doc,array[i])}return out}var sawReadOnlySpans=false;var sawCollapsedSpans=false;function seeReadOnlySpans(){sawReadOnlySpans=true}function seeCollapsedSpans(){sawCollapsedSpans=true}function MarkedSpan(marker,from,to){this.marker=marker;this.from=from;this.to=to}function getMarkedSpanFor(spans,marker){if(spans){for(var i=0;i<spans.length;++i){var span=spans[i];if(span.marker==marker){return span}}}}function removeMarkedSpan(spans,span){var r;for(var i=0;i<spans.length;++i){if(spans[i]!=span){(r||(r=[])).push(spans[i])}}return r}function addMarkedSpan(line,span){line.markedSpans=line.markedSpans?line.markedSpans.concat([span]):[span];span.marker.attachLine(line)}function markedSpansBefore(old,startCh,isInsert){var nw;if(old){for(var i=0;i<old.length;++i){var span=old[i],marker=span.marker;var startsBefore=span.from==null||(marker.inclusiveLeft?span.from<=startCh:span.from<startCh);if(startsBefore||span.from==startCh&&marker.type=="bookmark"&&(!isInsert||!span.marker.insertLeft)){var endsAfter=span.to==null||(marker.inclusiveRight?span.to>=startCh:span.to>startCh);
(nw||(nw=[])).push(new MarkedSpan(marker,span.from,endsAfter?null:span.to))}}}return nw}function markedSpansAfter(old,endCh,isInsert){var nw;if(old){for(var i=0;i<old.length;++i){var span=old[i],marker=span.marker;var endsAfter=span.to==null||(marker.inclusiveRight?span.to>=endCh:span.to>endCh);if(endsAfter||span.from==endCh&&marker.type=="bookmark"&&(!isInsert||span.marker.insertLeft)){var startsBefore=span.from==null||(marker.inclusiveLeft?span.from<=endCh:span.from<endCh);(nw||(nw=[])).push(new MarkedSpan(marker,startsBefore?null:span.from-endCh,span.to==null?null:span.to-endCh))}}}return nw}function stretchSpansOverChange(doc,change){if(change.full){return null}var oldFirst=isLine(doc,change.from.line)&&getLine(doc,change.from.line).markedSpans;var oldLast=isLine(doc,change.to.line)&&getLine(doc,change.to.line).markedSpans;if(!oldFirst&&!oldLast){return null}var startCh=change.from.ch,endCh=change.to.ch,isInsert=cmp(change.from,change.to)==0;var first=markedSpansBefore(oldFirst,startCh,isInsert);var last=markedSpansAfter(oldLast,endCh,isInsert);var sameLine=change.text.length==1,offset=lst(change.text).length+(sameLine?startCh:0);if(first){for(var i=0;i<first.length;++i){var span=first[i];if(span.to==null){var found=getMarkedSpanFor(last,span.marker);if(!found){span.to=startCh}else{if(sameLine){span.to=found.to==null?null:found.to+offset}}}}}if(last){for(var i$1=0;i$1<last.length;++i$1){var span$1=last[i$1];if(span$1.to!=null){span$1.to+=offset}if(span$1.from==null){var found$1=getMarkedSpanFor(first,span$1.marker);if(!found$1){span$1.from=offset;if(sameLine){(first||(first=[])).push(span$1)}}}else{span$1.from+=offset;if(sameLine){(first||(first=[])).push(span$1)}}}}if(first){first=clearEmptySpans(first)}if(last&&last!=first){last=clearEmptySpans(last)}var newMarkers=[first];if(!sameLine){var gap=change.text.length-2,gapMarkers;if(gap>0&&first){for(var i$2=0;i$2<first.length;++i$2){if(first[i$2].to==null){(gapMarkers||(gapMarkers=[])).push(new MarkedSpan(first[i$2].marker,null,null))
}}}for(var i$3=0;i$3<gap;++i$3){newMarkers.push(gapMarkers)}newMarkers.push(last)}return newMarkers}function clearEmptySpans(spans){for(var i=0;i<spans.length;++i){var span=spans[i];if(span.from!=null&&span.from==span.to&&span.marker.clearWhenEmpty!==false){spans.splice(i--,1)}}if(!spans.length){return null}return spans}function removeReadOnlyRanges(doc,from,to){var markers=null;doc.iter(from.line,to.line+1,function(line){if(line.markedSpans){for(var i=0;i<line.markedSpans.length;++i){var mark=line.markedSpans[i].marker;if(mark.readOnly&&(!markers||indexOf(markers,mark)==-1)){(markers||(markers=[])).push(mark)}}}});if(!markers){return null}var parts=[{from:from,to:to}];for(var i=0;i<markers.length;++i){var mk=markers[i],m=mk.find(0);for(var j=0;j<parts.length;++j){var p=parts[j];if(cmp(p.to,m.from)<0||cmp(p.from,m.to)>0){continue}var newParts=[j,1],dfrom=cmp(p.from,m.from),dto=cmp(p.to,m.to);if(dfrom<0||!mk.inclusiveLeft&&!dfrom){newParts.push({from:p.from,to:m.from})}if(dto>0||!mk.inclusiveRight&&!dto){newParts.push({from:m.to,to:p.to})}parts.splice.apply(parts,newParts);j+=newParts.length-3}}return parts}function detachMarkedSpans(line){var spans=line.markedSpans;if(!spans){return}for(var i=0;i<spans.length;++i){spans[i].marker.detachLine(line)}line.markedSpans=null}function attachMarkedSpans(line,spans){if(!spans){return}for(var i=0;i<spans.length;++i){spans[i].marker.attachLine(line)}line.markedSpans=spans}function extraLeft(marker){return marker.inclusiveLeft?-1:0}function extraRight(marker){return marker.inclusiveRight?1:0}function compareCollapsedMarkers(a,b){var lenDiff=a.lines.length-b.lines.length;if(lenDiff!=0){return lenDiff}var aPos=a.find(),bPos=b.find();var fromCmp=cmp(aPos.from,bPos.from)||extraLeft(a)-extraLeft(b);if(fromCmp){return -fromCmp}var toCmp=cmp(aPos.to,bPos.to)||extraRight(a)-extraRight(b);if(toCmp){return toCmp}return b.id-a.id}function collapsedSpanAtSide(line,start){var sps=sawCollapsedSpans&&line.markedSpans,found;if(sps){for(var sp=(void 0),i=0;
i<sps.length;++i){sp=sps[i];if(sp.marker.collapsed&&(start?sp.from:sp.to)==null&&(!found||compareCollapsedMarkers(found,sp.marker)<0)){found=sp.marker}}}return found}function collapsedSpanAtStart(line){return collapsedSpanAtSide(line,true)}function collapsedSpanAtEnd(line){return collapsedSpanAtSide(line,false)}function collapsedSpanAround(line,ch){var sps=sawCollapsedSpans&&line.markedSpans,found;if(sps){for(var i=0;i<sps.length;++i){var sp=sps[i];if(sp.marker.collapsed&&(sp.from==null||sp.from<ch)&&(sp.to==null||sp.to>ch)&&(!found||compareCollapsedMarkers(found,sp.marker)<0)){found=sp.marker}}}return found}function conflictingCollapsedRange(doc,lineNo$$1,from,to,marker){var line=getLine(doc,lineNo$$1);var sps=sawCollapsedSpans&&line.markedSpans;if(sps){for(var i=0;i<sps.length;++i){var sp=sps[i];if(!sp.marker.collapsed){continue}var found=sp.marker.find(0);var fromCmp=cmp(found.from,from)||extraLeft(sp.marker)-extraLeft(marker);var toCmp=cmp(found.to,to)||extraRight(sp.marker)-extraRight(marker);if(fromCmp>=0&&toCmp<=0||fromCmp<=0&&toCmp>=0){continue}if(fromCmp<=0&&(sp.marker.inclusiveRight&&marker.inclusiveLeft?cmp(found.to,from)>=0:cmp(found.to,from)>0)||fromCmp>=0&&(sp.marker.inclusiveRight&&marker.inclusiveLeft?cmp(found.from,to)<=0:cmp(found.from,to)<0)){return true}}}}function visualLine(line){var merged;while(merged=collapsedSpanAtStart(line)){line=merged.find(-1,true).line}return line}function visualLineEnd(line){var merged;while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,true).line}return line}function visualLineContinued(line){var merged,lines;while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,true).line;(lines||(lines=[])).push(line)}return lines}function visualLineNo(doc,lineN){var line=getLine(doc,lineN),vis=visualLine(line);if(line==vis){return lineN}return lineNo(vis)}function visualLineEndNo(doc,lineN){if(lineN>doc.lastLine()){return lineN}var line=getLine(doc,lineN),merged;if(!lineIsHidden(doc,line)){return lineN}while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,true).line
}return lineNo(line)+1}function lineIsHidden(doc,line){var sps=sawCollapsedSpans&&line.markedSpans;if(sps){for(var sp=(void 0),i=0;i<sps.length;++i){sp=sps[i];if(!sp.marker.collapsed){continue}if(sp.from==null){return true}if(sp.marker.widgetNode){continue}if(sp.from==0&&sp.marker.inclusiveLeft&&lineIsHiddenInner(doc,line,sp)){return true}}}}function lineIsHiddenInner(doc,line,span){if(span.to==null){var end=span.marker.find(1,true);return lineIsHiddenInner(doc,end.line,getMarkedSpanFor(end.line.markedSpans,span.marker))}if(span.marker.inclusiveRight&&span.to==line.text.length){return true}for(var sp=(void 0),i=0;i<line.markedSpans.length;++i){sp=line.markedSpans[i];if(sp.marker.collapsed&&!sp.marker.widgetNode&&sp.from==span.to&&(sp.to==null||sp.to!=span.from)&&(sp.marker.inclusiveLeft||span.marker.inclusiveRight)&&lineIsHiddenInner(doc,line,sp)){return true}}}function heightAtLine(lineObj){lineObj=visualLine(lineObj);var h=0,chunk=lineObj.parent;for(var i=0;i<chunk.lines.length;++i){var line=chunk.lines[i];if(line==lineObj){break}else{h+=line.height}}for(var p=chunk.parent;p;chunk=p,p=chunk.parent){for(var i$1=0;i$1<p.children.length;++i$1){var cur=p.children[i$1];if(cur==chunk){break}else{h+=cur.height}}}return h}function lineLength(line){if(line.height==0){return 0}var len=line.text.length,merged,cur=line;while(merged=collapsedSpanAtStart(cur)){var found=merged.find(0,true);cur=found.from.line;len+=found.from.ch-found.to.ch}cur=line;while(merged=collapsedSpanAtEnd(cur)){var found$1=merged.find(0,true);len-=cur.text.length-found$1.from.ch;cur=found$1.to.line;len+=cur.text.length-found$1.to.ch}return len}function findMaxLine(cm){var d=cm.display,doc=cm.doc;d.maxLine=getLine(doc,doc.first);d.maxLineLength=lineLength(d.maxLine);d.maxLineChanged=true;doc.iter(function(line){var len=lineLength(line);if(len>d.maxLineLength){d.maxLineLength=len;d.maxLine=line}})}function iterateBidiSections(order,from,to,f){if(!order){return f(from,to,"ltr",0)}var found=false;for(var i=0;
i<order.length;++i){var part=order[i];if(part.from<to&&part.to>from||from==to&&part.to==from){f(Math.max(part.from,from),Math.min(part.to,to),part.level==1?"rtl":"ltr",i);found=true}}if(!found){f(from,to,"ltr")}}var bidiOther=null;function getBidiPartAt(order,ch,sticky){var found;bidiOther=null;for(var i=0;i<order.length;++i){var cur=order[i];if(cur.from<ch&&cur.to>ch){return i}if(cur.to==ch){if(cur.from!=cur.to&&sticky=="before"){found=i}else{bidiOther=i}}if(cur.from==ch){if(cur.from!=cur.to&&sticky!="before"){found=i}else{bidiOther=i}}}return found!=null?found:bidiOther}var bidiOrdering=(function(){var lowTypes="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN";var arabicTypes="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function charType(code){if(code<=247){return lowTypes.charAt(code)}else{if(1424<=code&&code<=1524){return"R"}else{if(1536<=code&&code<=1785){return arabicTypes.charAt(code-1536)}else{if(1774<=code&&code<=2220){return"r"}else{if(8192<=code&&code<=8203){return"w"}else{if(code==8204){return"b"}else{return"L"}}}}}}}var bidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var isNeutral=/[stwN]/,isStrong=/[LRr]/,countsAsLeft=/[Lb1n]/,countsAsNum=/[1n]/;function BidiSpan(level,from,to){this.level=level;this.from=from;this.to=to}return function(str,direction){var outerType=direction=="ltr"?"L":"R";if(str.length==0||direction=="ltr"&&!bidiRE.test(str)){return false}var len=str.length,types=[];for(var i=0;i<len;++i){types.push(charType(str.charCodeAt(i)))}for(var i$1=0,prev=outerType;i$1<len;++i$1){var type=types[i$1];if(type=="m"){types[i$1]=prev}else{prev=type
}}for(var i$2=0,cur=outerType;i$2<len;++i$2){var type$1=types[i$2];if(type$1=="1"&&cur=="r"){types[i$2]="n"}else{if(isStrong.test(type$1)){cur=type$1;if(type$1=="r"){types[i$2]="R"}}}}for(var i$3=1,prev$1=types[0];i$3<len-1;++i$3){var type$2=types[i$3];if(type$2=="+"&&prev$1=="1"&&types[i$3+1]=="1"){types[i$3]="1"}else{if(type$2==","&&prev$1==types[i$3+1]&&(prev$1=="1"||prev$1=="n")){types[i$3]=prev$1}}prev$1=type$2}for(var i$4=0;i$4<len;++i$4){var type$3=types[i$4];if(type$3==","){types[i$4]="N"}else{if(type$3=="%"){var end=(void 0);for(end=i$4+1;end<len&&types[end]=="%";++end){}var replace=(i$4&&types[i$4-1]=="!")||(end<len&&types[end]=="1")?"1":"N";for(var j=i$4;j<end;++j){types[j]=replace}i$4=end-1}}}for(var i$5=0,cur$1=outerType;i$5<len;++i$5){var type$4=types[i$5];if(cur$1=="L"&&type$4=="1"){types[i$5]="L"}else{if(isStrong.test(type$4)){cur$1=type$4}}}for(var i$6=0;i$6<len;++i$6){if(isNeutral.test(types[i$6])){var end$1=(void 0);for(end$1=i$6+1;end$1<len&&isNeutral.test(types[end$1]);++end$1){}var before=(i$6?types[i$6-1]:outerType)=="L";var after=(end$1<len?types[end$1]:outerType)=="L";var replace$1=before==after?(before?"L":"R"):outerType;for(var j$1=i$6;j$1<end$1;++j$1){types[j$1]=replace$1}i$6=end$1-1}}var order=[],m;for(var i$7=0;i$7<len;){if(countsAsLeft.test(types[i$7])){var start=i$7;for(++i$7;i$7<len&&countsAsLeft.test(types[i$7]);++i$7){}order.push(new BidiSpan(0,start,i$7))}else{var pos=i$7,at=order.length;for(++i$7;i$7<len&&types[i$7]!="L";++i$7){}for(var j$2=pos;j$2<i$7;){if(countsAsNum.test(types[j$2])){if(pos<j$2){order.splice(at,0,new BidiSpan(1,pos,j$2))}var nstart=j$2;for(++j$2;j$2<i$7&&countsAsNum.test(types[j$2]);++j$2){}order.splice(at,0,new BidiSpan(2,nstart,j$2));pos=j$2}else{++j$2}}if(pos<i$7){order.splice(at,0,new BidiSpan(1,pos,i$7))}}}if(direction=="ltr"){if(order[0].level==1&&(m=str.match(/^\s+/))){order[0].from=m[0].length;order.unshift(new BidiSpan(0,0,m[0].length))}if(lst(order).level==1&&(m=str.match(/\s+$/))){lst(order).to-=m[0].length;
order.push(new BidiSpan(0,len-m[0].length,len))}}return direction=="rtl"?order.reverse():order}})();function getOrder(line,direction){var order=line.order;if(order==null){order=line.order=bidiOrdering(line.text,direction)}return order}var noHandlers=[];var on=function(emitter,type,f){if(emitter.addEventListener){emitter.addEventListener(type,f,false)}else{if(emitter.attachEvent){emitter.attachEvent("on"+type,f)}else{var map$$1=emitter._handlers||(emitter._handlers={});map$$1[type]=(map$$1[type]||noHandlers).concat(f)}}};function getHandlers(emitter,type){return emitter._handlers&&emitter._handlers[type]||noHandlers}function off(emitter,type,f){if(emitter.removeEventListener){emitter.removeEventListener(type,f,false)}else{if(emitter.detachEvent){emitter.detachEvent("on"+type,f)}else{var map$$1=emitter._handlers,arr=map$$1&&map$$1[type];if(arr){var index=indexOf(arr,f);if(index>-1){map$$1[type]=arr.slice(0,index).concat(arr.slice(index+1))}}}}}function signal(emitter,type){var handlers=getHandlers(emitter,type);if(!handlers.length){return}var args=Array.prototype.slice.call(arguments,2);for(var i=0;i<handlers.length;++i){handlers[i].apply(null,args)}}function signalDOMEvent(cm,e,override){if(typeof e=="string"){e={type:e,preventDefault:function(){this.defaultPrevented=true}}}signal(cm,override||e.type,cm,e);return e_defaultPrevented(e)||e.codemirrorIgnore}function signalCursorActivity(cm){var arr=cm._handlers&&cm._handlers.cursorActivity;if(!arr){return}var set=cm.curOp.cursorActivityHandlers||(cm.curOp.cursorActivityHandlers=[]);for(var i=0;i<arr.length;++i){if(indexOf(set,arr[i])==-1){set.push(arr[i])}}}function hasHandler(emitter,type){return getHandlers(emitter,type).length>0}function eventMixin(ctor){ctor.prototype.on=function(type,f){on(this,type,f)};ctor.prototype.off=function(type,f){off(this,type,f)}}function e_preventDefault(e){if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}}function e_stopPropagation(e){if(e.stopPropagation){e.stopPropagation()
}else{e.cancelBubble=true}}function e_defaultPrevented(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==false}function e_stop(e){e_preventDefault(e);e_stopPropagation(e)}function e_target(e){return e.target||e.srcElement}function e_button(e){var b=e.which;if(b==null){if(e.button&1){b=1}else{if(e.button&2){b=3}else{if(e.button&4){b=2}}}}if(mac&&e.ctrlKey&&b==1){b=3}return b}var dragAndDrop=function(){if(ie&&ie_version<9){return false}var div=elt("div");return"draggable" in div||"dragDrop" in div}();var zwspSupported;function zeroWidthElement(measure){if(zwspSupported==null){var test=elt("span","\u200b");removeChildrenAndAdd(measure,elt("span",[test,document.createTextNode("x")]));if(measure.firstChild.offsetHeight!=0){zwspSupported=test.offsetWidth<=1&&test.offsetHeight>2&&!(ie&&ie_version<8)}}var node=zwspSupported?elt("span","\u200b"):elt("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px");node.setAttribute("cm-text","");return node}var badBidiRects;function hasBadBidiRects(measure){if(badBidiRects!=null){return badBidiRects}var txt=removeChildrenAndAdd(measure,document.createTextNode("A\u062eA"));var r0=range(txt,0,1).getBoundingClientRect();var r1=range(txt,1,2).getBoundingClientRect();removeChildren(measure);if(!r0||r0.left==r0.right){return false}return badBidiRects=(r1.right-r0.right<3)}var splitLinesAuto="\n\nb".split(/\n/).length!=3?function(string){var pos=0,result=[],l=string.length;while(pos<=l){var nl=string.indexOf("\n",pos);if(nl==-1){nl=string.length}var line=string.slice(pos,string.charAt(nl-1)=="\r"?nl-1:nl);var rt=line.indexOf("\r");if(rt!=-1){result.push(line.slice(0,rt));pos+=rt+1}else{result.push(line);pos=nl+1}}return result}:function(string){return string.split(/\r\n?|\n/)};var hasSelection=window.getSelection?function(te){try{return te.selectionStart!=te.selectionEnd}catch(e){return false}}:function(te){var range$$1;try{range$$1=te.ownerDocument.selection.createRange()}catch(e){}if(!range$$1||range$$1.parentElement()!=te){return false
}return range$$1.compareEndPoints("StartToEnd",range$$1)!=0};var hasCopyEvent=(function(){var e=elt("div");if("oncopy" in e){return true}e.setAttribute("oncopy","return;");return typeof e.oncopy=="function"})();var badZoomedRects=null;function hasBadZoomedRects(measure){if(badZoomedRects!=null){return badZoomedRects}var node=removeChildrenAndAdd(measure,elt("span","x"));var normal=node.getBoundingClientRect();var fromRange=range(node,0,1).getBoundingClientRect();return badZoomedRects=Math.abs(normal.left-fromRange.left)>1}var modes={};var mimeModes={};function defineMode(name,mode){if(arguments.length>2){mode.dependencies=Array.prototype.slice.call(arguments,2)}modes[name]=mode}function defineMIME(mime,spec){mimeModes[mime]=spec}function resolveMode(spec){if(typeof spec=="string"&&mimeModes.hasOwnProperty(spec)){spec=mimeModes[spec]}else{if(spec&&typeof spec.name=="string"&&mimeModes.hasOwnProperty(spec.name)){var found=mimeModes[spec.name];if(typeof found=="string"){found={name:found}}spec=createObj(found,spec);spec.name=found.name}else{if(typeof spec=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(spec)){return resolveMode("application/xml")}else{if(typeof spec=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(spec)){return resolveMode("application/json")}}}}if(typeof spec=="string"){return{name:spec}}else{return spec||{name:"null"}}}function getMode(options,spec){spec=resolveMode(spec);var mfactory=modes[spec.name];if(!mfactory){return getMode(options,"text/plain")}var modeObj=mfactory(options,spec);if(modeExtensions.hasOwnProperty(spec.name)){var exts=modeExtensions[spec.name];for(var prop in exts){if(!exts.hasOwnProperty(prop)){continue}if(modeObj.hasOwnProperty(prop)){modeObj["_"+prop]=modeObj[prop]}modeObj[prop]=exts[prop]}}modeObj.name=spec.name;if(spec.helperType){modeObj.helperType=spec.helperType}if(spec.modeProps){for(var prop$1 in spec.modeProps){modeObj[prop$1]=spec.modeProps[prop$1]}}return modeObj}var modeExtensions={};function extendMode(mode,properties){var exts=modeExtensions.hasOwnProperty(mode)?modeExtensions[mode]:(modeExtensions[mode]={});
copyObj(properties,exts)}function copyState(mode,state){if(state===true){return state}if(mode.copyState){return mode.copyState(state)}var nstate={};for(var n in state){var val=state[n];if(val instanceof Array){val=val.concat([])}nstate[n]=val}return nstate}function innerMode(mode,state){var info;while(mode.innerMode){info=mode.innerMode(state);if(!info||info.mode==mode){break}state=info.state;mode=info.mode}return info||{mode:mode,state:state}}function startState(mode,a1,a2){return mode.startState?mode.startState(a1,a2):true}var StringStream=function(string,tabSize,lineOracle){this.pos=this.start=0;this.string=string;this.tabSize=tabSize||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0;this.lineOracle=lineOracle};StringStream.prototype.eol=function(){return this.pos>=this.string.length};StringStream.prototype.sol=function(){return this.pos==this.lineStart};StringStream.prototype.peek=function(){return this.string.charAt(this.pos)||undefined};StringStream.prototype.next=function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}};StringStream.prototype.eat=function(match){var ch=this.string.charAt(this.pos);var ok;if(typeof match=="string"){ok=ch==match}else{ok=ch&&(match.test?match.test(ch):match(ch))}if(ok){++this.pos;return ch}};StringStream.prototype.eatWhile=function(match){var start=this.pos;while(this.eat(match)){}return this.pos>start};StringStream.prototype.eatSpace=function(){var this$1=this;var start=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this$1.pos}return this.pos>start};StringStream.prototype.skipToEnd=function(){this.pos=this.string.length};StringStream.prototype.skipTo=function(ch){var found=this.string.indexOf(ch,this.pos);if(found>-1){this.pos=found;return true}};StringStream.prototype.backUp=function(n){this.pos-=n};StringStream.prototype.column=function(){if(this.lastColumnPos<this.start){this.lastColumnValue=countColumn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);
this.lastColumnPos=this.start}return this.lastColumnValue-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)};StringStream.prototype.indentation=function(){return countColumn(this.string,null,this.tabSize)-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)};StringStream.prototype.match=function(pattern,consume,caseInsensitive){if(typeof pattern=="string"){var cased=function(str){return caseInsensitive?str.toLowerCase():str};var substr=this.string.substr(this.pos,pattern.length);if(cased(substr)==cased(pattern)){if(consume!==false){this.pos+=pattern.length}return true}}else{var match=this.string.slice(this.pos).match(pattern);if(match&&match.index>0){return null}if(match&&consume!==false){this.pos+=match[0].length}return match}};StringStream.prototype.current=function(){return this.string.slice(this.start,this.pos)};StringStream.prototype.hideFirstChars=function(n,inner){this.lineStart+=n;try{return inner()}finally{this.lineStart-=n}};StringStream.prototype.lookAhead=function(n){var oracle=this.lineOracle;return oracle&&oracle.lookAhead(n)};StringStream.prototype.baseToken=function(){var oracle=this.lineOracle;return oracle&&oracle.baseToken(this.pos)};var SavedContext=function(state,lookAhead){this.state=state;this.lookAhead=lookAhead};var Context=function(doc,state,line,lookAhead){this.state=state;this.doc=doc;this.line=line;this.maxLookAhead=lookAhead||0;this.baseTokens=null;this.baseTokenPos=1};Context.prototype.lookAhead=function(n){var line=this.doc.getLine(this.line+n);if(line!=null&&n>this.maxLookAhead){this.maxLookAhead=n}return line};Context.prototype.baseToken=function(n){var this$1=this;if(!this.baseTokens){return null}while(this.baseTokens[this.baseTokenPos]<=n){this$1.baseTokenPos+=2}var type=this.baseTokens[this.baseTokenPos+1];return{type:type&&type.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-n}};Context.prototype.nextLine=function(){this.line++;if(this.maxLookAhead>0){this.maxLookAhead--
}};Context.fromSaved=function(doc,saved,line){if(saved instanceof SavedContext){return new Context(doc,copyState(doc.mode,saved.state),line,saved.lookAhead)}else{return new Context(doc,copyState(doc.mode,saved),line)}};Context.prototype.save=function(copy){var state=copy!==false?copyState(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new SavedContext(state,this.maxLookAhead):state};function highlightLine(cm,line,context,forceToEnd){var st=[cm.state.modeGen],lineClasses={};runMode(cm,line.text,cm.doc.mode,context,function(end,style){return st.push(end,style)},lineClasses,forceToEnd);var state=context.state;var loop=function(o){context.baseTokens=st;var overlay=cm.state.overlays[o],i=1,at=0;context.state=true;runMode(cm,line.text,overlay.mode,context,function(end,style){var start=i;while(at<end){var i_end=st[i];if(i_end>end){st.splice(i,1,end,st[i+1],i_end)}i+=2;at=Math.min(end,i_end)}if(!style){return}if(overlay.opaque){st.splice(start,i-start,end,"overlay "+style);i=start+2}else{for(;start<i;start+=2){var cur=st[start+1];st[start+1]=(cur?cur+" ":"")+"overlay "+style}}},lineClasses);context.state=state;context.baseTokens=null;context.baseTokenPos=1};for(var o=0;o<cm.state.overlays.length;++o){loop(o)}return{styles:st,classes:lineClasses.bgClass||lineClasses.textClass?lineClasses:null}}function getLineStyles(cm,line,updateFrontier){if(!line.styles||line.styles[0]!=cm.state.modeGen){var context=getContextBefore(cm,lineNo(line));var resetState=line.text.length>cm.options.maxHighlightLength&&copyState(cm.doc.mode,context.state);var result=highlightLine(cm,line,context);if(resetState){context.state=resetState}line.stateAfter=context.save(!resetState);line.styles=result.styles;if(result.classes){line.styleClasses=result.classes}else{if(line.styleClasses){line.styleClasses=null}}if(updateFrontier===cm.doc.highlightFrontier){cm.doc.modeFrontier=Math.max(cm.doc.modeFrontier,++cm.doc.highlightFrontier)}}return line.styles}function getContextBefore(cm,n,precise){var doc=cm.doc,display=cm.display;
if(!doc.mode.startState){return new Context(doc,true,n)}var start=findStartLine(cm,n,precise);var saved=start>doc.first&&getLine(doc,start-1).stateAfter;var context=saved?Context.fromSaved(doc,saved,start):new Context(doc,startState(doc.mode),start);doc.iter(start,n,function(line){processLine(cm,line.text,context);var pos=context.line;line.stateAfter=pos==n-1||pos%5==0||pos>=display.viewFrom&&pos<display.viewTo?context.save():null;context.nextLine()});if(precise){doc.modeFrontier=context.line}return context}function processLine(cm,text,context,startAt){var mode=cm.doc.mode;var stream=new StringStream(text,cm.options.tabSize,context);stream.start=stream.pos=startAt||0;if(text==""){callBlankLine(mode,context.state)}while(!stream.eol()){readToken(mode,stream,context.state);stream.start=stream.pos}}function callBlankLine(mode,state){if(mode.blankLine){return mode.blankLine(state)}if(!mode.innerMode){return}var inner=innerMode(mode,state);if(inner.mode.blankLine){return inner.mode.blankLine(inner.state)}}function readToken(mode,stream,state,inner){for(var i=0;i<10;i++){if(inner){inner[0]=innerMode(mode,state).mode}var style=mode.token(stream,state);if(stream.pos>stream.start){return style}}throw new Error("Mode "+mode.name+" failed to advance stream.")}var Token=function(stream,type,state){this.start=stream.start;this.end=stream.pos;this.string=stream.current();this.type=type||null;this.state=state};function takeToken(cm,pos,precise,asArray){var doc=cm.doc,mode=doc.mode,style;pos=clipPos(doc,pos);var line=getLine(doc,pos.line),context=getContextBefore(cm,pos.line,precise);var stream=new StringStream(line.text,cm.options.tabSize,context),tokens;if(asArray){tokens=[]}while((asArray||stream.pos<pos.ch)&&!stream.eol()){stream.start=stream.pos;style=readToken(mode,stream,context.state);if(asArray){tokens.push(new Token(stream,style,copyState(doc.mode,context.state)))}}return asArray?tokens:new Token(stream,style,context.state)}function extractLineClasses(type,output){if(type){for(;
;){var lineClass=type.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!lineClass){break}type=type.slice(0,lineClass.index)+type.slice(lineClass.index+lineClass[0].length);var prop=lineClass[1]?"bgClass":"textClass";if(output[prop]==null){output[prop]=lineClass[2]}else{if(!(new RegExp("(?:^|s)"+lineClass[2]+"(?:$|s)")).test(output[prop])){output[prop]+=" "+lineClass[2]}}}}return type}function runMode(cm,text,mode,context,f,lineClasses,forceToEnd){var flattenSpans=mode.flattenSpans;if(flattenSpans==null){flattenSpans=cm.options.flattenSpans}var curStart=0,curStyle=null;var stream=new StringStream(text,cm.options.tabSize,context),style;var inner=cm.options.addModeClass&&[null];if(text==""){extractLineClasses(callBlankLine(mode,context.state),lineClasses)}while(!stream.eol()){if(stream.pos>cm.options.maxHighlightLength){flattenSpans=false;if(forceToEnd){processLine(cm,text,context,stream.pos)}stream.pos=text.length;style=null}else{style=extractLineClasses(readToken(mode,stream,context.state,inner),lineClasses)}if(inner){var mName=inner[0].name;if(mName){style="m-"+(style?mName+" "+style:mName)}}if(!flattenSpans||curStyle!=style){while(curStart<stream.start){curStart=Math.min(stream.start,curStart+5000);f(curStart,curStyle)}curStyle=style}stream.start=stream.pos}while(curStart<stream.pos){var pos=Math.min(stream.pos,curStart+5000);f(pos,curStyle);curStart=pos}}function findStartLine(cm,n,precise){var minindent,minline,doc=cm.doc;var lim=precise?-1:n-(cm.doc.mode.innerMode?1000:100);for(var search=n;search>lim;--search){if(search<=doc.first){return doc.first}var line=getLine(doc,search-1),after=line.stateAfter;if(after&&(!precise||search+(after instanceof SavedContext?after.lookAhead:0)<=doc.modeFrontier)){return search}var indented=countColumn(line.text,null,cm.options.tabSize);if(minline==null||minindent>indented){minline=search-1;minindent=indented}}return minline}function retreatFrontier(doc,n){doc.modeFrontier=Math.min(doc.modeFrontier,n);if(doc.highlightFrontier<n-10){return
}var start=doc.first;for(var line=n-1;line>start;line--){var saved=getLine(doc,line).stateAfter;if(saved&&(!(saved instanceof SavedContext)||line+saved.lookAhead<n)){start=line+1;break}}doc.highlightFrontier=Math.min(doc.highlightFrontier,start)}var Line=function(text,markedSpans,estimateHeight){this.text=text;attachMarkedSpans(this,markedSpans);this.height=estimateHeight?estimateHeight(this):1};Line.prototype.lineNo=function(){return lineNo(this)};eventMixin(Line);function updateLine(line,text,markedSpans,estimateHeight){line.text=text;if(line.stateAfter){line.stateAfter=null}if(line.styles){line.styles=null}if(line.order!=null){line.order=null}detachMarkedSpans(line);attachMarkedSpans(line,markedSpans);var estHeight=estimateHeight?estimateHeight(line):1;if(estHeight!=line.height){updateLineHeight(line,estHeight)}}function cleanUpLine(line){line.parent=null;detachMarkedSpans(line)}var styleToClassCache={};var styleToClassCacheWithMode={};function interpretTokenStyle(style,options){if(!style||/^\s*$/.test(style)){return null}var cache=options.addModeClass?styleToClassCacheWithMode:styleToClassCache;return cache[style]||(cache[style]=style.replace(/\S+/g,"cm-$&"))}function buildLineContent(cm,lineView){var content=eltP("span",null,null,webkit?"padding-right: .1px":null);var builder={pre:eltP("pre",[content],"CodeMirror-line"),content:content,col:0,pos:0,cm:cm,trailingSpace:false,splitSpaces:(ie||webkit)&&cm.getOption("lineWrapping")};lineView.measure={};for(var i=0;i<=(lineView.rest?lineView.rest.length:0);i++){var line=i?lineView.rest[i-1]:lineView.line,order=(void 0);builder.pos=0;builder.addToken=buildToken;if(hasBadBidiRects(cm.display.measure)&&(order=getOrder(line,cm.doc.direction))){builder.addToken=buildTokenBadBidi(builder.addToken,order)}builder.map=[];var allowFrontierUpdate=lineView!=cm.display.externalMeasured&&lineNo(line);insertLineContent(line,builder,getLineStyles(cm,line,allowFrontierUpdate));if(line.styleClasses){if(line.styleClasses.bgClass){builder.bgClass=joinClasses(line.styleClasses.bgClass,builder.bgClass||"")
}if(line.styleClasses.textClass){builder.textClass=joinClasses(line.styleClasses.textClass,builder.textClass||"")}}if(builder.map.length==0){builder.map.push(0,0,builder.content.appendChild(zeroWidthElement(cm.display.measure)))}if(i==0){lineView.measure.map=builder.map;lineView.measure.cache={}}else{(lineView.measure.maps||(lineView.measure.maps=[])).push(builder.map);(lineView.measure.caches||(lineView.measure.caches=[])).push({})}}if(webkit){var last=builder.content.lastChild;if(/\bcm-tab\b/.test(last.className)||(last.querySelector&&last.querySelector(".cm-tab"))){builder.content.className="cm-tab-wrap-hack"}}signal(cm,"renderLine",cm,lineView.line,builder.pre);if(builder.pre.className){builder.textClass=joinClasses(builder.pre.className,builder.textClass||"")}return builder}function defaultSpecialCharPlaceholder(ch){var token=elt("span","\u2022","cm-invalidchar");token.title="\\u"+ch.charCodeAt(0).toString(16);token.setAttribute("aria-label",token.title);return token}function buildToken(builder,text,style,startStyle,endStyle,title,css){if(!text){return}var displayText=builder.splitSpaces?splitSpaces(text,builder.trailingSpace):text;var special=builder.cm.state.specialChars,mustWrap=false;var content;if(!special.test(text)){builder.col+=text.length;content=document.createTextNode(displayText);builder.map.push(builder.pos,builder.pos+text.length,content);if(ie&&ie_version<9){mustWrap=true}builder.pos+=text.length}else{content=document.createDocumentFragment();var pos=0;while(true){special.lastIndex=pos;var m=special.exec(text);var skipped=m?m.index-pos:text.length-pos;if(skipped){var txt=document.createTextNode(displayText.slice(pos,pos+skipped));if(ie&&ie_version<9){content.appendChild(elt("span",[txt]))}else{content.appendChild(txt)}builder.map.push(builder.pos,builder.pos+skipped,txt);builder.col+=skipped;builder.pos+=skipped}if(!m){break}pos+=skipped+1;var txt$1=(void 0);if(m[0]=="\t"){var tabSize=builder.cm.options.tabSize,tabWidth=tabSize-builder.col%tabSize;
txt$1=content.appendChild(elt("span",spaceStr(tabWidth),"cm-tab"));txt$1.setAttribute("role","presentation");txt$1.setAttribute("cm-text","\t");builder.col+=tabWidth}else{if(m[0]=="\r"||m[0]=="\n"){txt$1=content.appendChild(elt("span",m[0]=="\r"?"\u240d":"\u2424","cm-invalidchar"));txt$1.setAttribute("cm-text",m[0]);builder.col+=1}else{txt$1=builder.cm.options.specialCharPlaceholder(m[0]);txt$1.setAttribute("cm-text",m[0]);if(ie&&ie_version<9){content.appendChild(elt("span",[txt$1]))}else{content.appendChild(txt$1)}builder.col+=1}}builder.map.push(builder.pos,builder.pos+1,txt$1);builder.pos++}}builder.trailingSpace=displayText.charCodeAt(text.length-1)==32;if(style||startStyle||endStyle||mustWrap||css){var fullStyle=style||"";if(startStyle){fullStyle+=startStyle}if(endStyle){fullStyle+=endStyle}var token=elt("span",[content],fullStyle,css);if(title){token.title=title}return builder.content.appendChild(token)}builder.content.appendChild(content)}function splitSpaces(text,trailingBefore){if(text.length>1&&!/  /.test(text)){return text}var spaceBefore=trailingBefore,result="";for(var i=0;i<text.length;i++){var ch=text.charAt(i);if(ch==" "&&spaceBefore&&(i==text.length-1||text.charCodeAt(i+1)==32)){ch="\u00a0"}result+=ch;spaceBefore=ch==" "}return result}function buildTokenBadBidi(inner,order){return function(builder,text,style,startStyle,endStyle,title,css){style=style?style+" cm-force-border":"cm-force-border";var start=builder.pos,end=start+text.length;for(;;){var part=(void 0);for(var i=0;i<order.length;i++){part=order[i];if(part.to>start&&part.from<=start){break}}if(part.to>=end){return inner(builder,text,style,startStyle,endStyle,title,css)}inner(builder,text.slice(0,part.to-start),style,startStyle,null,title,css);startStyle=null;text=text.slice(part.to-start);start=part.to}}}function buildCollapsedSpan(builder,size,marker,ignoreWidget){var widget=!ignoreWidget&&marker.widgetNode;if(widget){builder.map.push(builder.pos,builder.pos+size,widget)}if(!ignoreWidget&&builder.cm.display.input.needsContentAttribute){if(!widget){widget=builder.content.appendChild(document.createElement("span"))
}widget.setAttribute("cm-marker",marker.id)}if(widget){builder.cm.display.input.setUneditable(widget);builder.content.appendChild(widget)}builder.pos+=size;builder.trailingSpace=false}function insertLineContent(line,builder,styles){var spans=line.markedSpans,allText=line.text,at=0;if(!spans){for(var i$1=1;i$1<styles.length;i$1+=2){builder.addToken(builder,allText.slice(at,at=styles[i$1]),interpretTokenStyle(styles[i$1+1],builder.cm.options))}return}var len=allText.length,pos=0,i=1,text="",style,css;var nextChange=0,spanStyle,spanEndStyle,spanStartStyle,title,collapsed;for(;;){if(nextChange==pos){spanStyle=spanEndStyle=spanStartStyle=title=css="";collapsed=null;nextChange=Infinity;var foundBookmarks=[],endStyles=(void 0);for(var j=0;j<spans.length;++j){var sp=spans[j],m=sp.marker;if(m.type=="bookmark"&&sp.from==pos&&m.widgetNode){foundBookmarks.push(m)}else{if(sp.from<=pos&&(sp.to==null||sp.to>pos||m.collapsed&&sp.to==pos&&sp.from==pos)){if(sp.to!=null&&sp.to!=pos&&nextChange>sp.to){nextChange=sp.to;spanEndStyle=""}if(m.className){spanStyle+=" "+m.className}if(m.css){css=(css?css+";":"")+m.css}if(m.startStyle&&sp.from==pos){spanStartStyle+=" "+m.startStyle}if(m.endStyle&&sp.to==nextChange){(endStyles||(endStyles=[])).push(m.endStyle,sp.to)}if(m.title&&!title){title=m.title}if(m.collapsed&&(!collapsed||compareCollapsedMarkers(collapsed.marker,m)<0)){collapsed=sp}}else{if(sp.from>pos&&nextChange>sp.from){nextChange=sp.from}}}}if(endStyles){for(var j$1=0;j$1<endStyles.length;j$1+=2){if(endStyles[j$1+1]==nextChange){spanEndStyle+=" "+endStyles[j$1]}}}if(!collapsed||collapsed.from==pos){for(var j$2=0;j$2<foundBookmarks.length;++j$2){buildCollapsedSpan(builder,0,foundBookmarks[j$2])}}if(collapsed&&(collapsed.from||0)==pos){buildCollapsedSpan(builder,(collapsed.to==null?len+1:collapsed.to)-pos,collapsed.marker,collapsed.from==null);if(collapsed.to==null){return}if(collapsed.to==pos){collapsed=false}}}if(pos>=len){break}var upto=Math.min(len,nextChange);while(true){if(text){var end=pos+text.length;
if(!collapsed){var tokenText=end>upto?text.slice(0,upto-pos):text;builder.addToken(builder,tokenText,style?style+spanStyle:spanStyle,spanStartStyle,pos+tokenText.length==nextChange?spanEndStyle:"",title,css)}if(end>=upto){text=text.slice(upto-pos);pos=upto;break}pos=end;spanStartStyle=""}text=allText.slice(at,at=styles[i++]);style=interpretTokenStyle(styles[i++],builder.cm.options)}}}function LineView(doc,line,lineN){this.line=line;this.rest=visualLineContinued(line);this.size=this.rest?lineNo(lst(this.rest))-lineN+1:1;this.node=this.text=null;this.hidden=lineIsHidden(doc,line)}function buildViewArray(cm,from,to){var array=[],nextPos;for(var pos=from;pos<to;pos=nextPos){var view=new LineView(cm.doc,getLine(cm.doc,pos),pos);nextPos=pos+view.size;array.push(view)}return array}var operationGroup=null;function pushOperation(op){if(operationGroup){operationGroup.ops.push(op)}else{op.ownsGroup=operationGroup={ops:[op],delayedCallbacks:[]}}}function fireCallbacksForOps(group){var callbacks=group.delayedCallbacks,i=0;do{for(;i<callbacks.length;i++){callbacks[i].call(null)}for(var j=0;j<group.ops.length;j++){var op=group.ops[j];if(op.cursorActivityHandlers){while(op.cursorActivityCalled<op.cursorActivityHandlers.length){op.cursorActivityHandlers[op.cursorActivityCalled++].call(null,op.cm)}}}}while(i<callbacks.length)}function finishOperation(op,endCb){var group=op.ownsGroup;if(!group){return}try{fireCallbacksForOps(group)}finally{operationGroup=null;endCb(group)}}var orphanDelayedCallbacks=null;function signalLater(emitter,type){var arr=getHandlers(emitter,type);if(!arr.length){return}var args=Array.prototype.slice.call(arguments,2),list;if(operationGroup){list=operationGroup.delayedCallbacks}else{if(orphanDelayedCallbacks){list=orphanDelayedCallbacks}else{list=orphanDelayedCallbacks=[];setTimeout(fireOrphanDelayed,0)}}var loop=function(i){list.push(function(){return arr[i].apply(null,args)})};for(var i=0;i<arr.length;++i){loop(i)}}function fireOrphanDelayed(){var delayed=orphanDelayedCallbacks;
orphanDelayedCallbacks=null;for(var i=0;i<delayed.length;++i){delayed[i]()}}function updateLineForChanges(cm,lineView,lineN,dims){for(var j=0;j<lineView.changes.length;j++){var type=lineView.changes[j];if(type=="text"){updateLineText(cm,lineView)}else{if(type=="gutter"){updateLineGutter(cm,lineView,lineN,dims)}else{if(type=="class"){updateLineClasses(cm,lineView)}else{if(type=="widget"){updateLineWidgets(cm,lineView,dims)}}}}}lineView.changes=null}function ensureLineWrapped(lineView){if(lineView.node==lineView.text){lineView.node=elt("div",null,null,"position: relative");if(lineView.text.parentNode){lineView.text.parentNode.replaceChild(lineView.node,lineView.text)}lineView.node.appendChild(lineView.text);if(ie&&ie_version<8){lineView.node.style.zIndex=2}}return lineView.node}function updateLineBackground(cm,lineView){var cls=lineView.bgClass?lineView.bgClass+" "+(lineView.line.bgClass||""):lineView.line.bgClass;if(cls){cls+=" CodeMirror-linebackground"}if(lineView.background){if(cls){lineView.background.className=cls}else{lineView.background.parentNode.removeChild(lineView.background);lineView.background=null}}else{if(cls){var wrap=ensureLineWrapped(lineView);lineView.background=wrap.insertBefore(elt("div",null,cls),wrap.firstChild);cm.display.input.setUneditable(lineView.background)}}}function getLineContent(cm,lineView){var ext=cm.display.externalMeasured;if(ext&&ext.line==lineView.line){cm.display.externalMeasured=null;lineView.measure=ext.measure;return ext.built}return buildLineContent(cm,lineView)}function updateLineText(cm,lineView){var cls=lineView.text.className;var built=getLineContent(cm,lineView);if(lineView.text==lineView.node){lineView.node=built.pre}lineView.text.parentNode.replaceChild(built.pre,lineView.text);lineView.text=built.pre;if(built.bgClass!=lineView.bgClass||built.textClass!=lineView.textClass){lineView.bgClass=built.bgClass;lineView.textClass=built.textClass;updateLineClasses(cm,lineView)}else{if(cls){lineView.text.className=cls}}}function updateLineClasses(cm,lineView){updateLineBackground(cm,lineView);
if(lineView.line.wrapClass){ensureLineWrapped(lineView).className=lineView.line.wrapClass}else{if(lineView.node!=lineView.text){lineView.node.className=""}}var textClass=lineView.textClass?lineView.textClass+" "+(lineView.line.textClass||""):lineView.line.textClass;lineView.text.className=textClass||""}function updateLineGutter(cm,lineView,lineN,dims){if(lineView.gutter){lineView.node.removeChild(lineView.gutter);lineView.gutter=null}if(lineView.gutterBackground){lineView.node.removeChild(lineView.gutterBackground);lineView.gutterBackground=null}if(lineView.line.gutterClass){var wrap=ensureLineWrapped(lineView);lineView.gutterBackground=elt("div",null,"CodeMirror-gutter-background "+lineView.line.gutterClass,("left: "+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+"px; width: "+(dims.gutterTotalWidth)+"px"));cm.display.input.setUneditable(lineView.gutterBackground);wrap.insertBefore(lineView.gutterBackground,lineView.text)}var markers=lineView.line.gutterMarkers;if(cm.options.lineNumbers||markers){var wrap$1=ensureLineWrapped(lineView);var gutterWrap=lineView.gutter=elt("div",null,"CodeMirror-gutter-wrapper",("left: "+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+"px"));cm.display.input.setUneditable(gutterWrap);wrap$1.insertBefore(gutterWrap,lineView.text);if(lineView.line.gutterClass){gutterWrap.className+=" "+lineView.line.gutterClass}if(cm.options.lineNumbers&&(!markers||!markers["CodeMirror-linenumbers"])){lineView.lineNumber=gutterWrap.appendChild(elt("div",lineNumberFor(cm.options,lineN),"CodeMirror-linenumber CodeMirror-gutter-elt",("left: "+(dims.gutterLeft["CodeMirror-linenumbers"])+"px; width: "+(cm.display.lineNumInnerWidth)+"px")))}if(markers){for(var k=0;k<cm.options.gutters.length;++k){var id=cm.options.gutters[k],found=markers.hasOwnProperty(id)&&markers[id];if(found){gutterWrap.appendChild(elt("div",[found],"CodeMirror-gutter-elt",("left: "+(dims.gutterLeft[id])+"px; width: "+(dims.gutterWidth[id])+"px")))}}}}}function updateLineWidgets(cm,lineView,dims){if(lineView.alignable){lineView.alignable=null
}for(var node=lineView.node.firstChild,next=(void 0);node;node=next){next=node.nextSibling;if(node.className=="CodeMirror-linewidget"){lineView.node.removeChild(node)}}insertLineWidgets(cm,lineView,dims)}function buildLineElement(cm,lineView,lineN,dims){var built=getLineContent(cm,lineView);lineView.text=lineView.node=built.pre;if(built.bgClass){lineView.bgClass=built.bgClass}if(built.textClass){lineView.textClass=built.textClass}updateLineClasses(cm,lineView);updateLineGutter(cm,lineView,lineN,dims);insertLineWidgets(cm,lineView,dims);return lineView.node}function insertLineWidgets(cm,lineView,dims){insertLineWidgetsFor(cm,lineView.line,lineView,dims,true);if(lineView.rest){for(var i=0;i<lineView.rest.length;i++){insertLineWidgetsFor(cm,lineView.rest[i],lineView,dims,false)}}}function insertLineWidgetsFor(cm,line,lineView,dims,allowAbove){if(!line.widgets){return}var wrap=ensureLineWrapped(lineView);for(var i=0,ws=line.widgets;i<ws.length;++i){var widget=ws[i],node=elt("div",[widget.node],"CodeMirror-linewidget");if(!widget.handleMouseEvents){node.setAttribute("cm-ignore-events","true")}positionLineWidget(widget,node,lineView,dims);cm.display.input.setUneditable(node);if(allowAbove&&widget.above){wrap.insertBefore(node,lineView.gutter||lineView.text)}else{wrap.appendChild(node)}signalLater(widget,"redraw")}}function positionLineWidget(widget,node,lineView,dims){if(widget.noHScroll){(lineView.alignable||(lineView.alignable=[])).push(node);var width=dims.wrapperWidth;node.style.left=dims.fixedPos+"px";if(!widget.coverGutter){width-=dims.gutterTotalWidth;node.style.paddingLeft=dims.gutterTotalWidth+"px"}node.style.width=width+"px"}if(widget.coverGutter){node.style.zIndex=5;node.style.position="relative";if(!widget.noHScroll){node.style.marginLeft=-dims.gutterTotalWidth+"px"}}}function widgetHeight(widget){if(widget.height!=null){return widget.height}var cm=widget.doc.cm;if(!cm){return 0}if(!contains(document.body,widget.node)){var parentStyle="position: relative;";if(widget.coverGutter){parentStyle+="margin-left: -"+cm.display.gutters.offsetWidth+"px;"
}if(widget.noHScroll){parentStyle+="width: "+cm.display.wrapper.clientWidth+"px;"}removeChildrenAndAdd(cm.display.measure,elt("div",[widget.node],null,parentStyle))}return widget.height=widget.node.parentNode.offsetHeight}function eventInWidget(display,e){for(var n=e_target(e);n!=display.wrapper;n=n.parentNode){if(!n||(n.nodeType==1&&n.getAttribute("cm-ignore-events")=="true")||(n.parentNode==display.sizer&&n!=display.mover)){return true}}}function paddingTop(display){return display.lineSpace.offsetTop}function paddingVert(display){return display.mover.offsetHeight-display.lineSpace.offsetHeight}function paddingH(display){if(display.cachedPaddingH){return display.cachedPaddingH}var e=removeChildrenAndAdd(display.measure,elt("pre","x"));var style=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle;var data={left:parseInt(style.paddingLeft),right:parseInt(style.paddingRight)};if(!isNaN(data.left)&&!isNaN(data.right)){display.cachedPaddingH=data}return data}function scrollGap(cm){return scrollerGap-cm.display.nativeBarWidth}function displayWidth(cm){return cm.display.scroller.clientWidth-scrollGap(cm)-cm.display.barWidth}function displayHeight(cm){return cm.display.scroller.clientHeight-scrollGap(cm)-cm.display.barHeight}function ensureLineHeights(cm,lineView,rect){var wrapping=cm.options.lineWrapping;var curWidth=wrapping&&displayWidth(cm);if(!lineView.measure.heights||wrapping&&lineView.measure.width!=curWidth){var heights=lineView.measure.heights=[];if(wrapping){lineView.measure.width=curWidth;var rects=lineView.text.firstChild.getClientRects();for(var i=0;i<rects.length-1;i++){var cur=rects[i],next=rects[i+1];if(Math.abs(cur.bottom-next.bottom)>2){heights.push((cur.bottom+next.top)/2-rect.top)}}}heights.push(rect.bottom-rect.top)}}function mapFromLineView(lineView,line,lineN){if(lineView.line==line){return{map:lineView.measure.map,cache:lineView.measure.cache}}for(var i=0;i<lineView.rest.length;i++){if(lineView.rest[i]==line){return{map:lineView.measure.maps[i],cache:lineView.measure.caches[i]}
}}for(var i$1=0;i$1<lineView.rest.length;i$1++){if(lineNo(lineView.rest[i$1])>lineN){return{map:lineView.measure.maps[i$1],cache:lineView.measure.caches[i$1],before:true}}}}function updateExternalMeasurement(cm,line){line=visualLine(line);var lineN=lineNo(line);var view=cm.display.externalMeasured=new LineView(cm.doc,line,lineN);view.lineN=lineN;var built=view.built=buildLineContent(cm,view);view.text=built.pre;removeChildrenAndAdd(cm.display.lineMeasure,built.pre);return view}function measureChar(cm,line,ch,bias){return measureCharPrepared(cm,prepareMeasureForLine(cm,line),ch,bias)}function findViewForLine(cm,lineN){if(lineN>=cm.display.viewFrom&&lineN<cm.display.viewTo){return cm.display.view[findViewIndex(cm,lineN)]}var ext=cm.display.externalMeasured;if(ext&&lineN>=ext.lineN&&lineN<ext.lineN+ext.size){return ext}}function prepareMeasureForLine(cm,line){var lineN=lineNo(line);var view=findViewForLine(cm,lineN);if(view&&!view.text){view=null}else{if(view&&view.changes){updateLineForChanges(cm,view,lineN,getDimensions(cm));cm.curOp.forceUpdate=true}}if(!view){view=updateExternalMeasurement(cm,line)}var info=mapFromLineView(view,line,lineN);return{line:line,view:view,rect:null,map:info.map,cache:info.cache,before:info.before,hasHeights:false}}function measureCharPrepared(cm,prepared,ch,bias,varHeight){if(prepared.before){ch=-1}var key=ch+(bias||""),found;if(prepared.cache.hasOwnProperty(key)){found=prepared.cache[key]}else{if(!prepared.rect){prepared.rect=prepared.view.text.getBoundingClientRect()}if(!prepared.hasHeights){ensureLineHeights(cm,prepared.view,prepared.rect);prepared.hasHeights=true}found=measureCharInner(cm,prepared,ch,bias);if(!found.bogus){prepared.cache[key]=found}}return{left:found.left,right:found.right,top:varHeight?found.rtop:found.top,bottom:varHeight?found.rbottom:found.bottom}}var nullRect={left:0,right:0,top:0,bottom:0};function nodeAndOffsetInLineMap(map$$1,ch,bias){var node,start,end,collapse,mStart,mEnd;for(var i=0;i<map$$1.length;i+=3){mStart=map$$1[i];
mEnd=map$$1[i+1];if(ch<mStart){start=0;end=1;collapse="left"}else{if(ch<mEnd){start=ch-mStart;end=start+1}else{if(i==map$$1.length-3||ch==mEnd&&map$$1[i+3]>ch){end=mEnd-mStart;start=end-1;if(ch>=mEnd){collapse="right"}}}}if(start!=null){node=map$$1[i+2];if(mStart==mEnd&&bias==(node.insertLeft?"left":"right")){collapse=bias}if(bias=="left"&&start==0){while(i&&map$$1[i-2]==map$$1[i-3]&&map$$1[i-1].insertLeft){node=map$$1[(i-=3)+2];collapse="left"}}if(bias=="right"&&start==mEnd-mStart){while(i<map$$1.length-3&&map$$1[i+3]==map$$1[i+4]&&!map$$1[i+5].insertLeft){node=map$$1[(i+=3)+2];collapse="right"}}break}}return{node:node,start:start,end:end,collapse:collapse,coverStart:mStart,coverEnd:mEnd}}function getUsefulRect(rects,bias){var rect=nullRect;if(bias=="left"){for(var i=0;i<rects.length;i++){if((rect=rects[i]).left!=rect.right){break}}}else{for(var i$1=rects.length-1;i$1>=0;i$1--){if((rect=rects[i$1]).left!=rect.right){break}}}return rect}function measureCharInner(cm,prepared,ch,bias){var place=nodeAndOffsetInLineMap(prepared.map,ch,bias);var node=place.node,start=place.start,end=place.end,collapse=place.collapse;var rect;if(node.nodeType==3){for(var i$1=0;i$1<4;i$1++){while(start&&isExtendingChar(prepared.line.text.charAt(place.coverStart+start))){--start}while(place.coverStart+end<place.coverEnd&&isExtendingChar(prepared.line.text.charAt(place.coverStart+end))){++end}if(ie&&ie_version<9&&start==0&&end==place.coverEnd-place.coverStart){rect=node.parentNode.getBoundingClientRect()}else{rect=getUsefulRect(range(node,start,end).getClientRects(),bias)}if(rect.left||rect.right||start==0){break}end=start;start=start-1;collapse="right"}if(ie&&ie_version<11){rect=maybeUpdateRectForZooming(cm.display.measure,rect)}}else{if(start>0){collapse=bias="right"}var rects;if(cm.options.lineWrapping&&(rects=node.getClientRects()).length>1){rect=rects[bias=="right"?rects.length-1:0]}else{rect=node.getBoundingClientRect()}}if(ie&&ie_version<9&&!start&&(!rect||!rect.left&&!rect.right)){var rSpan=node.parentNode.getClientRects()[0];
if(rSpan){rect={left:rSpan.left,right:rSpan.left+charWidth(cm.display),top:rSpan.top,bottom:rSpan.bottom}}else{rect=nullRect}}var rtop=rect.top-prepared.rect.top,rbot=rect.bottom-prepared.rect.top;var mid=(rtop+rbot)/2;var heights=prepared.view.measure.heights;var i=0;for(;i<heights.length-1;i++){if(mid<heights[i]){break}}var top=i?heights[i-1]:0,bot=heights[i];var result={left:(collapse=="right"?rect.right:rect.left)-prepared.rect.left,right:(collapse=="left"?rect.left:rect.right)-prepared.rect.left,top:top,bottom:bot};if(!rect.left&&!rect.right){result.bogus=true}if(!cm.options.singleCursorHeightPerLine){result.rtop=rtop;result.rbottom=rbot}return result}function maybeUpdateRectForZooming(measure,rect){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!hasBadZoomedRects(measure)){return rect}var scaleX=screen.logicalXDPI/screen.deviceXDPI;var scaleY=screen.logicalYDPI/screen.deviceYDPI;return{left:rect.left*scaleX,right:rect.right*scaleX,top:rect.top*scaleY,bottom:rect.bottom*scaleY}}function clearLineMeasurementCacheFor(lineView){if(lineView.measure){lineView.measure.cache={};lineView.measure.heights=null;if(lineView.rest){for(var i=0;i<lineView.rest.length;i++){lineView.measure.caches[i]={}}}}}function clearLineMeasurementCache(cm){cm.display.externalMeasure=null;removeChildren(cm.display.lineMeasure);for(var i=0;i<cm.display.view.length;i++){clearLineMeasurementCacheFor(cm.display.view[i])}}function clearCaches(cm){clearLineMeasurementCache(cm);cm.display.cachedCharWidth=cm.display.cachedTextHeight=cm.display.cachedPaddingH=null;if(!cm.options.lineWrapping){cm.display.maxLineChanged=true}cm.display.lineNumChars=null}function pageScrollX(){if(chrome&&android){return -(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft))}return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function pageScrollY(){if(chrome&&android){return -(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop))
}return window.pageYOffset||(document.documentElement||document.body).scrollTop}function widgetTopHeight(lineObj){var height=0;if(lineObj.widgets){for(var i=0;i<lineObj.widgets.length;++i){if(lineObj.widgets[i].above){height+=widgetHeight(lineObj.widgets[i])}}}return height}function intoCoordSystem(cm,lineObj,rect,context,includeWidgets){if(!includeWidgets){var height=widgetTopHeight(lineObj);rect.top+=height;rect.bottom+=height}if(context=="line"){return rect}if(!context){context="local"}var yOff=heightAtLine(lineObj);if(context=="local"){yOff+=paddingTop(cm.display)}else{yOff-=cm.display.viewOffset}if(context=="page"||context=="window"){var lOff=cm.display.lineSpace.getBoundingClientRect();yOff+=lOff.top+(context=="window"?0:pageScrollY());var xOff=lOff.left+(context=="window"?0:pageScrollX());rect.left+=xOff;rect.right+=xOff}rect.top+=yOff;rect.bottom+=yOff;return rect}function fromCoordSystem(cm,coords,context){if(context=="div"){return coords}var left=coords.left,top=coords.top;if(context=="page"){left-=pageScrollX();top-=pageScrollY()}else{if(context=="local"||!context){var localBox=cm.display.sizer.getBoundingClientRect();left+=localBox.left;top+=localBox.top}}var lineSpaceBox=cm.display.lineSpace.getBoundingClientRect();return{left:left-lineSpaceBox.left,top:top-lineSpaceBox.top}}function charCoords(cm,pos,context,lineObj,bias){if(!lineObj){lineObj=getLine(cm.doc,pos.line)}return intoCoordSystem(cm,lineObj,measureChar(cm,lineObj,pos.ch,bias),context)}function cursorCoords(cm,pos,context,lineObj,preparedMeasure,varHeight){lineObj=lineObj||getLine(cm.doc,pos.line);if(!preparedMeasure){preparedMeasure=prepareMeasureForLine(cm,lineObj)}function get(ch,right){var m=measureCharPrepared(cm,preparedMeasure,ch,right?"right":"left",varHeight);if(right){m.left=m.right}else{m.right=m.left}return intoCoordSystem(cm,lineObj,m,context)}var order=getOrder(lineObj,cm.doc.direction),ch=pos.ch,sticky=pos.sticky;if(ch>=lineObj.text.length){ch=lineObj.text.length;sticky="before"}else{if(ch<=0){ch=0;
sticky="after"}}if(!order){return get(sticky=="before"?ch-1:ch,sticky=="before")}function getBidi(ch,partPos,invert){var part=order[partPos],right=part.level==1;return get(invert?ch-1:ch,right!=invert)}var partPos=getBidiPartAt(order,ch,sticky);var other=bidiOther;var val=getBidi(ch,partPos,sticky=="before");if(other!=null){val.other=getBidi(ch,other,sticky!="before")}return val}function estimateCoords(cm,pos){var left=0;pos=clipPos(cm.doc,pos);if(!cm.options.lineWrapping){left=charWidth(cm.display)*pos.ch}var lineObj=getLine(cm.doc,pos.line);var top=heightAtLine(lineObj)+paddingTop(cm.display);return{left:left,right:left,top:top,bottom:top+lineObj.height}}function PosWithInfo(line,ch,sticky,outside,xRel){var pos=Pos(line,ch,sticky);pos.xRel=xRel;if(outside){pos.outside=true}return pos}function coordsChar(cm,x,y){var doc=cm.doc;y+=cm.display.viewOffset;if(y<0){return PosWithInfo(doc.first,0,null,true,-1)}var lineN=lineAtHeight(doc,y),last=doc.first+doc.size-1;if(lineN>last){return PosWithInfo(doc.first+doc.size-1,getLine(doc,last).text.length,null,true,1)}if(x<0){x=0}var lineObj=getLine(doc,lineN);for(;;){var found=coordsCharInner(cm,lineObj,lineN,x,y);var collapsed=collapsedSpanAround(lineObj,found.ch+(found.xRel>0?1:0));if(!collapsed){return found}var rangeEnd=collapsed.find(1);if(rangeEnd.line==lineN){return rangeEnd}lineObj=getLine(doc,lineN=rangeEnd.line)}}function wrappedLineExtent(cm,lineObj,preparedMeasure,y){y-=widgetTopHeight(lineObj);var end=lineObj.text.length;var begin=findFirst(function(ch){return measureCharPrepared(cm,preparedMeasure,ch-1).bottom<=y},end,0);end=findFirst(function(ch){return measureCharPrepared(cm,preparedMeasure,ch).top>y},begin,end);return{begin:begin,end:end}}function wrappedLineExtentChar(cm,lineObj,preparedMeasure,target){if(!preparedMeasure){preparedMeasure=prepareMeasureForLine(cm,lineObj)}var targetTop=intoCoordSystem(cm,lineObj,measureCharPrepared(cm,preparedMeasure,target),"line").top;return wrappedLineExtent(cm,lineObj,preparedMeasure,targetTop)
}function boxIsAfter(box,x,y,left){return box.bottom<=y?false:box.top>y?true:(left?box.left:box.right)>x}function coordsCharInner(cm,lineObj,lineNo$$1,x,y){y-=heightAtLine(lineObj);var preparedMeasure=prepareMeasureForLine(cm,lineObj);var widgetHeight$$1=widgetTopHeight(lineObj);var begin=0,end=lineObj.text.length,ltr=true;var order=getOrder(lineObj,cm.doc.direction);if(order){var part=(cm.options.lineWrapping?coordsBidiPartWrapped:coordsBidiPart)(cm,lineObj,lineNo$$1,preparedMeasure,order,x,y);ltr=part.level!=1;begin=ltr?part.from:part.to-1;end=ltr?part.to:part.from-1}var chAround=null,boxAround=null;var ch=findFirst(function(ch){var box=measureCharPrepared(cm,preparedMeasure,ch);box.top+=widgetHeight$$1;box.bottom+=widgetHeight$$1;if(!boxIsAfter(box,x,y,false)){return false}if(box.top<=y&&box.left<=x){chAround=ch;boxAround=box}return true},begin,end);var baseX,sticky,outside=false;if(boxAround){var atLeft=x-boxAround.left<boxAround.right-x,atStart=atLeft==ltr;ch=chAround+(atStart?0:1);sticky=atStart?"after":"before";baseX=atLeft?boxAround.left:boxAround.right}else{if(!ltr&&(ch==end||ch==begin)){ch++}sticky=ch==0?"after":ch==lineObj.text.length?"before":(measureCharPrepared(cm,preparedMeasure,ch-(ltr?1:0)).bottom+widgetHeight$$1<=y)==ltr?"after":"before";var coords=cursorCoords(cm,Pos(lineNo$$1,ch,sticky),"line",lineObj,preparedMeasure);baseX=coords.left;outside=y<coords.top||y>=coords.bottom}ch=skipExtendingChars(lineObj.text,ch,1);return PosWithInfo(lineNo$$1,ch,sticky,outside,x-baseX)}function coordsBidiPart(cm,lineObj,lineNo$$1,preparedMeasure,order,x,y){var index=findFirst(function(i){var part=order[i],ltr=part.level!=1;return boxIsAfter(cursorCoords(cm,Pos(lineNo$$1,ltr?part.to:part.from,ltr?"before":"after"),"line",lineObj,preparedMeasure),x,y,true)},0,order.length-1);var part=order[index];if(index>0){var ltr=part.level!=1;var start=cursorCoords(cm,Pos(lineNo$$1,ltr?part.from:part.to,ltr?"after":"before"),"line",lineObj,preparedMeasure);if(boxIsAfter(start,x,y,true)&&start.top>y){part=order[index-1]
}}return part}function coordsBidiPartWrapped(cm,lineObj,_lineNo,preparedMeasure,order,x,y){var ref=wrappedLineExtent(cm,lineObj,preparedMeasure,y);var begin=ref.begin;var end=ref.end;if(/\s/.test(lineObj.text.charAt(end-1))){end--}var part=null,closestDist=null;for(var i=0;i<order.length;i++){var p=order[i];if(p.from>=end||p.to<=begin){continue}var ltr=p.level!=1;var endX=measureCharPrepared(cm,preparedMeasure,ltr?Math.min(end,p.to)-1:Math.max(begin,p.from)).right;var dist=endX<x?x-endX+1000000000:endX-x;if(!part||closestDist>dist){part=p;closestDist=dist}}if(!part){part=order[order.length-1]}if(part.from<begin){part={from:begin,to:part.to,level:part.level}}if(part.to>end){part={from:part.from,to:end,level:part.level}}return part}var measureText;function textHeight(display){if(display.cachedTextHeight!=null){return display.cachedTextHeight}if(measureText==null){measureText=elt("pre");for(var i=0;i<49;++i){measureText.appendChild(document.createTextNode("x"));measureText.appendChild(elt("br"))}measureText.appendChild(document.createTextNode("x"))}removeChildrenAndAdd(display.measure,measureText);var height=measureText.offsetHeight/50;if(height>3){display.cachedTextHeight=height}removeChildren(display.measure);return height||1}function charWidth(display){if(display.cachedCharWidth!=null){return display.cachedCharWidth}var anchor=elt("span","xxxxxxxxxx");var pre=elt("pre",[anchor]);removeChildrenAndAdd(display.measure,pre);var rect=anchor.getBoundingClientRect(),width=(rect.right-rect.left)/10;if(width>2){display.cachedCharWidth=width}return width||10}function getDimensions(cm){var d=cm.display,left={},width={};var gutterLeft=d.gutters.clientLeft;for(var n=d.gutters.firstChild,i=0;n;n=n.nextSibling,++i){left[cm.options.gutters[i]]=n.offsetLeft+n.clientLeft+gutterLeft;width[cm.options.gutters[i]]=n.clientWidth}return{fixedPos:compensateForHScroll(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:left,gutterWidth:width,wrapperWidth:d.wrapper.clientWidth}}function compensateForHScroll(display){return display.scroller.getBoundingClientRect().left-display.sizer.getBoundingClientRect().left
}function estimateHeight(cm){var th=textHeight(cm.display),wrapping=cm.options.lineWrapping;var perLine=wrapping&&Math.max(5,cm.display.scroller.clientWidth/charWidth(cm.display)-3);return function(line){if(lineIsHidden(cm.doc,line)){return 0}var widgetsHeight=0;if(line.widgets){for(var i=0;i<line.widgets.length;i++){if(line.widgets[i].height){widgetsHeight+=line.widgets[i].height}}}if(wrapping){return widgetsHeight+(Math.ceil(line.text.length/perLine)||1)*th}else{return widgetsHeight+th}}}function estimateLineHeights(cm){var doc=cm.doc,est=estimateHeight(cm);doc.iter(function(line){var estHeight=est(line);if(estHeight!=line.height){updateLineHeight(line,estHeight)}})}function posFromMouse(cm,e,liberal,forRect){var display=cm.display;if(!liberal&&e_target(e).getAttribute("cm-not-content")=="true"){return null}var x,y,space=display.lineSpace.getBoundingClientRect();try{x=e.clientX-space.left;y=e.clientY-space.top}catch(e){return null}var coords=coordsChar(cm,x,y),line;if(forRect&&coords.xRel==1&&(line=getLine(cm.doc,coords.line).text).length==coords.ch){var colDiff=countColumn(line,line.length,cm.options.tabSize)-line.length;coords=Pos(coords.line,Math.max(0,Math.round((x-paddingH(cm.display).left)/charWidth(cm.display))-colDiff))}return coords}function findViewIndex(cm,n){if(n>=cm.display.viewTo){return null}n-=cm.display.viewFrom;if(n<0){return null}var view=cm.display.view;for(var i=0;i<view.length;i++){n-=view[i].size;if(n<0){return i}}}function updateSelection(cm){cm.display.input.showSelection(cm.display.input.prepareSelection())}function prepareSelection(cm,primary){if(primary===void 0){primary=true}var doc=cm.doc,result={};var curFragment=result.cursors=document.createDocumentFragment();var selFragment=result.selection=document.createDocumentFragment();for(var i=0;i<doc.sel.ranges.length;i++){if(!primary&&i==doc.sel.primIndex){continue}var range$$1=doc.sel.ranges[i];if(range$$1.from().line>=cm.display.viewTo||range$$1.to().line<cm.display.viewFrom){continue}var collapsed=range$$1.empty();
if(collapsed||cm.options.showCursorWhenSelecting){drawSelectionCursor(cm,range$$1.head,curFragment)}if(!collapsed){drawSelectionRange(cm,range$$1,selFragment)}}return result}function drawSelectionCursor(cm,head,output){var pos=cursorCoords(cm,head,"div",null,null,!cm.options.singleCursorHeightPerLine);var cursor=output.appendChild(elt("div","\u00a0","CodeMirror-cursor"));cursor.style.left=pos.left+"px";cursor.style.top=pos.top+"px";cursor.style.height=Math.max(0,pos.bottom-pos.top)*cm.options.cursorHeight+"px";if(pos.other){var otherCursor=output.appendChild(elt("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor"));otherCursor.style.display="";otherCursor.style.left=pos.other.left+"px";otherCursor.style.top=pos.other.top+"px";otherCursor.style.height=(pos.other.bottom-pos.other.top)*0.85+"px"}}function cmpCoords(a,b){return a.top-b.top||a.left-b.left}function drawSelectionRange(cm,range$$1,output){var display=cm.display,doc=cm.doc;var fragment=document.createDocumentFragment();var padding=paddingH(cm.display),leftSide=padding.left;var rightSide=Math.max(display.sizerWidth,displayWidth(cm)-display.sizer.offsetLeft)-padding.right;var docLTR=doc.direction=="ltr";function add(left,top,width,bottom){if(top<0){top=0}top=Math.round(top);bottom=Math.round(bottom);fragment.appendChild(elt("div",null,"CodeMirror-selected",("position: absolute; left: "+left+"px;\n                             top: "+top+"px; width: "+(width==null?rightSide-left:width)+"px;\n                             height: "+(bottom-top)+"px")))}function drawForLine(line,fromArg,toArg){var lineObj=getLine(doc,line);var lineLen=lineObj.text.length;var start,end;function coords(ch,bias){return charCoords(cm,Pos(line,ch),"div",lineObj,bias)}function wrapX(pos,dir,side){var extent=wrappedLineExtentChar(cm,lineObj,null,pos);var prop=(dir=="ltr")==(side=="after")?"left":"right";var ch=side=="after"?extent.begin:extent.end-(/\s/.test(lineObj.text.charAt(extent.end-1))?2:1);return coords(ch,prop)[prop]}var order=getOrder(lineObj,doc.direction);
iterateBidiSections(order,fromArg||0,toArg==null?lineLen:toArg,function(from,to,dir,i){var ltr=dir=="ltr";var fromPos=coords(from,ltr?"left":"right");var toPos=coords(to-1,ltr?"right":"left");var openStart=fromArg==null&&from==0,openEnd=toArg==null&&to==lineLen;var first=i==0,last=!order||i==order.length-1;if(toPos.top-fromPos.top<=3){var openLeft=(docLTR?openStart:openEnd)&&first;var openRight=(docLTR?openEnd:openStart)&&last;var left=openLeft?leftSide:(ltr?fromPos:toPos).left;var right=openRight?rightSide:(ltr?toPos:fromPos).right;add(left,fromPos.top,right-left,fromPos.bottom)}else{var topLeft,topRight,botLeft,botRight;if(ltr){topLeft=docLTR&&openStart&&first?leftSide:fromPos.left;topRight=docLTR?rightSide:wrapX(from,dir,"before");botLeft=docLTR?leftSide:wrapX(to,dir,"after");botRight=docLTR&&openEnd&&last?rightSide:toPos.right}else{topLeft=!docLTR?leftSide:wrapX(from,dir,"before");topRight=!docLTR&&openStart&&first?rightSide:fromPos.right;botLeft=!docLTR&&openEnd&&last?leftSide:toPos.left;botRight=!docLTR?rightSide:wrapX(to,dir,"after")}add(topLeft,fromPos.top,topRight-topLeft,fromPos.bottom);if(fromPos.bottom<toPos.top){add(leftSide,fromPos.bottom,null,toPos.top)}add(botLeft,toPos.top,botRight-botLeft,toPos.bottom)}if(!start||cmpCoords(fromPos,start)<0){start=fromPos}if(cmpCoords(toPos,start)<0){start=toPos}if(!end||cmpCoords(fromPos,end)<0){end=fromPos}if(cmpCoords(toPos,end)<0){end=toPos}});return{start:start,end:end}}var sFrom=range$$1.from(),sTo=range$$1.to();if(sFrom.line==sTo.line){drawForLine(sFrom.line,sFrom.ch,sTo.ch)}else{var fromLine=getLine(doc,sFrom.line),toLine=getLine(doc,sTo.line);var singleVLine=visualLine(fromLine)==visualLine(toLine);var leftEnd=drawForLine(sFrom.line,sFrom.ch,singleVLine?fromLine.text.length+1:null).end;var rightStart=drawForLine(sTo.line,singleVLine?0:null,sTo.ch).start;if(singleVLine){if(leftEnd.top<rightStart.top-2){add(leftEnd.right,leftEnd.top,null,leftEnd.bottom);add(leftSide,rightStart.top,rightStart.left,rightStart.bottom)
}else{add(leftEnd.right,leftEnd.top,rightStart.left-leftEnd.right,leftEnd.bottom)}}if(leftEnd.bottom<rightStart.top){add(leftSide,leftEnd.bottom,null,rightStart.top)}}output.appendChild(fragment)}function restartBlink(cm){if(!cm.state.focused){return}var display=cm.display;clearInterval(display.blinker);var on=true;display.cursorDiv.style.visibility="";if(cm.options.cursorBlinkRate>0){display.blinker=setInterval(function(){return display.cursorDiv.style.visibility=(on=!on)?"":"hidden"},cm.options.cursorBlinkRate)}else{if(cm.options.cursorBlinkRate<0){display.cursorDiv.style.visibility="hidden"}}}function ensureFocus(cm){if(!cm.state.focused){cm.display.input.focus();onFocus(cm)}}function delayBlurEvent(cm){cm.state.delayingBlurEvent=true;setTimeout(function(){if(cm.state.delayingBlurEvent){cm.state.delayingBlurEvent=false;onBlur(cm)}},100)}function onFocus(cm,e){if(cm.state.delayingBlurEvent){cm.state.delayingBlurEvent=false}if(cm.options.readOnly=="nocursor"){return}if(!cm.state.focused){signal(cm,"focus",cm,e);cm.state.focused=true;addClass(cm.display.wrapper,"CodeMirror-focused");if(!cm.curOp&&cm.display.selForContextMenu!=cm.doc.sel){cm.display.input.reset();if(webkit){setTimeout(function(){return cm.display.input.reset(true)},20)}}cm.display.input.receivedFocus()}restartBlink(cm)}function onBlur(cm,e){if(cm.state.delayingBlurEvent){return}if(cm.state.focused){signal(cm,"blur",cm,e);cm.state.focused=false;rmClass(cm.display.wrapper,"CodeMirror-focused")}clearInterval(cm.display.blinker);setTimeout(function(){if(!cm.state.focused){cm.display.shift=false}},150)}function updateHeightsInViewport(cm){var display=cm.display;var prevBottom=display.lineDiv.offsetTop;for(var i=0;i<display.view.length;i++){var cur=display.view[i],height=(void 0);if(cur.hidden){continue}if(ie&&ie_version<8){var bot=cur.node.offsetTop+cur.node.offsetHeight;height=bot-prevBottom;prevBottom=bot}else{var box=cur.node.getBoundingClientRect();height=box.bottom-box.top}var diff=cur.line.height-height;
if(height<2){height=textHeight(display)}if(diff>0.005||diff<-0.005){updateLineHeight(cur.line,height);updateWidgetHeight(cur.line);if(cur.rest){for(var j=0;j<cur.rest.length;j++){updateWidgetHeight(cur.rest[j])}}}}}function updateWidgetHeight(line){if(line.widgets){for(var i=0;i<line.widgets.length;++i){var w=line.widgets[i],parent=w.node.parentNode;if(parent){w.height=parent.offsetHeight}}}}function visibleLines(display,doc,viewport){var top=viewport&&viewport.top!=null?Math.max(0,viewport.top):display.scroller.scrollTop;top=Math.floor(top-paddingTop(display));var bottom=viewport&&viewport.bottom!=null?viewport.bottom:top+display.wrapper.clientHeight;var from=lineAtHeight(doc,top),to=lineAtHeight(doc,bottom);if(viewport&&viewport.ensure){var ensureFrom=viewport.ensure.from.line,ensureTo=viewport.ensure.to.line;if(ensureFrom<from){from=ensureFrom;to=lineAtHeight(doc,heightAtLine(getLine(doc,ensureFrom))+display.wrapper.clientHeight)}else{if(Math.min(ensureTo,doc.lastLine())>=to){from=lineAtHeight(doc,heightAtLine(getLine(doc,ensureTo))-display.wrapper.clientHeight);to=ensureTo}}}return{from:from,to:Math.max(to,from+1)}}function alignHorizontally(cm){var display=cm.display,view=display.view;if(!display.alignWidgets&&(!display.gutters.firstChild||!cm.options.fixedGutter)){return}var comp=compensateForHScroll(display)-display.scroller.scrollLeft+cm.doc.scrollLeft;var gutterW=display.gutters.offsetWidth,left=comp+"px";for(var i=0;i<view.length;i++){if(!view[i].hidden){if(cm.options.fixedGutter){if(view[i].gutter){view[i].gutter.style.left=left}if(view[i].gutterBackground){view[i].gutterBackground.style.left=left}}var align=view[i].alignable;if(align){for(var j=0;j<align.length;j++){align[j].style.left=left}}}}if(cm.options.fixedGutter){display.gutters.style.left=(comp+gutterW)+"px"}}function maybeUpdateLineNumberWidth(cm){if(!cm.options.lineNumbers){return false}var doc=cm.doc,last=lineNumberFor(cm.options,doc.first+doc.size-1),display=cm.display;if(last.length!=display.lineNumChars){var test=display.measure.appendChild(elt("div",[elt("div",last)],"CodeMirror-linenumber CodeMirror-gutter-elt"));
var innerW=test.firstChild.offsetWidth,padding=test.offsetWidth-innerW;display.lineGutter.style.width="";display.lineNumInnerWidth=Math.max(innerW,display.lineGutter.offsetWidth-padding)+1;display.lineNumWidth=display.lineNumInnerWidth+padding;display.lineNumChars=display.lineNumInnerWidth?last.length:-1;display.lineGutter.style.width=display.lineNumWidth+"px";updateGutterSpace(cm);return true}return false}function maybeScrollWindow(cm,rect){if(signalDOMEvent(cm,"scrollCursorIntoView")){return}var display=cm.display,box=display.sizer.getBoundingClientRect(),doScroll=null;if(rect.top+box.top<0){doScroll=true}else{if(rect.bottom+box.top>(window.innerHeight||document.documentElement.clientHeight)){doScroll=false}}if(doScroll!=null&&!phantom){var scrollNode=elt("div","\u200b",null,("position: absolute;\n                         top: "+(rect.top-display.viewOffset-paddingTop(cm.display))+"px;\n                         height: "+(rect.bottom-rect.top+scrollGap(cm)+display.barHeight)+"px;\n                         left: "+(rect.left)+"px; width: "+(Math.max(2,rect.right-rect.left))+"px;"));cm.display.lineSpace.appendChild(scrollNode);scrollNode.scrollIntoView(doScroll);cm.display.lineSpace.removeChild(scrollNode)}}function scrollPosIntoView(cm,pos,end,margin){if(margin==null){margin=0}var rect;if(!cm.options.lineWrapping&&pos==end){pos=pos.ch?Pos(pos.line,pos.sticky=="before"?pos.ch-1:pos.ch,"after"):pos;end=pos.sticky=="before"?Pos(pos.line,pos.ch+1,"before"):pos}for(var limit=0;limit<5;limit++){var changed=false;var coords=cursorCoords(cm,pos);var endCoords=!end||end==pos?coords:cursorCoords(cm,end);rect={left:Math.min(coords.left,endCoords.left),top:Math.min(coords.top,endCoords.top)-margin,right:Math.max(coords.left,endCoords.left),bottom:Math.max(coords.bottom,endCoords.bottom)+margin};var scrollPos=calculateScrollPos(cm,rect);var startTop=cm.doc.scrollTop,startLeft=cm.doc.scrollLeft;if(scrollPos.scrollTop!=null){updateScrollTop(cm,scrollPos.scrollTop);if(Math.abs(cm.doc.scrollTop-startTop)>1){changed=true
}}if(scrollPos.scrollLeft!=null){setScrollLeft(cm,scrollPos.scrollLeft);if(Math.abs(cm.doc.scrollLeft-startLeft)>1){changed=true}}if(!changed){break}}return rect}function scrollIntoView(cm,rect){var scrollPos=calculateScrollPos(cm,rect);if(scrollPos.scrollTop!=null){updateScrollTop(cm,scrollPos.scrollTop)}if(scrollPos.scrollLeft!=null){setScrollLeft(cm,scrollPos.scrollLeft)}}function calculateScrollPos(cm,rect){var display=cm.display,snapMargin=textHeight(cm.display);if(rect.top<0){rect.top=0}var screentop=cm.curOp&&cm.curOp.scrollTop!=null?cm.curOp.scrollTop:display.scroller.scrollTop;var screen=displayHeight(cm),result={};if(rect.bottom-rect.top>screen){rect.bottom=rect.top+screen}var docBottom=cm.doc.height+paddingVert(display);var atTop=rect.top<snapMargin,atBottom=rect.bottom>docBottom-snapMargin;if(rect.top<screentop){result.scrollTop=atTop?0:rect.top}else{if(rect.bottom>screentop+screen){var newTop=Math.min(rect.top,(atBottom?docBottom:rect.bottom)-screen);if(newTop!=screentop){result.scrollTop=newTop}}}var screenleft=cm.curOp&&cm.curOp.scrollLeft!=null?cm.curOp.scrollLeft:display.scroller.scrollLeft;var screenw=displayWidth(cm)-(cm.options.fixedGutter?display.gutters.offsetWidth:0);var tooWide=rect.right-rect.left>screenw;if(tooWide){rect.right=rect.left+screenw}if(rect.left<10){result.scrollLeft=0}else{if(rect.left<screenleft){result.scrollLeft=Math.max(0,rect.left-(tooWide?0:10))}else{if(rect.right>screenw+screenleft-3){result.scrollLeft=rect.right+(tooWide?0:10)-screenw}}}return result}function addToScrollTop(cm,top){if(top==null){return}resolveScrollToPos(cm);cm.curOp.scrollTop=(cm.curOp.scrollTop==null?cm.doc.scrollTop:cm.curOp.scrollTop)+top}function ensureCursorVisible(cm){resolveScrollToPos(cm);var cur=cm.getCursor();cm.curOp.scrollToPos={from:cur,to:cur,margin:cm.options.cursorScrollMargin}}function scrollToCoords(cm,x,y){if(x!=null||y!=null){resolveScrollToPos(cm)}if(x!=null){cm.curOp.scrollLeft=x}if(y!=null){cm.curOp.scrollTop=y}}function scrollToRange(cm,range$$1){resolveScrollToPos(cm);
cm.curOp.scrollToPos=range$$1}function resolveScrollToPos(cm){var range$$1=cm.curOp.scrollToPos;if(range$$1){cm.curOp.scrollToPos=null;var from=estimateCoords(cm,range$$1.from),to=estimateCoords(cm,range$$1.to);scrollToCoordsRange(cm,from,to,range$$1.margin)}}function scrollToCoordsRange(cm,from,to,margin){var sPos=calculateScrollPos(cm,{left:Math.min(from.left,to.left),top:Math.min(from.top,to.top)-margin,right:Math.max(from.right,to.right),bottom:Math.max(from.bottom,to.bottom)+margin});scrollToCoords(cm,sPos.scrollLeft,sPos.scrollTop)}function updateScrollTop(cm,val){if(Math.abs(cm.doc.scrollTop-val)<2){return}if(!gecko){updateDisplaySimple(cm,{top:val})}setScrollTop(cm,val,true);if(gecko){updateDisplaySimple(cm)}startWorker(cm,100)}function setScrollTop(cm,val,forceScroll){val=Math.min(cm.display.scroller.scrollHeight-cm.display.scroller.clientHeight,val);if(cm.display.scroller.scrollTop==val&&!forceScroll){return}cm.doc.scrollTop=val;cm.display.scrollbars.setScrollTop(val);if(cm.display.scroller.scrollTop!=val){cm.display.scroller.scrollTop=val}}function setScrollLeft(cm,val,isScroller,forceScroll){val=Math.min(val,cm.display.scroller.scrollWidth-cm.display.scroller.clientWidth);if((isScroller?val==cm.doc.scrollLeft:Math.abs(cm.doc.scrollLeft-val)<2)&&!forceScroll){return}cm.doc.scrollLeft=val;alignHorizontally(cm);if(cm.display.scroller.scrollLeft!=val){cm.display.scroller.scrollLeft=val}cm.display.scrollbars.setScrollLeft(val)}function measureForScrollbars(cm){var d=cm.display,gutterW=d.gutters.offsetWidth;var docH=Math.round(cm.doc.height+paddingVert(cm.display));return{clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:cm.options.fixedGutter?gutterW:0,docHeight:docH,scrollHeight:docH+scrollGap(cm)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:gutterW}}var NativeScrollbars=function(place,scroll,cm){this.cm=cm;var vert=this.vert=elt("div",[elt("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar");
var horiz=this.horiz=elt("div",[elt("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");vert.tabIndex=horiz.tabIndex=-1;place(vert);place(horiz);on(vert,"scroll",function(){if(vert.clientHeight){scroll(vert.scrollTop,"vertical")}});on(horiz,"scroll",function(){if(horiz.clientWidth){scroll(horiz.scrollLeft,"horizontal")}});this.checkedZeroWidth=false;if(ie&&ie_version<8){this.horiz.style.minHeight=this.vert.style.minWidth="18px"}};NativeScrollbars.prototype.update=function(measure){var needsH=measure.scrollWidth>measure.clientWidth+1;var needsV=measure.scrollHeight>measure.clientHeight+1;var sWidth=measure.nativeBarWidth;if(needsV){this.vert.style.display="block";this.vert.style.bottom=needsH?sWidth+"px":"0";var totalHeight=measure.viewHeight-(needsH?sWidth:0);this.vert.firstChild.style.height=Math.max(0,measure.scrollHeight-measure.clientHeight+totalHeight)+"px"}else{this.vert.style.display="";this.vert.firstChild.style.height="0"}if(needsH){this.horiz.style.display="block";this.horiz.style.right=needsV?sWidth+"px":"0";this.horiz.style.left=measure.barLeft+"px";var totalWidth=measure.viewWidth-measure.barLeft-(needsV?sWidth:0);this.horiz.firstChild.style.width=Math.max(0,measure.scrollWidth-measure.clientWidth+totalWidth)+"px"}else{this.horiz.style.display="";this.horiz.firstChild.style.width="0"}if(!this.checkedZeroWidth&&measure.clientHeight>0){if(sWidth==0){this.zeroWidthHack()}this.checkedZeroWidth=true}return{right:needsV?sWidth:0,bottom:needsH?sWidth:0}};NativeScrollbars.prototype.setScrollLeft=function(pos){if(this.horiz.scrollLeft!=pos){this.horiz.scrollLeft=pos}if(this.disableHoriz){this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")}};NativeScrollbars.prototype.setScrollTop=function(pos){if(this.vert.scrollTop!=pos){this.vert.scrollTop=pos}if(this.disableVert){this.enableZeroWidthBar(this.vert,this.disableVert,"vert")}};NativeScrollbars.prototype.zeroWidthHack=function(){var w=mac&&!mac_geMountainLion?"12px":"18px";this.horiz.style.height=this.vert.style.width=w;
this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new Delayed;this.disableVert=new Delayed};NativeScrollbars.prototype.enableZeroWidthBar=function(bar,delay,type){bar.style.pointerEvents="auto";function maybeDisable(){var box=bar.getBoundingClientRect();var elt$$1=type=="vert"?document.elementFromPoint(box.right-1,(box.top+box.bottom)/2):document.elementFromPoint((box.right+box.left)/2,box.bottom-1);if(elt$$1!=bar){bar.style.pointerEvents="none"}else{delay.set(1000,maybeDisable)}}delay.set(1000,maybeDisable)};NativeScrollbars.prototype.clear=function(){var parent=this.horiz.parentNode;parent.removeChild(this.horiz);parent.removeChild(this.vert)};var NullScrollbars=function(){};NullScrollbars.prototype.update=function(){return{bottom:0,right:0}};NullScrollbars.prototype.setScrollLeft=function(){};NullScrollbars.prototype.setScrollTop=function(){};NullScrollbars.prototype.clear=function(){};function updateScrollbars(cm,measure){if(!measure){measure=measureForScrollbars(cm)}var startWidth=cm.display.barWidth,startHeight=cm.display.barHeight;updateScrollbarsInner(cm,measure);for(var i=0;i<4&&startWidth!=cm.display.barWidth||startHeight!=cm.display.barHeight;i++){if(startWidth!=cm.display.barWidth&&cm.options.lineWrapping){updateHeightsInViewport(cm)}updateScrollbarsInner(cm,measureForScrollbars(cm));startWidth=cm.display.barWidth;startHeight=cm.display.barHeight}}function updateScrollbarsInner(cm,measure){var d=cm.display;var sizes=d.scrollbars.update(measure);d.sizer.style.paddingRight=(d.barWidth=sizes.right)+"px";d.sizer.style.paddingBottom=(d.barHeight=sizes.bottom)+"px";d.heightForcer.style.borderBottom=sizes.bottom+"px solid transparent";if(sizes.right&&sizes.bottom){d.scrollbarFiller.style.display="block";d.scrollbarFiller.style.height=sizes.bottom+"px";d.scrollbarFiller.style.width=sizes.right+"px"}else{d.scrollbarFiller.style.display=""}if(sizes.bottom&&cm.options.coverGutterNextToScrollbar&&cm.options.fixedGutter){d.gutterFiller.style.display="block";
d.gutterFiller.style.height=sizes.bottom+"px";d.gutterFiller.style.width=measure.gutterWidth+"px"}else{d.gutterFiller.style.display=""}}var scrollbarModel={"native":NativeScrollbars,"null":NullScrollbars};function initScrollbars(cm){if(cm.display.scrollbars){cm.display.scrollbars.clear();if(cm.display.scrollbars.addClass){rmClass(cm.display.wrapper,cm.display.scrollbars.addClass)}}cm.display.scrollbars=new scrollbarModel[cm.options.scrollbarStyle](function(node){cm.display.wrapper.insertBefore(node,cm.display.scrollbarFiller);on(node,"mousedown",function(){if(cm.state.focused){setTimeout(function(){return cm.display.input.focus()},0)}});node.setAttribute("cm-not-content","true")},function(pos,axis){if(axis=="horizontal"){setScrollLeft(cm,pos)}else{updateScrollTop(cm,pos)}},cm);if(cm.display.scrollbars.addClass){addClass(cm.display.wrapper,cm.display.scrollbars.addClass)}}var nextOpId=0;function startOperation(cm){cm.curOp={cm:cm,viewChanged:false,startHeight:cm.doc.height,forceUpdate:false,updateInput:null,typing:false,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:false,updateMaxLine:false,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:false,id:++nextOpId};pushOperation(cm.curOp)}function endOperation(cm){var op=cm.curOp;finishOperation(op,function(group){for(var i=0;i<group.ops.length;i++){group.ops[i].cm.curOp=null}endOperations(group)})}function endOperations(group){var ops=group.ops;for(var i=0;i<ops.length;i++){endOperation_R1(ops[i])}for(var i$1=0;i$1<ops.length;i$1++){endOperation_W1(ops[i$1])}for(var i$2=0;i$2<ops.length;i$2++){endOperation_R2(ops[i$2])}for(var i$3=0;i$3<ops.length;i$3++){endOperation_W2(ops[i$3])}for(var i$4=0;i$4<ops.length;i$4++){endOperation_finish(ops[i$4])}}function endOperation_R1(op){var cm=op.cm,display=cm.display;maybeClipScrollbars(cm);if(op.updateMaxLine){findMaxLine(cm)}op.mustUpdate=op.viewChanged||op.forceUpdate||op.scrollTop!=null||op.scrollToPos&&(op.scrollToPos.from.line<display.viewFrom||op.scrollToPos.to.line>=display.viewTo)||display.maxLineChanged&&cm.options.lineWrapping;
op.update=op.mustUpdate&&new DisplayUpdate(cm,op.mustUpdate&&{top:op.scrollTop,ensure:op.scrollToPos},op.forceUpdate)}function endOperation_W1(op){op.updatedDisplay=op.mustUpdate&&updateDisplayIfNeeded(op.cm,op.update)}function endOperation_R2(op){var cm=op.cm,display=cm.display;if(op.updatedDisplay){updateHeightsInViewport(cm)}op.barMeasure=measureForScrollbars(cm);if(display.maxLineChanged&&!cm.options.lineWrapping){op.adjustWidthTo=measureChar(cm,display.maxLine,display.maxLine.text.length).left+3;cm.display.sizerWidth=op.adjustWidthTo;op.barMeasure.scrollWidth=Math.max(display.scroller.clientWidth,display.sizer.offsetLeft+op.adjustWidthTo+scrollGap(cm)+cm.display.barWidth);op.maxScrollLeft=Math.max(0,display.sizer.offsetLeft+op.adjustWidthTo-displayWidth(cm))}if(op.updatedDisplay||op.selectionChanged){op.preparedSelection=display.input.prepareSelection()}}function endOperation_W2(op){var cm=op.cm;if(op.adjustWidthTo!=null){cm.display.sizer.style.minWidth=op.adjustWidthTo+"px";if(op.maxScrollLeft<cm.doc.scrollLeft){setScrollLeft(cm,Math.min(cm.display.scroller.scrollLeft,op.maxScrollLeft),true)}cm.display.maxLineChanged=false}var takeFocus=op.focus&&op.focus==activeElt();if(op.preparedSelection){cm.display.input.showSelection(op.preparedSelection,takeFocus)}if(op.updatedDisplay||op.startHeight!=cm.doc.height){updateScrollbars(cm,op.barMeasure)}if(op.updatedDisplay){setDocumentHeight(cm,op.barMeasure)}if(op.selectionChanged){restartBlink(cm)}if(cm.state.focused&&op.updateInput){cm.display.input.reset(op.typing)}if(takeFocus){ensureFocus(op.cm)}}function endOperation_finish(op){var cm=op.cm,display=cm.display,doc=cm.doc;if(op.updatedDisplay){postUpdateDisplay(cm,op.update)}if(display.wheelStartX!=null&&(op.scrollTop!=null||op.scrollLeft!=null||op.scrollToPos)){display.wheelStartX=display.wheelStartY=null}if(op.scrollTop!=null){setScrollTop(cm,op.scrollTop,op.forceScroll)}if(op.scrollLeft!=null){setScrollLeft(cm,op.scrollLeft,true,true)}if(op.scrollToPos){var rect=scrollPosIntoView(cm,clipPos(doc,op.scrollToPos.from),clipPos(doc,op.scrollToPos.to),op.scrollToPos.margin);
maybeScrollWindow(cm,rect)}var hidden=op.maybeHiddenMarkers,unhidden=op.maybeUnhiddenMarkers;if(hidden){for(var i=0;i<hidden.length;++i){if(!hidden[i].lines.length){signal(hidden[i],"hide")}}}if(unhidden){for(var i$1=0;i$1<unhidden.length;++i$1){if(unhidden[i$1].lines.length){signal(unhidden[i$1],"unhide")}}}if(display.wrapper.offsetHeight){doc.scrollTop=cm.display.scroller.scrollTop}if(op.changeObjs){signal(cm,"changes",cm,op.changeObjs)}if(op.update){op.update.finish()}}function runInOp(cm,f){if(cm.curOp){return f()}startOperation(cm);try{return f()}finally{endOperation(cm)}}function operation(cm,f){return function(){if(cm.curOp){return f.apply(cm,arguments)}startOperation(cm);try{return f.apply(cm,arguments)}finally{endOperation(cm)}}}function methodOp(f){return function(){if(this.curOp){return f.apply(this,arguments)}startOperation(this);try{return f.apply(this,arguments)}finally{endOperation(this)}}}function docMethodOp(f){return function(){var cm=this.cm;if(!cm||cm.curOp){return f.apply(this,arguments)}startOperation(cm);try{return f.apply(this,arguments)}finally{endOperation(cm)}}}function regChange(cm,from,to,lendiff){if(from==null){from=cm.doc.first}if(to==null){to=cm.doc.first+cm.doc.size}if(!lendiff){lendiff=0}var display=cm.display;if(lendiff&&to<display.viewTo&&(display.updateLineNumbers==null||display.updateLineNumbers>from)){display.updateLineNumbers=from}cm.curOp.viewChanged=true;if(from>=display.viewTo){if(sawCollapsedSpans&&visualLineNo(cm.doc,from)<display.viewTo){resetView(cm)}}else{if(to<=display.viewFrom){if(sawCollapsedSpans&&visualLineEndNo(cm.doc,to+lendiff)>display.viewFrom){resetView(cm)}else{display.viewFrom+=lendiff;display.viewTo+=lendiff}}else{if(from<=display.viewFrom&&to>=display.viewTo){resetView(cm)}else{if(from<=display.viewFrom){var cut=viewCuttingPoint(cm,to,to+lendiff,1);if(cut){display.view=display.view.slice(cut.index);display.viewFrom=cut.lineN;display.viewTo+=lendiff}else{resetView(cm)}}else{if(to>=display.viewTo){var cut$1=viewCuttingPoint(cm,from,from,-1);
if(cut$1){display.view=display.view.slice(0,cut$1.index);display.viewTo=cut$1.lineN}else{resetView(cm)}}else{var cutTop=viewCuttingPoint(cm,from,from,-1);var cutBot=viewCuttingPoint(cm,to,to+lendiff,1);if(cutTop&&cutBot){display.view=display.view.slice(0,cutTop.index).concat(buildViewArray(cm,cutTop.lineN,cutBot.lineN)).concat(display.view.slice(cutBot.index));display.viewTo+=lendiff}else{resetView(cm)}}}}}}var ext=display.externalMeasured;if(ext){if(to<ext.lineN){ext.lineN+=lendiff}else{if(from<ext.lineN+ext.size){display.externalMeasured=null}}}}function regLineChange(cm,line,type){cm.curOp.viewChanged=true;var display=cm.display,ext=cm.display.externalMeasured;if(ext&&line>=ext.lineN&&line<ext.lineN+ext.size){display.externalMeasured=null}if(line<display.viewFrom||line>=display.viewTo){return}var lineView=display.view[findViewIndex(cm,line)];if(lineView.node==null){return}var arr=lineView.changes||(lineView.changes=[]);if(indexOf(arr,type)==-1){arr.push(type)}}function resetView(cm){cm.display.viewFrom=cm.display.viewTo=cm.doc.first;cm.display.view=[];cm.display.viewOffset=0}function viewCuttingPoint(cm,oldN,newN,dir){var index=findViewIndex(cm,oldN),diff,view=cm.display.view;if(!sawCollapsedSpans||newN==cm.doc.first+cm.doc.size){return{index:index,lineN:newN}}var n=cm.display.viewFrom;for(var i=0;i<index;i++){n+=view[i].size}if(n!=oldN){if(dir>0){if(index==view.length-1){return null}diff=(n+view[index].size)-oldN;index++}else{diff=n-oldN}oldN+=diff;newN+=diff}while(visualLineNo(cm.doc,newN)!=newN){if(index==(dir<0?0:view.length-1)){return null}newN+=dir*view[index-(dir<0?1:0)].size;index+=dir}return{index:index,lineN:newN}}function adjustView(cm,from,to){var display=cm.display,view=display.view;if(view.length==0||from>=display.viewTo||to<=display.viewFrom){display.view=buildViewArray(cm,from,to);display.viewFrom=from}else{if(display.viewFrom>from){display.view=buildViewArray(cm,from,display.viewFrom).concat(display.view)}else{if(display.viewFrom<from){display.view=display.view.slice(findViewIndex(cm,from))
}}display.viewFrom=from;if(display.viewTo<to){display.view=display.view.concat(buildViewArray(cm,display.viewTo,to))}else{if(display.viewTo>to){display.view=display.view.slice(0,findViewIndex(cm,to))}}}display.viewTo=to}function countDirtyView(cm){var view=cm.display.view,dirty=0;for(var i=0;i<view.length;i++){var lineView=view[i];if(!lineView.hidden&&(!lineView.node||lineView.changes)){++dirty}}return dirty}function startWorker(cm,time){if(cm.doc.highlightFrontier<cm.display.viewTo){cm.state.highlight.set(time,bind(highlightWorker,cm))}}function highlightWorker(cm){var doc=cm.doc;if(doc.highlightFrontier>=cm.display.viewTo){return}var end=+new Date+cm.options.workTime;var context=getContextBefore(cm,doc.highlightFrontier);var changedLines=[];doc.iter(context.line,Math.min(doc.first+doc.size,cm.display.viewTo+500),function(line){if(context.line>=cm.display.viewFrom){var oldStyles=line.styles;var resetState=line.text.length>cm.options.maxHighlightLength?copyState(doc.mode,context.state):null;var highlighted=highlightLine(cm,line,context,true);if(resetState){context.state=resetState}line.styles=highlighted.styles;var oldCls=line.styleClasses,newCls=highlighted.classes;if(newCls){line.styleClasses=newCls}else{if(oldCls){line.styleClasses=null}}var ischange=!oldStyles||oldStyles.length!=line.styles.length||oldCls!=newCls&&(!oldCls||!newCls||oldCls.bgClass!=newCls.bgClass||oldCls.textClass!=newCls.textClass);for(var i=0;!ischange&&i<oldStyles.length;++i){ischange=oldStyles[i]!=line.styles[i]}if(ischange){changedLines.push(context.line)}line.stateAfter=context.save();context.nextLine()}else{if(line.text.length<=cm.options.maxHighlightLength){processLine(cm,line.text,context)}line.stateAfter=context.line%5==0?context.save():null;context.nextLine()}if(+new Date>end){startWorker(cm,cm.options.workDelay);return true}});doc.highlightFrontier=context.line;doc.modeFrontier=Math.max(doc.modeFrontier,context.line);if(changedLines.length){runInOp(cm,function(){for(var i=0;i<changedLines.length;
i++){regLineChange(cm,changedLines[i],"text")}})}}var DisplayUpdate=function(cm,viewport,force){var display=cm.display;this.viewport=viewport;this.visible=visibleLines(display,cm.doc,viewport);this.editorIsHidden=!display.wrapper.offsetWidth;this.wrapperHeight=display.wrapper.clientHeight;this.wrapperWidth=display.wrapper.clientWidth;this.oldDisplayWidth=displayWidth(cm);this.force=force;this.dims=getDimensions(cm);this.events=[]};DisplayUpdate.prototype.signal=function(emitter,type){if(hasHandler(emitter,type)){this.events.push(arguments)}};DisplayUpdate.prototype.finish=function(){var this$1=this;for(var i=0;i<this.events.length;i++){signal.apply(null,this$1.events[i])}};function maybeClipScrollbars(cm){var display=cm.display;if(!display.scrollbarsClipped&&display.scroller.offsetWidth){display.nativeBarWidth=display.scroller.offsetWidth-display.scroller.clientWidth;display.heightForcer.style.height=scrollGap(cm)+"px";display.sizer.style.marginBottom=-display.nativeBarWidth+"px";display.sizer.style.borderRightWidth=scrollGap(cm)+"px";display.scrollbarsClipped=true}}function selectionSnapshot(cm){if(cm.hasFocus()){return null}var active=activeElt();if(!active||!contains(cm.display.lineDiv,active)){return null}var result={activeElt:active};if(window.getSelection){var sel=window.getSelection();if(sel.anchorNode&&sel.extend&&contains(cm.display.lineDiv,sel.anchorNode)){result.anchorNode=sel.anchorNode;result.anchorOffset=sel.anchorOffset;result.focusNode=sel.focusNode;result.focusOffset=sel.focusOffset}}return result}function restoreSelection(snapshot){if(!snapshot||!snapshot.activeElt||snapshot.activeElt==activeElt()){return}snapshot.activeElt.focus();if(snapshot.anchorNode&&contains(document.body,snapshot.anchorNode)&&contains(document.body,snapshot.focusNode)){var sel=window.getSelection(),range$$1=document.createRange();range$$1.setEnd(snapshot.anchorNode,snapshot.anchorOffset);range$$1.collapse(false);sel.removeAllRanges();sel.addRange(range$$1);sel.extend(snapshot.focusNode,snapshot.focusOffset)
}}function updateDisplayIfNeeded(cm,update){var display=cm.display,doc=cm.doc;if(update.editorIsHidden){resetView(cm);return false}if(!update.force&&update.visible.from>=display.viewFrom&&update.visible.to<=display.viewTo&&(display.updateLineNumbers==null||display.updateLineNumbers>=display.viewTo)&&display.renderedView==display.view&&countDirtyView(cm)==0){return false}if(maybeUpdateLineNumberWidth(cm)){resetView(cm);update.dims=getDimensions(cm)}var end=doc.first+doc.size;var from=Math.max(update.visible.from-cm.options.viewportMargin,doc.first);var to=Math.min(end,update.visible.to+cm.options.viewportMargin);if(display.viewFrom<from&&from-display.viewFrom<20){from=Math.max(doc.first,display.viewFrom)}if(display.viewTo>to&&display.viewTo-to<20){to=Math.min(end,display.viewTo)}if(sawCollapsedSpans){from=visualLineNo(cm.doc,from);to=visualLineEndNo(cm.doc,to)}var different=from!=display.viewFrom||to!=display.viewTo||display.lastWrapHeight!=update.wrapperHeight||display.lastWrapWidth!=update.wrapperWidth;adjustView(cm,from,to);display.viewOffset=heightAtLine(getLine(cm.doc,display.viewFrom));cm.display.mover.style.top=display.viewOffset+"px";var toUpdate=countDirtyView(cm);if(!different&&toUpdate==0&&!update.force&&display.renderedView==display.view&&(display.updateLineNumbers==null||display.updateLineNumbers>=display.viewTo)){return false}var selSnapshot=selectionSnapshot(cm);if(toUpdate>4){display.lineDiv.style.display="none"}patchDisplay(cm,display.updateLineNumbers,update.dims);if(toUpdate>4){display.lineDiv.style.display=""}display.renderedView=display.view;restoreSelection(selSnapshot);removeChildren(display.cursorDiv);removeChildren(display.selectionDiv);display.gutters.style.height=display.sizer.style.minHeight=0;if(different){display.lastWrapHeight=update.wrapperHeight;display.lastWrapWidth=update.wrapperWidth;startWorker(cm,400)}display.updateLineNumbers=null;return true}function postUpdateDisplay(cm,update){var viewport=update.viewport;for(var first=true;;first=false){if(!first||!cm.options.lineWrapping||update.oldDisplayWidth==displayWidth(cm)){if(viewport&&viewport.top!=null){viewport={top:Math.min(cm.doc.height+paddingVert(cm.display)-displayHeight(cm),viewport.top)}
}update.visible=visibleLines(cm.display,cm.doc,viewport);if(update.visible.from>=cm.display.viewFrom&&update.visible.to<=cm.display.viewTo){break}}if(!updateDisplayIfNeeded(cm,update)){break}updateHeightsInViewport(cm);var barMeasure=measureForScrollbars(cm);updateSelection(cm);updateScrollbars(cm,barMeasure);setDocumentHeight(cm,barMeasure);update.force=false}update.signal(cm,"update",cm);if(cm.display.viewFrom!=cm.display.reportedViewFrom||cm.display.viewTo!=cm.display.reportedViewTo){update.signal(cm,"viewportChange",cm,cm.display.viewFrom,cm.display.viewTo);cm.display.reportedViewFrom=cm.display.viewFrom;cm.display.reportedViewTo=cm.display.viewTo}}function updateDisplaySimple(cm,viewport){var update=new DisplayUpdate(cm,viewport);if(updateDisplayIfNeeded(cm,update)){updateHeightsInViewport(cm);postUpdateDisplay(cm,update);var barMeasure=measureForScrollbars(cm);updateSelection(cm);updateScrollbars(cm,barMeasure);setDocumentHeight(cm,barMeasure);update.finish()}}function patchDisplay(cm,updateNumbersFrom,dims){var display=cm.display,lineNumbers=cm.options.lineNumbers;var container=display.lineDiv,cur=container.firstChild;function rm(node){var next=node.nextSibling;if(webkit&&mac&&cm.display.currentWheelTarget==node){node.style.display="none"}else{node.parentNode.removeChild(node)}return next}var view=display.view,lineN=display.viewFrom;for(var i=0;i<view.length;i++){var lineView=view[i];if(lineView.hidden){}else{if(!lineView.node||lineView.node.parentNode!=container){var node=buildLineElement(cm,lineView,lineN,dims);container.insertBefore(node,cur)}else{while(cur!=lineView.node){cur=rm(cur)}var updateNumber=lineNumbers&&updateNumbersFrom!=null&&updateNumbersFrom<=lineN&&lineView.lineNumber;if(lineView.changes){if(indexOf(lineView.changes,"gutter")>-1){updateNumber=false}updateLineForChanges(cm,lineView,lineN,dims)}if(updateNumber){removeChildren(lineView.lineNumber);lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options,lineN)))}cur=lineView.node.nextSibling
}}lineN+=lineView.size}while(cur){cur=rm(cur)}}function updateGutterSpace(cm){var width=cm.display.gutters.offsetWidth;cm.display.sizer.style.marginLeft=width+"px"}function setDocumentHeight(cm,measure){cm.display.sizer.style.minHeight=measure.docHeight+"px";cm.display.heightForcer.style.top=measure.docHeight+"px";cm.display.gutters.style.height=(measure.docHeight+cm.display.barHeight+scrollGap(cm))+"px"}function updateGutters(cm){var gutters=cm.display.gutters,specs=cm.options.gutters;removeChildren(gutters);var i=0;for(;i<specs.length;++i){var gutterClass=specs[i];var gElt=gutters.appendChild(elt("div",null,"CodeMirror-gutter "+gutterClass));if(gutterClass=="CodeMirror-linenumbers"){cm.display.lineGutter=gElt;gElt.style.width=(cm.display.lineNumWidth||1)+"px"}}gutters.style.display=i?"":"none";updateGutterSpace(cm)}function setGuttersForLineNumbers(options){var found=indexOf(options.gutters,"CodeMirror-linenumbers");if(found==-1&&options.lineNumbers){options.gutters=options.gutters.concat(["CodeMirror-linenumbers"])}else{if(found>-1&&!options.lineNumbers){options.gutters=options.gutters.slice(0);options.gutters.splice(found,1)}}}var wheelSamples=0;var wheelPixelsPerUnit=null;if(ie){wheelPixelsPerUnit=-0.53}else{if(gecko){wheelPixelsPerUnit=15}else{if(chrome){wheelPixelsPerUnit=-0.7}else{if(safari){wheelPixelsPerUnit=-1/3}}}}function wheelEventDelta(e){var dx=e.wheelDeltaX,dy=e.wheelDeltaY;if(dx==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS){dx=e.detail}if(dy==null&&e.detail&&e.axis==e.VERTICAL_AXIS){dy=e.detail}else{if(dy==null){dy=e.wheelDelta}}return{x:dx,y:dy}}function wheelEventPixels(e){var delta=wheelEventDelta(e);delta.x*=wheelPixelsPerUnit;delta.y*=wheelPixelsPerUnit;return delta}function onScrollWheel(cm,e){var delta=wheelEventDelta(e),dx=delta.x,dy=delta.y;var display=cm.display,scroll=display.scroller;var canScrollX=scroll.scrollWidth>scroll.clientWidth;var canScrollY=scroll.scrollHeight>scroll.clientHeight;if(!(dx&&canScrollX||dy&&canScrollY)){return}if(dy&&mac&&webkit){outer:for(var cur=e.target,view=display.view;
cur!=scroll;cur=cur.parentNode){for(var i=0;i<view.length;i++){if(view[i].node==cur){cm.display.currentWheelTarget=cur;break outer}}}}if(dx&&!gecko&&!presto&&wheelPixelsPerUnit!=null){if(dy&&canScrollY){updateScrollTop(cm,Math.max(0,scroll.scrollTop+dy*wheelPixelsPerUnit))}setScrollLeft(cm,Math.max(0,scroll.scrollLeft+dx*wheelPixelsPerUnit));if(!dy||(dy&&canScrollY)){e_preventDefault(e)}display.wheelStartX=null;return}if(dy&&wheelPixelsPerUnit!=null){var pixels=dy*wheelPixelsPerUnit;var top=cm.doc.scrollTop,bot=top+display.wrapper.clientHeight;if(pixels<0){top=Math.max(0,top+pixels-50)}else{bot=Math.min(cm.doc.height,bot+pixels+50)}updateDisplaySimple(cm,{top:top,bottom:bot})}if(wheelSamples<20){if(display.wheelStartX==null){display.wheelStartX=scroll.scrollLeft;display.wheelStartY=scroll.scrollTop;display.wheelDX=dx;display.wheelDY=dy;setTimeout(function(){if(display.wheelStartX==null){return}var movedX=scroll.scrollLeft-display.wheelStartX;var movedY=scroll.scrollTop-display.wheelStartY;var sample=(movedY&&display.wheelDY&&movedY/display.wheelDY)||(movedX&&display.wheelDX&&movedX/display.wheelDX);display.wheelStartX=display.wheelStartY=null;if(!sample){return}wheelPixelsPerUnit=(wheelPixelsPerUnit*wheelSamples+sample)/(wheelSamples+1);++wheelSamples},200)}else{display.wheelDX+=dx;display.wheelDY+=dy}}}var Selection=function(ranges,primIndex){this.ranges=ranges;this.primIndex=primIndex};Selection.prototype.primary=function(){return this.ranges[this.primIndex]};Selection.prototype.equals=function(other){var this$1=this;if(other==this){return true}if(other.primIndex!=this.primIndex||other.ranges.length!=this.ranges.length){return false}for(var i=0;i<this.ranges.length;i++){var here=this$1.ranges[i],there=other.ranges[i];if(!equalCursorPos(here.anchor,there.anchor)||!equalCursorPos(here.head,there.head)){return false}}return true};Selection.prototype.deepCopy=function(){var this$1=this;var out=[];for(var i=0;i<this.ranges.length;i++){out[i]=new Range(copyPos(this$1.ranges[i].anchor),copyPos(this$1.ranges[i].head))
}return new Selection(out,this.primIndex)};Selection.prototype.somethingSelected=function(){var this$1=this;for(var i=0;i<this.ranges.length;i++){if(!this$1.ranges[i].empty()){return true}}return false};Selection.prototype.contains=function(pos,end){var this$1=this;if(!end){end=pos}for(var i=0;i<this.ranges.length;i++){var range=this$1.ranges[i];if(cmp(end,range.from())>=0&&cmp(pos,range.to())<=0){return i}}return -1};var Range=function(anchor,head){this.anchor=anchor;this.head=head};Range.prototype.from=function(){return minPos(this.anchor,this.head)};Range.prototype.to=function(){return maxPos(this.anchor,this.head)};Range.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function normalizeSelection(ranges,primIndex){var prim=ranges[primIndex];ranges.sort(function(a,b){return cmp(a.from(),b.from())});primIndex=indexOf(ranges,prim);for(var i=1;i<ranges.length;i++){var cur=ranges[i],prev=ranges[i-1];if(cmp(prev.to(),cur.from())>=0){var from=minPos(prev.from(),cur.from()),to=maxPos(prev.to(),cur.to());var inv=prev.empty()?cur.from()==cur.head:prev.from()==prev.head;if(i<=primIndex){--primIndex}ranges.splice(--i,2,new Range(inv?to:from,inv?from:to))}}return new Selection(ranges,primIndex)}function simpleSelection(anchor,head){return new Selection([new Range(anchor,head||anchor)],0)}function changeEnd(change){if(!change.text){return change.to}return Pos(change.from.line+change.text.length-1,lst(change.text).length+(change.text.length==1?change.from.ch:0))}function adjustForChange(pos,change){if(cmp(pos,change.from)<0){return pos}if(cmp(pos,change.to)<=0){return changeEnd(change)}var line=pos.line+change.text.length-(change.to.line-change.from.line)-1,ch=pos.ch;if(pos.line==change.to.line){ch+=changeEnd(change).ch-change.to.ch}return Pos(line,ch)}function computeSelAfterChange(doc,change){var out=[];for(var i=0;i<doc.sel.ranges.length;i++){var range=doc.sel.ranges[i];out.push(new Range(adjustForChange(range.anchor,change),adjustForChange(range.head,change)))
}return normalizeSelection(out,doc.sel.primIndex)}function offsetPos(pos,old,nw){if(pos.line==old.line){return Pos(nw.line,pos.ch-old.ch+nw.ch)}else{return Pos(nw.line+(pos.line-old.line),pos.ch)}}function computeReplacedSel(doc,changes,hint){var out=[];var oldPrev=Pos(doc.first,0),newPrev=oldPrev;for(var i=0;i<changes.length;i++){var change=changes[i];var from=offsetPos(change.from,oldPrev,newPrev);var to=offsetPos(changeEnd(change),oldPrev,newPrev);oldPrev=change.to;newPrev=to;if(hint=="around"){var range=doc.sel.ranges[i],inv=cmp(range.head,range.anchor)<0;out[i]=new Range(inv?to:from,inv?from:to)}else{out[i]=new Range(from,from)}}return new Selection(out,doc.sel.primIndex)}function loadMode(cm){cm.doc.mode=getMode(cm.options,cm.doc.modeOption);resetModeState(cm)}function resetModeState(cm){cm.doc.iter(function(line){if(line.stateAfter){line.stateAfter=null}if(line.styles){line.styles=null}});cm.doc.modeFrontier=cm.doc.highlightFrontier=cm.doc.first;startWorker(cm,100);cm.state.modeGen++;if(cm.curOp){regChange(cm)}}function isWholeLineUpdate(doc,change){return change.from.ch==0&&change.to.ch==0&&lst(change.text)==""&&(!doc.cm||doc.cm.options.wholeLineUpdateBefore)}function updateDoc(doc,change,markedSpans,estimateHeight$$1){function spansFor(n){return markedSpans?markedSpans[n]:null}function update(line,text,spans){updateLine(line,text,spans,estimateHeight$$1);signalLater(line,"change",line,change)}function linesFor(start,end){var result=[];for(var i=start;i<end;++i){result.push(new Line(text[i],spansFor(i),estimateHeight$$1))}return result}var from=change.from,to=change.to,text=change.text;var firstLine=getLine(doc,from.line),lastLine=getLine(doc,to.line);var lastText=lst(text),lastSpans=spansFor(text.length-1),nlines=to.line-from.line;if(change.full){doc.insert(0,linesFor(0,text.length));doc.remove(text.length,doc.size-text.length)}else{if(isWholeLineUpdate(doc,change)){var added=linesFor(0,text.length-1);update(lastLine,lastLine.text,lastSpans);if(nlines){doc.remove(from.line,nlines)
}if(added.length){doc.insert(from.line,added)}}else{if(firstLine==lastLine){if(text.length==1){update(firstLine,firstLine.text.slice(0,from.ch)+lastText+firstLine.text.slice(to.ch),lastSpans)}else{var added$1=linesFor(1,text.length-1);added$1.push(new Line(lastText+firstLine.text.slice(to.ch),lastSpans,estimateHeight$$1));update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0));doc.insert(from.line+1,added$1)}}else{if(text.length==1){update(firstLine,firstLine.text.slice(0,from.ch)+text[0]+lastLine.text.slice(to.ch),spansFor(0));doc.remove(from.line+1,nlines)}else{update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0));update(lastLine,lastText+lastLine.text.slice(to.ch),lastSpans);var added$2=linesFor(1,text.length-1);if(nlines>1){doc.remove(from.line+1,nlines-1)}doc.insert(from.line+1,added$2)}}}}signalLater(doc,"change",doc,change)}function linkedDocs(doc,f,sharedHistOnly){function propagate(doc,skip,sharedHist){if(doc.linked){for(var i=0;i<doc.linked.length;++i){var rel=doc.linked[i];if(rel.doc==skip){continue}var shared=sharedHist&&rel.sharedHist;if(sharedHistOnly&&!shared){continue}f(rel.doc,shared);propagate(rel.doc,doc,shared)}}}propagate(doc,null,true)}function attachDoc(cm,doc){if(doc.cm){throw new Error("This document is already in use.")}cm.doc=doc;doc.cm=cm;estimateLineHeights(cm);loadMode(cm);setDirectionClass(cm);if(!cm.options.lineWrapping){findMaxLine(cm)}cm.options.mode=doc.modeOption;regChange(cm)}function setDirectionClass(cm){(cm.doc.direction=="rtl"?addClass:rmClass)(cm.display.lineDiv,"CodeMirror-rtl")}function directionChanged(cm){runInOp(cm,function(){setDirectionClass(cm);regChange(cm)})}function History(startGen){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOp=this.lastSelOp=null;this.lastOrigin=this.lastSelOrigin=null;this.generation=this.maxGeneration=startGen||1}function historyChangeFromChange(doc,change){var histChange={from:copyPos(change.from),to:changeEnd(change),text:getBetween(doc,change.from,change.to)};
attachLocalSpans(doc,histChange,change.from.line,change.to.line+1);linkedDocs(doc,function(doc){return attachLocalSpans(doc,histChange,change.from.line,change.to.line+1)},true);return histChange}function clearSelectionEvents(array){while(array.length){var last=lst(array);if(last.ranges){array.pop()}else{break}}}function lastChangeEvent(hist,force){if(force){clearSelectionEvents(hist.done);return lst(hist.done)}else{if(hist.done.length&&!lst(hist.done).ranges){return lst(hist.done)}else{if(hist.done.length>1&&!hist.done[hist.done.length-2].ranges){hist.done.pop();return lst(hist.done)}}}}function addChangeToHistory(doc,change,selAfter,opId){var hist=doc.history;hist.undone.length=0;var time=+new Date,cur;var last;if((hist.lastOp==opId||hist.lastOrigin==change.origin&&change.origin&&((change.origin.charAt(0)=="+"&&hist.lastModTime>time-(doc.cm?doc.cm.options.historyEventDelay:500))||change.origin.charAt(0)=="*"))&&(cur=lastChangeEvent(hist,hist.lastOp==opId))){last=lst(cur.changes);if(cmp(change.from,change.to)==0&&cmp(change.from,last.to)==0){last.to=changeEnd(change)}else{cur.changes.push(historyChangeFromChange(doc,change))}}else{var before=lst(hist.done);if(!before||!before.ranges){pushSelectionToHistory(doc.sel,hist.done)}cur={changes:[historyChangeFromChange(doc,change)],generation:hist.generation};hist.done.push(cur);while(hist.done.length>hist.undoDepth){hist.done.shift();if(!hist.done[0].ranges){hist.done.shift()}}}hist.done.push(selAfter);hist.generation=++hist.maxGeneration;hist.lastModTime=hist.lastSelTime=time;hist.lastOp=hist.lastSelOp=opId;hist.lastOrigin=hist.lastSelOrigin=change.origin;if(!last){signal(doc,"historyAdded")}}function selectionEventCanBeMerged(doc,origin,prev,sel){var ch=origin.charAt(0);return ch=="*"||ch=="+"&&prev.ranges.length==sel.ranges.length&&prev.somethingSelected()==sel.somethingSelected()&&new Date-doc.history.lastSelTime<=(doc.cm?doc.cm.options.historyEventDelay:500)}function addSelectionToHistory(doc,sel,opId,options){var hist=doc.history,origin=options&&options.origin;
if(opId==hist.lastSelOp||(origin&&hist.lastSelOrigin==origin&&(hist.lastModTime==hist.lastSelTime&&hist.lastOrigin==origin||selectionEventCanBeMerged(doc,origin,lst(hist.done),sel)))){hist.done[hist.done.length-1]=sel}else{pushSelectionToHistory(sel,hist.done)}hist.lastSelTime=+new Date;hist.lastSelOrigin=origin;hist.lastSelOp=opId;if(options&&options.clearRedo!==false){clearSelectionEvents(hist.undone)}}function pushSelectionToHistory(sel,dest){var top=lst(dest);if(!(top&&top.ranges&&top.equals(sel))){dest.push(sel)}}function attachLocalSpans(doc,change,from,to){var existing=change["spans_"+doc.id],n=0;doc.iter(Math.max(doc.first,from),Math.min(doc.first+doc.size,to),function(line){if(line.markedSpans){(existing||(existing=change["spans_"+doc.id]={}))[n]=line.markedSpans}++n})}function removeClearedSpans(spans){if(!spans){return null}var out;for(var i=0;i<spans.length;++i){if(spans[i].marker.explicitlyCleared){if(!out){out=spans.slice(0,i)}}else{if(out){out.push(spans[i])}}}return !out?spans:out.length?out:null}function getOldSpans(doc,change){var found=change["spans_"+doc.id];if(!found){return null}var nw=[];for(var i=0;i<change.text.length;++i){nw.push(removeClearedSpans(found[i]))}return nw}function mergeOldSpans(doc,change){var old=getOldSpans(doc,change);var stretched=stretchSpansOverChange(doc,change);if(!old){return stretched}if(!stretched){return old}for(var i=0;i<old.length;++i){var oldCur=old[i],stretchCur=stretched[i];if(oldCur&&stretchCur){spans:for(var j=0;j<stretchCur.length;++j){var span=stretchCur[j];for(var k=0;k<oldCur.length;++k){if(oldCur[k].marker==span.marker){continue spans}}oldCur.push(span)}}else{if(stretchCur){old[i]=stretchCur}}}return old}function copyHistoryArray(events,newGroup,instantiateSel){var copy=[];for(var i=0;i<events.length;++i){var event=events[i];if(event.ranges){copy.push(instantiateSel?Selection.prototype.deepCopy.call(event):event);continue}var changes=event.changes,newChanges=[];copy.push({changes:newChanges});for(var j=0;
j<changes.length;++j){var change=changes[j],m=(void 0);newChanges.push({from:change.from,to:change.to,text:change.text});if(newGroup){for(var prop in change){if(m=prop.match(/^spans_(\d+)$/)){if(indexOf(newGroup,Number(m[1]))>-1){lst(newChanges)[prop]=change[prop];delete change[prop]}}}}}}return copy}function extendRange(range,head,other,extend){if(extend){var anchor=range.anchor;if(other){var posBefore=cmp(head,anchor)<0;if(posBefore!=(cmp(other,anchor)<0)){anchor=head;head=other}else{if(posBefore!=(cmp(head,other)<0)){head=other}}}return new Range(anchor,head)}else{return new Range(other||head,head)}}function extendSelection(doc,head,other,options,extend){if(extend==null){extend=doc.cm&&(doc.cm.display.shift||doc.extend)}setSelection(doc,new Selection([extendRange(doc.sel.primary(),head,other,extend)],0),options)}function extendSelections(doc,heads,options){var out=[];var extend=doc.cm&&(doc.cm.display.shift||doc.extend);for(var i=0;i<doc.sel.ranges.length;i++){out[i]=extendRange(doc.sel.ranges[i],heads[i],null,extend)}var newSel=normalizeSelection(out,doc.sel.primIndex);setSelection(doc,newSel,options)}function replaceOneSelection(doc,i,range,options){var ranges=doc.sel.ranges.slice(0);ranges[i]=range;setSelection(doc,normalizeSelection(ranges,doc.sel.primIndex),options)}function setSimpleSelection(doc,anchor,head,options){setSelection(doc,simpleSelection(anchor,head),options)}function filterSelectionChange(doc,sel,options){var obj={ranges:sel.ranges,update:function(ranges){var this$1=this;this.ranges=[];for(var i=0;i<ranges.length;i++){this$1.ranges[i]=new Range(clipPos(doc,ranges[i].anchor),clipPos(doc,ranges[i].head))}},origin:options&&options.origin};signal(doc,"beforeSelectionChange",doc,obj);if(doc.cm){signal(doc.cm,"beforeSelectionChange",doc.cm,obj)}if(obj.ranges!=sel.ranges){return normalizeSelection(obj.ranges,obj.ranges.length-1)}else{return sel}}function setSelectionReplaceHistory(doc,sel,options){var done=doc.history.done,last=lst(done);if(last&&last.ranges){done[done.length-1]=sel;
setSelectionNoUndo(doc,sel,options)}else{setSelection(doc,sel,options)}}function setSelection(doc,sel,options){setSelectionNoUndo(doc,sel,options);addSelectionToHistory(doc,doc.sel,doc.cm?doc.cm.curOp.id:NaN,options)}function setSelectionNoUndo(doc,sel,options){if(hasHandler(doc,"beforeSelectionChange")||doc.cm&&hasHandler(doc.cm,"beforeSelectionChange")){sel=filterSelectionChange(doc,sel,options)}var bias=options&&options.bias||(cmp(sel.primary().head,doc.sel.primary().head)<0?-1:1);setSelectionInner(doc,skipAtomicInSelection(doc,sel,bias,true));if(!(options&&options.scroll===false)&&doc.cm){ensureCursorVisible(doc.cm)}}function setSelectionInner(doc,sel){if(sel.equals(doc.sel)){return}doc.sel=sel;if(doc.cm){doc.cm.curOp.updateInput=doc.cm.curOp.selectionChanged=true;signalCursorActivity(doc.cm)}signalLater(doc,"cursorActivity",doc)}function reCheckSelection(doc){setSelectionInner(doc,skipAtomicInSelection(doc,doc.sel,null,false))}function skipAtomicInSelection(doc,sel,bias,mayClear){var out;for(var i=0;i<sel.ranges.length;i++){var range=sel.ranges[i];var old=sel.ranges.length==doc.sel.ranges.length&&doc.sel.ranges[i];var newAnchor=skipAtomic(doc,range.anchor,old&&old.anchor,bias,mayClear);var newHead=skipAtomic(doc,range.head,old&&old.head,bias,mayClear);if(out||newAnchor!=range.anchor||newHead!=range.head){if(!out){out=sel.ranges.slice(0,i)}out[i]=new Range(newAnchor,newHead)}}return out?normalizeSelection(out,sel.primIndex):sel}function skipAtomicInner(doc,pos,oldPos,dir,mayClear){var line=getLine(doc,pos.line);if(line.markedSpans){for(var i=0;i<line.markedSpans.length;++i){var sp=line.markedSpans[i],m=sp.marker;if((sp.from==null||(m.inclusiveLeft?sp.from<=pos.ch:sp.from<pos.ch))&&(sp.to==null||(m.inclusiveRight?sp.to>=pos.ch:sp.to>pos.ch))){if(mayClear){signal(m,"beforeCursorEnter");if(m.explicitlyCleared){if(!line.markedSpans){break}else{--i;continue}}}if(!m.atomic){continue}if(oldPos){var near=m.find(dir<0?1:-1),diff=(void 0);if(dir<0?m.inclusiveRight:m.inclusiveLeft){near=movePos(doc,near,-dir,near&&near.line==pos.line?line:null)
}if(near&&near.line==pos.line&&(diff=cmp(near,oldPos))&&(dir<0?diff<0:diff>0)){return skipAtomicInner(doc,near,pos,dir,mayClear)}}var far=m.find(dir<0?-1:1);if(dir<0?m.inclusiveLeft:m.inclusiveRight){far=movePos(doc,far,dir,far.line==pos.line?line:null)}return far?skipAtomicInner(doc,far,pos,dir,mayClear):null}}}return pos}function skipAtomic(doc,pos,oldPos,bias,mayClear){var dir=bias||1;var found=skipAtomicInner(doc,pos,oldPos,dir,mayClear)||(!mayClear&&skipAtomicInner(doc,pos,oldPos,dir,true))||skipAtomicInner(doc,pos,oldPos,-dir,mayClear)||(!mayClear&&skipAtomicInner(doc,pos,oldPos,-dir,true));if(!found){doc.cantEdit=true;return Pos(doc.first,0)}return found}function movePos(doc,pos,dir,line){if(dir<0&&pos.ch==0){if(pos.line>doc.first){return clipPos(doc,Pos(pos.line-1))}else{return null}}else{if(dir>0&&pos.ch==(line||getLine(doc,pos.line)).text.length){if(pos.line<doc.first+doc.size-1){return Pos(pos.line+1,0)}else{return null}}else{return new Pos(pos.line,pos.ch+dir)}}}function selectAll(cm){cm.setSelection(Pos(cm.firstLine(),0),Pos(cm.lastLine()),sel_dontScroll)}function filterChange(doc,change,update){var obj={canceled:false,from:change.from,to:change.to,text:change.text,origin:change.origin,cancel:function(){return obj.canceled=true}};if(update){obj.update=function(from,to,text,origin){if(from){obj.from=clipPos(doc,from)}if(to){obj.to=clipPos(doc,to)}if(text){obj.text=text}if(origin!==undefined){obj.origin=origin}}}signal(doc,"beforeChange",doc,obj);if(doc.cm){signal(doc.cm,"beforeChange",doc.cm,obj)}if(obj.canceled){return null}return{from:obj.from,to:obj.to,text:obj.text,origin:obj.origin}}function makeChange(doc,change,ignoreReadOnly){if(doc.cm){if(!doc.cm.curOp){return operation(doc.cm,makeChange)(doc,change,ignoreReadOnly)}if(doc.cm.state.suppressEdits){return}}if(hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange")){change=filterChange(doc,change,true);if(!change){return}}var split=sawReadOnlySpans&&!ignoreReadOnly&&removeReadOnlyRanges(doc,change.from,change.to);
if(split){for(var i=split.length-1;i>=0;--i){makeChangeInner(doc,{from:split[i].from,to:split[i].to,text:i?[""]:change.text,origin:change.origin})}}else{makeChangeInner(doc,change)}}function makeChangeInner(doc,change){if(change.text.length==1&&change.text[0]==""&&cmp(change.from,change.to)==0){return}var selAfter=computeSelAfterChange(doc,change);addChangeToHistory(doc,change,selAfter,doc.cm?doc.cm.curOp.id:NaN);makeChangeSingleDoc(doc,change,selAfter,stretchSpansOverChange(doc,change));var rebased=[];linkedDocs(doc,function(doc,sharedHist){if(!sharedHist&&indexOf(rebased,doc.history)==-1){rebaseHist(doc.history,change);rebased.push(doc.history)}makeChangeSingleDoc(doc,change,null,stretchSpansOverChange(doc,change))})}function makeChangeFromHistory(doc,type,allowSelectionOnly){var suppress=doc.cm&&doc.cm.state.suppressEdits;if(suppress&&!allowSelectionOnly){return}var hist=doc.history,event,selAfter=doc.sel;var source=type=="undo"?hist.done:hist.undone,dest=type=="undo"?hist.undone:hist.done;var i=0;for(;i<source.length;i++){event=source[i];if(allowSelectionOnly?event.ranges&&!event.equals(doc.sel):!event.ranges){break}}if(i==source.length){return}hist.lastOrigin=hist.lastSelOrigin=null;for(;;){event=source.pop();if(event.ranges){pushSelectionToHistory(event,dest);if(allowSelectionOnly&&!event.equals(doc.sel)){setSelection(doc,event,{clearRedo:false});return}selAfter=event}else{if(suppress){source.push(event);return}else{break}}}var antiChanges=[];pushSelectionToHistory(selAfter,dest);dest.push({changes:antiChanges,generation:hist.generation});hist.generation=event.generation||++hist.maxGeneration;var filter=hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange");var loop=function(i){var change=event.changes[i];change.origin=type;if(filter&&!filterChange(doc,change,false)){source.length=0;return{}}antiChanges.push(historyChangeFromChange(doc,change));var after=i?computeSelAfterChange(doc,change):lst(source);makeChangeSingleDoc(doc,change,after,mergeOldSpans(doc,change));
if(!i&&doc.cm){doc.cm.scrollIntoView({from:change.from,to:changeEnd(change)})}var rebased=[];linkedDocs(doc,function(doc,sharedHist){if(!sharedHist&&indexOf(rebased,doc.history)==-1){rebaseHist(doc.history,change);rebased.push(doc.history)}makeChangeSingleDoc(doc,change,null,mergeOldSpans(doc,change))})};for(var i$1=event.changes.length-1;i$1>=0;--i$1){var returned=loop(i$1);if(returned){return returned.v}}}function shiftDoc(doc,distance){if(distance==0){return}doc.first+=distance;doc.sel=new Selection(map(doc.sel.ranges,function(range){return new Range(Pos(range.anchor.line+distance,range.anchor.ch),Pos(range.head.line+distance,range.head.ch))}),doc.sel.primIndex);if(doc.cm){regChange(doc.cm,doc.first,doc.first-distance,distance);for(var d=doc.cm.display,l=d.viewFrom;l<d.viewTo;l++){regLineChange(doc.cm,l,"gutter")}}}function makeChangeSingleDoc(doc,change,selAfter,spans){if(doc.cm&&!doc.cm.curOp){return operation(doc.cm,makeChangeSingleDoc)(doc,change,selAfter,spans)}if(change.to.line<doc.first){shiftDoc(doc,change.text.length-1-(change.to.line-change.from.line));return}if(change.from.line>doc.lastLine()){return}if(change.from.line<doc.first){var shift=change.text.length-1-(doc.first-change.from.line);shiftDoc(doc,shift);change={from:Pos(doc.first,0),to:Pos(change.to.line+shift,change.to.ch),text:[lst(change.text)],origin:change.origin}}var last=doc.lastLine();if(change.to.line>last){change={from:change.from,to:Pos(last,getLine(doc,last).text.length),text:[change.text[0]],origin:change.origin}}change.removed=getBetween(doc,change.from,change.to);if(!selAfter){selAfter=computeSelAfterChange(doc,change)}if(doc.cm){makeChangeSingleDocInEditor(doc.cm,change,spans)}else{updateDoc(doc,change,spans)}setSelectionNoUndo(doc,selAfter,sel_dontScroll)}function makeChangeSingleDocInEditor(cm,change,spans){var doc=cm.doc,display=cm.display,from=change.from,to=change.to;var recomputeMaxLength=false,checkWidthStart=from.line;if(!cm.options.lineWrapping){checkWidthStart=lineNo(visualLine(getLine(doc,from.line)));
doc.iter(checkWidthStart,to.line+1,function(line){if(line==display.maxLine){recomputeMaxLength=true;return true}})}if(doc.sel.contains(change.from,change.to)>-1){signalCursorActivity(cm)}updateDoc(doc,change,spans,estimateHeight(cm));if(!cm.options.lineWrapping){doc.iter(checkWidthStart,from.line+change.text.length,function(line){var len=lineLength(line);if(len>display.maxLineLength){display.maxLine=line;display.maxLineLength=len;display.maxLineChanged=true;recomputeMaxLength=false}});if(recomputeMaxLength){cm.curOp.updateMaxLine=true}}retreatFrontier(doc,from.line);startWorker(cm,400);var lendiff=change.text.length-(to.line-from.line)-1;if(change.full){regChange(cm)}else{if(from.line==to.line&&change.text.length==1&&!isWholeLineUpdate(cm.doc,change)){regLineChange(cm,from.line,"text")}else{regChange(cm,from.line,to.line+1,lendiff)}}var changesHandler=hasHandler(cm,"changes"),changeHandler=hasHandler(cm,"change");if(changeHandler||changesHandler){var obj={from:from,to:to,text:change.text,removed:change.removed,origin:change.origin};if(changeHandler){signalLater(cm,"change",cm,obj)}if(changesHandler){(cm.curOp.changeObjs||(cm.curOp.changeObjs=[])).push(obj)}}cm.display.selForContextMenu=null}function replaceRange(doc,code,from,to,origin){if(!to){to=from}if(cmp(to,from)<0){var assign;(assign=[to,from],from=assign[0],to=assign[1])}if(typeof code=="string"){code=doc.splitLines(code)}makeChange(doc,{from:from,to:to,text:code,origin:origin})}function rebaseHistSelSingle(pos,from,to,diff){if(to<pos.line){pos.line+=diff}else{if(from<pos.line){pos.line=from;pos.ch=0}}}function rebaseHistArray(array,from,to,diff){for(var i=0;i<array.length;++i){var sub=array[i],ok=true;if(sub.ranges){if(!sub.copied){sub=array[i]=sub.deepCopy();sub.copied=true}for(var j=0;j<sub.ranges.length;j++){rebaseHistSelSingle(sub.ranges[j].anchor,from,to,diff);rebaseHistSelSingle(sub.ranges[j].head,from,to,diff)}continue}for(var j$1=0;j$1<sub.changes.length;++j$1){var cur=sub.changes[j$1];if(to<cur.from.line){cur.from=Pos(cur.from.line+diff,cur.from.ch);
cur.to=Pos(cur.to.line+diff,cur.to.ch)}else{if(from<=cur.to.line){ok=false;break}}}if(!ok){array.splice(0,i+1);i=0}}}function rebaseHist(hist,change){var from=change.from.line,to=change.to.line,diff=change.text.length-(to-from)-1;rebaseHistArray(hist.done,from,to,diff);rebaseHistArray(hist.undone,from,to,diff)}function changeLine(doc,handle,changeType,op){var no=handle,line=handle;if(typeof handle=="number"){line=getLine(doc,clipLine(doc,handle))}else{no=lineNo(handle)}if(no==null){return null}if(op(line,no)&&doc.cm){regLineChange(doc.cm,no,changeType)}return line}function LeafChunk(lines){var this$1=this;this.lines=lines;this.parent=null;var height=0;for(var i=0;i<lines.length;++i){lines[i].parent=this$1;height+=lines[i].height}this.height=height}LeafChunk.prototype={chunkSize:function(){return this.lines.length},removeInner:function(at,n){var this$1=this;for(var i=at,e=at+n;i<e;++i){var line=this$1.lines[i];this$1.height-=line.height;cleanUpLine(line);signalLater(line,"delete")}this.lines.splice(at,n)},collapse:function(lines){lines.push.apply(lines,this.lines)},insertInner:function(at,lines,height){var this$1=this;this.height+=height;this.lines=this.lines.slice(0,at).concat(lines).concat(this.lines.slice(at));for(var i=0;i<lines.length;++i){lines[i].parent=this$1}},iterN:function(at,n,op){var this$1=this;for(var e=at+n;at<e;++at){if(op(this$1.lines[at])){return true}}}};function BranchChunk(children){var this$1=this;this.children=children;var size=0,height=0;for(var i=0;i<children.length;++i){var ch=children[i];size+=ch.chunkSize();height+=ch.height;ch.parent=this$1}this.size=size;this.height=height;this.parent=null}BranchChunk.prototype={chunkSize:function(){return this.size},removeInner:function(at,n){var this$1=this;this.size-=n;for(var i=0;i<this.children.length;++i){var child=this$1.children[i],sz=child.chunkSize();if(at<sz){var rm=Math.min(n,sz-at),oldHeight=child.height;child.removeInner(at,rm);this$1.height-=oldHeight-child.height;if(sz==rm){this$1.children.splice(i--,1);
child.parent=null}if((n-=rm)==0){break}at=0}else{at-=sz}}if(this.size-n<25&&(this.children.length>1||!(this.children[0] instanceof LeafChunk))){var lines=[];this.collapse(lines);this.children=[new LeafChunk(lines)];this.children[0].parent=this}},collapse:function(lines){var this$1=this;for(var i=0;i<this.children.length;++i){this$1.children[i].collapse(lines)}},insertInner:function(at,lines,height){var this$1=this;this.size+=lines.length;this.height+=height;for(var i=0;i<this.children.length;++i){var child=this$1.children[i],sz=child.chunkSize();if(at<=sz){child.insertInner(at,lines,height);if(child.lines&&child.lines.length>50){var remaining=child.lines.length%25+25;for(var pos=remaining;pos<child.lines.length;){var leaf=new LeafChunk(child.lines.slice(pos,pos+=25));child.height-=leaf.height;this$1.children.splice(++i,0,leaf);leaf.parent=this$1}child.lines=child.lines.slice(0,remaining);this$1.maybeSpill()}break}at-=sz}},maybeSpill:function(){if(this.children.length<=10){return}var me=this;do{var spilled=me.children.splice(me.children.length-5,5);var sibling=new BranchChunk(spilled);if(!me.parent){var copy=new BranchChunk(me.children);copy.parent=me;me.children=[copy,sibling];me=copy}else{me.size-=sibling.size;me.height-=sibling.height;var myIndex=indexOf(me.parent.children,me);me.parent.children.splice(myIndex+1,0,sibling)}sibling.parent=me.parent}while(me.children.length>10);me.parent.maybeSpill()},iterN:function(at,n,op){var this$1=this;for(var i=0;i<this.children.length;++i){var child=this$1.children[i],sz=child.chunkSize();if(at<sz){var used=Math.min(n,sz-at);if(child.iterN(at,used,op)){return true}if((n-=used)==0){break}at=0}else{at-=sz}}}};var LineWidget=function(doc,node,options){var this$1=this;if(options){for(var opt in options){if(options.hasOwnProperty(opt)){this$1[opt]=options[opt]}}}this.doc=doc;this.node=node};LineWidget.prototype.clear=function(){var this$1=this;var cm=this.doc.cm,ws=this.line.widgets,line=this.line,no=lineNo(line);if(no==null||!ws){return
}for(var i=0;i<ws.length;++i){if(ws[i]==this$1){ws.splice(i--,1)}}if(!ws.length){line.widgets=null}var height=widgetHeight(this);updateLineHeight(line,Math.max(0,line.height-height));if(cm){runInOp(cm,function(){adjustScrollWhenAboveVisible(cm,line,-height);regLineChange(cm,no,"widget")});signalLater(cm,"lineWidgetCleared",cm,this,no)}};LineWidget.prototype.changed=function(){var this$1=this;var oldH=this.height,cm=this.doc.cm,line=this.line;this.height=null;var diff=widgetHeight(this)-oldH;if(!diff){return}if(!lineIsHidden(this.doc,line)){updateLineHeight(line,line.height+diff)}if(cm){runInOp(cm,function(){cm.curOp.forceUpdate=true;adjustScrollWhenAboveVisible(cm,line,diff);signalLater(cm,"lineWidgetChanged",cm,this$1,lineNo(line))})}};eventMixin(LineWidget);function adjustScrollWhenAboveVisible(cm,line,diff){if(heightAtLine(line)<((cm.curOp&&cm.curOp.scrollTop)||cm.doc.scrollTop)){addToScrollTop(cm,diff)}}function addLineWidget(doc,handle,node,options){var widget=new LineWidget(doc,node,options);var cm=doc.cm;if(cm&&widget.noHScroll){cm.display.alignWidgets=true}changeLine(doc,handle,"widget",function(line){var widgets=line.widgets||(line.widgets=[]);if(widget.insertAt==null){widgets.push(widget)}else{widgets.splice(Math.min(widgets.length-1,Math.max(0,widget.insertAt)),0,widget)}widget.line=line;if(cm&&!lineIsHidden(doc,line)){var aboveVisible=heightAtLine(line)<doc.scrollTop;updateLineHeight(line,line.height+widgetHeight(widget));if(aboveVisible){addToScrollTop(cm,widget.height)}cm.curOp.forceUpdate=true}return true});if(cm){signalLater(cm,"lineWidgetAdded",cm,widget,typeof handle=="number"?handle:lineNo(handle))}return widget}var nextMarkerId=0;var TextMarker=function(doc,type){this.lines=[];this.type=type;this.doc=doc;this.id=++nextMarkerId};TextMarker.prototype.clear=function(){var this$1=this;if(this.explicitlyCleared){return}var cm=this.doc.cm,withOp=cm&&!cm.curOp;if(withOp){startOperation(cm)}if(hasHandler(this,"clear")){var found=this.find();if(found){signalLater(this,"clear",found.from,found.to)
}}var min=null,max=null;for(var i=0;i<this.lines.length;++i){var line=this$1.lines[i];var span=getMarkedSpanFor(line.markedSpans,this$1);if(cm&&!this$1.collapsed){regLineChange(cm,lineNo(line),"text")}else{if(cm){if(span.to!=null){max=lineNo(line)}if(span.from!=null){min=lineNo(line)}}}line.markedSpans=removeMarkedSpan(line.markedSpans,span);if(span.from==null&&this$1.collapsed&&!lineIsHidden(this$1.doc,line)&&cm){updateLineHeight(line,textHeight(cm.display))}}if(cm&&this.collapsed&&!cm.options.lineWrapping){for(var i$1=0;i$1<this.lines.length;++i$1){var visual=visualLine(this$1.lines[i$1]),len=lineLength(visual);if(len>cm.display.maxLineLength){cm.display.maxLine=visual;cm.display.maxLineLength=len;cm.display.maxLineChanged=true}}}if(min!=null&&cm&&this.collapsed){regChange(cm,min,max+1)}this.lines.length=0;this.explicitlyCleared=true;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=false;if(cm){reCheckSelection(cm.doc)}}if(cm){signalLater(cm,"markerCleared",cm,this,min,max)}if(withOp){endOperation(cm)}if(this.parent){this.parent.clear()}};TextMarker.prototype.find=function(side,lineObj){var this$1=this;if(side==null&&this.type=="bookmark"){side=1}var from,to;for(var i=0;i<this.lines.length;++i){var line=this$1.lines[i];var span=getMarkedSpanFor(line.markedSpans,this$1);if(span.from!=null){from=Pos(lineObj?line:lineNo(line),span.from);if(side==-1){return from}}if(span.to!=null){to=Pos(lineObj?line:lineNo(line),span.to);if(side==1){return to}}}return from&&{from:from,to:to}};TextMarker.prototype.changed=function(){var this$1=this;var pos=this.find(-1,true),widget=this,cm=this.doc.cm;if(!pos||!cm){return}runInOp(cm,function(){var line=pos.line,lineN=lineNo(pos.line);var view=findViewForLine(cm,lineN);if(view){clearLineMeasurementCacheFor(view);cm.curOp.selectionChanged=cm.curOp.forceUpdate=true}cm.curOp.updateMaxLine=true;if(!lineIsHidden(widget.doc,line)&&widget.height!=null){var oldHeight=widget.height;widget.height=null;var dHeight=widgetHeight(widget)-oldHeight;
if(dHeight){updateLineHeight(line,line.height+dHeight)}}signalLater(cm,"markerChanged",cm,this$1)})};TextMarker.prototype.attachLine=function(line){if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;if(!op.maybeHiddenMarkers||indexOf(op.maybeHiddenMarkers,this)==-1){(op.maybeUnhiddenMarkers||(op.maybeUnhiddenMarkers=[])).push(this)}}this.lines.push(line)};TextMarker.prototype.detachLine=function(line){this.lines.splice(indexOf(this.lines,line),1);if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;(op.maybeHiddenMarkers||(op.maybeHiddenMarkers=[])).push(this)}};eventMixin(TextMarker);function markText(doc,from,to,options,type){if(options&&options.shared){return markTextShared(doc,from,to,options,type)}if(doc.cm&&!doc.cm.curOp){return operation(doc.cm,markText)(doc,from,to,options,type)}var marker=new TextMarker(doc,type),diff=cmp(from,to);if(options){copyObj(options,marker,false)}if(diff>0||diff==0&&marker.clearWhenEmpty!==false){return marker}if(marker.replacedWith){marker.collapsed=true;marker.widgetNode=eltP("span",[marker.replacedWith],"CodeMirror-widget");if(!options.handleMouseEvents){marker.widgetNode.setAttribute("cm-ignore-events","true")}if(options.insertLeft){marker.widgetNode.insertLeft=true}}if(marker.collapsed){if(conflictingCollapsedRange(doc,from.line,from,to,marker)||from.line!=to.line&&conflictingCollapsedRange(doc,to.line,from,to,marker)){throw new Error("Inserting collapsed marker partially overlapping an existing one")}seeCollapsedSpans()}if(marker.addToHistory){addChangeToHistory(doc,{from:from,to:to,origin:"markText"},doc.sel,NaN)}var curLine=from.line,cm=doc.cm,updateMaxLine;doc.iter(curLine,to.line+1,function(line){if(cm&&marker.collapsed&&!cm.options.lineWrapping&&visualLine(line)==cm.display.maxLine){updateMaxLine=true}if(marker.collapsed&&curLine!=from.line){updateLineHeight(line,0)}addMarkedSpan(line,new MarkedSpan(marker,curLine==from.line?from.ch:null,curLine==to.line?to.ch:null));++curLine});if(marker.collapsed){doc.iter(from.line,to.line+1,function(line){if(lineIsHidden(doc,line)){updateLineHeight(line,0)
}})}if(marker.clearOnEnter){on(marker,"beforeCursorEnter",function(){return marker.clear()})}if(marker.readOnly){seeReadOnlySpans();if(doc.history.done.length||doc.history.undone.length){doc.clearHistory()}}if(marker.collapsed){marker.id=++nextMarkerId;marker.atomic=true}if(cm){if(updateMaxLine){cm.curOp.updateMaxLine=true}if(marker.collapsed){regChange(cm,from.line,to.line+1)}else{if(marker.className||marker.title||marker.startStyle||marker.endStyle||marker.css){for(var i=from.line;i<=to.line;i++){regLineChange(cm,i,"text")}}}if(marker.atomic){reCheckSelection(cm.doc)}signalLater(cm,"markerAdded",cm,marker)}return marker}var SharedTextMarker=function(markers,primary){var this$1=this;this.markers=markers;this.primary=primary;for(var i=0;i<markers.length;++i){markers[i].parent=this$1}};SharedTextMarker.prototype.clear=function(){var this$1=this;if(this.explicitlyCleared){return}this.explicitlyCleared=true;for(var i=0;i<this.markers.length;++i){this$1.markers[i].clear()}signalLater(this,"clear")};SharedTextMarker.prototype.find=function(side,lineObj){return this.primary.find(side,lineObj)};eventMixin(SharedTextMarker);function markTextShared(doc,from,to,options,type){options=copyObj(options);options.shared=false;var markers=[markText(doc,from,to,options,type)],primary=markers[0];var widget=options.widgetNode;linkedDocs(doc,function(doc){if(widget){options.widgetNode=widget.cloneNode(true)}markers.push(markText(doc,clipPos(doc,from),clipPos(doc,to),options,type));for(var i=0;i<doc.linked.length;++i){if(doc.linked[i].isParent){return}}primary=lst(markers)});return new SharedTextMarker(markers,primary)}function findSharedMarkers(doc){return doc.findMarks(Pos(doc.first,0),doc.clipPos(Pos(doc.lastLine())),function(m){return m.parent})}function copySharedMarkers(doc,markers){for(var i=0;i<markers.length;i++){var marker=markers[i],pos=marker.find();var mFrom=doc.clipPos(pos.from),mTo=doc.clipPos(pos.to);if(cmp(mFrom,mTo)){var subMark=markText(doc,mFrom,mTo,marker.primary,marker.primary.type);
marker.markers.push(subMark);subMark.parent=marker}}}function detachSharedMarkers(markers){var loop=function(i){var marker=markers[i],linked=[marker.primary.doc];linkedDocs(marker.primary.doc,function(d){return linked.push(d)});for(var j=0;j<marker.markers.length;j++){var subMarker=marker.markers[j];if(indexOf(linked,subMarker.doc)==-1){subMarker.parent=null;marker.markers.splice(j--,1)}}};for(var i=0;i<markers.length;i++){loop(i)}}var nextDocId=0;var Doc=function(text,mode,firstLine,lineSep,direction){if(!(this instanceof Doc)){return new Doc(text,mode,firstLine,lineSep,direction)}if(firstLine==null){firstLine=0}BranchChunk.call(this,[new LeafChunk([new Line("",null)])]);this.first=firstLine;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=firstLine;var start=Pos(firstLine,0);this.sel=simpleSelection(start);this.history=new History(null);this.id=++nextDocId;this.modeOption=mode;this.lineSep=lineSep;this.direction=(direction=="rtl")?"rtl":"ltr";this.extend=false;if(typeof text=="string"){text=this.splitLines(text)}updateDoc(this,{from:start,to:start,text:text});setSelection(this,simpleSelection(start),sel_dontScroll)};Doc.prototype=createObj(BranchChunk.prototype,{constructor:Doc,iter:function(from,to,op){if(op){this.iterN(from-this.first,to-from,op)}else{this.iterN(this.first,this.first+this.size,from)}},insert:function(at,lines){var height=0;for(var i=0;i<lines.length;++i){height+=lines[i].height}this.insertInner(at-this.first,lines,height)},remove:function(at,n){this.removeInner(at-this.first,n)},getValue:function(lineSep){var lines=getLines(this,this.first,this.first+this.size);if(lineSep===false){return lines}return lines.join(lineSep||this.lineSeparator())},setValue:docMethodOp(function(code){var top=Pos(this.first,0),last=this.first+this.size-1;makeChange(this,{from:top,to:Pos(last,getLine(this,last).text.length),text:this.splitLines(code),origin:"setValue",full:true},true);if(this.cm){scrollToCoords(this.cm,0,0)
}setSelection(this,simpleSelection(top),sel_dontScroll)}),replaceRange:function(code,from,to,origin){from=clipPos(this,from);to=to?clipPos(this,to):from;replaceRange(this,code,from,to,origin)},getRange:function(from,to,lineSep){var lines=getBetween(this,clipPos(this,from),clipPos(this,to));if(lineSep===false){return lines}return lines.join(lineSep||this.lineSeparator())},getLine:function(line){var l=this.getLineHandle(line);return l&&l.text},getLineHandle:function(line){if(isLine(this,line)){return getLine(this,line)}},getLineNumber:function(line){return lineNo(line)},getLineHandleVisualStart:function(line){if(typeof line=="number"){line=getLine(this,line)}return visualLine(line)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(pos){return clipPos(this,pos)},getCursor:function(start){var range$$1=this.sel.primary(),pos;if(start==null||start=="head"){pos=range$$1.head}else{if(start=="anchor"){pos=range$$1.anchor}else{if(start=="end"||start=="to"||start===false){pos=range$$1.to()}else{pos=range$$1.from()}}}return pos},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:docMethodOp(function(line,ch,options){setSimpleSelection(this,clipPos(this,typeof line=="number"?Pos(line,ch||0):line),null,options)}),setSelection:docMethodOp(function(anchor,head,options){setSimpleSelection(this,clipPos(this,anchor),clipPos(this,head||anchor),options)}),extendSelection:docMethodOp(function(head,other,options){extendSelection(this,clipPos(this,head),other&&clipPos(this,other),options)}),extendSelections:docMethodOp(function(heads,options){extendSelections(this,clipPosArray(this,heads),options)}),extendSelectionsBy:docMethodOp(function(f,options){var heads=map(this.sel.ranges,f);extendSelections(this,clipPosArray(this,heads),options)}),setSelections:docMethodOp(function(ranges,primary,options){var this$1=this;if(!ranges.length){return
}var out=[];for(var i=0;i<ranges.length;i++){out[i]=new Range(clipPos(this$1,ranges[i].anchor),clipPos(this$1,ranges[i].head))}if(primary==null){primary=Math.min(ranges.length-1,this.sel.primIndex)}setSelection(this,normalizeSelection(out,primary),options)}),addSelection:docMethodOp(function(anchor,head,options){var ranges=this.sel.ranges.slice(0);ranges.push(new Range(clipPos(this,anchor),clipPos(this,head||anchor)));setSelection(this,normalizeSelection(ranges,ranges.length-1),options)}),getSelection:function(lineSep){var this$1=this;var ranges=this.sel.ranges,lines;for(var i=0;i<ranges.length;i++){var sel=getBetween(this$1,ranges[i].from(),ranges[i].to());lines=lines?lines.concat(sel):sel}if(lineSep===false){return lines}else{return lines.join(lineSep||this.lineSeparator())}},getSelections:function(lineSep){var this$1=this;var parts=[],ranges=this.sel.ranges;for(var i=0;i<ranges.length;i++){var sel=getBetween(this$1,ranges[i].from(),ranges[i].to());if(lineSep!==false){sel=sel.join(lineSep||this$1.lineSeparator())}parts[i]=sel}return parts},replaceSelection:function(code,collapse,origin){var dup=[];for(var i=0;i<this.sel.ranges.length;i++){dup[i]=code}this.replaceSelections(dup,collapse,origin||"+input")},replaceSelections:docMethodOp(function(code,collapse,origin){var this$1=this;var changes=[],sel=this.sel;for(var i=0;i<sel.ranges.length;i++){var range$$1=sel.ranges[i];changes[i]={from:range$$1.from(),to:range$$1.to(),text:this$1.splitLines(code[i]),origin:origin}}var newSel=collapse&&collapse!="end"&&computeReplacedSel(this,changes,collapse);for(var i$1=changes.length-1;i$1>=0;i$1--){makeChange(this$1,changes[i$1])}if(newSel){setSelectionReplaceHistory(this,newSel)}else{if(this.cm){ensureCursorVisible(this.cm)}}}),undo:docMethodOp(function(){makeChangeFromHistory(this,"undo")}),redo:docMethodOp(function(){makeChangeFromHistory(this,"redo")}),undoSelection:docMethodOp(function(){makeChangeFromHistory(this,"undo",true)}),redoSelection:docMethodOp(function(){makeChangeFromHistory(this,"redo",true)
}),setExtending:function(val){this.extend=val},getExtending:function(){return this.extend},historySize:function(){var hist=this.history,done=0,undone=0;for(var i=0;i<hist.done.length;i++){if(!hist.done[i].ranges){++done}}for(var i$1=0;i$1<hist.undone.length;i$1++){if(!hist.undone[i$1].ranges){++undone}}return{undo:done,redo:undone}},clearHistory:function(){this.history=new History(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(true)},changeGeneration:function(forceSplit){if(forceSplit){this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null}return this.history.generation},isClean:function(gen){return this.history.generation==(gen||this.cleanGeneration)},getHistory:function(){return{done:copyHistoryArray(this.history.done),undone:copyHistoryArray(this.history.undone)}},setHistory:function(histData){var hist=this.history=new History(this.history.maxGeneration);hist.done=copyHistoryArray(histData.done.slice(0),null,true);hist.undone=copyHistoryArray(histData.undone.slice(0),null,true)},setGutterMarker:docMethodOp(function(line,gutterID,value){return changeLine(this,line,"gutter",function(line){var markers=line.gutterMarkers||(line.gutterMarkers={});markers[gutterID]=value;if(!value&&isEmpty(markers)){line.gutterMarkers=null}return true})}),clearGutter:docMethodOp(function(gutterID){var this$1=this;this.iter(function(line){if(line.gutterMarkers&&line.gutterMarkers[gutterID]){changeLine(this$1,line,"gutter",function(){line.gutterMarkers[gutterID]=null;if(isEmpty(line.gutterMarkers)){line.gutterMarkers=null}return true})}})}),lineInfo:function(line){var n;if(typeof line=="number"){if(!isLine(this,line)){return null}n=line;line=getLine(this,line);if(!line){return null}}else{n=lineNo(line);if(n==null){return null}}return{line:n,handle:line,text:line.text,gutterMarkers:line.gutterMarkers,textClass:line.textClass,bgClass:line.bgClass,wrapClass:line.wrapClass,widgets:line.widgets}},addLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,where=="gutter"?"gutter":"class",function(line){var prop=where=="text"?"textClass":where=="background"?"bgClass":where=="gutter"?"gutterClass":"wrapClass";
if(!line[prop]){line[prop]=cls}else{if(classTest(cls).test(line[prop])){return false}else{line[prop]+=" "+cls}}return true})}),removeLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,where=="gutter"?"gutter":"class",function(line){var prop=where=="text"?"textClass":where=="background"?"bgClass":where=="gutter"?"gutterClass":"wrapClass";var cur=line[prop];if(!cur){return false}else{if(cls==null){line[prop]=null}else{var found=cur.match(classTest(cls));if(!found){return false}var end=found.index+found[0].length;line[prop]=cur.slice(0,found.index)+(!found.index||end==cur.length?"":" ")+cur.slice(end)||null}}return true})}),addLineWidget:docMethodOp(function(handle,node,options){return addLineWidget(this,handle,node,options)}),removeLineWidget:function(widget){widget.clear()},markText:function(from,to,options){return markText(this,clipPos(this,from),clipPos(this,to),options,options&&options.type||"range")},setBookmark:function(pos,options){var realOpts={replacedWith:options&&(options.nodeType==null?options.widget:options),insertLeft:options&&options.insertLeft,clearWhenEmpty:false,shared:options&&options.shared,handleMouseEvents:options&&options.handleMouseEvents};pos=clipPos(this,pos);return markText(this,pos,pos,realOpts,"bookmark")},findMarksAt:function(pos){pos=clipPos(this,pos);var markers=[],spans=getLine(this,pos.line).markedSpans;if(spans){for(var i=0;i<spans.length;++i){var span=spans[i];if((span.from==null||span.from<=pos.ch)&&(span.to==null||span.to>=pos.ch)){markers.push(span.marker.parent||span.marker)}}}return markers},findMarks:function(from,to,filter){from=clipPos(this,from);to=clipPos(this,to);var found=[],lineNo$$1=from.line;this.iter(from.line,to.line+1,function(line){var spans=line.markedSpans;if(spans){for(var i=0;i<spans.length;i++){var span=spans[i];if(!(span.to!=null&&lineNo$$1==from.line&&from.ch>=span.to||span.from==null&&lineNo$$1!=from.line||span.from!=null&&lineNo$$1==to.line&&span.from>=to.ch)&&(!filter||filter(span.marker))){found.push(span.marker.parent||span.marker)
}}}++lineNo$$1});return found},getAllMarks:function(){var markers=[];this.iter(function(line){var sps=line.markedSpans;if(sps){for(var i=0;i<sps.length;++i){if(sps[i].from!=null){markers.push(sps[i].marker)}}}});return markers},posFromIndex:function(off){var ch,lineNo$$1=this.first,sepSize=this.lineSeparator().length;this.iter(function(line){var sz=line.text.length+sepSize;if(sz>off){ch=off;return true}off-=sz;++lineNo$$1});return clipPos(this,Pos(lineNo$$1,ch))},indexFromPos:function(coords){coords=clipPos(this,coords);var index=coords.ch;if(coords.line<this.first||coords.ch<0){return 0}var sepSize=this.lineSeparator().length;this.iter(this.first,coords.line,function(line){index+=line.text.length+sepSize});return index},copy:function(copyHistory){var doc=new Doc(getLines(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);doc.scrollTop=this.scrollTop;doc.scrollLeft=this.scrollLeft;doc.sel=this.sel;doc.extend=false;if(copyHistory){doc.history.undoDepth=this.history.undoDepth;doc.setHistory(this.getHistory())}return doc},linkedDoc:function(options){if(!options){options={}}var from=this.first,to=this.first+this.size;if(options.from!=null&&options.from>from){from=options.from}if(options.to!=null&&options.to<to){to=options.to}var copy=new Doc(getLines(this,from,to),options.mode||this.modeOption,from,this.lineSep,this.direction);if(options.sharedHist){copy.history=this.history}(this.linked||(this.linked=[])).push({doc:copy,sharedHist:options.sharedHist});copy.linked=[{doc:this,isParent:true,sharedHist:options.sharedHist}];copySharedMarkers(copy,findSharedMarkers(this));return copy},unlinkDoc:function(other){var this$1=this;if(other instanceof CodeMirror$1){other=other.doc}if(this.linked){for(var i=0;i<this.linked.length;++i){var link=this$1.linked[i];if(link.doc!=other){continue}this$1.linked.splice(i,1);other.unlinkDoc(this$1);detachSharedMarkers(findSharedMarkers(this$1));break}}if(other.history==this.history){var splitIds=[other.id];
linkedDocs(other,function(doc){return splitIds.push(doc.id)},true);other.history=new History(null);other.history.done=copyHistoryArray(this.history.done,splitIds);other.history.undone=copyHistoryArray(this.history.undone,splitIds)}},iterLinkedDocs:function(f){linkedDocs(this,f)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(str){if(this.lineSep){return str.split(this.lineSep)}return splitLinesAuto(str)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:docMethodOp(function(dir){if(dir!="rtl"){dir="ltr"}if(dir==this.direction){return}this.direction=dir;this.iter(function(line){return line.order=null});if(this.cm){directionChanged(this.cm)}})});Doc.prototype.eachLine=Doc.prototype.iter;var lastDrop=0;function onDrop(e){var cm=this;clearDragCursor(cm);if(signalDOMEvent(cm,e)||eventInWidget(cm.display,e)){return}e_preventDefault(e);if(ie){lastDrop=+new Date}var pos=posFromMouse(cm,e,true),files=e.dataTransfer.files;if(!pos||cm.isReadOnly()){return}if(files&&files.length&&window.FileReader&&window.File){var n=files.length,text=Array(n),read=0;var loadFile=function(file,i){if(cm.options.allowDropFileTypes&&indexOf(cm.options.allowDropFileTypes,file.type)==-1){return}var reader=new FileReader;reader.onload=operation(cm,function(){var content=reader.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(content)){content=""}text[i]=content;if(++read==n){pos=clipPos(cm.doc,pos);var change={from:pos,to:pos,text:cm.doc.splitLines(text.join(cm.doc.lineSeparator())),origin:"paste"};makeChange(cm.doc,change);setSelectionReplaceHistory(cm.doc,simpleSelection(pos,changeEnd(change)))}});reader.readAsText(file)};for(var i=0;i<n;++i){loadFile(files[i],i)}}else{if(cm.state.draggingText&&cm.doc.sel.contains(pos)>-1){cm.state.draggingText(e);setTimeout(function(){return cm.display.input.focus()},20);return}try{var text$1=e.dataTransfer.getData("Text");if(text$1){var selected;if(cm.state.draggingText&&!cm.state.draggingText.copy){selected=cm.listSelections()
}setSelectionNoUndo(cm.doc,simpleSelection(pos,pos));if(selected){for(var i$1=0;i$1<selected.length;++i$1){replaceRange(cm.doc,"",selected[i$1].anchor,selected[i$1].head,"drag")}}cm.replaceSelection(text$1,"around","paste");cm.display.input.focus()}}catch(e){}}}function onDragStart(cm,e){if(ie&&(!cm.state.draggingText||+new Date-lastDrop<100)){e_stop(e);return}if(signalDOMEvent(cm,e)||eventInWidget(cm.display,e)){return}e.dataTransfer.setData("Text",cm.getSelection());e.dataTransfer.effectAllowed="copyMove";if(e.dataTransfer.setDragImage&&!safari){var img=elt("img",null,null,"position: fixed; left: 0; top: 0;");img.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";if(presto){img.width=img.height=1;cm.display.wrapper.appendChild(img);img._top=img.offsetTop}e.dataTransfer.setDragImage(img,0,0);if(presto){img.parentNode.removeChild(img)}}}function onDragOver(cm,e){var pos=posFromMouse(cm,e);if(!pos){return}var frag=document.createDocumentFragment();drawSelectionCursor(cm,pos,frag);if(!cm.display.dragCursor){cm.display.dragCursor=elt("div",null,"CodeMirror-cursors CodeMirror-dragcursors");cm.display.lineSpace.insertBefore(cm.display.dragCursor,cm.display.cursorDiv)}removeChildrenAndAdd(cm.display.dragCursor,frag)}function clearDragCursor(cm){if(cm.display.dragCursor){cm.display.lineSpace.removeChild(cm.display.dragCursor);cm.display.dragCursor=null}}function forEachCodeMirror(f){if(!document.getElementsByClassName){return}var byClass=document.getElementsByClassName("CodeMirror");for(var i=0;i<byClass.length;i++){var cm=byClass[i].CodeMirror;if(cm){f(cm)}}}var globalsRegistered=false;function ensureGlobalHandlers(){if(globalsRegistered){return}registerGlobalHandlers();globalsRegistered=true}function registerGlobalHandlers(){var resizeTimer;on(window,"resize",function(){if(resizeTimer==null){resizeTimer=setTimeout(function(){resizeTimer=null;forEachCodeMirror(onResize)},100)}});on(window,"blur",function(){return forEachCodeMirror(onBlur)})}function onResize(cm){var d=cm.display;
d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null;d.scrollbarsClipped=false;cm.setSize()}var keyNames={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};for(var i=0;i<10;i++){keyNames[i+48]=keyNames[i+96]=String(i)}for(var i$1=65;i$1<=90;i$1++){keyNames[i$1]=String.fromCharCode(i$1)}for(var i$2=1;i$2<=12;i$2++){keyNames[i$2+111]=keyNames[i$2+63235]="F"+i$2}var keyMap={};keyMap.basic={"Left":"goCharLeft","Right":"goCharRight","Up":"goLineUp","Down":"goLineDown","End":"goLineEnd","Home":"goLineStartSmart","PageUp":"goPageUp","PageDown":"goPageDown","Delete":"delCharAfter","Backspace":"delCharBefore","Shift-Backspace":"delCharBefore","Tab":"defaultTab","Shift-Tab":"indentAuto","Enter":"newlineAndIndent","Insert":"toggleOverwrite","Esc":"singleSelection"};keyMap.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection","fallthrough":"basic"};keyMap.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"};
keyMap.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd","fallthrough":["basic","emacsy"]};keyMap["default"]=mac?keyMap.macDefault:keyMap.pcDefault;function normalizeKeyName(name){var parts=name.split(/-(?!$)/);name=parts[parts.length-1];var alt,ctrl,shift,cmd;for(var i=0;i<parts.length-1;i++){var mod=parts[i];if(/^(cmd|meta|m)$/i.test(mod)){cmd=true}else{if(/^a(lt)?$/i.test(mod)){alt=true}else{if(/^(c|ctrl|control)$/i.test(mod)){ctrl=true}else{if(/^s(hift)?$/i.test(mod)){shift=true}else{throw new Error("Unrecognized modifier name: "+mod)}}}}}if(alt){name="Alt-"+name}if(ctrl){name="Ctrl-"+name}if(cmd){name="Cmd-"+name}if(shift){name="Shift-"+name}return name}function normalizeKeyMap(keymap){var copy={};for(var keyname in keymap){if(keymap.hasOwnProperty(keyname)){var value=keymap[keyname];if(/^(name|fallthrough|(de|at)tach)$/.test(keyname)){continue}if(value=="..."){delete keymap[keyname];continue}var keys=map(keyname.split(" "),normalizeKeyName);for(var i=0;i<keys.length;i++){var val=(void 0),name=(void 0);if(i==keys.length-1){name=keys.join(" ");val=value}else{name=keys.slice(0,i+1).join(" ");val="..."}var prev=copy[name];if(!prev){copy[name]=val}else{if(prev!=val){throw new Error("Inconsistent bindings for "+name)}}}delete keymap[keyname]}}for(var prop in copy){keymap[prop]=copy[prop]}return keymap
}function lookupKey(key,map$$1,handle,context){map$$1=getKeyMap(map$$1);var found=map$$1.call?map$$1.call(key,context):map$$1[key];if(found===false){return"nothing"}if(found==="..."){return"multi"}if(found!=null&&handle(found)){return"handled"}if(map$$1.fallthrough){if(Object.prototype.toString.call(map$$1.fallthrough)!="[object Array]"){return lookupKey(key,map$$1.fallthrough,handle,context)}for(var i=0;i<map$$1.fallthrough.length;i++){var result=lookupKey(key,map$$1.fallthrough[i],handle,context);if(result){return result}}}}function isModifierKey(value){var name=typeof value=="string"?value:keyNames[value.keyCode];return name=="Ctrl"||name=="Alt"||name=="Shift"||name=="Mod"}function addModifierNames(name,event,noShift){var base=name;if(event.altKey&&base!="Alt"){name="Alt-"+name}if((flipCtrlCmd?event.metaKey:event.ctrlKey)&&base!="Ctrl"){name="Ctrl-"+name}if((flipCtrlCmd?event.ctrlKey:event.metaKey)&&base!="Cmd"){name="Cmd-"+name}if(!noShift&&event.shiftKey&&base!="Shift"){name="Shift-"+name}return name}function keyName(event,noShift){if(presto&&event.keyCode==34&&event["char"]){return false}var name=keyNames[event.keyCode];if(name==null||event.altGraphKey){return false}if(event.keyCode==3&&event.code){name=event.code}return addModifierNames(name,event,noShift)}function getKeyMap(val){return typeof val=="string"?keyMap[val]:val}function deleteNearSelection(cm,compute){var ranges=cm.doc.sel.ranges,kill=[];for(var i=0;i<ranges.length;i++){var toKill=compute(ranges[i]);while(kill.length&&cmp(toKill.from,lst(kill).to)<=0){var replaced=kill.pop();if(cmp(replaced.from,toKill.from)<0){toKill.from=replaced.from;break}}kill.push(toKill)}runInOp(cm,function(){for(var i=kill.length-1;i>=0;i--){replaceRange(cm.doc,"",kill[i].from,kill[i].to,"+delete")}ensureCursorVisible(cm)})}function moveCharLogically(line,ch,dir){var target=skipExtendingChars(line.text,ch+dir,dir);return target<0||target>line.text.length?null:target}function moveLogically(line,start,dir){var ch=moveCharLogically(line,start.ch,dir);
return ch==null?null:new Pos(start.line,ch,dir<0?"after":"before")}function endOfLine(visually,cm,lineObj,lineNo,dir){if(visually){var order=getOrder(lineObj,cm.doc.direction);if(order){var part=dir<0?lst(order):order[0];var moveInStorageOrder=(dir<0)==(part.level==1);var sticky=moveInStorageOrder?"after":"before";var ch;if(part.level>0||cm.doc.direction=="rtl"){var prep=prepareMeasureForLine(cm,lineObj);ch=dir<0?lineObj.text.length-1:0;var targetTop=measureCharPrepared(cm,prep,ch).top;ch=findFirst(function(ch){return measureCharPrepared(cm,prep,ch).top==targetTop},(dir<0)==(part.level==1)?part.from:part.to-1,ch);if(sticky=="before"){ch=moveCharLogically(lineObj,ch,1)}}else{ch=dir<0?part.to:part.from}return new Pos(lineNo,ch,sticky)}}return new Pos(lineNo,dir<0?lineObj.text.length:0,dir<0?"before":"after")}function moveVisually(cm,line,start,dir){var bidi=getOrder(line,cm.doc.direction);if(!bidi){return moveLogically(line,start,dir)}if(start.ch>=line.text.length){start.ch=line.text.length;start.sticky="before"}else{if(start.ch<=0){start.ch=0;start.sticky="after"}}var partPos=getBidiPartAt(bidi,start.ch,start.sticky),part=bidi[partPos];if(cm.doc.direction=="ltr"&&part.level%2==0&&(dir>0?part.to>start.ch:part.from<start.ch)){return moveLogically(line,start,dir)}var mv=function(pos,dir){return moveCharLogically(line,pos instanceof Pos?pos.ch:pos,dir)};var prep;var getWrappedLineExtent=function(ch){if(!cm.options.lineWrapping){return{begin:0,end:line.text.length}}prep=prep||prepareMeasureForLine(cm,line);return wrappedLineExtentChar(cm,line,prep,ch)};var wrappedLineExtent=getWrappedLineExtent(start.sticky=="before"?mv(start,-1):start.ch);if(cm.doc.direction=="rtl"||part.level==1){var moveInStorageOrder=(part.level==1)==(dir<0);var ch=mv(start,moveInStorageOrder?1:-1);if(ch!=null&&(!moveInStorageOrder?ch>=part.from&&ch>=wrappedLineExtent.begin:ch<=part.to&&ch<=wrappedLineExtent.end)){var sticky=moveInStorageOrder?"before":"after";return new Pos(start.line,ch,sticky)}}var searchInVisualLine=function(partPos,dir,wrappedLineExtent){var getRes=function(ch,moveInStorageOrder){return moveInStorageOrder?new Pos(start.line,mv(ch,1),"before"):new Pos(start.line,ch,"after")
};for(;partPos>=0&&partPos<bidi.length;partPos+=dir){var part=bidi[partPos];var moveInStorageOrder=(dir>0)==(part.level!=1);var ch=moveInStorageOrder?wrappedLineExtent.begin:mv(wrappedLineExtent.end,-1);if(part.from<=ch&&ch<part.to){return getRes(ch,moveInStorageOrder)}ch=moveInStorageOrder?part.from:mv(part.to,-1);if(wrappedLineExtent.begin<=ch&&ch<wrappedLineExtent.end){return getRes(ch,moveInStorageOrder)}}};var res=searchInVisualLine(partPos+dir,dir,wrappedLineExtent);if(res){return res}var nextCh=dir>0?wrappedLineExtent.end:mv(wrappedLineExtent.begin,-1);if(nextCh!=null&&!(dir>0&&nextCh==line.text.length)){res=searchInVisualLine(dir>0?0:bidi.length-1,dir,getWrappedLineExtent(nextCh));if(res){return res}}return null}var commands={selectAll:selectAll,singleSelection:function(cm){return cm.setSelection(cm.getCursor("anchor"),cm.getCursor("head"),sel_dontScroll)},killLine:function(cm){return deleteNearSelection(cm,function(range){if(range.empty()){var len=getLine(cm.doc,range.head.line).text.length;if(range.head.ch==len&&range.head.line<cm.lastLine()){return{from:range.head,to:Pos(range.head.line+1,0)}}else{return{from:range.head,to:Pos(range.head.line,len)}}}else{return{from:range.from(),to:range.to()}}})},deleteLine:function(cm){return deleteNearSelection(cm,function(range){return({from:Pos(range.from().line,0),to:clipPos(cm.doc,Pos(range.to().line+1,0))})})},delLineLeft:function(cm){return deleteNearSelection(cm,function(range){return({from:Pos(range.from().line,0),to:range.from()})})},delWrappedLineLeft:function(cm){return deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,"div").top+5;var leftPos=cm.coordsChar({left:0,top:top},"div");return{from:leftPos,to:range.from()}})},delWrappedLineRight:function(cm){return deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,"div").top+5;var rightPos=cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div");return{from:range.from(),to:rightPos}})},undo:function(cm){return cm.undo()
},redo:function(cm){return cm.redo()},undoSelection:function(cm){return cm.undoSelection()},redoSelection:function(cm){return cm.redoSelection()},goDocStart:function(cm){return cm.extendSelection(Pos(cm.firstLine(),0))},goDocEnd:function(cm){return cm.extendSelection(Pos(cm.lastLine()))},goLineStart:function(cm){return cm.extendSelectionsBy(function(range){return lineStart(cm,range.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(cm){return cm.extendSelectionsBy(function(range){return lineStartSmart(cm,range.head)},{origin:"+move",bias:1})},goLineEnd:function(cm){return cm.extendSelectionsBy(function(range){return lineEnd(cm,range.head.line)},{origin:"+move",bias:-1})},goLineRight:function(cm){return cm.extendSelectionsBy(function(range){var top=cm.cursorCoords(range.head,"div").top+5;return cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div")},sel_move)},goLineLeft:function(cm){return cm.extendSelectionsBy(function(range){var top=cm.cursorCoords(range.head,"div").top+5;return cm.coordsChar({left:0,top:top},"div")},sel_move)},goLineLeftSmart:function(cm){return cm.extendSelectionsBy(function(range){var top=cm.cursorCoords(range.head,"div").top+5;var pos=cm.coordsChar({left:0,top:top},"div");if(pos.ch<cm.getLine(pos.line).search(/\S/)){return lineStartSmart(cm,range.head)}return pos},sel_move)},goLineUp:function(cm){return cm.moveV(-1,"line")},goLineDown:function(cm){return cm.moveV(1,"line")},goPageUp:function(cm){return cm.moveV(-1,"page")},goPageDown:function(cm){return cm.moveV(1,"page")},goCharLeft:function(cm){return cm.moveH(-1,"char")},goCharRight:function(cm){return cm.moveH(1,"char")},goColumnLeft:function(cm){return cm.moveH(-1,"column")},goColumnRight:function(cm){return cm.moveH(1,"column")},goWordLeft:function(cm){return cm.moveH(-1,"word")},goGroupRight:function(cm){return cm.moveH(1,"group")},goGroupLeft:function(cm){return cm.moveH(-1,"group")},goWordRight:function(cm){return cm.moveH(1,"word")},delCharBefore:function(cm){return cm.deleteH(-1,"char")
},delCharAfter:function(cm){return cm.deleteH(1,"char")},delWordBefore:function(cm){return cm.deleteH(-1,"word")},delWordAfter:function(cm){return cm.deleteH(1,"word")},delGroupBefore:function(cm){return cm.deleteH(-1,"group")},delGroupAfter:function(cm){return cm.deleteH(1,"group")},indentAuto:function(cm){return cm.indentSelection("smart")},indentMore:function(cm){return cm.indentSelection("add")},indentLess:function(cm){return cm.indentSelection("subtract")},insertTab:function(cm){return cm.replaceSelection("\t")},insertSoftTab:function(cm){var spaces=[],ranges=cm.listSelections(),tabSize=cm.options.tabSize;for(var i=0;i<ranges.length;i++){var pos=ranges[i].from();var col=countColumn(cm.getLine(pos.line),pos.ch,tabSize);spaces.push(spaceStr(tabSize-col%tabSize))}cm.replaceSelections(spaces)},defaultTab:function(cm){if(cm.somethingSelected()){cm.indentSelection("add")}else{cm.execCommand("insertTab")}},transposeChars:function(cm){return runInOp(cm,function(){var ranges=cm.listSelections(),newSel=[];for(var i=0;i<ranges.length;i++){if(!ranges[i].empty()){continue}var cur=ranges[i].head,line=getLine(cm.doc,cur.line).text;if(line){if(cur.ch==line.length){cur=new Pos(cur.line,cur.ch-1)}if(cur.ch>0){cur=new Pos(cur.line,cur.ch+1);cm.replaceRange(line.charAt(cur.ch-1)+line.charAt(cur.ch-2),Pos(cur.line,cur.ch-2),cur,"+transpose")}else{if(cur.line>cm.doc.first){var prev=getLine(cm.doc,cur.line-1).text;if(prev){cur=new Pos(cur.line,1);cm.replaceRange(line.charAt(0)+cm.doc.lineSeparator()+prev.charAt(prev.length-1),Pos(cur.line-1,prev.length-1),cur,"+transpose")}}}}newSel.push(new Range(cur,cur))}cm.setSelections(newSel)})},newlineAndIndent:function(cm){return runInOp(cm,function(){var sels=cm.listSelections();for(var i=sels.length-1;i>=0;i--){cm.replaceRange(cm.doc.lineSeparator(),sels[i].anchor,sels[i].head,"+input")}sels=cm.listSelections();for(var i$1=0;i$1<sels.length;i$1++){cm.indentLine(sels[i$1].from().line,null,true)}ensureCursorVisible(cm)})},openLine:function(cm){return cm.replaceSelection("\n","start")
},toggleOverwrite:function(cm){return cm.toggleOverwrite()}};function lineStart(cm,lineN){var line=getLine(cm.doc,lineN);var visual=visualLine(line);if(visual!=line){lineN=lineNo(visual)}return endOfLine(true,cm,visual,lineN,1)}function lineEnd(cm,lineN){var line=getLine(cm.doc,lineN);var visual=visualLineEnd(line);if(visual!=line){lineN=lineNo(visual)}return endOfLine(true,cm,line,lineN,-1)}function lineStartSmart(cm,pos){var start=lineStart(cm,pos.line);var line=getLine(cm.doc,start.line);var order=getOrder(line,cm.doc.direction);if(!order||order[0].level==0){var firstNonWS=Math.max(0,line.text.search(/\S/));var inWS=pos.line==start.line&&pos.ch<=firstNonWS&&pos.ch;return Pos(start.line,inWS?0:firstNonWS,start.sticky)}return start}function doHandleBinding(cm,bound,dropShift){if(typeof bound=="string"){bound=commands[bound];if(!bound){return false}}cm.display.input.ensurePolled();var prevShift=cm.display.shift,done=false;try{if(cm.isReadOnly()){cm.state.suppressEdits=true}if(dropShift){cm.display.shift=false}done=bound(cm)!=Pass}finally{cm.display.shift=prevShift;cm.state.suppressEdits=false}return done}function lookupKeyForEditor(cm,name,handle){for(var i=0;i<cm.state.keyMaps.length;i++){var result=lookupKey(name,cm.state.keyMaps[i],handle,cm);if(result){return result}}return(cm.options.extraKeys&&lookupKey(name,cm.options.extraKeys,handle,cm))||lookupKey(name,cm.options.keyMap,handle,cm)}var stopSeq=new Delayed;function dispatchKey(cm,name,e,handle){var seq=cm.state.keySeq;if(seq){if(isModifierKey(name)){return"handled"}if(/\'$/.test(name)){cm.state.keySeq=null}else{stopSeq.set(50,function(){if(cm.state.keySeq==seq){cm.state.keySeq=null;cm.display.input.reset()}})}if(dispatchKeyInner(cm,seq+" "+name,e,handle)){return true}}return dispatchKeyInner(cm,name,e,handle)}function dispatchKeyInner(cm,name,e,handle){var result=lookupKeyForEditor(cm,name,handle);if(result=="multi"){cm.state.keySeq=name}if(result=="handled"){signalLater(cm,"keyHandled",cm,name,e)}if(result=="handled"||result=="multi"){e_preventDefault(e);
restartBlink(cm)}return !!result}function handleKeyBinding(cm,e){var name=keyName(e,true);if(!name){return false}if(e.shiftKey&&!cm.state.keySeq){return dispatchKey(cm,"Shift-"+name,e,function(b){return doHandleBinding(cm,b,true)})||dispatchKey(cm,name,e,function(b){if(typeof b=="string"?/^go[A-Z]/.test(b):b.motion){return doHandleBinding(cm,b)}})}else{return dispatchKey(cm,name,e,function(b){return doHandleBinding(cm,b)})}}function handleCharBinding(cm,e,ch){return dispatchKey(cm,"'"+ch+"'",e,function(b){return doHandleBinding(cm,b,true)})}var lastStoppedKey=null;function onKeyDown(e){var cm=this;cm.curOp.focus=activeElt();if(signalDOMEvent(cm,e)){return}if(ie&&ie_version<11&&e.keyCode==27){e.returnValue=false}var code=e.keyCode;cm.display.shift=code==16||e.shiftKey;var handled=handleKeyBinding(cm,e);if(presto){lastStoppedKey=handled?code:null;if(!handled&&code==88&&!hasCopyEvent&&(mac?e.metaKey:e.ctrlKey)){cm.replaceSelection("",null,"cut")}}if(code==18&&!/\bCodeMirror-crosshair\b/.test(cm.display.lineDiv.className)){showCrossHair(cm)}}function showCrossHair(cm){var lineDiv=cm.display.lineDiv;addClass(lineDiv,"CodeMirror-crosshair");function up(e){if(e.keyCode==18||!e.altKey){rmClass(lineDiv,"CodeMirror-crosshair");off(document,"keyup",up);off(document,"mouseover",up)}}on(document,"keyup",up);on(document,"mouseover",up)}function onKeyUp(e){if(e.keyCode==16){this.doc.sel.shift=false}signalDOMEvent(this,e)}function onKeyPress(e){var cm=this;if(eventInWidget(cm.display,e)||signalDOMEvent(cm,e)||e.ctrlKey&&!e.altKey||mac&&e.metaKey){return}var keyCode=e.keyCode,charCode=e.charCode;if(presto&&keyCode==lastStoppedKey){lastStoppedKey=null;e_preventDefault(e);return}if((presto&&(!e.which||e.which<10))&&handleKeyBinding(cm,e)){return}var ch=String.fromCharCode(charCode==null?keyCode:charCode);if(ch=="\x08"){return}if(handleCharBinding(cm,e,ch)){return}cm.display.input.onKeyPress(e)}var DOUBLECLICK_DELAY=400;var PastClick=function(time,pos,button){this.time=time;this.pos=pos;
this.button=button};PastClick.prototype.compare=function(time,pos,button){return this.time+DOUBLECLICK_DELAY>time&&cmp(pos,this.pos)==0&&button==this.button};var lastClick;var lastDoubleClick;function clickRepeat(pos,button){var now=+new Date;if(lastDoubleClick&&lastDoubleClick.compare(now,pos,button)){lastClick=lastDoubleClick=null;return"triple"}else{if(lastClick&&lastClick.compare(now,pos,button)){lastDoubleClick=new PastClick(now,pos,button);lastClick=null;return"double"}else{lastClick=new PastClick(now,pos,button);lastDoubleClick=null;return"single"}}}function onMouseDown(e){var cm=this,display=cm.display;if(signalDOMEvent(cm,e)||display.activeTouch&&display.input.supportsTouch()){return}display.input.ensurePolled();display.shift=e.shiftKey;if(eventInWidget(display,e)){if(!webkit){display.scroller.draggable=false;setTimeout(function(){return display.scroller.draggable=true},100)}return}if(clickInGutter(cm,e)){return}var pos=posFromMouse(cm,e),button=e_button(e),repeat=pos?clickRepeat(pos,button):"single";window.focus();if(button==1&&cm.state.selectingText){cm.state.selectingText(e)}if(pos&&handleMappedButton(cm,button,pos,repeat,e)){return}if(button==1){if(pos){leftButtonDown(cm,pos,repeat,e)}else{if(e_target(e)==display.scroller){e_preventDefault(e)}}}else{if(button==2){if(pos){extendSelection(cm.doc,pos)}setTimeout(function(){return display.input.focus()},20)}else{if(button==3){if(captureRightClick){onContextMenu(cm,e)}else{delayBlurEvent(cm)}}}}}function handleMappedButton(cm,button,pos,repeat,event){var name="Click";if(repeat=="double"){name="Double"+name}else{if(repeat=="triple"){name="Triple"+name}}name=(button==1?"Left":button==2?"Middle":"Right")+name;return dispatchKey(cm,addModifierNames(name,event),event,function(bound){if(typeof bound=="string"){bound=commands[bound]}if(!bound){return false}var done=false;try{if(cm.isReadOnly()){cm.state.suppressEdits=true}done=bound(cm,pos)!=Pass}finally{cm.state.suppressEdits=false}return done})}function configureMouse(cm,repeat,event){var option=cm.getOption("configureMouse");
var value=option?option(cm,repeat,event):{};if(value.unit==null){var rect=chromeOS?event.shiftKey&&event.metaKey:event.altKey;value.unit=rect?"rectangle":repeat=="single"?"char":repeat=="double"?"word":"line"}if(value.extend==null||cm.doc.extend){value.extend=cm.doc.extend||event.shiftKey}if(value.addNew==null){value.addNew=mac?event.metaKey:event.ctrlKey}if(value.moveOnDrag==null){value.moveOnDrag=!(mac?event.altKey:event.ctrlKey)}return value}function leftButtonDown(cm,pos,repeat,event){if(ie){setTimeout(bind(ensureFocus,cm),0)}else{cm.curOp.focus=activeElt()}var behavior=configureMouse(cm,repeat,event);var sel=cm.doc.sel,contained;if(cm.options.dragDrop&&dragAndDrop&&!cm.isReadOnly()&&repeat=="single"&&(contained=sel.contains(pos))>-1&&(cmp((contained=sel.ranges[contained]).from(),pos)<0||pos.xRel>0)&&(cmp(contained.to(),pos)>0||pos.xRel<0)){leftButtonStartDrag(cm,event,pos,behavior)}else{leftButtonSelect(cm,event,pos,behavior)}}function leftButtonStartDrag(cm,event,pos,behavior){var display=cm.display,moved=false;var dragEnd=operation(cm,function(e){if(webkit){display.scroller.draggable=false}cm.state.draggingText=false;off(display.wrapper.ownerDocument,"mouseup",dragEnd);off(display.wrapper.ownerDocument,"mousemove",mouseMove);off(display.scroller,"dragstart",dragStart);off(display.scroller,"drop",dragEnd);if(!moved){e_preventDefault(e);if(!behavior.addNew){extendSelection(cm.doc,pos,null,null,behavior.extend)}if(webkit||ie&&ie_version==9){setTimeout(function(){display.wrapper.ownerDocument.body.focus();display.input.focus()},20)}else{display.input.focus()}}});var mouseMove=function(e2){moved=moved||Math.abs(event.clientX-e2.clientX)+Math.abs(event.clientY-e2.clientY)>=10};var dragStart=function(){return moved=true};if(webkit){display.scroller.draggable=true}cm.state.draggingText=dragEnd;dragEnd.copy=!behavior.moveOnDrag;if(display.scroller.dragDrop){display.scroller.dragDrop()}on(display.wrapper.ownerDocument,"mouseup",dragEnd);on(display.wrapper.ownerDocument,"mousemove",mouseMove);
on(display.scroller,"dragstart",dragStart);on(display.scroller,"drop",dragEnd);delayBlurEvent(cm);setTimeout(function(){return display.input.focus()},20)}function rangeForUnit(cm,pos,unit){if(unit=="char"){return new Range(pos,pos)}if(unit=="word"){return cm.findWordAt(pos)}if(unit=="line"){return new Range(Pos(pos.line,0),clipPos(cm.doc,Pos(pos.line+1,0)))}var result=unit(cm,pos);return new Range(result.from,result.to)}function leftButtonSelect(cm,event,start,behavior){var display=cm.display,doc=cm.doc;e_preventDefault(event);var ourRange,ourIndex,startSel=doc.sel,ranges=startSel.ranges;if(behavior.addNew&&!behavior.extend){ourIndex=doc.sel.contains(start);if(ourIndex>-1){ourRange=ranges[ourIndex]}else{ourRange=new Range(start,start)}}else{ourRange=doc.sel.primary();ourIndex=doc.sel.primIndex}if(behavior.unit=="rectangle"){if(!behavior.addNew){ourRange=new Range(start,start)}start=posFromMouse(cm,event,true,true);ourIndex=-1}else{var range$$1=rangeForUnit(cm,start,behavior.unit);if(behavior.extend){ourRange=extendRange(ourRange,range$$1.anchor,range$$1.head,behavior.extend)}else{ourRange=range$$1}}if(!behavior.addNew){ourIndex=0;setSelection(doc,new Selection([ourRange],0),sel_mouse);startSel=doc.sel}else{if(ourIndex==-1){ourIndex=ranges.length;setSelection(doc,normalizeSelection(ranges.concat([ourRange]),ourIndex),{scroll:false,origin:"*mouse"})}else{if(ranges.length>1&&ranges[ourIndex].empty()&&behavior.unit=="char"&&!behavior.extend){setSelection(doc,normalizeSelection(ranges.slice(0,ourIndex).concat(ranges.slice(ourIndex+1)),0),{scroll:false,origin:"*mouse"});startSel=doc.sel}else{replaceOneSelection(doc,ourIndex,ourRange,sel_mouse)}}}var lastPos=start;function extendTo(pos){if(cmp(lastPos,pos)==0){return}lastPos=pos;if(behavior.unit=="rectangle"){var ranges=[],tabSize=cm.options.tabSize;var startCol=countColumn(getLine(doc,start.line).text,start.ch,tabSize);var posCol=countColumn(getLine(doc,pos.line).text,pos.ch,tabSize);var left=Math.min(startCol,posCol),right=Math.max(startCol,posCol);
for(var line=Math.min(start.line,pos.line),end=Math.min(cm.lastLine(),Math.max(start.line,pos.line));line<=end;line++){var text=getLine(doc,line).text,leftPos=findColumn(text,left,tabSize);if(left==right){ranges.push(new Range(Pos(line,leftPos),Pos(line,leftPos)))}else{if(text.length>leftPos){ranges.push(new Range(Pos(line,leftPos),Pos(line,findColumn(text,right,tabSize))))}}}if(!ranges.length){ranges.push(new Range(start,start))}setSelection(doc,normalizeSelection(startSel.ranges.slice(0,ourIndex).concat(ranges),ourIndex),{origin:"*mouse",scroll:false});cm.scrollIntoView(pos)}else{var oldRange=ourRange;var range$$1=rangeForUnit(cm,pos,behavior.unit);var anchor=oldRange.anchor,head;if(cmp(range$$1.anchor,anchor)>0){head=range$$1.head;anchor=minPos(oldRange.from(),range$$1.anchor)}else{head=range$$1.anchor;anchor=maxPos(oldRange.to(),range$$1.head)}var ranges$1=startSel.ranges.slice(0);ranges$1[ourIndex]=bidiSimplify(cm,new Range(clipPos(doc,anchor),head));setSelection(doc,normalizeSelection(ranges$1,ourIndex),sel_mouse)}}var editorSize=display.wrapper.getBoundingClientRect();var counter=0;function extend(e){var curCount=++counter;var cur=posFromMouse(cm,e,true,behavior.unit=="rectangle");if(!cur){return}if(cmp(cur,lastPos)!=0){cm.curOp.focus=activeElt();extendTo(cur);var visible=visibleLines(display,doc);if(cur.line>=visible.to||cur.line<visible.from){setTimeout(operation(cm,function(){if(counter==curCount){extend(e)}}),150)}}else{var outside=e.clientY<editorSize.top?-20:e.clientY>editorSize.bottom?20:0;if(outside){setTimeout(operation(cm,function(){if(counter!=curCount){return}display.scroller.scrollTop+=outside;extend(e)}),50)}}}function done(e){cm.state.selectingText=false;counter=Infinity;e_preventDefault(e);display.input.focus();off(display.wrapper.ownerDocument,"mousemove",move);off(display.wrapper.ownerDocument,"mouseup",up);doc.history.lastSelOrigin=null}var move=operation(cm,function(e){if(e.buttons===0||!e_button(e)){done(e)}else{extend(e)}});var up=operation(cm,done);
cm.state.selectingText=up;on(display.wrapper.ownerDocument,"mousemove",move);on(display.wrapper.ownerDocument,"mouseup",up)}function bidiSimplify(cm,range$$1){var anchor=range$$1.anchor;var head=range$$1.head;var anchorLine=getLine(cm.doc,anchor.line);if(cmp(anchor,head)==0&&anchor.sticky==head.sticky){return range$$1}var order=getOrder(anchorLine);if(!order){return range$$1}var index=getBidiPartAt(order,anchor.ch,anchor.sticky),part=order[index];if(part.from!=anchor.ch&&part.to!=anchor.ch){return range$$1}var boundary=index+((part.from==anchor.ch)==(part.level!=1)?0:1);if(boundary==0||boundary==order.length){return range$$1}var leftSide;if(head.line!=anchor.line){leftSide=(head.line-anchor.line)*(cm.doc.direction=="ltr"?1:-1)>0}else{var headIndex=getBidiPartAt(order,head.ch,head.sticky);var dir=headIndex-index||(head.ch-anchor.ch)*(part.level==1?-1:1);if(headIndex==boundary-1||headIndex==boundary){leftSide=dir<0}else{leftSide=dir>0}}var usePart=order[boundary+(leftSide?-1:0)];var from=leftSide==(usePart.level==1);var ch=from?usePart.from:usePart.to,sticky=from?"after":"before";return anchor.ch==ch&&anchor.sticky==sticky?range$$1:new Range(new Pos(anchor.line,ch,sticky),head)}function gutterEvent(cm,e,type,prevent){var mX,mY;if(e.touches){mX=e.touches[0].clientX;mY=e.touches[0].clientY}else{try{mX=e.clientX;mY=e.clientY}catch(e){return false}}if(mX>=Math.floor(cm.display.gutters.getBoundingClientRect().right)){return false}if(prevent){e_preventDefault(e)}var display=cm.display;var lineBox=display.lineDiv.getBoundingClientRect();if(mY>lineBox.bottom||!hasHandler(cm,type)){return e_defaultPrevented(e)}mY-=lineBox.top-display.viewOffset;for(var i=0;i<cm.options.gutters.length;++i){var g=display.gutters.childNodes[i];if(g&&g.getBoundingClientRect().right>=mX){var line=lineAtHeight(cm.doc,mY);var gutter=cm.options.gutters[i];signal(cm,type,cm,line,gutter,e);return e_defaultPrevented(e)}}}function clickInGutter(cm,e){return gutterEvent(cm,e,"gutterClick",true)}function onContextMenu(cm,e){if(eventInWidget(cm.display,e)||contextMenuInGutter(cm,e)){return
}if(signalDOMEvent(cm,e,"contextmenu")){return}cm.display.input.onContextMenu(e)}function contextMenuInGutter(cm,e){if(!hasHandler(cm,"gutterContextMenu")){return false}return gutterEvent(cm,e,"gutterContextMenu",false)}function themeChanged(cm){cm.display.wrapper.className=cm.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+cm.options.theme.replace(/(^|\s)\s*/g," cm-s-");clearCaches(cm)}var Init={toString:function(){return"CodeMirror.Init"}};var defaults={};var optionHandlers={};function defineOptions(CodeMirror){var optionHandlers=CodeMirror.optionHandlers;function option(name,deflt,handle,notOnInit){CodeMirror.defaults[name]=deflt;if(handle){optionHandlers[name]=notOnInit?function(cm,val,old){if(old!=Init){handle(cm,val,old)}}:handle}}CodeMirror.defineOption=option;CodeMirror.Init=Init;option("value","",function(cm,val){return cm.setValue(val)},true);option("mode",null,function(cm,val){cm.doc.modeOption=val;loadMode(cm)},true);option("indentUnit",2,loadMode,true);option("indentWithTabs",false);option("smartIndent",true);option("tabSize",4,function(cm){resetModeState(cm);clearCaches(cm);regChange(cm)},true);option("lineSeparator",null,function(cm,val){cm.doc.lineSep=val;if(!val){return}var newBreaks=[],lineNo=cm.doc.first;cm.doc.iter(function(line){for(var pos=0;;){var found=line.text.indexOf(val,pos);if(found==-1){break}pos=found+val.length;newBreaks.push(Pos(lineNo,found))}lineNo++});for(var i=newBreaks.length-1;i>=0;i--){replaceRange(cm.doc,val,newBreaks[i],Pos(newBreaks[i].line,newBreaks[i].ch+val.length))}});option("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(cm,val,old){cm.state.specialChars=new RegExp(val.source+(val.test("\t")?"":"|\t"),"g");if(old!=Init){cm.refresh()}});option("specialCharPlaceholder",defaultSpecialCharPlaceholder,function(cm){return cm.refresh()},true);option("electricChars",true);option("inputStyle",mobile?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")
},true);option("spellcheck",false,function(cm,val){return cm.getInputField().spellcheck=val},true);option("rtlMoveVisually",!windows);option("wholeLineUpdateBefore",true);option("theme","default",function(cm){themeChanged(cm);guttersChanged(cm)},true);option("keyMap","default",function(cm,val,old){var next=getKeyMap(val);var prev=old!=Init&&getKeyMap(old);if(prev&&prev.detach){prev.detach(cm,next)}if(next.attach){next.attach(cm,prev||null)}});option("extraKeys",null);option("configureMouse",null);option("lineWrapping",false,wrappingChanged,true);option("gutters",[],function(cm){setGuttersForLineNumbers(cm.options);guttersChanged(cm)},true);option("fixedGutter",true,function(cm,val){cm.display.gutters.style.left=val?compensateForHScroll(cm.display)+"px":"0";cm.refresh()},true);option("coverGutterNextToScrollbar",false,function(cm){return updateScrollbars(cm)},true);option("scrollbarStyle","native",function(cm){initScrollbars(cm);updateScrollbars(cm);cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft)},true);option("lineNumbers",false,function(cm){setGuttersForLineNumbers(cm.options);guttersChanged(cm)},true);option("firstLineNumber",1,guttersChanged,true);option("lineNumberFormatter",function(integer){return integer},guttersChanged,true);option("showCursorWhenSelecting",false,updateSelection,true);option("resetSelectionOnContextMenu",true);option("lineWiseCopyCut",true);option("pasteLinesPerSelection",true);option("readOnly",false,function(cm,val){if(val=="nocursor"){onBlur(cm);cm.display.input.blur()}cm.display.input.readOnlyChanged(val)});option("disableInput",false,function(cm,val){if(!val){cm.display.input.reset()}},true);option("dragDrop",true,dragDropChanged);option("allowDropFileTypes",null);option("cursorBlinkRate",530);option("cursorScrollMargin",0);option("cursorHeight",1,updateSelection,true);option("singleCursorHeightPerLine",true,updateSelection,true);option("workTime",100);option("workDelay",100);option("flattenSpans",true,resetModeState,true);
option("addModeClass",false,resetModeState,true);option("pollInterval",100);option("undoDepth",200,function(cm,val){return cm.doc.history.undoDepth=val});option("historyEventDelay",1250);option("viewportMargin",10,function(cm){return cm.refresh()},true);option("maxHighlightLength",10000,resetModeState,true);option("moveInputWithCursor",true,function(cm,val){if(!val){cm.display.input.resetPosition()}});option("tabindex",null,function(cm,val){return cm.display.input.getField().tabIndex=val||""});option("autofocus",null);option("direction","ltr",function(cm,val){return cm.doc.setDirection(val)},true)}function guttersChanged(cm){updateGutters(cm);regChange(cm);alignHorizontally(cm)}function dragDropChanged(cm,value,old){var wasOn=old&&old!=Init;if(!value!=!wasOn){var funcs=cm.display.dragFunctions;var toggle=value?on:off;toggle(cm.display.scroller,"dragstart",funcs.start);toggle(cm.display.scroller,"dragenter",funcs.enter);toggle(cm.display.scroller,"dragover",funcs.over);toggle(cm.display.scroller,"dragleave",funcs.leave);toggle(cm.display.scroller,"drop",funcs.drop)}}function wrappingChanged(cm){if(cm.options.lineWrapping){addClass(cm.display.wrapper,"CodeMirror-wrap");cm.display.sizer.style.minWidth="";cm.display.sizerWidth=null}else{rmClass(cm.display.wrapper,"CodeMirror-wrap");findMaxLine(cm)}estimateLineHeights(cm);regChange(cm);clearCaches(cm);setTimeout(function(){return updateScrollbars(cm)},100)}function CodeMirror$1(place,options){var this$1=this;if(!(this instanceof CodeMirror$1)){return new CodeMirror$1(place,options)}this.options=options=options?copyObj(options):{};copyObj(defaults,options,false);setGuttersForLineNumbers(options);var doc=options.value;if(typeof doc=="string"){doc=new Doc(doc,options.mode,null,options.lineSeparator,options.direction)}else{if(options.mode){doc.modeOption=options.mode}}this.doc=doc;var input=new CodeMirror$1.inputStyles[options.inputStyle](this);var display=this.display=new Display(place,doc,input);display.wrapper.CodeMirror=this;
updateGutters(this);themeChanged(this);if(options.lineWrapping){this.display.wrapper.className+=" CodeMirror-wrap"}initScrollbars(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,delayingBlurEvent:false,focused:false,suppressEdits:false,pasteIncoming:false,cutIncoming:false,selectingText:false,draggingText:false,highlight:new Delayed(),keySeq:null,specialChars:null};if(options.autofocus&&!mobile){display.input.focus()}if(ie&&ie_version<11){setTimeout(function(){return this$1.display.input.reset(true)},20)}registerEventHandlers(this);ensureGlobalHandlers();startOperation(this);this.curOp.forceUpdate=true;attachDoc(this,doc);if((options.autofocus&&!mobile)||this.hasFocus()){setTimeout(bind(onFocus,this),20)}else{onBlur(this)}for(var opt in optionHandlers){if(optionHandlers.hasOwnProperty(opt)){optionHandlers[opt](this$1,options[opt],Init)}}maybeUpdateLineNumberWidth(this);if(options.finishInit){options.finishInit(this)}for(var i=0;i<initHooks.length;++i){initHooks[i](this$1)}endOperation(this);if(webkit&&options.lineWrapping&&getComputedStyle(display.lineDiv).textRendering=="optimizelegibility"){display.lineDiv.style.textRendering="auto"}}CodeMirror$1.defaults=defaults;CodeMirror$1.optionHandlers=optionHandlers;function registerEventHandlers(cm){var d=cm.display;on(d.scroller,"mousedown",operation(cm,onMouseDown));if(ie&&ie_version<11){on(d.scroller,"dblclick",operation(cm,function(e){if(signalDOMEvent(cm,e)){return}var pos=posFromMouse(cm,e);if(!pos||clickInGutter(cm,e)||eventInWidget(cm.display,e)){return}e_preventDefault(e);var word=cm.findWordAt(pos);extendSelection(cm.doc,word.anchor,word.head)}))}else{on(d.scroller,"dblclick",function(e){return signalDOMEvent(cm,e)||e_preventDefault(e)})}if(!captureRightClick){on(d.scroller,"contextmenu",function(e){return onContextMenu(cm,e)})}var touchFinished,prevTouch={end:0};function finishTouch(){if(d.activeTouch){touchFinished=setTimeout(function(){return d.activeTouch=null},1000);prevTouch=d.activeTouch;
prevTouch.end=+new Date}}function isMouseLikeTouchEvent(e){if(e.touches.length!=1){return false}var touch=e.touches[0];return touch.radiusX<=1&&touch.radiusY<=1}function farAway(touch,other){if(other.left==null){return true}var dx=other.left-touch.left,dy=other.top-touch.top;return dx*dx+dy*dy>20*20}on(d.scroller,"touchstart",function(e){if(!signalDOMEvent(cm,e)&&!isMouseLikeTouchEvent(e)&&!clickInGutter(cm,e)){d.input.ensurePolled();clearTimeout(touchFinished);var now=+new Date;d.activeTouch={start:now,moved:false,prev:now-prevTouch.end<=300?prevTouch:null};if(e.touches.length==1){d.activeTouch.left=e.touches[0].pageX;d.activeTouch.top=e.touches[0].pageY}}});on(d.scroller,"touchmove",function(){if(d.activeTouch){d.activeTouch.moved=true}});on(d.scroller,"touchend",function(e){var touch=d.activeTouch;if(touch&&!eventInWidget(d,e)&&touch.left!=null&&!touch.moved&&new Date-touch.start<300){var pos=cm.coordsChar(d.activeTouch,"page"),range;if(!touch.prev||farAway(touch,touch.prev)){range=new Range(pos,pos)}else{if(!touch.prev.prev||farAway(touch,touch.prev.prev)){range=cm.findWordAt(pos)}else{range=new Range(Pos(pos.line,0),clipPos(cm.doc,Pos(pos.line+1,0)))}}cm.setSelection(range.anchor,range.head);cm.focus();e_preventDefault(e)}finishTouch()});on(d.scroller,"touchcancel",finishTouch);on(d.scroller,"scroll",function(){if(d.scroller.clientHeight){updateScrollTop(cm,d.scroller.scrollTop);setScrollLeft(cm,d.scroller.scrollLeft,true);signal(cm,"scroll",cm)}});on(d.scroller,"mousewheel",function(e){return onScrollWheel(cm,e)});on(d.scroller,"DOMMouseScroll",function(e){return onScrollWheel(cm,e)});on(d.wrapper,"scroll",function(){return d.wrapper.scrollTop=d.wrapper.scrollLeft=0});d.dragFunctions={enter:function(e){if(!signalDOMEvent(cm,e)){e_stop(e)}},over:function(e){if(!signalDOMEvent(cm,e)){onDragOver(cm,e);e_stop(e)}},start:function(e){return onDragStart(cm,e)},drop:operation(cm,onDrop),leave:function(e){if(!signalDOMEvent(cm,e)){clearDragCursor(cm)}}};var inp=d.input.getField();
on(inp,"keyup",function(e){return onKeyUp.call(cm,e)});on(inp,"keydown",operation(cm,onKeyDown));on(inp,"keypress",operation(cm,onKeyPress));on(inp,"focus",function(e){return onFocus(cm,e)});on(inp,"blur",function(e){return onBlur(cm,e)})}var initHooks=[];CodeMirror$1.defineInitHook=function(f){return initHooks.push(f)};function indentLine(cm,n,how,aggressive){var doc=cm.doc,state;if(how==null){how="add"}if(how=="smart"){if(!doc.mode.indent){how="prev"}else{state=getContextBefore(cm,n).state}}var tabSize=cm.options.tabSize;var line=getLine(doc,n),curSpace=countColumn(line.text,null,tabSize);if(line.stateAfter){line.stateAfter=null}var curSpaceString=line.text.match(/^\s*/)[0],indentation;if(!aggressive&&!/\S/.test(line.text)){indentation=0;how="not"}else{if(how=="smart"){indentation=doc.mode.indent(state,line.text.slice(curSpaceString.length),line.text);if(indentation==Pass||indentation>150){if(!aggressive){return}how="prev"}}}if(how=="prev"){if(n>doc.first){indentation=countColumn(getLine(doc,n-1).text,null,tabSize)}else{indentation=0}}else{if(how=="add"){indentation=curSpace+cm.options.indentUnit}else{if(how=="subtract"){indentation=curSpace-cm.options.indentUnit}else{if(typeof how=="number"){indentation=curSpace+how}}}}indentation=Math.max(0,indentation);var indentString="",pos=0;if(cm.options.indentWithTabs){for(var i=Math.floor(indentation/tabSize);i;--i){pos+=tabSize;indentString+="\t"}}if(pos<indentation){indentString+=spaceStr(indentation-pos)}if(indentString!=curSpaceString){replaceRange(doc,indentString,Pos(n,0),Pos(n,curSpaceString.length),"+input");line.stateAfter=null;return true}else{for(var i$1=0;i$1<doc.sel.ranges.length;i$1++){var range=doc.sel.ranges[i$1];if(range.head.line==n&&range.head.ch<curSpaceString.length){var pos$1=Pos(n,curSpaceString.length);replaceOneSelection(doc,i$1,new Range(pos$1,pos$1));break}}}}var lastCopied=null;function setLastCopied(newLastCopied){lastCopied=newLastCopied}function applyTextInput(cm,inserted,deleted,sel,origin){var doc=cm.doc;
cm.display.shift=false;if(!sel){sel=doc.sel}var paste=cm.state.pasteIncoming||origin=="paste";var textLines=splitLinesAuto(inserted),multiPaste=null;if(paste&&sel.ranges.length>1){if(lastCopied&&lastCopied.text.join("\n")==inserted){if(sel.ranges.length%lastCopied.text.length==0){multiPaste=[];for(var i=0;i<lastCopied.text.length;i++){multiPaste.push(doc.splitLines(lastCopied.text[i]))}}}else{if(textLines.length==sel.ranges.length&&cm.options.pasteLinesPerSelection){multiPaste=map(textLines,function(l){return[l]})}}}var updateInput;for(var i$1=sel.ranges.length-1;i$1>=0;i$1--){var range$$1=sel.ranges[i$1];var from=range$$1.from(),to=range$$1.to();if(range$$1.empty()){if(deleted&&deleted>0){from=Pos(from.line,from.ch-deleted)}else{if(cm.state.overwrite&&!paste){to=Pos(to.line,Math.min(getLine(doc,to.line).text.length,to.ch+lst(textLines).length))}else{if(lastCopied&&lastCopied.lineWise&&lastCopied.text.join("\n")==inserted){from=to=Pos(from.line,0)}}}}updateInput=cm.curOp.updateInput;var changeEvent={from:from,to:to,text:multiPaste?multiPaste[i$1%multiPaste.length]:textLines,origin:origin||(paste?"paste":cm.state.cutIncoming?"cut":"+input")};makeChange(cm.doc,changeEvent);signalLater(cm,"inputRead",cm,changeEvent)}if(inserted&&!paste){triggerElectric(cm,inserted)}ensureCursorVisible(cm);cm.curOp.updateInput=updateInput;cm.curOp.typing=true;cm.state.pasteIncoming=cm.state.cutIncoming=false}function handlePaste(e,cm){var pasted=e.clipboardData&&e.clipboardData.getData("Text");if(pasted){e.preventDefault();if(!cm.isReadOnly()&&!cm.options.disableInput){runInOp(cm,function(){return applyTextInput(cm,pasted,0,null,"paste")})}return true}}function triggerElectric(cm,inserted){if(!cm.options.electricChars||!cm.options.smartIndent){return}var sel=cm.doc.sel;for(var i=sel.ranges.length-1;i>=0;i--){var range$$1=sel.ranges[i];if(range$$1.head.ch>100||(i&&sel.ranges[i-1].head.line==range$$1.head.line)){continue}var mode=cm.getModeAt(range$$1.head);var indented=false;if(mode.electricChars){for(var j=0;
j<mode.electricChars.length;j++){if(inserted.indexOf(mode.electricChars.charAt(j))>-1){indented=indentLine(cm,range$$1.head.line,"smart");break}}}else{if(mode.electricInput){if(mode.electricInput.test(getLine(cm.doc,range$$1.head.line).text.slice(0,range$$1.head.ch))){indented=indentLine(cm,range$$1.head.line,"smart")}}}if(indented){signalLater(cm,"electricInput",cm,range$$1.head.line)}}}function copyableRanges(cm){var text=[],ranges=[];for(var i=0;i<cm.doc.sel.ranges.length;i++){var line=cm.doc.sel.ranges[i].head.line;var lineRange={anchor:Pos(line,0),head:Pos(line+1,0)};ranges.push(lineRange);text.push(cm.getRange(lineRange.anchor,lineRange.head))}return{text:text,ranges:ranges}}function disableBrowserMagic(field,spellcheck){field.setAttribute("autocorrect","off");field.setAttribute("autocapitalize","off");field.setAttribute("spellcheck",!!spellcheck)}function hiddenTextarea(){var te=elt("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none");var div=elt("div",[te],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");if(webkit){te.style.width="1000px"}else{te.setAttribute("wrap","off")}if(ios){te.style.border="1px solid black"}disableBrowserMagic(te);return div}var addEditorMethods=function(CodeMirror){var optionHandlers=CodeMirror.optionHandlers;var helpers=CodeMirror.helpers={};CodeMirror.prototype={constructor:CodeMirror,focus:function(){window.focus();this.display.input.focus()},setOption:function(option,value){var options=this.options,old=options[option];if(options[option]==value&&option!="mode"){return}options[option]=value;if(optionHandlers.hasOwnProperty(option)){operation(this,optionHandlers[option])(this,value,old)}signal(this,"optionChange",this,option)},getOption:function(option){return this.options[option]},getDoc:function(){return this.doc},addKeyMap:function(map$$1,bottom){this.state.keyMaps[bottom?"push":"unshift"](getKeyMap(map$$1))},removeKeyMap:function(map$$1){var maps=this.state.keyMaps;
for(var i=0;i<maps.length;++i){if(maps[i]==map$$1||maps[i].name==map$$1){maps.splice(i,1);return true}}},addOverlay:methodOp(function(spec,options){var mode=spec.token?spec:CodeMirror.getMode(this.options,spec);if(mode.startState){throw new Error("Overlays may not be stateful.")}insertSorted(this.state.overlays,{mode:mode,modeSpec:spec,opaque:options&&options.opaque,priority:(options&&options.priority)||0},function(overlay){return overlay.priority});this.state.modeGen++;regChange(this)}),removeOverlay:methodOp(function(spec){var this$1=this;var overlays=this.state.overlays;for(var i=0;i<overlays.length;++i){var cur=overlays[i].modeSpec;if(cur==spec||typeof spec=="string"&&cur.name==spec){overlays.splice(i,1);this$1.state.modeGen++;regChange(this$1);return}}}),indentLine:methodOp(function(n,dir,aggressive){if(typeof dir!="string"&&typeof dir!="number"){if(dir==null){dir=this.options.smartIndent?"smart":"prev"}else{dir=dir?"add":"subtract"}}if(isLine(this.doc,n)){indentLine(this,n,dir,aggressive)}}),indentSelection:methodOp(function(how){var this$1=this;var ranges=this.doc.sel.ranges,end=-1;for(var i=0;i<ranges.length;i++){var range$$1=ranges[i];if(!range$$1.empty()){var from=range$$1.from(),to=range$$1.to();var start=Math.max(end,from.line);end=Math.min(this$1.lastLine(),to.line-(to.ch?0:1))+1;for(var j=start;j<end;++j){indentLine(this$1,j,how)}var newRanges=this$1.doc.sel.ranges;if(from.ch==0&&ranges.length==newRanges.length&&newRanges[i].from().ch>0){replaceOneSelection(this$1.doc,i,new Range(from,newRanges[i].to()),sel_dontScroll)}}else{if(range$$1.head.line>end){indentLine(this$1,range$$1.head.line,how,true);end=range$$1.head.line;if(i==this$1.doc.sel.primIndex){ensureCursorVisible(this$1)}}}}}),getTokenAt:function(pos,precise){return takeToken(this,pos,precise)},getLineTokens:function(line,precise){return takeToken(this,Pos(line),precise,true)},getTokenTypeAt:function(pos){pos=clipPos(this.doc,pos);var styles=getLineStyles(this,getLine(this.doc,pos.line));var before=0,after=(styles.length-1)/2,ch=pos.ch;
var type;if(ch==0){type=styles[2]}else{for(;;){var mid=(before+after)>>1;if((mid?styles[mid*2-1]:0)>=ch){after=mid}else{if(styles[mid*2+1]<ch){before=mid+1}else{type=styles[mid*2+2];break}}}}var cut=type?type.indexOf("overlay "):-1;return cut<0?type:cut==0?null:type.slice(0,cut-1)},getModeAt:function(pos){var mode=this.doc.mode;if(!mode.innerMode){return mode}return CodeMirror.innerMode(mode,this.getTokenAt(pos).state).mode},getHelper:function(pos,type){return this.getHelpers(pos,type)[0]},getHelpers:function(pos,type){var this$1=this;var found=[];if(!helpers.hasOwnProperty(type)){return found}var help=helpers[type],mode=this.getModeAt(pos);if(typeof mode[type]=="string"){if(help[mode[type]]){found.push(help[mode[type]])}}else{if(mode[type]){for(var i=0;i<mode[type].length;i++){var val=help[mode[type][i]];if(val){found.push(val)}}}else{if(mode.helperType&&help[mode.helperType]){found.push(help[mode.helperType])}else{if(help[mode.name]){found.push(help[mode.name])}}}}for(var i$1=0;i$1<help._global.length;i$1++){var cur=help._global[i$1];if(cur.pred(mode,this$1)&&indexOf(found,cur.val)==-1){found.push(cur.val)}}return found},getStateAfter:function(line,precise){var doc=this.doc;line=clipLine(doc,line==null?doc.first+doc.size-1:line);return getContextBefore(this,line+1,precise).state},cursorCoords:function(start,mode){var pos,range$$1=this.doc.sel.primary();if(start==null){pos=range$$1.head}else{if(typeof start=="object"){pos=clipPos(this.doc,start)}else{pos=start?range$$1.from():range$$1.to()}}return cursorCoords(this,pos,mode||"page")},charCoords:function(pos,mode){return charCoords(this,clipPos(this.doc,pos),mode||"page")},coordsChar:function(coords,mode){coords=fromCoordSystem(this,coords,mode||"page");return coordsChar(this,coords.left,coords.top)},lineAtHeight:function(height,mode){height=fromCoordSystem(this,{top:height,left:0},mode||"page").top;return lineAtHeight(this.doc,height+this.display.viewOffset)},heightAtLine:function(line,mode,includeWidgets){var end=false,lineObj;
if(typeof line=="number"){var last=this.doc.first+this.doc.size-1;if(line<this.doc.first){line=this.doc.first}else{if(line>last){line=last;end=true}}lineObj=getLine(this.doc,line)}else{lineObj=line}return intoCoordSystem(this,lineObj,{top:0,left:0},mode||"page",includeWidgets||end).top+(end?this.doc.height-heightAtLine(lineObj):0)},defaultTextHeight:function(){return textHeight(this.display)},defaultCharWidth:function(){return charWidth(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(pos,node,scroll,vert,horiz){var display=this.display;pos=cursorCoords(this,clipPos(this.doc,pos));var top=pos.bottom,left=pos.left;node.style.position="absolute";node.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(node);display.sizer.appendChild(node);if(vert=="over"){top=pos.top}else{if(vert=="above"||vert=="near"){var vspace=Math.max(display.wrapper.clientHeight,this.doc.height),hspace=Math.max(display.sizer.clientWidth,display.lineSpace.clientWidth);if((vert=="above"||pos.bottom+node.offsetHeight>vspace)&&pos.top>node.offsetHeight){top=pos.top-node.offsetHeight}else{if(pos.bottom+node.offsetHeight<=vspace){top=pos.bottom}}if(left+node.offsetWidth>hspace){left=hspace-node.offsetWidth}}}node.style.top=top+"px";node.style.left=node.style.right="";if(horiz=="right"){left=display.sizer.clientWidth-node.offsetWidth;node.style.right="0px"}else{if(horiz=="left"){left=0}else{if(horiz=="middle"){left=(display.sizer.clientWidth-node.offsetWidth)/2}}node.style.left=left+"px"}if(scroll){scrollIntoView(this,{left:left,top:top,right:left+node.offsetWidth,bottom:top+node.offsetHeight})}},triggerOnKeyDown:methodOp(onKeyDown),triggerOnKeyPress:methodOp(onKeyPress),triggerOnKeyUp:onKeyUp,triggerOnMouseDown:methodOp(onMouseDown),execCommand:function(cmd){if(commands.hasOwnProperty(cmd)){return commands[cmd].call(null,this)}},triggerElectric:methodOp(function(text){triggerElectric(this,text)}),findPosH:function(from,amount,unit,visually){var this$1=this;
var dir=1;if(amount<0){dir=-1;amount=-amount}var cur=clipPos(this.doc,from);for(var i=0;i<amount;++i){cur=findPosH(this$1.doc,cur,dir,unit,visually);if(cur.hitSide){break}}return cur},moveH:methodOp(function(dir,unit){var this$1=this;this.extendSelectionsBy(function(range$$1){if(this$1.display.shift||this$1.doc.extend||range$$1.empty()){return findPosH(this$1.doc,range$$1.head,dir,unit,this$1.options.rtlMoveVisually)}else{return dir<0?range$$1.from():range$$1.to()}},sel_move)}),deleteH:methodOp(function(dir,unit){var sel=this.doc.sel,doc=this.doc;if(sel.somethingSelected()){doc.replaceSelection("",null,"+delete")}else{deleteNearSelection(this,function(range$$1){var other=findPosH(doc,range$$1.head,dir,unit,false);return dir<0?{from:other,to:range$$1.head}:{from:range$$1.head,to:other}})}}),findPosV:function(from,amount,unit,goalColumn){var this$1=this;var dir=1,x=goalColumn;if(amount<0){dir=-1;amount=-amount}var cur=clipPos(this.doc,from);for(var i=0;i<amount;++i){var coords=cursorCoords(this$1,cur,"div");if(x==null){x=coords.left}else{coords.left=x}cur=findPosV(this$1,coords,dir,unit);if(cur.hitSide){break}}return cur},moveV:methodOp(function(dir,unit){var this$1=this;var doc=this.doc,goals=[];var collapse=!this.display.shift&&!doc.extend&&doc.sel.somethingSelected();doc.extendSelectionsBy(function(range$$1){if(collapse){return dir<0?range$$1.from():range$$1.to()}var headPos=cursorCoords(this$1,range$$1.head,"div");if(range$$1.goalColumn!=null){headPos.left=range$$1.goalColumn}goals.push(headPos.left);var pos=findPosV(this$1,headPos,dir,unit);if(unit=="page"&&range$$1==doc.sel.primary()){addToScrollTop(this$1,charCoords(this$1,pos,"div").top-headPos.top)}return pos},sel_move);if(goals.length){for(var i=0;i<doc.sel.ranges.length;i++){doc.sel.ranges[i].goalColumn=goals[i]}}}),findWordAt:function(pos){var doc=this.doc,line=getLine(doc,pos.line).text;var start=pos.ch,end=pos.ch;if(line){var helper=this.getHelper(pos,"wordChars");if((pos.sticky=="before"||end==line.length)&&start){--start
}else{++end}var startChar=line.charAt(start);var check=isWordChar(startChar,helper)?function(ch){return isWordChar(ch,helper)}:/\s/.test(startChar)?function(ch){return/\s/.test(ch)}:function(ch){return(!/\s/.test(ch)&&!isWordChar(ch))};while(start>0&&check(line.charAt(start-1))){--start}while(end<line.length&&check(line.charAt(end))){++end}}return new Range(Pos(pos.line,start),Pos(pos.line,end))},toggleOverwrite:function(value){if(value!=null&&value==this.state.overwrite){return}if(this.state.overwrite=!this.state.overwrite){addClass(this.display.cursorDiv,"CodeMirror-overwrite")}else{rmClass(this.display.cursorDiv,"CodeMirror-overwrite")}signal(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==activeElt()},isReadOnly:function(){return !!(this.options.readOnly||this.doc.cantEdit)},scrollTo:methodOp(function(x,y){scrollToCoords(this,x,y)}),getScrollInfo:function(){var scroller=this.display.scroller;return{left:scroller.scrollLeft,top:scroller.scrollTop,height:scroller.scrollHeight-scrollGap(this)-this.display.barHeight,width:scroller.scrollWidth-scrollGap(this)-this.display.barWidth,clientHeight:displayHeight(this),clientWidth:displayWidth(this)}},scrollIntoView:methodOp(function(range$$1,margin){if(range$$1==null){range$$1={from:this.doc.sel.primary().head,to:null};if(margin==null){margin=this.options.cursorScrollMargin}}else{if(typeof range$$1=="number"){range$$1={from:Pos(range$$1,0),to:null}}else{if(range$$1.from==null){range$$1={from:range$$1,to:null}}}}if(!range$$1.to){range$$1.to=range$$1.from}range$$1.margin=margin||0;if(range$$1.from.line!=null){scrollToRange(this,range$$1)}else{scrollToCoordsRange(this,range$$1.from,range$$1.to,range$$1.margin)}}),setSize:methodOp(function(width,height){var this$1=this;var interpret=function(val){return typeof val=="number"||/^\d+$/.test(String(val))?val+"px":val};if(width!=null){this.display.wrapper.style.width=interpret(width)}if(height!=null){this.display.wrapper.style.height=interpret(height)
}if(this.options.lineWrapping){clearLineMeasurementCache(this)}var lineNo$$1=this.display.viewFrom;this.doc.iter(lineNo$$1,this.display.viewTo,function(line){if(line.widgets){for(var i=0;i<line.widgets.length;i++){if(line.widgets[i].noHScroll){regLineChange(this$1,lineNo$$1,"widget");break}}}++lineNo$$1});this.curOp.forceUpdate=true;signal(this,"refresh",this)}),operation:function(f){return runInOp(this,f)},startOperation:function(){return startOperation(this)},endOperation:function(){return endOperation(this)},refresh:methodOp(function(){var oldHeight=this.display.cachedTextHeight;regChange(this);this.curOp.forceUpdate=true;clearCaches(this);scrollToCoords(this,this.doc.scrollLeft,this.doc.scrollTop);updateGutterSpace(this);if(oldHeight==null||Math.abs(oldHeight-textHeight(this.display))>0.5){estimateLineHeights(this)}signal(this,"refresh",this)}),swapDoc:methodOp(function(doc){var old=this.doc;old.cm=null;attachDoc(this,doc);clearCaches(this);this.display.input.reset();scrollToCoords(this,doc.scrollLeft,doc.scrollTop);this.curOp.forceScroll=true;signalLater(this,"swapDoc",this,old);return old}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};eventMixin(CodeMirror);CodeMirror.registerHelper=function(type,name,value){if(!helpers.hasOwnProperty(type)){helpers[type]=CodeMirror[type]={_global:[]}}helpers[type][name]=value};CodeMirror.registerGlobalHelper=function(type,name,predicate,value){CodeMirror.registerHelper(type,name,value);helpers[type]._global.push({pred:predicate,val:value})}};function findPosH(doc,pos,dir,unit,visually){var oldPos=pos;var origDir=dir;var lineObj=getLine(doc,pos.line);function findNextLine(){var l=pos.line+dir;if(l<doc.first||l>=doc.first+doc.size){return false}pos=new Pos(l,pos.ch,pos.sticky);return lineObj=getLine(doc,l)}function moveOnce(boundToLine){var next;
if(visually){next=moveVisually(doc.cm,lineObj,pos,dir)}else{next=moveLogically(lineObj,pos,dir)}if(next==null){if(!boundToLine&&findNextLine()){pos=endOfLine(visually,doc.cm,lineObj,pos.line,dir)}else{return false}}else{pos=next}return true}if(unit=="char"){moveOnce()}else{if(unit=="column"){moveOnce(true)}else{if(unit=="word"||unit=="group"){var sawType=null,group=unit=="group";var helper=doc.cm&&doc.cm.getHelper(pos,"wordChars");for(var first=true;;first=false){if(dir<0&&!moveOnce(!first)){break}var cur=lineObj.text.charAt(pos.ch)||"\n";var type=isWordChar(cur,helper)?"w":group&&cur=="\n"?"n":!group||/\s/.test(cur)?null:"p";if(group&&!first&&!type){type="s"}if(sawType&&sawType!=type){if(dir<0){dir=1;moveOnce();pos.sticky="after"}break}if(type){sawType=type}if(dir>0&&!moveOnce(!first)){break}}}}}var result=skipAtomic(doc,pos,oldPos,origDir,true);if(equalCursorPos(oldPos,result)){result.hitSide=true}return result}function findPosV(cm,pos,dir,unit){var doc=cm.doc,x=pos.left,y;if(unit=="page"){var pageSize=Math.min(cm.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);var moveAmount=Math.max(pageSize-0.5*textHeight(cm.display),3);y=(dir>0?pos.bottom:pos.top)+dir*moveAmount}else{if(unit=="line"){y=dir>0?pos.bottom+3:pos.top-3}}var target;for(;;){target=coordsChar(cm,x,y);if(!target.outside){break}if(dir<0?y<=0:y>=doc.height){target.hitSide=true;break}y+=dir*5}return target}var ContentEditableInput=function(cm){this.cm=cm;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new Delayed();this.composing=null;this.gracePeriod=false;this.readDOMTimeout=null};ContentEditableInput.prototype.init=function(display){var this$1=this;var input=this,cm=input.cm;var div=input.div=display.lineDiv;disableBrowserMagic(div,cm.options.spellcheck);on(div,"paste",function(e){if(signalDOMEvent(cm,e)||handlePaste(e,cm)){return}if(ie_version<=11){setTimeout(operation(cm,function(){return this$1.updateFromDOM()
}),20)}});on(div,"compositionstart",function(e){this$1.composing={data:e.data,done:false}});on(div,"compositionupdate",function(e){if(!this$1.composing){this$1.composing={data:e.data,done:false}}});on(div,"compositionend",function(e){if(this$1.composing){if(e.data!=this$1.composing.data){this$1.readFromDOMSoon()}this$1.composing.done=true}});on(div,"touchstart",function(){return input.forceCompositionEnd()});on(div,"input",function(){if(!this$1.composing){this$1.readFromDOMSoon()}});function onCopyCut(e){if(signalDOMEvent(cm,e)){return}if(cm.somethingSelected()){setLastCopied({lineWise:false,text:cm.getSelections()});if(e.type=="cut"){cm.replaceSelection("",null,"cut")}}else{if(!cm.options.lineWiseCopyCut){return}else{var ranges=copyableRanges(cm);setLastCopied({lineWise:true,text:ranges.text});if(e.type=="cut"){cm.operation(function(){cm.setSelections(ranges.ranges,0,sel_dontScroll);cm.replaceSelection("",null,"cut")})}}}if(e.clipboardData){e.clipboardData.clearData();var content=lastCopied.text.join("\n");e.clipboardData.setData("Text",content);if(e.clipboardData.getData("Text")==content){e.preventDefault();return}}var kludge=hiddenTextarea(),te=kludge.firstChild;cm.display.lineSpace.insertBefore(kludge,cm.display.lineSpace.firstChild);te.value=lastCopied.text.join("\n");var hadFocus=document.activeElement;selectInput(te);setTimeout(function(){cm.display.lineSpace.removeChild(kludge);hadFocus.focus();if(hadFocus==div){input.showPrimarySelection()}},50)}on(div,"copy",onCopyCut);on(div,"cut",onCopyCut)};ContentEditableInput.prototype.prepareSelection=function(){var result=prepareSelection(this.cm,false);result.focus=this.cm.state.focused;return result};ContentEditableInput.prototype.showSelection=function(info,takeFocus){if(!info||!this.cm.display.view.length){return}if(info.focus||takeFocus){this.showPrimarySelection()}this.showMultipleSelections(info)};ContentEditableInput.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()
};ContentEditableInput.prototype.showPrimarySelection=function(){var sel=this.getSelection(),cm=this.cm,prim=cm.doc.sel.primary();var from=prim.from(),to=prim.to();if(cm.display.viewTo==cm.display.viewFrom||from.line>=cm.display.viewTo||to.line<cm.display.viewFrom){sel.removeAllRanges();return}var curAnchor=domToPos(cm,sel.anchorNode,sel.anchorOffset);var curFocus=domToPos(cm,sel.focusNode,sel.focusOffset);if(curAnchor&&!curAnchor.bad&&curFocus&&!curFocus.bad&&cmp(minPos(curAnchor,curFocus),from)==0&&cmp(maxPos(curAnchor,curFocus),to)==0){return}var view=cm.display.view;var start=(from.line>=cm.display.viewFrom&&posToDOM(cm,from))||{node:view[0].measure.map[2],offset:0};var end=to.line<cm.display.viewTo&&posToDOM(cm,to);if(!end){var measure=view[view.length-1].measure;var map$$1=measure.maps?measure.maps[measure.maps.length-1]:measure.map;end={node:map$$1[map$$1.length-1],offset:map$$1[map$$1.length-2]-map$$1[map$$1.length-3]}}if(!start||!end){sel.removeAllRanges();return}var old=sel.rangeCount&&sel.getRangeAt(0),rng;try{rng=range(start.node,start.offset,end.offset,end.node)}catch(e){}if(rng){if(!gecko&&cm.state.focused){sel.collapse(start.node,start.offset);if(!rng.collapsed){sel.removeAllRanges();sel.addRange(rng)}}else{sel.removeAllRanges();sel.addRange(rng)}if(old&&sel.anchorNode==null){sel.addRange(old)}else{if(gecko){this.startGracePeriod()}}}this.rememberSelection()};ContentEditableInput.prototype.startGracePeriod=function(){var this$1=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){this$1.gracePeriod=false;if(this$1.selectionChanged()){this$1.cm.operation(function(){return this$1.cm.curOp.selectionChanged=true})}},20)};ContentEditableInput.prototype.showMultipleSelections=function(info){removeChildrenAndAdd(this.cm.display.cursorDiv,info.cursors);removeChildrenAndAdd(this.cm.display.selectionDiv,info.selection)};ContentEditableInput.prototype.rememberSelection=function(){var sel=this.getSelection();this.lastAnchorNode=sel.anchorNode;
this.lastAnchorOffset=sel.anchorOffset;this.lastFocusNode=sel.focusNode;this.lastFocusOffset=sel.focusOffset};ContentEditableInput.prototype.selectionInEditor=function(){var sel=this.getSelection();if(!sel.rangeCount){return false}var node=sel.getRangeAt(0).commonAncestorContainer;return contains(this.div,node)};ContentEditableInput.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"){if(!this.selectionInEditor()){this.showSelection(this.prepareSelection(),true)}this.div.focus()}};ContentEditableInput.prototype.blur=function(){this.div.blur()};ContentEditableInput.prototype.getField=function(){return this.div};ContentEditableInput.prototype.supportsTouch=function(){return true};ContentEditableInput.prototype.receivedFocus=function(){var input=this;if(this.selectionInEditor()){this.pollSelection()}else{runInOp(this.cm,function(){return input.cm.curOp.selectionChanged=true})}function poll(){if(input.cm.state.focused){input.pollSelection();input.polling.set(input.cm.options.pollInterval,poll)}}this.polling.set(this.cm.options.pollInterval,poll)};ContentEditableInput.prototype.selectionChanged=function(){var sel=this.getSelection();return sel.anchorNode!=this.lastAnchorNode||sel.anchorOffset!=this.lastAnchorOffset||sel.focusNode!=this.lastFocusNode||sel.focusOffset!=this.lastFocusOffset};ContentEditableInput.prototype.pollSelection=function(){if(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged()){return}var sel=this.getSelection(),cm=this.cm;if(android&&chrome&&this.cm.options.gutters.length&&isInGutter(sel.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs});this.blur();this.focus();return}if(this.composing){return}this.rememberSelection();var anchor=domToPos(cm,sel.anchorNode,sel.anchorOffset);var head=domToPos(cm,sel.focusNode,sel.focusOffset);if(anchor&&head){runInOp(cm,function(){setSelection(cm.doc,simpleSelection(anchor,head),sel_dontScroll);if(anchor.bad||head.bad){cm.curOp.selectionChanged=true
}})}};ContentEditableInput.prototype.pollContent=function(){if(this.readDOMTimeout!=null){clearTimeout(this.readDOMTimeout);this.readDOMTimeout=null}var cm=this.cm,display=cm.display,sel=cm.doc.sel.primary();var from=sel.from(),to=sel.to();if(from.ch==0&&from.line>cm.firstLine()){from=Pos(from.line-1,getLine(cm.doc,from.line-1).length)}if(to.ch==getLine(cm.doc,to.line).text.length&&to.line<cm.lastLine()){to=Pos(to.line+1,0)}if(from.line<display.viewFrom||to.line>display.viewTo-1){return false}var fromIndex,fromLine,fromNode;if(from.line==display.viewFrom||(fromIndex=findViewIndex(cm,from.line))==0){fromLine=lineNo(display.view[0].line);fromNode=display.view[0].node}else{fromLine=lineNo(display.view[fromIndex].line);fromNode=display.view[fromIndex-1].node.nextSibling}var toIndex=findViewIndex(cm,to.line);var toLine,toNode;if(toIndex==display.view.length-1){toLine=display.viewTo-1;toNode=display.lineDiv.lastChild}else{toLine=lineNo(display.view[toIndex+1].line)-1;toNode=display.view[toIndex+1].node.previousSibling}if(!fromNode){return false}var newText=cm.doc.splitLines(domTextBetween(cm,fromNode,toNode,fromLine,toLine));var oldText=getBetween(cm.doc,Pos(fromLine,0),Pos(toLine,getLine(cm.doc,toLine).text.length));while(newText.length>1&&oldText.length>1){if(lst(newText)==lst(oldText)){newText.pop();oldText.pop();toLine--}else{if(newText[0]==oldText[0]){newText.shift();oldText.shift();fromLine++}else{break}}}var cutFront=0,cutEnd=0;var newTop=newText[0],oldTop=oldText[0],maxCutFront=Math.min(newTop.length,oldTop.length);while(cutFront<maxCutFront&&newTop.charCodeAt(cutFront)==oldTop.charCodeAt(cutFront)){++cutFront}var newBot=lst(newText),oldBot=lst(oldText);var maxCutEnd=Math.min(newBot.length-(newText.length==1?cutFront:0),oldBot.length-(oldText.length==1?cutFront:0));while(cutEnd<maxCutEnd&&newBot.charCodeAt(newBot.length-cutEnd-1)==oldBot.charCodeAt(oldBot.length-cutEnd-1)){++cutEnd}if(newText.length==1&&oldText.length==1&&fromLine==from.line){while(cutFront&&cutFront>from.ch&&newBot.charCodeAt(newBot.length-cutEnd-1)==oldBot.charCodeAt(oldBot.length-cutEnd-1)){cutFront--;
cutEnd++}}newText[newText.length-1]=newBot.slice(0,newBot.length-cutEnd).replace(/^\u200b+/,"");newText[0]=newText[0].slice(cutFront).replace(/\u200b+$/,"");var chFrom=Pos(fromLine,cutFront);var chTo=Pos(toLine,oldText.length?lst(oldText).length-cutEnd:0);if(newText.length>1||newText[0]||cmp(chFrom,chTo)){replaceRange(cm.doc,newText,chFrom,chTo,"+input");return true}};ContentEditableInput.prototype.ensurePolled=function(){this.forceCompositionEnd()};ContentEditableInput.prototype.reset=function(){this.forceCompositionEnd()};ContentEditableInput.prototype.forceCompositionEnd=function(){if(!this.composing){return}clearTimeout(this.readDOMTimeout);this.composing=null;this.updateFromDOM();this.div.blur();this.div.focus()};ContentEditableInput.prototype.readFromDOMSoon=function(){var this$1=this;if(this.readDOMTimeout!=null){return}this.readDOMTimeout=setTimeout(function(){this$1.readDOMTimeout=null;if(this$1.composing){if(this$1.composing.done){this$1.composing=null}else{return}}this$1.updateFromDOM()},80)};ContentEditableInput.prototype.updateFromDOM=function(){var this$1=this;if(this.cm.isReadOnly()||!this.pollContent()){runInOp(this.cm,function(){return regChange(this$1.cm)})}};ContentEditableInput.prototype.setUneditable=function(node){node.contentEditable="false"};ContentEditableInput.prototype.onKeyPress=function(e){if(e.charCode==0||this.composing){return}e.preventDefault();if(!this.cm.isReadOnly()){operation(this.cm,applyTextInput)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0)}};ContentEditableInput.prototype.readOnlyChanged=function(val){this.div.contentEditable=String(val!="nocursor")};ContentEditableInput.prototype.onContextMenu=function(){};ContentEditableInput.prototype.resetPosition=function(){};ContentEditableInput.prototype.needsContentAttribute=true;function posToDOM(cm,pos){var view=findViewForLine(cm,pos.line);if(!view||view.hidden){return null}var line=getLine(cm.doc,pos.line);var info=mapFromLineView(view,line,pos.line);var order=getOrder(line,cm.doc.direction),side="left";
if(order){var partPos=getBidiPartAt(order,pos.ch);side=partPos%2?"right":"left"}var result=nodeAndOffsetInLineMap(info.map,pos.ch,side);result.offset=result.collapse=="right"?result.end:result.start;return result}function isInGutter(node){for(var scan=node;scan;scan=scan.parentNode){if(/CodeMirror-gutter-wrapper/.test(scan.className)){return true}}return false}function badPos(pos,bad){if(bad){pos.bad=true}return pos}function domTextBetween(cm,from,to,fromLine,toLine){var text="",closing=false,lineSep=cm.doc.lineSeparator(),extraLinebreak=false;function recognizeMarker(id){return function(marker){return marker.id==id}}function close(){if(closing){text+=lineSep;if(extraLinebreak){text+=lineSep}closing=extraLinebreak=false}}function addText(str){if(str){close();text+=str}}function walk(node){if(node.nodeType==1){var cmText=node.getAttribute("cm-text");if(cmText){addText(cmText);return}var markerID=node.getAttribute("cm-marker"),range$$1;if(markerID){var found=cm.findMarks(Pos(fromLine,0),Pos(toLine+1,0),recognizeMarker(+markerID));if(found.length&&(range$$1=found[0].find(0))){addText(getBetween(cm.doc,range$$1.from,range$$1.to).join(lineSep))}return}if(node.getAttribute("contenteditable")=="false"){return}var isBlock=/^(pre|div|p|li|table|br)$/i.test(node.nodeName);if(!/^br$/i.test(node.nodeName)&&node.textContent.length==0){return}if(isBlock){close()}for(var i=0;i<node.childNodes.length;i++){walk(node.childNodes[i])}if(/^(pre|p)$/i.test(node.nodeName)){extraLinebreak=true}if(isBlock){closing=true}}else{if(node.nodeType==3){addText(node.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}}}for(;;){walk(from);if(from==to){break}from=from.nextSibling;extraLinebreak=false}return text}function domToPos(cm,node,offset){var lineNode;if(node==cm.display.lineDiv){lineNode=cm.display.lineDiv.childNodes[offset];if(!lineNode){return badPos(cm.clipPos(Pos(cm.display.viewTo-1)),true)}node=null;offset=0}else{for(lineNode=node;;lineNode=lineNode.parentNode){if(!lineNode||lineNode==cm.display.lineDiv){return null
}if(lineNode.parentNode&&lineNode.parentNode==cm.display.lineDiv){break}}}for(var i=0;i<cm.display.view.length;i++){var lineView=cm.display.view[i];if(lineView.node==lineNode){return locateNodeInLineView(lineView,node,offset)}}}function locateNodeInLineView(lineView,node,offset){var wrapper=lineView.text.firstChild,bad=false;if(!node||!contains(wrapper,node)){return badPos(Pos(lineNo(lineView.line),0),true)}if(node==wrapper){bad=true;node=wrapper.childNodes[offset];offset=0;if(!node){var line=lineView.rest?lst(lineView.rest):lineView.line;return badPos(Pos(lineNo(line),line.text.length),bad)}}var textNode=node.nodeType==3?node:null,topNode=node;if(!textNode&&node.childNodes.length==1&&node.firstChild.nodeType==3){textNode=node.firstChild;if(offset){offset=textNode.nodeValue.length}}while(topNode.parentNode!=wrapper){topNode=topNode.parentNode}var measure=lineView.measure,maps=measure.maps;function find(textNode,topNode,offset){for(var i=-1;i<(maps?maps.length:0);i++){var map$$1=i<0?measure.map:maps[i];for(var j=0;j<map$$1.length;j+=3){var curNode=map$$1[j+2];if(curNode==textNode||curNode==topNode){var line=lineNo(i<0?lineView.line:lineView.rest[i]);var ch=map$$1[j]+offset;if(offset<0||curNode!=textNode){ch=map$$1[j+(offset?1:0)]}return Pos(line,ch)}}}}var found=find(textNode,topNode,offset);if(found){return badPos(found,bad)}for(var after=topNode.nextSibling,dist=textNode?textNode.nodeValue.length-offset:0;after;after=after.nextSibling){found=find(after,after.firstChild,0);if(found){return badPos(Pos(found.line,found.ch-dist),bad)}else{dist+=after.textContent.length}}for(var before=topNode.previousSibling,dist$1=offset;before;before=before.previousSibling){found=find(before,before.firstChild,-1);if(found){return badPos(Pos(found.line,found.ch+dist$1),bad)}else{dist$1+=before.textContent.length}}}var TextareaInput=function(cm){this.cm=cm;this.prevInput="";this.pollingFast=false;this.polling=new Delayed();this.hasSelection=false;this.composing=null};TextareaInput.prototype.init=function(display){var this$1=this;
var input=this,cm=this.cm;this.createField(display);var te=this.textarea;display.wrapper.insertBefore(this.wrapper,display.wrapper.firstChild);if(ios){te.style.width="0px"}on(te,"input",function(){if(ie&&ie_version>=9&&this$1.hasSelection){this$1.hasSelection=null}input.poll()});on(te,"paste",function(e){if(signalDOMEvent(cm,e)||handlePaste(e,cm)){return}cm.state.pasteIncoming=true;input.fastPoll()});function prepareCopyCut(e){if(signalDOMEvent(cm,e)){return}if(cm.somethingSelected()){setLastCopied({lineWise:false,text:cm.getSelections()})}else{if(!cm.options.lineWiseCopyCut){return}else{var ranges=copyableRanges(cm);setLastCopied({lineWise:true,text:ranges.text});if(e.type=="cut"){cm.setSelections(ranges.ranges,null,sel_dontScroll)}else{input.prevInput="";te.value=ranges.text.join("\n");selectInput(te)}}}if(e.type=="cut"){cm.state.cutIncoming=true}}on(te,"cut",prepareCopyCut);on(te,"copy",prepareCopyCut);on(display.scroller,"paste",function(e){if(eventInWidget(display,e)||signalDOMEvent(cm,e)){return}cm.state.pasteIncoming=true;input.focus()});on(display.lineSpace,"selectstart",function(e){if(!eventInWidget(display,e)){e_preventDefault(e)}});on(te,"compositionstart",function(){var start=cm.getCursor("from");if(input.composing){input.composing.range.clear()}input.composing={start:start,range:cm.markText(start,cm.getCursor("to"),{className:"CodeMirror-composing"})}});on(te,"compositionend",function(){if(input.composing){input.poll();input.composing.range.clear();input.composing=null}})};TextareaInput.prototype.createField=function(_display){this.wrapper=hiddenTextarea();this.textarea=this.wrapper.firstChild};TextareaInput.prototype.prepareSelection=function(){var cm=this.cm,display=cm.display,doc=cm.doc;var result=prepareSelection(cm);if(cm.options.moveInputWithCursor){var headPos=cursorCoords(cm,doc.sel.primary().head,"div");var wrapOff=display.wrapper.getBoundingClientRect(),lineOff=display.lineDiv.getBoundingClientRect();result.teTop=Math.max(0,Math.min(display.wrapper.clientHeight-10,headPos.top+lineOff.top-wrapOff.top));
result.teLeft=Math.max(0,Math.min(display.wrapper.clientWidth-10,headPos.left+lineOff.left-wrapOff.left))}return result};TextareaInput.prototype.showSelection=function(drawn){var cm=this.cm,display=cm.display;removeChildrenAndAdd(display.cursorDiv,drawn.cursors);removeChildrenAndAdd(display.selectionDiv,drawn.selection);if(drawn.teTop!=null){this.wrapper.style.top=drawn.teTop+"px";this.wrapper.style.left=drawn.teLeft+"px"}};TextareaInput.prototype.reset=function(typing){if(this.contextMenuPending||this.composing){return}var cm=this.cm;if(cm.somethingSelected()){this.prevInput="";var content=cm.getSelection();this.textarea.value=content;if(cm.state.focused){selectInput(this.textarea)}if(ie&&ie_version>=9){this.hasSelection=content}}else{if(!typing){this.prevInput=this.textarea.value="";if(ie&&ie_version>=9){this.hasSelection=null}}}};TextareaInput.prototype.getField=function(){return this.textarea};TextareaInput.prototype.supportsTouch=function(){return false};TextareaInput.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!mobile||activeElt()!=this.textarea)){try{this.textarea.focus()}catch(e){}}};TextareaInput.prototype.blur=function(){this.textarea.blur()};TextareaInput.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0};TextareaInput.prototype.receivedFocus=function(){this.slowPoll()};TextareaInput.prototype.slowPoll=function(){var this$1=this;if(this.pollingFast){return}this.polling.set(this.cm.options.pollInterval,function(){this$1.poll();if(this$1.cm.state.focused){this$1.slowPoll()}})};TextareaInput.prototype.fastPoll=function(){var missed=false,input=this;input.pollingFast=true;function p(){var changed=input.poll();if(!changed&&!missed){missed=true;input.polling.set(60,p)}else{input.pollingFast=false;input.slowPoll()}}input.polling.set(20,p)};TextareaInput.prototype.poll=function(){var this$1=this;var cm=this.cm,input=this.textarea,prevInput=this.prevInput;if(this.contextMenuPending||!cm.state.focused||(hasSelection(input)&&!prevInput&&!this.composing)||cm.isReadOnly()||cm.options.disableInput||cm.state.keySeq){return false
}var text=input.value;if(text==prevInput&&!cm.somethingSelected()){return false}if(ie&&ie_version>=9&&this.hasSelection===text||mac&&/[\uf700-\uf7ff]/.test(text)){cm.display.input.reset();return false}if(cm.doc.sel==cm.display.selForContextMenu){var first=text.charCodeAt(0);if(first==8203&&!prevInput){prevInput="\u200b"}if(first==8666){this.reset();return this.cm.execCommand("undo")}}var same=0,l=Math.min(prevInput.length,text.length);while(same<l&&prevInput.charCodeAt(same)==text.charCodeAt(same)){++same}runInOp(cm,function(){applyTextInput(cm,text.slice(same),prevInput.length-same,null,this$1.composing?"*compose":null);if(text.length>1000||text.indexOf("\n")>-1){input.value=this$1.prevInput=""}else{this$1.prevInput=text}if(this$1.composing){this$1.composing.range.clear();this$1.composing.range=cm.markText(this$1.composing.start,cm.getCursor("to"),{className:"CodeMirror-composing"})}});return true};TextareaInput.prototype.ensurePolled=function(){if(this.pollingFast&&this.poll()){this.pollingFast=false}};TextareaInput.prototype.onKeyPress=function(){if(ie&&ie_version>=9){this.hasSelection=null}this.fastPoll()};TextareaInput.prototype.onContextMenu=function(e){var input=this,cm=input.cm,display=cm.display,te=input.textarea;var pos=posFromMouse(cm,e),scrollPos=display.scroller.scrollTop;if(!pos||presto){return}var reset=cm.options.resetSelectionOnContextMenu;if(reset&&cm.doc.sel.contains(pos)==-1){operation(cm,setSelection)(cm.doc,simpleSelection(pos),sel_dontScroll)}var oldCSS=te.style.cssText,oldWrapperCSS=input.wrapper.style.cssText;input.wrapper.style.cssText="position: absolute";var wrapperBox=input.wrapper.getBoundingClientRect();te.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-wrapperBox.top-5)+"px; left: "+(e.clientX-wrapperBox.left-5)+"px;\n      z-index: 1000; background: "+(ie?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";
var oldScrollY;if(webkit){oldScrollY=window.scrollY}display.input.focus();if(webkit){window.scrollTo(null,oldScrollY)}display.input.reset();if(!cm.somethingSelected()){te.value=input.prevInput=" "}input.contextMenuPending=true;display.selForContextMenu=cm.doc.sel;clearTimeout(display.detectingSelectAll);function prepareSelectAllHack(){if(te.selectionStart!=null){var selected=cm.somethingSelected();var extval="\u200b"+(selected?te.value:"");te.value="\u21da";te.value=extval;input.prevInput=selected?"":"\u200b";te.selectionStart=1;te.selectionEnd=extval.length;display.selForContextMenu=cm.doc.sel}}function rehide(){input.contextMenuPending=false;input.wrapper.style.cssText=oldWrapperCSS;te.style.cssText=oldCSS;if(ie&&ie_version<9){display.scrollbars.setScrollTop(display.scroller.scrollTop=scrollPos)}if(te.selectionStart!=null){if(!ie||(ie&&ie_version<9)){prepareSelectAllHack()}var i=0,poll=function(){if(display.selForContextMenu==cm.doc.sel&&te.selectionStart==0&&te.selectionEnd>0&&input.prevInput=="\u200b"){operation(cm,selectAll)(cm)}else{if(i++<10){display.detectingSelectAll=setTimeout(poll,500)}else{display.selForContextMenu=null;display.input.reset()}}};display.detectingSelectAll=setTimeout(poll,200)}}if(ie&&ie_version>=9){prepareSelectAllHack()}if(captureRightClick){e_stop(e);var mouseup=function(){off(window,"mouseup",mouseup);setTimeout(rehide,20)};on(window,"mouseup",mouseup)}else{setTimeout(rehide,50)}};TextareaInput.prototype.readOnlyChanged=function(val){if(!val){this.reset()}this.textarea.disabled=val=="nocursor"};TextareaInput.prototype.setUneditable=function(){};TextareaInput.prototype.needsContentAttribute=false;function fromTextArea(textarea,options){options=options?copyObj(options):{};options.value=textarea.value;if(!options.tabindex&&textarea.tabIndex){options.tabindex=textarea.tabIndex}if(!options.placeholder&&textarea.placeholder){options.placeholder=textarea.placeholder}if(options.autofocus==null){var hasFocus=activeElt();options.autofocus=hasFocus==textarea||textarea.getAttribute("autofocus")!=null&&hasFocus==document.body
}function save(){textarea.value=cm.getValue()}var realSubmit;if(textarea.form){on(textarea.form,"submit",save);if(!options.leaveSubmitMethodAlone){var form=textarea.form;realSubmit=form.submit;try{var wrappedSubmit=form.submit=function(){save();form.submit=realSubmit;form.submit();form.submit=wrappedSubmit}}catch(e){}}}options.finishInit=function(cm){cm.save=save;cm.getTextArea=function(){return textarea};cm.toTextArea=function(){cm.toTextArea=isNaN;save();textarea.parentNode.removeChild(cm.getWrapperElement());textarea.style.display="";if(textarea.form){off(textarea.form,"submit",save);if(typeof textarea.form.submit=="function"){textarea.form.submit=realSubmit}}}};textarea.style.display="none";var cm=CodeMirror$1(function(node){return textarea.parentNode.insertBefore(node,textarea.nextSibling)},options);return cm}function addLegacyProps(CodeMirror){CodeMirror.off=off;CodeMirror.on=on;CodeMirror.wheelEventPixels=wheelEventPixels;CodeMirror.Doc=Doc;CodeMirror.splitLines=splitLinesAuto;CodeMirror.countColumn=countColumn;CodeMirror.findColumn=findColumn;CodeMirror.isWordChar=isWordCharBasic;CodeMirror.Pass=Pass;CodeMirror.signal=signal;CodeMirror.Line=Line;CodeMirror.changeEnd=changeEnd;CodeMirror.scrollbarModel=scrollbarModel;CodeMirror.Pos=Pos;CodeMirror.cmpPos=cmp;CodeMirror.modes=modes;CodeMirror.mimeModes=mimeModes;CodeMirror.resolveMode=resolveMode;CodeMirror.getMode=getMode;CodeMirror.modeExtensions=modeExtensions;CodeMirror.extendMode=extendMode;CodeMirror.copyState=copyState;CodeMirror.startState=startState;CodeMirror.innerMode=innerMode;CodeMirror.commands=commands;CodeMirror.keyMap=keyMap;CodeMirror.keyName=keyName;CodeMirror.isModifierKey=isModifierKey;CodeMirror.lookupKey=lookupKey;CodeMirror.normalizeKeyMap=normalizeKeyMap;CodeMirror.StringStream=StringStream;CodeMirror.SharedTextMarker=SharedTextMarker;CodeMirror.TextMarker=TextMarker;CodeMirror.LineWidget=LineWidget;CodeMirror.e_preventDefault=e_preventDefault;CodeMirror.e_stopPropagation=e_stopPropagation;
CodeMirror.e_stop=e_stop;CodeMirror.addClass=addClass;CodeMirror.contains=contains;CodeMirror.rmClass=rmClass;CodeMirror.keyNames=keyNames}defineOptions(CodeMirror$1);addEditorMethods(CodeMirror$1);var dontDelegate="iter insert remove copy getEditor constructor".split(" ");for(var prop in Doc.prototype){if(Doc.prototype.hasOwnProperty(prop)&&indexOf(dontDelegate,prop)<0){CodeMirror$1.prototype[prop]=(function(method){return function(){return method.apply(this.doc,arguments)}})(Doc.prototype[prop])}}eventMixin(Doc);CodeMirror$1.inputStyles={"textarea":TextareaInput,"contenteditable":ContentEditableInput};CodeMirror$1.defineMode=function(name){if(!CodeMirror$1.defaults.mode&&name!="null"){CodeMirror$1.defaults.mode=name}defineMode.apply(this,arguments)};CodeMirror$1.defineMIME=defineMIME;CodeMirror$1.defineMode("null",function(){return({token:function(stream){return stream.skipToEnd()}})});CodeMirror$1.defineMIME("text/plain","null");CodeMirror$1.defineExtension=function(name,func){CodeMirror$1.prototype[name]=func};CodeMirror$1.defineDocExtension=function(name,func){Doc.prototype[name]=func};CodeMirror$1.fromTextArea=fromTextArea;addLegacyProps(CodeMirror$1);CodeMirror$1.version="5.39.2";return CodeMirror$1})));

// --
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define1&&define1.amd)define1([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).markdownit=e()}}(function(){return function o(i,a,c){function l(t,e){if(!a[t]){if(!i[t]){var r="function"==typeof require1&&require1;if(!e&&r)return r(t,!0);if(u)return u(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var s=a[t]={exports:{}};i[t][0].call(s.exports,function(e){var r=i[t][1][e];return l(r||e)},s,s.exports,o,i,a,c)}return a[t].exports}for(var u="function"==typeof require1&&require1,e=0;e<c.length;e++)l(c[e]);return l}({1:[function(e,r,t){"use strict";r.exports=e("entities/maps/entities.json")},{"entities/maps/entities.json":52}],2:[function(e,r,t){"use strict";r.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},{}],3:[function(e,r,t){"use strict";var n="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",s="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",o=new RegExp("^(?:"+n+"|"+s+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),i=new RegExp("^(?:"+n+"|"+s+")");r.exports.HTML_TAG_RE=o,r.exports.HTML_OPEN_CLOSE_TAG_RE=i},{}],4:[function(e,r,t){"use strict";var n=Object.prototype.hasOwnProperty;function i(e,r){return n.call(e,r)}function a(e){return!(55296<=e&&e<=57343)&&(!(64976<=e&&e<=65007)&&(65535!=(65535&e)&&65534!=(65535&e)&&(!(0<=e&&e<=8)&&(11!==e&&(!(14<=e&&e<=31)&&(!(127<=e&&e<=159)&&!(1114111<e)))))))}function c(e){if(65535<e){var r=55296+((e-=65536)>>10),t=56320+(1023&e);return String.fromCharCode(r,t)}return String.fromCharCode(e)}var s=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,o=new RegExp(s.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),l=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,u=e("./entities");var p=/[&<>"]/,h=/[&<>"]/g,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function d(e){return f[e]}var m=/[.?*+^$[\]\\(){}|-]/g;var _=e("uc.micro/categories/P/regex");t.lib={},t.lib.mdurl=e("mdurl"),t.lib.ucmicro=e("uc.micro"),t.assign=function(t){return Array.prototype.slice.call(arguments,1).forEach(function(r){if(r){if("object"!=typeof r)throw new TypeError(r+"must be object");Object.keys(r).forEach(function(e){t[e]=r[e]})}}),t},t.isString=function(e){return"[object String]"===(r=e,Object.prototype.toString.call(r));var r},t.has=i,t.unescapeMd=function(e){return e.indexOf("\\")<0?e:e.replace(s,"$1")},t.unescapeAll=function(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(o,function(e,r,t){return r||(n=e,o=0,i(u,s=t)?u[s]:35===s.charCodeAt(0)&&l.test(s)&&a(o="x"===s[1].toLowerCase()?parseInt(s.slice(2),16):parseInt(s.slice(1),10))?c(o):n);var n,s,o})},t.isValidEntityCode=a,t.fromCodePoint=c,t.escapeHtml=function(e){return p.test(e)?e.replace(h,d):e},t.arrayReplaceAt=function(e,r,t){return[].concat(e.slice(0,r),t,e.slice(r+1))},t.isSpace=function(e){switch(e){case 9:case 32:return!0}return!1},t.isWhiteSpace=function(e){if(8192<=e&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},t.isMdAsciiPunct=function(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},t.isPunctChar=function(e){return _.test(e)},t.escapeRE=function(e){return e.replace(m,"\\$&")},t.normalizeReference=function(e){return e.trim().replace(/\s+/g," ").toUpperCase()}},{"./entities":1,mdurl:58,"uc.micro":65,"uc.micro/categories/P/regex":63}],5:[function(e,r,t){"use strict";t.parseLinkLabel=e("./parse_link_label"),t.parseLinkDestination=e("./parse_link_destination"),t.parseLinkTitle=e("./parse_link_title")},{"./parse_link_destination":6,"./parse_link_label":7,"./parse_link_title":8}],6:[function(e,r,t){"use strict";var a=e("../common/utils").isSpace,c=e("../common/utils").unescapeAll;r.exports=function(e,r,t){var n,s,o=r,i={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(r)){for(r++;r<t;){if(10===(n=e.charCodeAt(r))||a(n))return i;if(62===n)return i.pos=r+1,i.str=c(e.slice(o+1,r)),i.ok=!0,i;92===n&&r+1<t?r+=2:r++}return i}for(s=0;r<t&&32!==(n=e.charCodeAt(r))&&!(n<32||127===n);)if(92===n&&r+1<t)r+=2;else{if(40===n&&s++,41===n){if(0===s)break;s--}r++}return o===r||0!==s||(i.str=c(e.slice(o,r)),i.lines=0,i.pos=r,i.ok=!0),i}},{"../common/utils":4}],7:[function(e,r,t){"use strict";r.exports=function(e,r,t){var n,s,o,i,a=-1,c=e.posMax,l=e.pos;for(e.pos=r+1,n=1;e.pos<c;){if(93===(o=e.src.charCodeAt(e.pos))&&0===--n){s=!0;break}if(i=e.pos,e.md.inline.skipToken(e),91===o)if(i===e.pos-1)n++;else if(t)return e.pos=l,-1}return s&&(a=e.pos),e.pos=l,a}},{}],8:[function(e,r,t){"use strict";var c=e("../common/utils").unescapeAll;r.exports=function(e,r,t){var n,s,o=0,i=r,a={ok:!1,pos:0,lines:0,str:""};if(t<=r)return a;if(34!==(s=e.charCodeAt(r))&&39!==s&&40!==s)return a;for(r++,40===s&&(s=41);r<t;){if((n=e.charCodeAt(r))===s)return a.pos=r+1,a.lines=o,a.str=c(e.slice(i+1,r)),a.ok=!0,a;10===n?o++:92===n&&r+1<t&&(r++,10===e.charCodeAt(r)&&o++),r++}return a}},{"../common/utils":4}],9:[function(e,r,t){"use strict";var n=e("./common/utils"),s=e("./helpers"),o=e("./renderer"),i=e("./parser_core"),a=e("./parser_block"),c=e("./parser_inline"),l=e("linkify-it"),u=e("mdurl"),p=e("punycode"),h={default:e("./presets/default"),zero:e("./presets/zero"),commonmark:e("./presets/commonmark")},f=/^(vbscript|javascript|file|data):/,d=/^data:image\/(gif|png|jpeg|webp);/;function m(e){var r=e.trim().toLowerCase();return!f.test(r)||!!d.test(r)}var _=["http:","https:","mailto:"];function g(e){var r=u.parse(e,!0);if(r.hostname&&(!r.protocol||0<=_.indexOf(r.protocol)))try{r.hostname=p.toASCII(r.hostname)}catch(e){}return u.encode(u.format(r))}function b(e){var r=u.parse(e,!0);if(r.hostname&&(!r.protocol||0<=_.indexOf(r.protocol)))try{r.hostname=p.toUnicode(r.hostname)}catch(e){}return u.decode(u.format(r))}function k(e,r){if(!(this instanceof k))return new k(e,r);r||n.isString(e)||(r=e||{},e="default"),this.inline=new c,this.block=new a,this.core=new i,this.renderer=new o,this.linkify=new l,this.validateLink=m,this.normalizeLink=g,this.normalizeLinkText=b,this.utils=n,this.helpers=n.assign({},s),this.options={},this.configure(e),r&&this.set(r)}k.prototype.set=function(e){return n.assign(this.options,e),this},k.prototype.configure=function(r){var e,t=this;if(n.isString(r)&&!(r=h[e=r]))throw new Error('Wrong `markdown-it` preset "'+e+'", check name');if(!r)throw new Error("Wrong `markdown-it` preset, can't be empty");return r.options&&t.set(r.options),r.components&&Object.keys(r.components).forEach(function(e){r.components[e].rules&&t[e].ruler.enableOnly(r.components[e].rules),r.components[e].rules2&&t[e].ruler2.enableOnly(r.components[e].rules2)}),this},k.prototype.enable=function(r,e){var t=[];Array.isArray(r)||(r=[r]),["core","block","inline"].forEach(function(e){t=t.concat(this[e].ruler.enable(r,!0))},this),t=t.concat(this.inline.ruler2.enable(r,!0));var n=r.filter(function(e){return t.indexOf(e)<0});if(n.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this},k.prototype.disable=function(r,e){var t=[];Array.isArray(r)||(r=[r]),["core","block","inline"].forEach(function(e){t=t.concat(this[e].ruler.disable(r,!0))},this),t=t.concat(this.inline.ruler2.disable(r,!0));var n=r.filter(function(e){return t.indexOf(e)<0});if(n.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this},k.prototype.use=function(e){var r=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,r),this},k.prototype.parse=function(e,r){if("string"!=typeof e)throw new Error("Input data should be a String");var t=new this.core.State(e,this,r);return this.core.process(t),t.tokens},k.prototype.render=function(e,r){return r=r||{},this.renderer.render(this.parse(e,r),this.options,r)},k.prototype.parseInline=function(e,r){var t=new this.core.State(e,this,r);return t.inlineMode=!0,this.core.process(t),t.tokens},k.prototype.renderInline=function(e,r){return r=r||{},this.renderer.render(this.parseInline(e,r),this.options,r)},r.exports=k},{"./common/utils":4,"./helpers":5,"./parser_block":10,"./parser_core":11,"./parser_inline":12,"./presets/commonmark":13,"./presets/default":14,"./presets/zero":15,"./renderer":16,"linkify-it":53,mdurl:58,punycode:60}],10:[function(e,r,t){"use strict";var n=e("./ruler"),s=[["table",e("./rules_block/table"),["paragraph","reference"]],["code",e("./rules_block/code")],["fence",e("./rules_block/fence"),["paragraph","reference","blockquote","list"]],["blockquote",e("./rules_block/blockquote"),["paragraph","reference","blockquote","list"]],["hr",e("./rules_block/hr"),["paragraph","reference","blockquote","list"]],["list",e("./rules_block/list"),["paragraph","reference","blockquote"]],["reference",e("./rules_block/reference")],["heading",e("./rules_block/heading"),["paragraph","reference","blockquote"]],["lheading",e("./rules_block/lheading")],["html_block",e("./rules_block/html_block"),["paragraph","reference","blockquote"]],["paragraph",e("./rules_block/paragraph")]];function o(){this.ruler=new n;for(var e=0;e<s.length;e++)this.ruler.push(s[e][0],s[e][1],{alt:(s[e][2]||[]).slice()})}o.prototype.tokenize=function(e,r,t){for(var n,s=this.ruler.getRules(""),o=s.length,i=r,a=!1,c=e.md.options.maxNesting;i<t&&(e.line=i=e.skipEmptyLines(i),!(t<=i))&&!(e.sCount[i]<e.blkIndent);){if(e.level>=c){e.line=t;break}for(n=0;n<o&&!s[n](e,i,t,!1);n++);e.tight=!a,e.isEmpty(e.line-1)&&(a=!0),(i=e.line)<t&&e.isEmpty(i)&&(a=!0,i++,e.line=i)}},o.prototype.parse=function(e,r,t,n){var s;e&&(s=new this.State(e,r,t,n),this.tokenize(s,s.line,s.lineMax))},o.prototype.State=e("./rules_block/state_block"),r.exports=o},{"./ruler":17,"./rules_block/blockquote":18,"./rules_block/code":19,"./rules_block/fence":20,"./rules_block/heading":21,"./rules_block/hr":22,"./rules_block/html_block":23,"./rules_block/lheading":24,"./rules_block/list":25,"./rules_block/paragraph":26,"./rules_block/reference":27,"./rules_block/state_block":28,"./rules_block/table":29}],11:[function(e,r,t){"use strict";var n=e("./ruler"),s=[["normalize",e("./rules_core/normalize")],["block",e("./rules_core/block")],["inline",e("./rules_core/inline")],["linkify",e("./rules_core/linkify")],["replacements",e("./rules_core/replacements")],["smartquotes",e("./rules_core/smartquotes")]];function o(){this.ruler=new n;for(var e=0;e<s.length;e++)this.ruler.push(s[e][0],s[e][1])}o.prototype.process=function(e){var r,t,n;for(r=0,t=(n=this.ruler.getRules("")).length;r<t;r++)n[r](e)},o.prototype.State=e("./rules_core/state_core"),r.exports=o},{"./ruler":17,"./rules_core/block":30,"./rules_core/inline":31,"./rules_core/linkify":32,"./rules_core/normalize":33,"./rules_core/replacements":34,"./rules_core/smartquotes":35,"./rules_core/state_core":36}],12:[function(e,r,t){"use strict";var n=e("./ruler"),s=[["text",e("./rules_inline/text")],["newline",e("./rules_inline/newline")],["escape",e("./rules_inline/escape")],["backticks",e("./rules_inline/backticks")],["strikethrough",e("./rules_inline/strikethrough").tokenize],["emphasis",e("./rules_inline/emphasis").tokenize],["link",e("./rules_inline/link")],["image",e("./rules_inline/image")],["autolink",e("./rules_inline/autolink")],["html_inline",e("./rules_inline/html_inline")],["entity",e("./rules_inline/entity")]],o=[["balance_pairs",e("./rules_inline/balance_pairs")],["strikethrough",e("./rules_inline/strikethrough").postProcess],["emphasis",e("./rules_inline/emphasis").postProcess],["text_collapse",e("./rules_inline/text_collapse")]];function i(){var e;for(this.ruler=new n,e=0;e<s.length;e++)this.ruler.push(s[e][0],s[e][1]);for(this.ruler2=new n,e=0;e<o.length;e++)this.ruler2.push(o[e][0],o[e][1])}i.prototype.skipToken=function(e){var r,t,n=e.pos,s=this.ruler.getRules(""),o=s.length,i=e.md.options.maxNesting,a=e.cache;if(void 0===a[n]){if(e.level<i)for(t=0;t<o&&(e.level++,r=s[t](e,!0),e.level--,!r);t++);else e.pos=e.posMax;r||e.pos++,a[n]=e.pos}else e.pos=a[n]},i.prototype.tokenize=function(e){for(var r,t,n=this.ruler.getRules(""),s=n.length,o=e.posMax,i=e.md.options.maxNesting;e.pos<o;){if(e.level<i)for(t=0;t<s&&!(r=n[t](e,!1));t++);if(r){if(e.pos>=o)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},i.prototype.parse=function(e,r,t,n){var s,o,i,a=new this.State(e,r,t,n);for(this.tokenize(a),i=(o=this.ruler2.getRules("")).length,s=0;s<i;s++)o[s](a)},i.prototype.State=e("./rules_inline/state_inline"),r.exports=i},{"./ruler":17,"./rules_inline/autolink":37,"./rules_inline/backticks":38,"./rules_inline/balance_pairs":39,"./rules_inline/emphasis":40,"./rules_inline/entity":41,"./rules_inline/escape":42,"./rules_inline/html_inline":43,"./rules_inline/image":44,"./rules_inline/link":45,"./rules_inline/newline":46,"./rules_inline/state_inline":47,"./rules_inline/strikethrough":48,"./rules_inline/text":49,"./rules_inline/text_collapse":50}],13:[function(e,r,t){"use strict";r.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},{}],14:[function(e,r,t){"use strict";r.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},{}],15:[function(e,r,t){"use strict";r.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},{}],16:[function(e,r,t){"use strict";var n=e("./common/utils").assign,h=e("./common/utils").unescapeAll,f=e("./common/utils").escapeHtml,s={};function o(){this.rules=n({},s)}s.code_inline=function(e,r,t,n,s){var o=e[r];return"<code"+s.renderAttrs(o)+">"+f(e[r].content)+"</code>"},s.code_block=function(e,r,t,n,s){var o=e[r];return"<pre"+s.renderAttrs(o)+"><code>"+f(e[r].content)+"</code></pre>\n"},s.fence=function(e,r,t,n,s){var o,i,a,c,l=e[r],u=l.info?h(l.info).trim():"",p="";return u&&(p=u.split(/\s+/g)[0]),0===(o=t.highlight&&t.highlight(l.content,p)||f(l.content)).indexOf("<pre")?o+"\n":u?(i=l.attrIndex("class"),a=l.attrs?l.attrs.slice():[],i<0?a.push(["class",t.langPrefix+p]):a[i][1]+=" "+t.langPrefix+p,c={attrs:a},"<pre><code"+s.renderAttrs(c)+">"+o+"</code></pre>\n"):"<pre><code"+s.renderAttrs(l)+">"+o+"</code></pre>\n"},s.image=function(e,r,t,n,s){var o=e[r];return o.attrs[o.attrIndex("alt")][1]=s.renderInlineAsText(o.children,t,n),s.renderToken(e,r,t)},s.hardbreak=function(e,r,t){return t.xhtmlOut?"<br />\n":"<br>\n"},s.softbreak=function(e,r,t){return t.breaks?t.xhtmlOut?"<br />\n":"<br>\n":"\n"},s.text=function(e,r){return f(e[r].content)},s.html_block=function(e,r){return e[r].content},s.html_inline=function(e,r){return e[r].content},o.prototype.renderAttrs=function(e){var r,t,n;if(!e.attrs)return"";for(n="",r=0,t=e.attrs.length;r<t;r++)n+=" "+f(e.attrs[r][0])+'="'+f(e.attrs[r][1])+'"';return n},o.prototype.renderToken=function(e,r,t){var n,s="",o=!1,i=e[r];return i.hidden?"":(i.block&&-1!==i.nesting&&r&&e[r-1].hidden&&(s+="\n"),s+=(-1===i.nesting?"</":"<")+i.tag,s+=this.renderAttrs(i),0===i.nesting&&t.xhtmlOut&&(s+=" /"),i.block&&(o=!0,1===i.nesting&&r+1<e.length&&("inline"===(n=e[r+1]).type||n.hidden?o=!1:-1===n.nesting&&n.tag===i.tag&&(o=!1))),s+=o?">\n":">")},o.prototype.renderInline=function(e,r,t){for(var n,s="",o=this.rules,i=0,a=e.length;i<a;i++)void 0!==o[n=e[i].type]?s+=o[n](e,i,r,t,this):s+=this.renderToken(e,i,r);return s},o.prototype.renderInlineAsText=function(e,r,t){for(var n="",s=0,o=e.length;s<o;s++)"text"===e[s].type?n+=e[s].content:"image"===e[s].type&&(n+=this.renderInlineAsText(e[s].children,r,t));return n},o.prototype.render=function(e,r,t){var n,s,o,i="",a=this.rules;for(n=0,s=e.length;n<s;n++)"inline"===(o=e[n].type)?i+=this.renderInline(e[n].children,r,t):void 0!==a[o]?i+=a[e[n].type](e,n,r,t,this):i+=this.renderToken(e,n,r,t);return i},r.exports=o},{"./common/utils":4}],17:[function(e,r,t){"use strict";function n(){this.__rules__=[],this.__cache__=null}n.prototype.__find__=function(e){for(var r=0;r<this.__rules__.length;r++)if(this.__rules__[r].name===e)return r;return-1},n.prototype.__compile__=function(){var t=this,r=[""];t.__rules__.forEach(function(e){e.enabled&&e.alt.forEach(function(e){r.indexOf(e)<0&&r.push(e)})}),t.__cache__={},r.forEach(function(r){t.__cache__[r]=[],t.__rules__.forEach(function(e){e.enabled&&(r&&e.alt.indexOf(r)<0||t.__cache__[r].push(e.fn))})})},n.prototype.at=function(e,r,t){var n=this.__find__(e),s=t||{};if(-1===n)throw new Error("Parser rule not found: "+e);this.__rules__[n].fn=r,this.__rules__[n].alt=s.alt||[],this.__cache__=null},n.prototype.before=function(e,r,t,n){var s=this.__find__(e),o=n||{};if(-1===s)throw new Error("Parser rule not found: "+e);this.__rules__.splice(s,0,{name:r,enabled:!0,fn:t,alt:o.alt||[]}),this.__cache__=null},n.prototype.after=function(e,r,t,n){var s=this.__find__(e),o=n||{};if(-1===s)throw new Error("Parser rule not found: "+e);this.__rules__.splice(s+1,0,{name:r,enabled:!0,fn:t,alt:o.alt||[]}),this.__cache__=null},n.prototype.push=function(e,r,t){var n=t||{};this.__rules__.push({name:e,enabled:!0,fn:r,alt:n.alt||[]}),this.__cache__=null},n.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(e){var r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!0,n.push(e)},this),this.__cache__=null,n},n.prototype.enableOnly=function(e,r){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(e){e.enabled=!1}),this.enable(e,r)},n.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(e){var r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!1,n.push(e)},this),this.__cache__=null,n},n.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},r.exports=n},{}],18:[function(e,r,t){"use strict";var E=e("../common/utils").isSpace;r.exports=function(e,r,t,n){var s,o,i,a,c,l,u,p,h,f,d,m,_,g,b,k,v,x,y,C,A=e.lineMax,w=e.bMarks[r]+e.tShift[r],D=e.eMarks[r];if(4<=e.sCount[r]-e.blkIndent)return!1;if(62!==e.src.charCodeAt(w++))return!1;if(n)return!0;for(a=h=e.sCount[r]+w-(e.bMarks[r]+e.tShift[r]),32===e.src.charCodeAt(w)?(w++,a++,h++,k=!(s=!1)):9===e.src.charCodeAt(w)?(k=!0,(e.bsCount[r]+h)%4==3?(w++,a++,h++,s=!1):s=!0):k=!1,f=[e.bMarks[r]],e.bMarks[r]=w;w<D&&(o=e.src.charCodeAt(w),E(o));)9===o?h+=4-(h+e.bsCount[r]+(s?1:0))%4:h++,w++;for(d=[e.bsCount[r]],e.bsCount[r]=e.sCount[r]+1+(k?1:0),l=D<=w,g=[e.sCount[r]],e.sCount[r]=h-a,b=[e.tShift[r]],e.tShift[r]=w-e.bMarks[r],x=e.md.block.ruler.getRules("blockquote"),_=e.parentType,C=!(e.parentType="blockquote"),p=r+1;p<t&&(e.sCount[p]<e.blkIndent&&(C=!0),w=e.bMarks[p]+e.tShift[p],!((D=e.eMarks[p])<=w));p++)if(62!==e.src.charCodeAt(w++)||C){if(l)break;for(v=!1,i=0,c=x.length;i<c;i++)if(x[i](e,p,t,!0)){v=!0;break}if(v){e.lineMax=p,0!==e.blkIndent&&(f.push(e.bMarks[p]),d.push(e.bsCount[p]),b.push(e.tShift[p]),g.push(e.sCount[p]),e.sCount[p]-=e.blkIndent);break}f.push(e.bMarks[p]),d.push(e.bsCount[p]),b.push(e.tShift[p]),g.push(e.sCount[p]),e.sCount[p]=-1}else{for(a=h=e.sCount[p]+w-(e.bMarks[p]+e.tShift[p]),32===e.src.charCodeAt(w)?(w++,a++,h++,k=!(s=!1)):9===e.src.charCodeAt(w)?(k=!0,(e.bsCount[p]+h)%4==3?(w++,a++,h++,s=!1):s=!0):k=!1,f.push(e.bMarks[p]),e.bMarks[p]=w;w<D&&(o=e.src.charCodeAt(w),E(o));)9===o?h+=4-(h+e.bsCount[p]+(s?1:0))%4:h++,w++;l=D<=w,d.push(e.bsCount[p]),e.bsCount[p]=e.sCount[p]+1+(k?1:0),g.push(e.sCount[p]),e.sCount[p]=h-a,b.push(e.tShift[p]),e.tShift[p]=w-e.bMarks[p]}for(m=e.blkIndent,e.blkIndent=0,(y=e.push("blockquote_open","blockquote",1)).markup=">",y.map=u=[r,0],e.md.block.tokenize(e,r,p),(y=e.push("blockquote_close","blockquote",-1)).markup=">",e.lineMax=A,e.parentType=_,u[1]=e.line,i=0;i<b.length;i++)e.bMarks[i+r]=f[i],e.tShift[i+r]=b[i],e.sCount[i+r]=g[i],e.bsCount[i+r]=d[i];return e.blkIndent=m,!0}},{"../common/utils":4}],19:[function(e,r,t){"use strict";r.exports=function(e,r,t){var n,s,o;if(e.sCount[r]-e.blkIndent<4)return!1;for(s=n=r+1;n<t;)if(e.isEmpty(n))n++;else{if(!(4<=e.sCount[n]-e.blkIndent))break;s=++n}return e.line=s,(o=e.push("code_block","code",0)).content=e.getLines(r,s,4+e.blkIndent,!0),o.map=[r,e.line],!0}},{}],20:[function(e,r,t){"use strict";r.exports=function(e,r,t,n){var s,o,i,a,c,l,u,p=!1,h=e.bMarks[r]+e.tShift[r],f=e.eMarks[r];if(4<=e.sCount[r]-e.blkIndent)return!1;if(f<h+3)return!1;if(126!==(s=e.src.charCodeAt(h))&&96!==s)return!1;if(c=h,(o=(h=e.skipChars(h,s))-c)<3)return!1;if(u=e.src.slice(c,h),0<=(i=e.src.slice(h,f)).indexOf(String.fromCharCode(s)))return!1;if(n)return!0;for(a=r;!(t<=++a)&&!((h=c=e.bMarks[a]+e.tShift[a])<(f=e.eMarks[a])&&e.sCount[a]<e.blkIndent);)if(e.src.charCodeAt(h)===s&&!(4<=e.sCount[a]-e.blkIndent||(h=e.skipChars(h,s))-c<o||(h=e.skipSpaces(h))<f)){p=!0;break}return o=e.sCount[r],e.line=a+(p?1:0),(l=e.push("fence","code",0)).info=i,l.content=e.getLines(r+1,a,o,!0),l.markup=u,l.map=[r,e.line],!0}},{}],21:[function(e,r,t){"use strict";var u=e("../common/utils").isSpace;r.exports=function(e,r,t,n){var s,o,i,a,c=e.bMarks[r]+e.tShift[r],l=e.eMarks[r];if(4<=e.sCount[r]-e.blkIndent)return!1;if(35!==(s=e.src.charCodeAt(c))||l<=c)return!1;for(o=1,s=e.src.charCodeAt(++c);35===s&&c<l&&o<=6;)o++,s=e.src.charCodeAt(++c);return!(6<o||c<l&&!u(s))&&(n||(l=e.skipSpacesBack(l,c),c<(i=e.skipCharsBack(l,35,c))&&u(e.src.charCodeAt(i-1))&&(l=i),e.line=r+1,(a=e.push("heading_open","h"+String(o),1)).markup="########".slice(0,o),a.map=[r,e.line],(a=e.push("inline","",0)).content=e.src.slice(c,l).trim(),a.map=[r,e.line],a.children=[],(a=e.push("heading_close","h"+String(o),-1)).markup="########".slice(0,o)),!0)}},{"../common/utils":4}],22:[function(e,r,t){"use strict";var u=e("../common/utils").isSpace;r.exports=function(e,r,t,n){var s,o,i,a,c=e.bMarks[r]+e.tShift[r],l=e.eMarks[r];if(4<=e.sCount[r]-e.blkIndent)return!1;if(42!==(s=e.src.charCodeAt(c++))&&45!==s&&95!==s)return!1;for(o=1;c<l;){if((i=e.src.charCodeAt(c++))!==s&&!u(i))return!1;i===s&&o++}return!(o<3)&&(n||(e.line=r+1,(a=e.push("hr","hr",0)).map=[r,e.line],a.markup=Array(o+1).join(String.fromCharCode(s))),!0)}},{"../common/utils":4}],23:[function(e,r,t){"use strict";var n=e("../common/html_blocks"),s=e("../common/html_re").HTML_OPEN_CLOSE_TAG_RE,u=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+n.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(s.source+"\\s*$"),/^$/,!1]];r.exports=function(e,r,t,n){var s,o,i,a,c=e.bMarks[r]+e.tShift[r],l=e.eMarks[r];if(4<=e.sCount[r]-e.blkIndent)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(c))return!1;for(a=e.src.slice(c,l),s=0;s<u.length&&!u[s][0].test(a);s++);if(s===u.length)return!1;if(n)return u[s][2];if(o=r+1,!u[s][1].test(a))for(;o<t&&!(e.sCount[o]<e.blkIndent);o++)if(c=e.bMarks[o]+e.tShift[o],l=e.eMarks[o],a=e.src.slice(c,l),u[s][1].test(a)){0!==a.length&&o++;break}return e.line=o,(i=e.push("html_block","",0)).map=[r,o],i.content=e.getLines(r,o,e.blkIndent,!0),!0}},{"../common/html_blocks":2,"../common/html_re":3}],24:[function(e,r,t){"use strict";r.exports=function(e,r,t){var n,s,o,i,a,c,l,u,p,h,f=r+1,d=e.md.block.ruler.getRules("paragraph");if(4<=e.sCount[r]-e.blkIndent)return!1;for(h=e.parentType,e.parentType="paragraph";f<t&&!e.isEmpty(f);f++)if(!(3<e.sCount[f]-e.blkIndent)){if(e.sCount[f]>=e.blkIndent&&(c=e.bMarks[f]+e.tShift[f])<(l=e.eMarks[f])&&(45===(p=e.src.charCodeAt(c))||61===p)&&(c=e.skipChars(c,p),l<=(c=e.skipSpaces(c)))){u=61===p?1:2;break}if(!(e.sCount[f]<0)){for(s=!1,o=0,i=d.length;o<i;o++)if(d[o](e,f,t,!0)){s=!0;break}if(s)break}}return!!u&&(n=e.getLines(r,f,e.blkIndent,!1).trim(),e.line=f+1,(a=e.push("heading_open","h"+String(u),1)).markup=String.fromCharCode(p),a.map=[r,e.line],(a=e.push("inline","",0)).content=n,a.map=[r,e.line-1],a.children=[],(a=e.push("heading_close","h"+String(u),-1)).markup=String.fromCharCode(p),e.parentType=h,!0)}},{}],25:[function(e,r,t){"use strict";var i=e("../common/utils").isSpace;function I(e,r){var t,n,s,o;return n=e.bMarks[r]+e.tShift[r],s=e.eMarks[r],42!==(t=e.src.charCodeAt(n++))&&45!==t&&43!==t?-1:n<s&&(o=e.src.charCodeAt(n),!i(o))?-1:n}function R(e,r){var t,n=e.bMarks[r]+e.tShift[r],s=n,o=e.eMarks[r];if(o<=s+1)return-1;if((t=e.src.charCodeAt(s++))<48||57<t)return-1;for(;;){if(o<=s)return-1;if(!(48<=(t=e.src.charCodeAt(s++))&&t<=57)){if(41===t||46===t)break;return-1}if(10<=s-n)return-1}return s<o&&(t=e.src.charCodeAt(s),!i(t))?-1:s}r.exports=function(e,r,t,n){var s,o,i,a,c,l,u,p,h,f,d,m,_,g,b,k,v,x,y,C,A,w,D,E,q,S,F,L,z=!1,T=!0;if(4<=e.sCount[r]-e.blkIndent)return!1;if(n&&"paragraph"===e.parentType&&e.tShift[r]>=e.blkIndent&&(z=!0),0<=(D=R(e,r))){if(u=!0,q=e.bMarks[r]+e.tShift[r],_=Number(e.src.substr(q,D-q-1)),z&&1!==_)return!1}else{if(!(0<=(D=I(e,r))))return!1;u=!1}if(z&&e.skipSpaces(D)>=e.eMarks[r])return!1;if(m=e.src.charCodeAt(D-1),n)return!0;for(d=e.tokens.length,u?(L=e.push("ordered_list_open","ol",1),1!==_&&(L.attrs=[["start",_]])):L=e.push("bullet_list_open","ul",1),L.map=f=[r,0],L.markup=String.fromCharCode(m),b=r,E=!1,F=e.md.block.ruler.getRules("list"),y=e.parentType,e.parentType="list";b<t;){for(w=D,g=e.eMarks[b],l=k=e.sCount[b]+D-(e.bMarks[r]+e.tShift[r]);w<g;){if(9===(s=e.src.charCodeAt(w)))k+=4-(k+e.bsCount[b])%4;else{if(32!==s)break;k++}w++}if(4<(c=g<=(o=w)?1:k-l)&&(c=1),a=l+c,(L=e.push("list_item_open","li",1)).markup=String.fromCharCode(m),L.map=p=[r,0],v=e.blkIndent,A=e.tight,C=e.tShift[r],x=e.sCount[r],e.blkIndent=a,e.tight=!0,e.tShift[r]=o-e.bMarks[r],e.sCount[r]=k,g<=o&&e.isEmpty(r+1)?e.line=Math.min(e.line+2,t):e.md.block.tokenize(e,r,t,!0),e.tight&&!E||(T=!1),E=1<e.line-r&&e.isEmpty(e.line-1),e.blkIndent=v,e.tShift[r]=C,e.sCount[r]=x,e.tight=A,(L=e.push("list_item_close","li",-1)).markup=String.fromCharCode(m),b=r=e.line,p[1]=b,o=e.bMarks[r],t<=b)break;if(e.sCount[b]<e.blkIndent)break;for(S=!1,i=0,h=F.length;i<h;i++)if(F[i](e,b,t,!0)){S=!0;break}if(S)break;if(u){if((D=R(e,b))<0)break}else if((D=I(e,b))<0)break;if(m!==e.src.charCodeAt(D-1))break}return(L=u?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(m),f[1]=b,e.line=b,e.parentType=y,T&&function(e,r){var t,n,s=e.level+2;for(t=r+2,n=e.tokens.length-2;t<n;t++)e.tokens[t].level===s&&"paragraph_open"===e.tokens[t].type&&(e.tokens[t+2].hidden=!0,e.tokens[t].hidden=!0,t+=2)}(e,d),!0}},{"../common/utils":4}],26:[function(e,r,t){"use strict";r.exports=function(e,r){var t,n,s,o,i,a,c=r+1,l=e.md.block.ruler.getRules("paragraph"),u=e.lineMax;for(a=e.parentType,e.parentType="paragraph";c<u&&!e.isEmpty(c);c++)if(!(3<e.sCount[c]-e.blkIndent||e.sCount[c]<0)){for(n=!1,s=0,o=l.length;s<o;s++)if(l[s](e,c,u,!0)){n=!0;break}if(n)break}return t=e.getLines(r,c,e.blkIndent,!1).trim(),e.line=c,(i=e.push("paragraph_open","p",1)).map=[r,e.line],(i=e.push("inline","",0)).content=t,i.map=[r,e.line],i.children=[],i=e.push("paragraph_close","p",-1),e.parentType=a,!0}},{}],27:[function(e,r,t){"use strict";var A=e("../common/utils").normalizeReference,w=e("../common/utils").isSpace;r.exports=function(e,r,t,n){var s,o,i,a,c,l,u,p,h,f,d,m,_,g,b,k,v=0,x=e.bMarks[r]+e.tShift[r],y=e.eMarks[r],C=r+1;if(4<=e.sCount[r]-e.blkIndent)return!1;if(91!==e.src.charCodeAt(x))return!1;for(;++x<y;)if(93===e.src.charCodeAt(x)&&92!==e.src.charCodeAt(x-1)){if(x+1===y)return!1;if(58!==e.src.charCodeAt(x+1))return!1;break}for(a=e.lineMax,b=e.md.block.ruler.getRules("reference"),f=e.parentType,e.parentType="reference";C<a&&!e.isEmpty(C);C++)if(!(3<e.sCount[C]-e.blkIndent||e.sCount[C]<0)){for(g=!1,l=0,u=b.length;l<u;l++)if(b[l](e,C,a,!0)){g=!0;break}if(g)break}for(y=(_=e.getLines(r,C,e.blkIndent,!1).trim()).length,x=1;x<y;x++){if(91===(s=_.charCodeAt(x)))return!1;if(93===s){h=x;break}10===s?v++:92===s&&++x<y&&10===_.charCodeAt(x)&&v++}if(h<0||58!==_.charCodeAt(h+1))return!1;for(x=h+2;x<y;x++)if(10===(s=_.charCodeAt(x)))v++;else if(!w(s))break;if(!(d=e.md.helpers.parseLinkDestination(_,x,y)).ok)return!1;if(c=e.md.normalizeLink(d.str),!e.md.validateLink(c))return!1;for(x=d.pos,i=v+=d.lines,m=o=x;x<y;x++)if(10===(s=_.charCodeAt(x)))v++;else if(!w(s))break;for(d=e.md.helpers.parseLinkTitle(_,x,y),x<y&&m!==x&&d.ok?(k=d.str,x=d.pos,v+=d.lines):(k="",x=o,v=i);x<y&&(s=_.charCodeAt(x),w(s));)x++;if(x<y&&10!==_.charCodeAt(x)&&k)for(k="",x=o,v=i;x<y&&(s=_.charCodeAt(x),w(s));)x++;return!(x<y&&10!==_.charCodeAt(x))&&(!!(p=A(_.slice(1,h)))&&(n||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[p]&&(e.env.references[p]={title:k,href:c}),e.parentType=f,e.line=r+v+1),!0))}},{"../common/utils":4}],28:[function(e,r,t){"use strict";var s=e("../token"),h=e("../common/utils").isSpace;function n(e,r,t,n){var s,o,i,a,c,l,u,p;for(this.src=e,this.md=r,this.env=t,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.parentType="root",this.level=0,this.result="",p=!1,i=a=l=u=0,c=(o=this.src).length;a<c;a++){if(s=o.charCodeAt(a),!p){if(h(s)){l++,9===s?u+=4-u%4:u++;continue}p=!0}10!==s&&a!==c-1||(10!==s&&a++,this.bMarks.push(i),this.eMarks.push(a),this.tShift.push(l),this.sCount.push(u),this.bsCount.push(0),p=!1,u=l=0,i=a+1)}this.bMarks.push(o.length),this.eMarks.push(o.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}n.prototype.push=function(e,r,t){var n=new s(e,r,t);return n.block=!0,t<0&&this.level--,n.level=this.level,0<t&&this.level++,this.tokens.push(n),n},n.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},n.prototype.skipEmptyLines=function(e){for(var r=this.lineMax;e<r&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},n.prototype.skipSpaces=function(e){for(var r,t=this.src.length;e<t&&(r=this.src.charCodeAt(e),h(r));e++);return e},n.prototype.skipSpacesBack=function(e,r){if(e<=r)return e;for(;r<e;)if(!h(this.src.charCodeAt(--e)))return e+1;return e},n.prototype.skipChars=function(e,r){for(var t=this.src.length;e<t&&this.src.charCodeAt(e)===r;e++);return e},n.prototype.skipCharsBack=function(e,r,t){if(e<=t)return e;for(;t<e;)if(r!==this.src.charCodeAt(--e))return e+1;return e},n.prototype.getLines=function(e,r,t,n){var s,o,i,a,c,l,u,p=e;if(r<=e)return"";for(l=new Array(r-e),s=0;p<r;p++,s++){for(o=0,u=a=this.bMarks[p],c=p+1<r||n?this.eMarks[p]+1:this.eMarks[p];a<c&&o<t;){if(i=this.src.charCodeAt(a),h(i))9===i?o+=4-(o+this.bsCount[p])%4:o++;else{if(!(a-u<this.tShift[p]))break;o++}a++}l[s]=t<o?new Array(o-t+1).join(" ")+this.src.slice(a,c):this.src.slice(a,c)}return l.join("")},n.prototype.Token=s,r.exports=n},{"../common/utils":4,"../token":51}],29:[function(e,r,t){"use strict";var _=e("../common/utils").isSpace;function g(e,r){var t=e.bMarks[r]+e.blkIndent,n=e.eMarks[r];return e.src.substr(t,n-t)}function b(e){var r,t=[],n=0,s=e.length,o=0,i=0,a=!1,c=0;for(r=e.charCodeAt(n);n<s;)96===r?a?(a=!1,c=n):o%2==0&&(a=!0,c=n):124!==r||o%2!=0||a||(t.push(e.substring(i,n)),i=n+1),92===r?o++:o=0,++n===s&&a&&(a=!1,n=c+1),r=e.charCodeAt(n);return t.push(e.substring(i)),t}r.exports=function(e,r,t,n){var s,o,i,a,c,l,u,p,h,f,d,m;if(t<r+2)return!1;if(c=r+1,e.sCount[c]<e.blkIndent)return!1;if(4<=e.sCount[c]-e.blkIndent)return!1;if((i=e.bMarks[c]+e.tShift[c])>=e.eMarks[c])return!1;if(124!==(s=e.src.charCodeAt(i++))&&45!==s&&58!==s)return!1;for(;i<e.eMarks[c];){if(124!==(s=e.src.charCodeAt(i))&&45!==s&&58!==s&&!_(s))return!1;i++}for(l=(o=g(e,r+1)).split("|"),h=[],a=0;a<l.length;a++){if(!(f=l[a].trim())){if(0===a||a===l.length-1)continue;return!1}if(!/^:?-+:?$/.test(f))return!1;58===f.charCodeAt(f.length-1)?h.push(58===f.charCodeAt(0)?"center":"right"):58===f.charCodeAt(0)?h.push("left"):h.push("")}if(-1===(o=g(e,r).trim()).indexOf("|"))return!1;if(4<=e.sCount[r]-e.blkIndent)return!1;if((u=(l=b(o.replace(/^\||\|$/g,""))).length)>h.length)return!1;if(n)return!0;for((p=e.push("table_open","table",1)).map=d=[r,0],(p=e.push("thead_open","thead",1)).map=[r,r+1],(p=e.push("tr_open","tr",1)).map=[r,r+1],a=0;a<l.length;a++)(p=e.push("th_open","th",1)).map=[r,r+1],h[a]&&(p.attrs=[["style","text-align:"+h[a]]]),(p=e.push("inline","",0)).content=l[a].trim(),p.map=[r,r+1],p.children=[],p=e.push("th_close","th",-1);for(p=e.push("tr_close","tr",-1),p=e.push("thead_close","thead",-1),(p=e.push("tbody_open","tbody",1)).map=m=[r+2,0],c=r+2;c<t&&!(e.sCount[c]<e.blkIndent)&&-1!==(o=g(e,c).trim()).indexOf("|")&&!(4<=e.sCount[c]-e.blkIndent);c++){for(l=b(o.replace(/^\||\|$/g,"")),p=e.push("tr_open","tr",1),a=0;a<u;a++)p=e.push("td_open","td",1),h[a]&&(p.attrs=[["style","text-align:"+h[a]]]),(p=e.push("inline","",0)).content=l[a]?l[a].trim():"",p.children=[],p=e.push("td_close","td",-1);p=e.push("tr_close","tr",-1)}return p=e.push("tbody_close","tbody",-1),p=e.push("table_close","table",-1),d[1]=m[1]=c,e.line=c,!0}},{"../common/utils":4}],30:[function(e,r,t){"use strict";r.exports=function(e){var r;e.inlineMode?((r=new e.Token("inline","",0)).content=e.src,r.map=[0,1],r.children=[],e.tokens.push(r)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},{}],31:[function(e,r,t){"use strict";r.exports=function(e){var r,t,n,s=e.tokens;for(t=0,n=s.length;t<n;t++)"inline"===(r=s[t]).type&&e.md.inline.parse(r.content,e.md,e.env,r.children)}},{}],32:[function(e,r,t){"use strict";var x=e("../common/utils").arrayReplaceAt;r.exports=function(e){var r,t,n,s,o,i,a,c,l,u,p,h,f,d,m,_,g,b,k,v=e.tokens;if(e.md.options.linkify)for(t=0,n=v.length;t<n;t++)if("inline"===v[t].type&&e.md.linkify.pretest(v[t].content))for(f=0,r=(s=v[t].children).length-1;0<=r;r--)if("link_close"!==(i=s[r]).type){if("html_inline"===i.type&&(k=i.content,/^<a[>\s]/i.test(k)&&0<f&&f--,b=i.content,/^<\/a\s*>/i.test(b)&&f++),!(0<f)&&"text"===i.type&&e.md.linkify.test(i.content)){for(l=i.content,g=e.md.linkify.match(l),a=[],h=i.level,c=p=0;c<g.length;c++)d=g[c].url,m=e.md.normalizeLink(d),e.md.validateLink(m)&&(_=g[c].text,_=g[c].schema?"mailto:"!==g[c].schema||/^mailto:/i.test(_)?e.md.normalizeLinkText(_):e.md.normalizeLinkText("mailto:"+_).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+_).replace(/^http:\/\//,""),p<(u=g[c].index)&&((o=new e.Token("text","",0)).content=l.slice(p,u),o.level=h,a.push(o)),(o=new e.Token("link_open","a",1)).attrs=[["href",m]],o.level=h++,o.markup="linkify",o.info="auto",a.push(o),(o=new e.Token("text","",0)).content=_,o.level=h,a.push(o),(o=new e.Token("link_close","a",-1)).level=--h,o.markup="linkify",o.info="auto",a.push(o),p=g[c].lastIndex);p<l.length&&((o=new e.Token("text","",0)).content=l.slice(p),o.level=h,a.push(o)),v[t].children=s=x(s,r,a)}}else for(r--;s[r].level!==i.level&&"link_open"!==s[r].type;)r--}},{"../common/utils":4}],33:[function(e,r,t){"use strict";var n=/\r[\n\u0085]?|[\u2424\u2028\u0085]/g,s=/\u0000/g;r.exports=function(e){var r;r=(r=e.src.replace(n,"\n")).replace(s,"\ufffd"),e.src=r}},{}],34:[function(e,r,t){"use strict";var s=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,n=/\((c|tm|r|p)\)/i,o=/\((c|tm|r|p)\)/gi,i={c:"\xa9",r:"\xae",p:"\xa7",tm:"\u2122"};function a(e,r){return i[r.toLowerCase()]}function c(e){var r,t,n=0;for(r=e.length-1;0<=r;r--)"text"!==(t=e[r]).type||n||(t.content=t.content.replace(o,a)),"link_open"===t.type&&"auto"===t.info&&n--,"link_close"===t.type&&"auto"===t.info&&n++}function l(e){var r,t,n=0;for(r=e.length-1;0<=r;r--)"text"!==(t=e[r]).type||n||s.test(t.content)&&(t.content=t.content.replace(/\+-/g,"\xb1").replace(/\.{2,}/g,"\u2026").replace(/([?!])\u2026/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1\u2014$2").replace(/(^|\s)--(\s|$)/gm,"$1\u2013$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1\u2013$2")),"link_open"===t.type&&"auto"===t.info&&n--,"link_close"===t.type&&"auto"===t.info&&n++}r.exports=function(e){var r;if(e.md.options.typographer)for(r=e.tokens.length-1;0<=r;r--)"inline"===e.tokens[r].type&&(n.test(e.tokens[r].content)&&c(e.tokens[r].children),s.test(e.tokens[r].content)&&l(e.tokens[r].children))}},{}],35:[function(e,r,t){"use strict";var C=e("../common/utils").isWhiteSpace,A=e("../common/utils").isPunctChar,w=e("../common/utils").isMdAsciiPunct,n=/['"]/,D=/['"]/g,E="\u2019";function q(e,r,t){return e.substr(0,r)+t+e.substr(r+1)}function s(e,r){var t,n,s,o,i,a,c,l,u,p,h,f,d,m,_,g,b,k,v,x,y;for(v=[],t=0;t<e.length;t++){for(n=e[t],c=e[t].level,b=v.length-1;0<=b&&!(v[b].level<=c);b--);if(v.length=b+1,"text"===n.type){i=0,a=(s=n.content).length;e:for(;i<a&&(D.lastIndex=i,o=D.exec(s));){if(_=g=!0,i=o.index+1,k="'"===o[0],u=32,0<=o.index-1)u=s.charCodeAt(o.index-1);else for(b=t-1;0<=b&&("softbreak"!==e[b].type&&"hardbreak"!==e[b].type);b--)if("text"===e[b].type){u=e[b].content.charCodeAt(e[b].content.length-1);break}if(p=32,i<a)p=s.charCodeAt(i);else for(b=t+1;b<e.length&&("softbreak"!==e[b].type&&"hardbreak"!==e[b].type);b++)if("text"===e[b].type){p=e[b].content.charCodeAt(0);break}if(h=w(u)||A(String.fromCharCode(u)),f=w(p)||A(String.fromCharCode(p)),d=C(u),(m=C(p))?_=!1:f&&(d||h||(_=!1)),d?g=!1:h&&(m||f||(g=!1)),34===p&&'"'===o[0]&&48<=u&&u<=57&&(g=_=!1),_&&g&&(_=!1,g=f),_||g){if(g)for(b=v.length-1;0<=b&&(l=v[b],!(v[b].level<c));b--)if(l.single===k&&v[b].level===c){l=v[b],k?(x=r.md.options.quotes[2],y=r.md.options.quotes[3]):(x=r.md.options.quotes[0],y=r.md.options.quotes[1]),n.content=q(n.content,o.index,y),e[l.token].content=q(e[l.token].content,l.pos,x),i+=y.length-1,l.token===t&&(i+=x.length-1),a=(s=n.content).length,v.length=b;continue e}_?v.push({token:t,pos:o.index,single:k,level:c}):g&&k&&(n.content=q(n.content,o.index,E))}else k&&(n.content=q(n.content,o.index,E))}}}}r.exports=function(e){var r;if(e.md.options.typographer)for(r=e.tokens.length-1;0<=r;r--)"inline"===e.tokens[r].type&&n.test(e.tokens[r].content)&&s(e.tokens[r].children,e)}},{"../common/utils":4}],36:[function(e,r,t){"use strict";var n=e("../token");function s(e,r,t){this.src=e,this.env=t,this.tokens=[],this.inlineMode=!1,this.md=r}s.prototype.Token=n,r.exports=s},{"../token":51}],37:[function(e,r,t){"use strict";var l=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,u=/^<([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)>/;r.exports=function(e,r){var t,n,s,o,i,a,c=e.pos;return 60===e.src.charCodeAt(c)&&(!((t=e.src.slice(c)).indexOf(">")<0)&&(u.test(t)?(o=(n=t.match(u))[0].slice(1,-1),i=e.md.normalizeLink(o),!!e.md.validateLink(i)&&(r||((a=e.push("link_open","a",1)).attrs=[["href",i]],a.markup="autolink",a.info="auto",(a=e.push("text","",0)).content=e.md.normalizeLinkText(o),(a=e.push("link_close","a",-1)).markup="autolink",a.info="auto"),e.pos+=n[0].length,!0)):!!l.test(t)&&(o=(s=t.match(l))[0].slice(1,-1),i=e.md.normalizeLink("mailto:"+o),!!e.md.validateLink(i)&&(r||((a=e.push("link_open","a",1)).attrs=[["href",i]],a.markup="autolink",a.info="auto",(a=e.push("text","",0)).content=e.md.normalizeLinkText(o),(a=e.push("link_close","a",-1)).markup="autolink",a.info="auto"),e.pos+=s[0].length,!0))))}},{}],38:[function(e,r,t){"use strict";r.exports=function(e,r){var t,n,s,o,i,a,c=e.pos;if(96!==e.src.charCodeAt(c))return!1;for(t=c,c++,n=e.posMax;c<n&&96===e.src.charCodeAt(c);)c++;for(s=e.src.slice(t,c),o=i=c;-1!==(o=e.src.indexOf("`",i));){for(i=o+1;i<n&&96===e.src.charCodeAt(i);)i++;if(i-o===s.length)return r||((a=e.push("code_inline","code",0)).markup=s,a.content=e.src.slice(c,o).replace(/[ \n]+/g," ").trim()),e.pos=i,!0}return r||(e.pending+=s),e.pos+=s.length,!0}},{}],39:[function(e,r,t){"use strict";r.exports=function(e){var r,t,n,s,o=e.delimiters,i=e.delimiters.length;for(r=0;r<i;r++)if((n=o[r]).close)for(t=r-n.jump-1;0<=t;){if((s=o[t]).open&&s.marker===n.marker&&s.end<0&&s.level===n.level)if(!((s.close||n.open)&&void 0!==s.length&&void 0!==n.length&&(s.length+n.length)%3==0)){n.jump=r-t,n.open=!1,s.end=r,s.jump=0;break}t-=s.jump+1}}},{}],40:[function(e,r,t){"use strict";r.exports.tokenize=function(e,r){var t,n,s=e.pos,o=e.src.charCodeAt(s);if(r)return!1;if(95!==o&&42!==o)return!1;for(n=e.scanDelims(e.pos,42===o),t=0;t<n.length;t++)e.push("text","",0).content=String.fromCharCode(o),e.delimiters.push({marker:o,length:n.length,jump:t,token:e.tokens.length-1,level:e.level,end:-1,open:n.can_open,close:n.can_close});return e.pos+=n.length,!0},r.exports.postProcess=function(e){var r,t,n,s,o,i,a=e.delimiters;for(r=e.delimiters.length-1;0<=r;r--)95!==(t=a[r]).marker&&42!==t.marker||-1!==t.end&&(n=a[t.end],i=0<r&&a[r-1].end===t.end+1&&a[r-1].token===t.token-1&&a[t.end+1].token===n.token+1&&a[r-1].marker===t.marker,o=String.fromCharCode(t.marker),(s=e.tokens[t.token]).type=i?"strong_open":"em_open",s.tag=i?"strong":"em",s.nesting=1,s.markup=i?o+o:o,s.content="",(s=e.tokens[n.token]).type=i?"strong_close":"em_close",s.tag=i?"strong":"em",s.nesting=-1,s.markup=i?o+o:o,s.content="",i&&(e.tokens[a[r-1].token].content="",e.tokens[a[t.end+1].token].content="",r--))}},{}],41:[function(e,r,t){"use strict";var i=e("../common/entities"),a=e("../common/utils").has,c=e("../common/utils").isValidEntityCode,l=e("../common/utils").fromCodePoint,u=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,p=/^&([a-z][a-z0-9]{1,31});/i;r.exports=function(e,r){var t,n,s=e.pos,o=e.posMax;if(38!==e.src.charCodeAt(s))return!1;if(s+1<o)if(35===e.src.charCodeAt(s+1)){if(n=e.src.slice(s).match(u))return r||(t="x"===n[1][0].toLowerCase()?parseInt(n[1].slice(1),16):parseInt(n[1],10),e.pending+=c(t)?l(t):l(65533)),e.pos+=n[0].length,!0}else if((n=e.src.slice(s).match(p))&&a(i,n[1]))return r||(e.pending+=i[n[1]]),e.pos+=n[0].length,!0;return r||(e.pending+="&"),e.pos++,!0}},{"../common/entities":1,"../common/utils":4}],42:[function(e,r,t){"use strict";for(var o=e("../common/utils").isSpace,i=[],n=0;n<256;n++)i.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){i[e.charCodeAt(0)]=1}),r.exports=function(e,r){var t,n=e.pos,s=e.posMax;if(92!==e.src.charCodeAt(n))return!1;if(++n<s){if((t=e.src.charCodeAt(n))<256&&0!==i[t])return r||(e.pending+=e.src[n]),e.pos+=2,!0;if(10===t){for(r||e.push("hardbreak","br",0),n++;n<s&&(t=e.src.charCodeAt(n),o(t));)n++;return e.pos=n,!0}}return r||(e.pending+="\\"),e.pos++,!0}},{"../common/utils":4}],43:[function(e,r,t){"use strict";var a=e("../common/html_re").HTML_TAG_RE;r.exports=function(e,r){var t,n,s,o,i=e.pos;return!!e.md.options.html&&(s=e.posMax,!(60!==e.src.charCodeAt(i)||s<=i+2)&&((33===(t=e.src.charCodeAt(i+1))||63===t||47===t||97<=(o=32|t)&&o<=122)&&(!!(n=e.src.slice(i).match(a))&&(r||(e.push("html_inline","",0).content=e.src.slice(i,i+n[0].length)),e.pos+=n[0].length,!0))))}},{"../common/html_re":3}],44:[function(e,r,t){"use strict";var b=e("../common/utils").normalizeReference,k=e("../common/utils").isSpace;r.exports=function(e,r){var t,n,s,o,i,a,c,l,u,p,h,f,d,m="",_=e.pos,g=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(a=e.pos+2,(i=e.md.helpers.parseLinkLabel(e,e.pos+1,!1))<0)return!1;if((c=i+1)<g&&40===e.src.charCodeAt(c)){for(c++;c<g&&(n=e.src.charCodeAt(c),k(n)||10===n);c++);if(g<=c)return!1;for(d=c,(u=e.md.helpers.parseLinkDestination(e.src,c,e.posMax)).ok&&(m=e.md.normalizeLink(u.str),e.md.validateLink(m)?c=u.pos:m=""),d=c;c<g&&(n=e.src.charCodeAt(c),k(n)||10===n);c++);if(u=e.md.helpers.parseLinkTitle(e.src,c,e.posMax),c<g&&d!==c&&u.ok)for(p=u.str,c=u.pos;c<g&&(n=e.src.charCodeAt(c),k(n)||10===n);c++);else p="";if(g<=c||41!==e.src.charCodeAt(c))return e.pos=_,!1;c++}else{if(void 0===e.env.references)return!1;if(c<g&&91===e.src.charCodeAt(c)?(d=c+1,0<=(c=e.md.helpers.parseLinkLabel(e,c))?o=e.src.slice(d,c++):c=i+1):c=i+1,o||(o=e.src.slice(a,i)),!(l=e.env.references[b(o)]))return e.pos=_,!1;m=l.href,p=l.title}return r||(s=e.src.slice(a,i),e.md.inline.parse(s,e.md,e.env,f=[]),(h=e.push("image","img",0)).attrs=t=[["src",m],["alt",""]],h.children=f,h.content=s,p&&t.push(["title",p])),e.pos=c,e.posMax=g,!0}},{"../common/utils":4}],45:[function(e,r,t){"use strict";var _=e("../common/utils").normalizeReference,g=e("../common/utils").isSpace;r.exports=function(e,r){var t,n,s,o,i,a,c,l,u,p="",h=e.pos,f=e.posMax,d=e.pos,m=!0;if(91!==e.src.charCodeAt(e.pos))return!1;if(i=e.pos+1,(o=e.md.helpers.parseLinkLabel(e,e.pos,!0))<0)return!1;if((a=o+1)<f&&40===e.src.charCodeAt(a)){for(m=!1,a++;a<f&&(n=e.src.charCodeAt(a),g(n)||10===n);a++);if(f<=a)return!1;for(d=a,(c=e.md.helpers.parseLinkDestination(e.src,a,e.posMax)).ok&&(p=e.md.normalizeLink(c.str),e.md.validateLink(p)?a=c.pos:p=""),d=a;a<f&&(n=e.src.charCodeAt(a),g(n)||10===n);a++);if(c=e.md.helpers.parseLinkTitle(e.src,a,e.posMax),a<f&&d!==a&&c.ok)for(u=c.str,a=c.pos;a<f&&(n=e.src.charCodeAt(a),g(n)||10===n);a++);else u="";(f<=a||41!==e.src.charCodeAt(a))&&(m=!0),a++}if(m){if(void 0===e.env.references)return!1;if(a<f&&91===e.src.charCodeAt(a)?(d=a+1,0<=(a=e.md.helpers.parseLinkLabel(e,a))?s=e.src.slice(d,a++):a=o+1):a=o+1,s||(s=e.src.slice(i,o)),!(l=e.env.references[_(s)]))return e.pos=h,!1;p=l.href,u=l.title}return r||(e.pos=i,e.posMax=o,e.push("link_open","a",1).attrs=t=[["href",p]],u&&t.push(["title",u]),e.md.inline.tokenize(e),e.push("link_close","a",-1)),e.pos=a,e.posMax=f,!0}},{"../common/utils":4}],46:[function(e,r,t){"use strict";var o=e("../common/utils").isSpace;r.exports=function(e,r){var t,n,s=e.pos;if(10!==e.src.charCodeAt(s))return!1;for(t=e.pending.length-1,n=e.posMax,r||(0<=t&&32===e.pending.charCodeAt(t)?1<=t&&32===e.pending.charCodeAt(t-1)?(e.pending=e.pending.replace(/ +$/,""),e.push("hardbreak","br",0)):(e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0)):e.push("softbreak","br",0)),s++;s<n&&o(e.src.charCodeAt(s));)s++;return e.pos=s,!0}},{"../common/utils":4}],47:[function(e,r,t){"use strict";var s=e("../token"),_=e("../common/utils").isWhiteSpace,g=e("../common/utils").isPunctChar,b=e("../common/utils").isMdAsciiPunct;function n(e,r,t,n){this.src=e,this.env=t,this.md=r,this.tokens=n,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[]}n.prototype.pushPending=function(){var e=new s("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},n.prototype.push=function(e,r,t){this.pending&&this.pushPending();var n=new s(e,r,t);return t<0&&this.level--,n.level=this.level,0<t&&this.level++,this.pendingLevel=this.level,this.tokens.push(n),n},n.prototype.scanDelims=function(e,r){var t,n,s,o,i,a,c,l,u,p=e,h=!0,f=!0,d=this.posMax,m=this.src.charCodeAt(e);for(t=0<e?this.src.charCodeAt(e-1):32;p<d&&this.src.charCodeAt(p)===m;)p++;return s=p-e,n=p<d?this.src.charCodeAt(p):32,c=b(t)||g(String.fromCharCode(t)),u=b(n)||g(String.fromCharCode(n)),a=_(t),(l=_(n))?h=!1:u&&(a||c||(h=!1)),a?f=!1:c&&(l||u||(f=!1)),r?(o=h,i=f):(o=h&&(!f||c),i=f&&(!h||u)),{can_open:o,can_close:i,length:s}},n.prototype.Token=s,r.exports=n},{"../common/utils":4,"../token":51}],48:[function(e,r,t){"use strict";r.exports.tokenize=function(e,r){var t,n,s,o,i=e.pos,a=e.src.charCodeAt(i);if(r)return!1;if(126!==a)return!1;if(s=(n=e.scanDelims(e.pos,!0)).length,o=String.fromCharCode(a),s<2)return!1;for(s%2&&(e.push("text","",0).content=o,s--),t=0;t<s;t+=2)e.push("text","",0).content=o+o,e.delimiters.push({marker:a,jump:t,token:e.tokens.length-1,level:e.level,end:-1,open:n.can_open,close:n.can_close});return e.pos+=n.length,!0},r.exports.postProcess=function(e){var r,t,n,s,o,i=[],a=e.delimiters,c=e.delimiters.length;for(r=0;r<c;r++)126===(n=a[r]).marker&&-1!==n.end&&(s=a[n.end],(o=e.tokens[n.token]).type="s_open",o.tag="s",o.nesting=1,o.markup="~~",o.content="",(o=e.tokens[s.token]).type="s_close",o.tag="s",o.nesting=-1,o.markup="~~",o.content="","text"===e.tokens[s.token-1].type&&"~"===e.tokens[s.token-1].content&&i.push(s.token-1));for(;i.length;){for(t=(r=i.pop())+1;t<e.tokens.length&&"s_close"===e.tokens[t].type;)t++;r!==--t&&(o=e.tokens[t],e.tokens[t]=e.tokens[r],e.tokens[r]=o)}}},{}],49:[function(e,r,t){"use strict";function n(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}r.exports=function(e,r){for(var t=e.pos;t<e.posMax&&!n(e.src.charCodeAt(t));)t++;return t!==e.pos&&(r||(e.pending+=e.src.slice(e.pos,t)),e.pos=t,!0)}},{}],50:[function(e,r,t){"use strict";r.exports=function(e){var r,t,n=0,s=e.tokens,o=e.tokens.length;for(r=t=0;r<o;r++)n+=s[r].nesting,s[r].level=n,"text"===s[r].type&&r+1<o&&"text"===s[r+1].type?s[r+1].content=s[r].content+s[r+1].content:(r!==t&&(s[t]=s[r]),t++);r!==t&&(s.length=t)}},{}],51:[function(e,r,t){"use strict";function n(e,r,t){this.type=e,this.tag=r,this.attrs=null,this.map=null,this.nesting=t,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}n.prototype.attrIndex=function(e){var r,t,n;if(!this.attrs)return-1;for(t=0,n=(r=this.attrs).length;t<n;t++)if(r[t][0]===e)return t;return-1},n.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},n.prototype.attrSet=function(e,r){var t=this.attrIndex(e),n=[e,r];t<0?this.attrPush(n):this.attrs[t]=n},n.prototype.attrGet=function(e){var r=this.attrIndex(e),t=null;return 0<=r&&(t=this.attrs[r][1]),t},n.prototype.attrJoin=function(e,r){var t=this.attrIndex(e);t<0?this.attrPush([e,r]):this.attrs[t][1]=this.attrs[t][1]+" "+r},r.exports=n},{}],52:[function(e,r,t){r.exports={Aacute:"\xc1",aacute:"\xe1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223e",acd:"\u223f",acE:"\u223e\u0333",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",Acy:"\u0410",acy:"\u0430",AElig:"\xc6",aelig:"\xe6",af:"\u2061",Afr:"\ud835\udd04",afr:"\ud835\udd1e",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03b1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2a3f",amp:"&",AMP:"&",andand:"\u2a55",And:"\u2a53",and:"\u2227",andd:"\u2a5c",andslope:"\u2a58",andv:"\u2a5a",ang:"\u2220",ange:"\u29a4",angle:"\u2220",angmsdaa:"\u29a8",angmsdab:"\u29a9",angmsdac:"\u29aa",angmsdad:"\u29ab",angmsdae:"\u29ac",angmsdaf:"\u29ad",angmsdag:"\u29ae",angmsdah:"\u29af",angmsd:"\u2221",angrt:"\u221f",angrtvb:"\u22be",angrtvbd:"\u299d",angsph:"\u2222",angst:"\xc5",angzarr:"\u237c",Aogon:"\u0104",aogon:"\u0105",Aopf:"\ud835\udd38",aopf:"\ud835\udd52",apacir:"\u2a6f",ap:"\u2248",apE:"\u2a70",ape:"\u224a",apid:"\u224b",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224a",Aring:"\xc5",aring:"\xe5",Ascr:"\ud835\udc9c",ascr:"\ud835\udcb6",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224d",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",awconint:"\u2233",awint:"\u2a11",backcong:"\u224c",backepsilon:"\u03f6",backprime:"\u2035",backsim:"\u223d",backsimeq:"\u22cd",Backslash:"\u2216",Barv:"\u2ae7",barvee:"\u22bd",barwed:"\u2305",Barwed:"\u2306",barwedge:"\u2305",bbrk:"\u23b5",bbrktbrk:"\u23b6",bcong:"\u224c",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201e",becaus:"\u2235",because:"\u2235",Because:"\u2235",bemptyv:"\u29b0",bepsi:"\u03f6",bernou:"\u212c",Bernoullis:"\u212c",Beta:"\u0392",beta:"\u03b2",beth:"\u2136",between:"\u226c",Bfr:"\ud835\udd05",bfr:"\ud835\udd1f",bigcap:"\u22c2",bigcirc:"\u25ef",bigcup:"\u22c3",bigodot:"\u2a00",bigoplus:"\u2a01",bigotimes:"\u2a02",bigsqcup:"\u2a06",bigstar:"\u2605",bigtriangledown:"\u25bd",bigtriangleup:"\u25b3",biguplus:"\u2a04",bigvee:"\u22c1",bigwedge:"\u22c0",bkarow:"\u290d",blacklozenge:"\u29eb",blacksquare:"\u25aa",blacktriangle:"\u25b4",blacktriangledown:"\u25be",blacktriangleleft:"\u25c2",blacktriangleright:"\u25b8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20e5",bnequiv:"\u2261\u20e5",bNot:"\u2aed",bnot:"\u2310",Bopf:"\ud835\udd39",bopf:"\ud835\udd53",bot:"\u22a5",bottom:"\u22a5",bowtie:"\u22c8",boxbox:"\u29c9",boxdl:"\u2510",boxdL:"\u2555",boxDl:"\u2556",boxDL:"\u2557",boxdr:"\u250c",boxdR:"\u2552",boxDr:"\u2553",boxDR:"\u2554",boxh:"\u2500",boxH:"\u2550",boxhd:"\u252c",boxHd:"\u2564",boxhD:"\u2565",boxHD:"\u2566",boxhu:"\u2534",boxHu:"\u2567",boxhU:"\u2568",boxHU:"\u2569",boxminus:"\u229f",boxplus:"\u229e",boxtimes:"\u22a0",boxul:"\u2518",boxuL:"\u255b",boxUl:"\u255c",boxUL:"\u255d",boxur:"\u2514",boxuR:"\u2558",boxUr:"\u2559",boxUR:"\u255a",boxv:"\u2502",boxV:"\u2551",boxvh:"\u253c",boxvH:"\u256a",boxVh:"\u256b",boxVH:"\u256c",boxvl:"\u2524",boxvL:"\u2561",boxVl:"\u2562",boxVL:"\u2563",boxvr:"\u251c",boxvR:"\u255e",boxVr:"\u255f",boxVR:"\u2560",bprime:"\u2035",breve:"\u02d8",Breve:"\u02d8",brvbar:"\xa6",bscr:"\ud835\udcb7",Bscr:"\u212c",bsemi:"\u204f",bsim:"\u223d",bsime:"\u22cd",bsolb:"\u29c5",bsol:"\\",bsolhsub:"\u27c8",bull:"\u2022",bullet:"\u2022",bump:"\u224e",bumpE:"\u2aae",bumpe:"\u224f",Bumpeq:"\u224e",bumpeq:"\u224f",Cacute:"\u0106",cacute:"\u0107",capand:"\u2a44",capbrcup:"\u2a49",capcap:"\u2a4b",cap:"\u2229",Cap:"\u22d2",capcup:"\u2a47",capdot:"\u2a40",CapitalDifferentialD:"\u2145",caps:"\u2229\ufe00",caret:"\u2041",caron:"\u02c7",Cayleys:"\u212d",ccaps:"\u2a4d",Ccaron:"\u010c",ccaron:"\u010d",Ccedil:"\xc7",ccedil:"\xe7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2a4c",ccupssm:"\u2a50",Cdot:"\u010a",cdot:"\u010b",cedil:"\xb8",Cedilla:"\xb8",cemptyv:"\u29b2",cent:"\xa2",centerdot:"\xb7",CenterDot:"\xb7",cfr:"\ud835\udd20",Cfr:"\u212d",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03a7",chi:"\u03c7",circ:"\u02c6",circeq:"\u2257",circlearrowleft:"\u21ba",circlearrowright:"\u21bb",circledast:"\u229b",circledcirc:"\u229a",circleddash:"\u229d",CircleDot:"\u2299",circledR:"\xae",circledS:"\u24c8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cir:"\u25cb",cirE:"\u29c3",cire:"\u2257",cirfnint:"\u2a10",cirmid:"\u2aef",cirscir:"\u29c2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201d",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",colon:":",Colon:"\u2237",Colone:"\u2a74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2a6d",Congruent:"\u2261",conint:"\u222e",Conint:"\u222f",ContourIntegral:"\u222e",copf:"\ud835\udd54",Copf:"\u2102",coprod:"\u2210",Coproduct:"\u2210",copy:"\xa9",COPY:"\xa9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21b5",cross:"\u2717",Cross:"\u2a2f",Cscr:"\ud835\udc9e",cscr:"\ud835\udcb8",csub:"\u2acf",csube:"\u2ad1",csup:"\u2ad0",csupe:"\u2ad2",ctdot:"\u22ef",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22de",cuesc:"\u22df",cularr:"\u21b6",cularrp:"\u293d",cupbrcap:"\u2a48",cupcap:"\u2a46",CupCap:"\u224d",cup:"\u222a",Cup:"\u22d3",cupcup:"\u2a4a",cupdot:"\u228d",cupor:"\u2a45",cups:"\u222a\ufe00",curarr:"\u21b7",curarrm:"\u293c",curlyeqprec:"\u22de",curlyeqsucc:"\u22df",curlyvee:"\u22ce",curlywedge:"\u22cf",curren:"\xa4",curvearrowleft:"\u21b6",curvearrowright:"\u21b7",cuvee:"\u22ce",cuwed:"\u22cf",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232d",dagger:"\u2020",Dagger:"\u2021",daleth:"\u2138",darr:"\u2193",Darr:"\u21a1",dArr:"\u21d3",dash:"\u2010",Dashv:"\u2ae4",dashv:"\u22a3",dbkarow:"\u290f",dblac:"\u02dd",Dcaron:"\u010e",dcaron:"\u010f",Dcy:"\u0414",dcy:"\u0434",ddagger:"\u2021",ddarr:"\u21ca",DD:"\u2145",dd:"\u2146",DDotrahd:"\u2911",ddotseq:"\u2a77",deg:"\xb0",Del:"\u2207",Delta:"\u0394",delta:"\u03b4",demptyv:"\u29b1",dfisht:"\u297f",Dfr:"\ud835\udd07",dfr:"\ud835\udd21",dHar:"\u2965",dharl:"\u21c3",dharr:"\u21c2",DiacriticalAcute:"\xb4",DiacriticalDot:"\u02d9",DiacriticalDoubleAcute:"\u02dd",DiacriticalGrave:"`",DiacriticalTilde:"\u02dc",diam:"\u22c4",diamond:"\u22c4",Diamond:"\u22c4",diamondsuit:"\u2666",diams:"\u2666",die:"\xa8",DifferentialD:"\u2146",digamma:"\u03dd",disin:"\u22f2",div:"\xf7",divide:"\xf7",divideontimes:"\u22c7",divonx:"\u22c7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231e",dlcrop:"\u230d",dollar:"$",Dopf:"\ud835\udd3b",dopf:"\ud835\udd55",Dot:"\xa8",dot:"\u02d9",DotDot:"\u20dc",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22a1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222f",DoubleDot:"\xa8",DoubleDownArrow:"\u21d3",DoubleLeftArrow:"\u21d0",DoubleLeftRightArrow:"\u21d4",DoubleLeftTee:"\u2ae4",DoubleLongLeftArrow:"\u27f8",DoubleLongLeftRightArrow:"\u27fa",DoubleLongRightArrow:"\u27f9",DoubleRightArrow:"\u21d2",DoubleRightTee:"\u22a8",DoubleUpArrow:"\u21d1",DoubleUpDownArrow:"\u21d5",DoubleVerticalBar:"\u2225",DownArrowBar:"\u2913",downarrow:"\u2193",DownArrow:"\u2193",Downarrow:"\u21d3",DownArrowUpArrow:"\u21f5",DownBreve:"\u0311",downdownarrows:"\u21ca",downharpoonleft:"\u21c3",downharpoonright:"\u21c2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295e",DownLeftVectorBar:"\u2956",DownLeftVector:"\u21bd",DownRightTeeVector:"\u295f",DownRightVectorBar:"\u2957",DownRightVector:"\u21c1",DownTeeArrow:"\u21a7",DownTee:"\u22a4",drbkarow:"\u2910",drcorn:"\u231f",drcrop:"\u230c",Dscr:"\ud835\udc9f",dscr:"\ud835\udcb9",DScy:"\u0405",dscy:"\u0455",dsol:"\u29f6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22f1",dtri:"\u25bf",dtrif:"\u25be",duarr:"\u21f5",duhar:"\u296f",dwangle:"\u29a6",DZcy:"\u040f",dzcy:"\u045f",dzigrarr:"\u27ff",Eacute:"\xc9",eacute:"\xe9",easter:"\u2a6e",Ecaron:"\u011a",ecaron:"\u011b",Ecirc:"\xca",ecirc:"\xea",ecir:"\u2256",ecolon:"\u2255",Ecy:"\u042d",ecy:"\u044d",eDDot:"\u2a77",Edot:"\u0116",edot:"\u0117",eDot:"\u2251",ee:"\u2147",efDot:"\u2252",Efr:"\ud835\udd08",efr:"\ud835\udd22",eg:"\u2a9a",Egrave:"\xc8",egrave:"\xe8",egs:"\u2a96",egsdot:"\u2a98",el:"\u2a99",Element:"\u2208",elinters:"\u23e7",ell:"\u2113",els:"\u2a95",elsdot:"\u2a97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25fb",emptyv:"\u2205",EmptyVerySmallSquare:"\u25ab",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",ENG:"\u014a",eng:"\u014b",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\ud835\udd3c",eopf:"\ud835\udd56",epar:"\u22d5",eparsl:"\u29e3",eplus:"\u2a71",epsi:"\u03b5",Epsilon:"\u0395",epsilon:"\u03b5",epsiv:"\u03f5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2a96",eqslantless:"\u2a95",Equal:"\u2a75",equals:"=",EqualTilde:"\u2242",equest:"\u225f",Equilibrium:"\u21cc",equiv:"\u2261",equivDD:"\u2a78",eqvparsl:"\u29e5",erarr:"\u2971",erDot:"\u2253",escr:"\u212f",Escr:"\u2130",esdot:"\u2250",Esim:"\u2a73",esim:"\u2242",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",exponentiale:"\u2147",ExponentialE:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\ufb03",fflig:"\ufb00",ffllig:"\ufb04",Ffr:"\ud835\udd09",ffr:"\ud835\udd23",filig:"\ufb01",FilledSmallSquare:"\u25fc",FilledVerySmallSquare:"\u25aa",fjlig:"fj",flat:"\u266d",fllig:"\ufb02",fltns:"\u25b1",fnof:"\u0192",Fopf:"\ud835\udd3d",fopf:"\ud835\udd57",forall:"\u2200",ForAll:"\u2200",fork:"\u22d4",forkv:"\u2ad9",Fouriertrf:"\u2131",fpartint:"\u2a0d",frac12:"\xbd",frac13:"\u2153",frac14:"\xbc",frac15:"\u2155",frac16:"\u2159",frac18:"\u215b",frac23:"\u2154",frac25:"\u2156",frac34:"\xbe",frac35:"\u2157",frac38:"\u215c",frac45:"\u2158",frac56:"\u215a",frac58:"\u215d",frac78:"\u215e",frasl:"\u2044",frown:"\u2322",fscr:"\ud835\udcbb",Fscr:"\u2131",gacute:"\u01f5",Gamma:"\u0393",gamma:"\u03b3",Gammad:"\u03dc",gammad:"\u03dd",gap:"\u2a86",Gbreve:"\u011e",gbreve:"\u011f",Gcedil:"\u0122",Gcirc:"\u011c",gcirc:"\u011d",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",ge:"\u2265",gE:"\u2267",gEl:"\u2a8c",gel:"\u22db",geq:"\u2265",geqq:"\u2267",geqslant:"\u2a7e",gescc:"\u2aa9",ges:"\u2a7e",gesdot:"\u2a80",gesdoto:"\u2a82",gesdotol:"\u2a84",gesl:"\u22db\ufe00",gesles:"\u2a94",Gfr:"\ud835\udd0a",gfr:"\ud835\udd24",gg:"\u226b",Gg:"\u22d9",ggg:"\u22d9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gla:"\u2aa5",gl:"\u2277",glE:"\u2a92",glj:"\u2aa4",gnap:"\u2a8a",gnapprox:"\u2a8a",gne:"\u2a88",gnE:"\u2269",gneq:"\u2a88",gneqq:"\u2269",gnsim:"\u22e7",Gopf:"\ud835\udd3e",gopf:"\ud835\udd58",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22db",GreaterFullEqual:"\u2267",GreaterGreater:"\u2aa2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2a7e",GreaterTilde:"\u2273",Gscr:"\ud835\udca2",gscr:"\u210a",gsim:"\u2273",gsime:"\u2a8e",gsiml:"\u2a90",gtcc:"\u2aa7",gtcir:"\u2a7a",gt:">",GT:">",Gt:"\u226b",gtdot:"\u22d7",gtlPar:"\u2995",gtquest:"\u2a7c",gtrapprox:"\u2a86",gtrarr:"\u2978",gtrdot:"\u22d7",gtreqless:"\u22db",gtreqqless:"\u2a8c",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\ufe00",gvnE:"\u2269\ufe00",Hacek:"\u02c7",hairsp:"\u200a",half:"\xbd",hamilt:"\u210b",HARDcy:"\u042a",hardcy:"\u044a",harrcir:"\u2948",harr:"\u2194",hArr:"\u21d4",harrw:"\u21ad",Hat:"^",hbar:"\u210f",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22b9",hfr:"\ud835\udd25",Hfr:"\u210c",HilbertSpace:"\u210b",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21ff",homtht:"\u223b",hookleftarrow:"\u21a9",hookrightarrow:"\u21aa",hopf:"\ud835\udd59",Hopf:"\u210d",horbar:"\u2015",HorizontalLine:"\u2500",hscr:"\ud835\udcbd",Hscr:"\u210b",hslash:"\u210f",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224e",HumpEqual:"\u224f",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xcd",iacute:"\xed",ic:"\u2063",Icirc:"\xce",icirc:"\xee",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xa1",iff:"\u21d4",ifr:"\ud835\udd26",Ifr:"\u2111",Igrave:"\xcc",igrave:"\xec",ii:"\u2148",iiiint:"\u2a0c",iiint:"\u222d",iinfin:"\u29dc",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Imacr:"\u012a",imacr:"\u012b",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",Im:"\u2111",imof:"\u22b7",imped:"\u01b5",Implies:"\u21d2",incare:"\u2105",in:"\u2208",infin:"\u221e",infintie:"\u29dd",inodot:"\u0131",intcal:"\u22ba",int:"\u222b",Int:"\u222c",integers:"\u2124",Integral:"\u222b",intercal:"\u22ba",Intersection:"\u22c2",intlarhk:"\u2a17",intprod:"\u2a3c",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012e",iogon:"\u012f",Iopf:"\ud835\udd40",iopf:"\ud835\udd5a",Iota:"\u0399",iota:"\u03b9",iprod:"\u2a3c",iquest:"\xbf",iscr:"\ud835\udcbe",Iscr:"\u2110",isin:"\u2208",isindot:"\u22f5",isinE:"\u22f9",isins:"\u22f4",isinsv:"\u22f3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xcf",iuml:"\xef",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\ud835\udd0d",jfr:"\ud835\udd27",jmath:"\u0237",Jopf:"\ud835\udd41",jopf:"\ud835\udd5b",Jscr:"\ud835\udca5",jscr:"\ud835\udcbf",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039a",kappa:"\u03ba",kappav:"\u03f0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041a",kcy:"\u043a",Kfr:"\ud835\udd0e",kfr:"\ud835\udd28",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040c",kjcy:"\u045c",Kopf:"\ud835\udd42",kopf:"\ud835\udd5c",Kscr:"\ud835\udca6",kscr:"\ud835\udcc0",lAarr:"\u21da",Lacute:"\u0139",lacute:"\u013a",laemptyv:"\u29b4",lagran:"\u2112",Lambda:"\u039b",lambda:"\u03bb",lang:"\u27e8",Lang:"\u27ea",langd:"\u2991",langle:"\u27e8",lap:"\u2a85",Laplacetrf:"\u2112",laquo:"\xab",larrb:"\u21e4",larrbfs:"\u291f",larr:"\u2190",Larr:"\u219e",lArr:"\u21d0",larrfs:"\u291d",larrhk:"\u21a9",larrlp:"\u21ab",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21a2",latail:"\u2919",lAtail:"\u291b",lat:"\u2aab",late:"\u2aad",lates:"\u2aad\ufe00",lbarr:"\u290c",lBarr:"\u290e",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298b",lbrksld:"\u298f",lbrkslu:"\u298d",Lcaron:"\u013d",lcaron:"\u013e",Lcedil:"\u013b",lcedil:"\u013c",lceil:"\u2308",lcub:"{",Lcy:"\u041b",lcy:"\u043b",ldca:"\u2936",ldquo:"\u201c",ldquor:"\u201e",ldrdhar:"\u2967",ldrushar:"\u294b",ldsh:"\u21b2",le:"\u2264",lE:"\u2266",LeftAngleBracket:"\u27e8",LeftArrowBar:"\u21e4",leftarrow:"\u2190",LeftArrow:"\u2190",Leftarrow:"\u21d0",LeftArrowRightArrow:"\u21c6",leftarrowtail:"\u21a2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27e6",LeftDownTeeVector:"\u2961",LeftDownVectorBar:"\u2959",LeftDownVector:"\u21c3",LeftFloor:"\u230a",leftharpoondown:"\u21bd",leftharpoonup:"\u21bc",leftleftarrows:"\u21c7",leftrightarrow:"\u2194",LeftRightArrow:"\u2194",Leftrightarrow:"\u21d4",leftrightarrows:"\u21c6",leftrightharpoons:"\u21cb",leftrightsquigarrow:"\u21ad",LeftRightVector:"\u294e",LeftTeeArrow:"\u21a4",LeftTee:"\u22a3",LeftTeeVector:"\u295a",leftthreetimes:"\u22cb",LeftTriangleBar:"\u29cf",LeftTriangle:"\u22b2",LeftTriangleEqual:"\u22b4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVectorBar:"\u2958",LeftUpVector:"\u21bf",LeftVectorBar:"\u2952",LeftVector:"\u21bc",lEg:"\u2a8b",leg:"\u22da",leq:"\u2264",leqq:"\u2266",leqslant:"\u2a7d",lescc:"\u2aa8",les:"\u2a7d",lesdot:"\u2a7f",lesdoto:"\u2a81",lesdotor:"\u2a83",lesg:"\u22da\ufe00",lesges:"\u2a93",lessapprox:"\u2a85",lessdot:"\u22d6",lesseqgtr:"\u22da",lesseqqgtr:"\u2a8b",LessEqualGreater:"\u22da",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2aa1",lesssim:"\u2272",LessSlantEqual:"\u2a7d",LessTilde:"\u2272",lfisht:"\u297c",lfloor:"\u230a",Lfr:"\ud835\udd0f",lfr:"\ud835\udd29",lg:"\u2276",lgE:"\u2a91",lHar:"\u2962",lhard:"\u21bd",lharu:"\u21bc",lharul:"\u296a",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",llarr:"\u21c7",ll:"\u226a",Ll:"\u22d8",llcorner:"\u231e",Lleftarrow:"\u21da",llhard:"\u296b",lltri:"\u25fa",Lmidot:"\u013f",lmidot:"\u0140",lmoustache:"\u23b0",lmoust:"\u23b0",lnap:"\u2a89",lnapprox:"\u2a89",lne:"\u2a87",lnE:"\u2268",lneq:"\u2a87",lneqq:"\u2268",lnsim:"\u22e6",loang:"\u27ec",loarr:"\u21fd",lobrk:"\u27e6",longleftarrow:"\u27f5",LongLeftArrow:"\u27f5",Longleftarrow:"\u27f8",longleftrightarrow:"\u27f7",LongLeftRightArrow:"\u27f7",Longleftrightarrow:"\u27fa",longmapsto:"\u27fc",longrightarrow:"\u27f6",LongRightArrow:"\u27f6",Longrightarrow:"\u27f9",looparrowleft:"\u21ab",looparrowright:"\u21ac",lopar:"\u2985",Lopf:"\ud835\udd43",lopf:"\ud835\udd5d",loplus:"\u2a2d",lotimes:"\u2a34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25ca",lozenge:"\u25ca",lozf:"\u29eb",lpar:"(",lparlt:"\u2993",lrarr:"\u21c6",lrcorner:"\u231f",lrhar:"\u21cb",lrhard:"\u296d",lrm:"\u200e",lrtri:"\u22bf",lsaquo:"\u2039",lscr:"\ud835\udcc1",Lscr:"\u2112",lsh:"\u21b0",Lsh:"\u21b0",lsim:"\u2272",lsime:"\u2a8d",lsimg:"\u2a8f",lsqb:"[",lsquo:"\u2018",lsquor:"\u201a",Lstrok:"\u0141",lstrok:"\u0142",ltcc:"\u2aa6",ltcir:"\u2a79",lt:"<",LT:"<",Lt:"\u226a",ltdot:"\u22d6",lthree:"\u22cb",ltimes:"\u22c9",ltlarr:"\u2976",ltquest:"\u2a7b",ltri:"\u25c3",ltrie:"\u22b4",ltrif:"\u25c2",ltrPar:"\u2996",lurdshar:"\u294a",luruhar:"\u2966",lvertneqq:"\u2268\ufe00",lvnE:"\u2268\ufe00",macr:"\xaf",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21a6",mapsto:"\u21a6",mapstodown:"\u21a7",mapstoleft:"\u21a4",mapstoup:"\u21a5",marker:"\u25ae",mcomma:"\u2a29",Mcy:"\u041c",mcy:"\u043c",mdash:"\u2014",mDDot:"\u223a",measuredangle:"\u2221",MediumSpace:"\u205f",Mellintrf:"\u2133",Mfr:"\ud835\udd10",mfr:"\ud835\udd2a",mho:"\u2127",micro:"\xb5",midast:"*",midcir:"\u2af0",mid:"\u2223",middot:"\xb7",minusb:"\u229f",minus:"\u2212",minusd:"\u2238",minusdu:"\u2a2a",MinusPlus:"\u2213",mlcp:"\u2adb",mldr:"\u2026",mnplus:"\u2213",models:"\u22a7",Mopf:"\ud835\udd44",mopf:"\ud835\udd5e",mp:"\u2213",mscr:"\ud835\udcc2",Mscr:"\u2133",mstpos:"\u223e",Mu:"\u039c",mu:"\u03bc",multimap:"\u22b8",mumap:"\u22b8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20d2",nap:"\u2249",napE:"\u2a70\u0338",napid:"\u224b\u0338",napos:"\u0149",napprox:"\u2249",natural:"\u266e",naturals:"\u2115",natur:"\u266e",nbsp:"\xa0",nbump:"\u224e\u0338",nbumpe:"\u224f\u0338",ncap:"\u2a43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2a6d\u0338",ncup:"\u2a42",Ncy:"\u041d",ncy:"\u043d",ndash:"\u2013",nearhk:"\u2924",nearr:"\u2197",neArr:"\u21d7",nearrow:"\u2197",ne:"\u2260",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200b",NegativeThickSpace:"\u200b",NegativeThinSpace:"\u200b",NegativeVeryThinSpace:"\u200b",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226b",NestedLessLess:"\u226a",NewLine:"\n",nexist:"\u2204",nexists:"\u2204",Nfr:"\ud835\udd11",nfr:"\ud835\udd2b",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2a7e\u0338",nges:"\u2a7e\u0338",nGg:"\u22d9\u0338",ngsim:"\u2275",nGt:"\u226b\u20d2",ngt:"\u226f",ngtr:"\u226f",nGtv:"\u226b\u0338",nharr:"\u21ae",nhArr:"\u21ce",nhpar:"\u2af2",ni:"\u220b",nis:"\u22fc",nisd:"\u22fa",niv:"\u220b",NJcy:"\u040a",njcy:"\u045a",nlarr:"\u219a",nlArr:"\u21cd",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nleftarrow:"\u219a",nLeftarrow:"\u21cd",nleftrightarrow:"\u21ae",nLeftrightarrow:"\u21ce",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2a7d\u0338",nles:"\u2a7d\u0338",nless:"\u226e",nLl:"\u22d8\u0338",nlsim:"\u2274",nLt:"\u226a\u20d2",nlt:"\u226e",nltri:"\u22ea",nltrie:"\u22ec",nLtv:"\u226a\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xa0",nopf:"\ud835\udd5f",Nopf:"\u2115",Not:"\u2aec",not:"\xac",NotCongruent:"\u2262",NotCupCap:"\u226d",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226f",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226b\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2a7e\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224e\u0338",NotHumpEqual:"\u224f\u0338",notin:"\u2209",notindot:"\u22f5\u0338",notinE:"\u22f9\u0338",notinva:"\u2209",notinvb:"\u22f7",notinvc:"\u22f6",NotLeftTriangleBar:"\u29cf\u0338",NotLeftTriangle:"\u22ea",NotLeftTriangleEqual:"\u22ec",NotLess:"\u226e",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226a\u0338",NotLessSlantEqual:"\u2a7d\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2aa2\u0338",NotNestedLessLess:"\u2aa1\u0338",notni:"\u220c",notniva:"\u220c",notnivb:"\u22fe",notnivc:"\u22fd",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2aaf\u0338",NotPrecedesSlantEqual:"\u22e0",NotReverseElement:"\u220c",NotRightTriangleBar:"\u29d0\u0338",NotRightTriangle:"\u22eb",NotRightTriangleEqual:"\u22ed",NotSquareSubset:"\u228f\u0338",NotSquareSubsetEqual:"\u22e2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22e3",NotSubset:"\u2282\u20d2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2ab0\u0338",NotSucceedsSlantEqual:"\u22e1",NotSucceedsTilde:"\u227f\u0338",NotSuperset:"\u2283\u20d2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",nparallel:"\u2226",npar:"\u2226",nparsl:"\u2afd\u20e5",npart:"\u2202\u0338",npolint:"\u2a14",npr:"\u2280",nprcue:"\u22e0",nprec:"\u2280",npreceq:"\u2aaf\u0338",npre:"\u2aaf\u0338",nrarrc:"\u2933\u0338",nrarr:"\u219b",nrArr:"\u21cf",nrarrw:"\u219d\u0338",nrightarrow:"\u219b",nRightarrow:"\u21cf",nrtri:"\u22eb",nrtrie:"\u22ed",nsc:"\u2281",nsccue:"\u22e1",nsce:"\u2ab0\u0338",Nscr:"\ud835\udca9",nscr:"\ud835\udcc3",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22e2",nsqsupe:"\u22e3",nsub:"\u2284",nsubE:"\u2ac5\u0338",nsube:"\u2288",nsubset:"\u2282\u20d2",nsubseteq:"\u2288",nsubseteqq:"\u2ac5\u0338",nsucc:"\u2281",nsucceq:"\u2ab0\u0338",nsup:"\u2285",nsupE:"\u2ac6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20d2",nsupseteq:"\u2289",nsupseteqq:"\u2ac6\u0338",ntgl:"\u2279",Ntilde:"\xd1",ntilde:"\xf1",ntlg:"\u2278",ntriangleleft:"\u22ea",ntrianglelefteq:"\u22ec",ntriangleright:"\u22eb",ntrianglerighteq:"\u22ed",Nu:"\u039d",nu:"\u03bd",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224d\u20d2",nvdash:"\u22ac",nvDash:"\u22ad",nVdash:"\u22ae",nVDash:"\u22af",nvge:"\u2265\u20d2",nvgt:">\u20d2",nvHarr:"\u2904",nvinfin:"\u29de",nvlArr:"\u2902",nvle:"\u2264\u20d2",nvlt:"<\u20d2",nvltrie:"\u22b4\u20d2",nvrArr:"\u2903",nvrtrie:"\u22b5\u20d2",nvsim:"\u223c\u20d2",nwarhk:"\u2923",nwarr:"\u2196",nwArr:"\u21d6",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xd3",oacute:"\xf3",oast:"\u229b",Ocirc:"\xd4",ocirc:"\xf4",ocir:"\u229a",Ocy:"\u041e",ocy:"\u043e",odash:"\u229d",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2a38",odot:"\u2299",odsold:"\u29bc",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29bf",Ofr:"\ud835\udd12",ofr:"\ud835\udd2c",ogon:"\u02db",Ograve:"\xd2",ograve:"\xf2",ogt:"\u29c1",ohbar:"\u29b5",ohm:"\u03a9",oint:"\u222e",olarr:"\u21ba",olcir:"\u29be",olcross:"\u29bb",oline:"\u203e",olt:"\u29c0",Omacr:"\u014c",omacr:"\u014d",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",omid:"\u29b6",ominus:"\u2296",Oopf:"\ud835\udd46",oopf:"\ud835\udd60",opar:"\u29b7",OpenCurlyDoubleQuote:"\u201c",OpenCurlyQuote:"\u2018",operp:"\u29b9",oplus:"\u2295",orarr:"\u21bb",Or:"\u2a54",or:"\u2228",ord:"\u2a5d",order:"\u2134",orderof:"\u2134",ordf:"\xaa",ordm:"\xba",origof:"\u22b6",oror:"\u2a56",orslope:"\u2a57",orv:"\u2a5b",oS:"\u24c8",Oscr:"\ud835\udcaa",oscr:"\u2134",Oslash:"\xd8",oslash:"\xf8",osol:"\u2298",Otilde:"\xd5",otilde:"\xf5",otimesas:"\u2a36",Otimes:"\u2a37",otimes:"\u2297",Ouml:"\xd6",ouml:"\xf6",ovbar:"\u233d",OverBar:"\u203e",OverBrace:"\u23de",OverBracket:"\u23b4",OverParenthesis:"\u23dc",para:"\xb6",parallel:"\u2225",par:"\u2225",parsim:"\u2af3",parsl:"\u2afd",part:"\u2202",PartialD:"\u2202",Pcy:"\u041f",pcy:"\u043f",percnt:"%",period:".",permil:"\u2030",perp:"\u22a5",pertenk:"\u2031",Pfr:"\ud835\udd13",pfr:"\ud835\udd2d",Phi:"\u03a6",phi:"\u03c6",phiv:"\u03d5",phmmat:"\u2133",phone:"\u260e",Pi:"\u03a0",pi:"\u03c0",pitchfork:"\u22d4",piv:"\u03d6",planck:"\u210f",planckh:"\u210e",plankv:"\u210f",plusacir:"\u2a23",plusb:"\u229e",pluscir:"\u2a22",plus:"+",plusdo:"\u2214",plusdu:"\u2a25",pluse:"\u2a72",PlusMinus:"\xb1",plusmn:"\xb1",plussim:"\u2a26",plustwo:"\u2a27",pm:"\xb1",Poincareplane:"\u210c",pointint:"\u2a15",popf:"\ud835\udd61",Popf:"\u2119",pound:"\xa3",prap:"\u2ab7",Pr:"\u2abb",pr:"\u227a",prcue:"\u227c",precapprox:"\u2ab7",prec:"\u227a",preccurlyeq:"\u227c",Precedes:"\u227a",PrecedesEqual:"\u2aaf",PrecedesSlantEqual:"\u227c",PrecedesTilde:"\u227e",preceq:"\u2aaf",precnapprox:"\u2ab9",precneqq:"\u2ab5",precnsim:"\u22e8",pre:"\u2aaf",prE:"\u2ab3",precsim:"\u227e",prime:"\u2032",Prime:"\u2033",primes:"\u2119",prnap:"\u2ab9",prnE:"\u2ab5",prnsim:"\u22e8",prod:"\u220f",Product:"\u220f",profalar:"\u232e",profline:"\u2312",profsurf:"\u2313",prop:"\u221d",Proportional:"\u221d",Proportion:"\u2237",propto:"\u221d",prsim:"\u227e",prurel:"\u22b0",Pscr:"\ud835\udcab",pscr:"\ud835\udcc5",Psi:"\u03a8",psi:"\u03c8",puncsp:"\u2008",Qfr:"\ud835\udd14",qfr:"\ud835\udd2e",qint:"\u2a0c",qopf:"\ud835\udd62",Qopf:"\u211a",qprime:"\u2057",Qscr:"\ud835\udcac",qscr:"\ud835\udcc6",quaternions:"\u210d",quatint:"\u2a16",quest:"?",questeq:"\u225f",quot:'"',QUOT:'"',rAarr:"\u21db",race:"\u223d\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221a",raemptyv:"\u29b3",rang:"\u27e9",Rang:"\u27eb",rangd:"\u2992",range:"\u29a5",rangle:"\u27e9",raquo:"\xbb",rarrap:"\u2975",rarrb:"\u21e5",rarrbfs:"\u2920",rarrc:"\u2933",rarr:"\u2192",Rarr:"\u21a0",rArr:"\u21d2",rarrfs:"\u291e",rarrhk:"\u21aa",rarrlp:"\u21ac",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21a3",rarrw:"\u219d",ratail:"\u291a",rAtail:"\u291c",ratio:"\u2236",rationals:"\u211a",rbarr:"\u290d",rBarr:"\u290f",RBarr:"\u2910",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298c",rbrksld:"\u298e",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201d",rdquor:"\u201d",rdsh:"\u21b3",real:"\u211c",realine:"\u211b",realpart:"\u211c",reals:"\u211d",Re:"\u211c",rect:"\u25ad",reg:"\xae",REG:"\xae",ReverseElement:"\u220b",ReverseEquilibrium:"\u21cb",ReverseUpEquilibrium:"\u296f",rfisht:"\u297d",rfloor:"\u230b",rfr:"\ud835\udd2f",Rfr:"\u211c",rHar:"\u2964",rhard:"\u21c1",rharu:"\u21c0",rharul:"\u296c",Rho:"\u03a1",rho:"\u03c1",rhov:"\u03f1",RightAngleBracket:"\u27e9",RightArrowBar:"\u21e5",rightarrow:"\u2192",RightArrow:"\u2192",Rightarrow:"\u21d2",RightArrowLeftArrow:"\u21c4",rightarrowtail:"\u21a3",RightCeiling:"\u2309",RightDoubleBracket:"\u27e7",RightDownTeeVector:"\u295d",RightDownVectorBar:"\u2955",RightDownVector:"\u21c2",RightFloor:"\u230b",rightharpoondown:"\u21c1",rightharpoonup:"\u21c0",rightleftarrows:"\u21c4",rightleftharpoons:"\u21cc",rightrightarrows:"\u21c9",rightsquigarrow:"\u219d",RightTeeArrow:"\u21a6",RightTee:"\u22a2",RightTeeVector:"\u295b",rightthreetimes:"\u22cc",RightTriangleBar:"\u29d0",RightTriangle:"\u22b3",RightTriangleEqual:"\u22b5",RightUpDownVector:"\u294f",RightUpTeeVector:"\u295c",RightUpVectorBar:"\u2954",RightUpVector:"\u21be",RightVectorBar:"\u2953",RightVector:"\u21c0",ring:"\u02da",risingdotseq:"\u2253",rlarr:"\u21c4",rlhar:"\u21cc",rlm:"\u200f",rmoustache:"\u23b1",rmoust:"\u23b1",rnmid:"\u2aee",roang:"\u27ed",roarr:"\u21fe",robrk:"\u27e7",ropar:"\u2986",ropf:"\ud835\udd63",Ropf:"\u211d",roplus:"\u2a2e",rotimes:"\u2a35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2a12",rrarr:"\u21c9",Rrightarrow:"\u21db",rsaquo:"\u203a",rscr:"\ud835\udcc7",Rscr:"\u211b",rsh:"\u21b1",Rsh:"\u21b1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22cc",rtimes:"\u22ca",rtri:"\u25b9",rtrie:"\u22b5",rtrif:"\u25b8",rtriltri:"\u29ce",RuleDelayed:"\u29f4",ruluhar:"\u2968",rx:"\u211e",Sacute:"\u015a",sacute:"\u015b",sbquo:"\u201a",scap:"\u2ab8",Scaron:"\u0160",scaron:"\u0161",Sc:"\u2abc",sc:"\u227b",sccue:"\u227d",sce:"\u2ab0",scE:"\u2ab4",Scedil:"\u015e",scedil:"\u015f",Scirc:"\u015c",scirc:"\u015d",scnap:"\u2aba",scnE:"\u2ab6",scnsim:"\u22e9",scpolint:"\u2a13",scsim:"\u227f",Scy:"\u0421",scy:"\u0441",sdotb:"\u22a1",sdot:"\u22c5",sdote:"\u2a66",searhk:"\u2925",searr:"\u2198",seArr:"\u21d8",searrow:"\u2198",sect:"\xa7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\ud835\udd16",sfr:"\ud835\udd30",sfrown:"\u2322",sharp:"\u266f",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sigmav:"\u03c2",sim:"\u223c",simdot:"\u2a6a",sime:"\u2243",simeq:"\u2243",simg:"\u2a9e",simgE:"\u2aa0",siml:"\u2a9d",simlE:"\u2a9f",simne:"\u2246",simplus:"\u2a24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2a33",smeparsl:"\u29e4",smid:"\u2223",smile:"\u2323",smt:"\u2aaa",smte:"\u2aac",smtes:"\u2aac\ufe00",SOFTcy:"\u042c",softcy:"\u044c",solbar:"\u233f",solb:"\u29c4",sol:"/",Sopf:"\ud835\udd4a",sopf:"\ud835\udd64",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\ufe00",sqcup:"\u2294",sqcups:"\u2294\ufe00",Sqrt:"\u221a",sqsub:"\u228f",sqsube:"\u2291",sqsubset:"\u228f",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",square:"\u25a1",Square:"\u25a1",SquareIntersection:"\u2293",SquareSubset:"\u228f",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25aa",squ:"\u25a1",squf:"\u25aa",srarr:"\u2192",Sscr:"\ud835\udcae",sscr:"\ud835\udcc8",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22c6",Star:"\u22c6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03f5",straightphi:"\u03d5",strns:"\xaf",sub:"\u2282",Sub:"\u22d0",subdot:"\u2abd",subE:"\u2ac5",sube:"\u2286",subedot:"\u2ac3",submult:"\u2ac1",subnE:"\u2acb",subne:"\u228a",subplus:"\u2abf",subrarr:"\u2979",subset:"\u2282",Subset:"\u22d0",subseteq:"\u2286",subseteqq:"\u2ac5",SubsetEqual:"\u2286",subsetneq:"\u228a",subsetneqq:"\u2acb",subsim:"\u2ac7",subsub:"\u2ad5",subsup:"\u2ad3",succapprox:"\u2ab8",succ:"\u227b",succcurlyeq:"\u227d",Succeeds:"\u227b",SucceedsEqual:"\u2ab0",SucceedsSlantEqual:"\u227d",SucceedsTilde:"\u227f",succeq:"\u2ab0",succnapprox:"\u2aba",succneqq:"\u2ab6",succnsim:"\u22e9",succsim:"\u227f",SuchThat:"\u220b",sum:"\u2211",Sum:"\u2211",sung:"\u266a",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",sup:"\u2283",Sup:"\u22d1",supdot:"\u2abe",supdsub:"\u2ad8",supE:"\u2ac6",supe:"\u2287",supedot:"\u2ac4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27c9",suphsub:"\u2ad7",suplarr:"\u297b",supmult:"\u2ac2",supnE:"\u2acc",supne:"\u228b",supplus:"\u2ac0",supset:"\u2283",Supset:"\u22d1",supseteq:"\u2287",supseteqq:"\u2ac6",supsetneq:"\u228b",supsetneqq:"\u2acc",supsim:"\u2ac8",supsub:"\u2ad4",supsup:"\u2ad6",swarhk:"\u2926",swarr:"\u2199",swArr:"\u21d9",swarrow:"\u2199",swnwar:"\u292a",szlig:"\xdf",Tab:"\t",target:"\u2316",Tau:"\u03a4",tau:"\u03c4",tbrk:"\u23b4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20db",telrec:"\u2315",Tfr:"\ud835\udd17",tfr:"\ud835\udd31",there4:"\u2234",therefore:"\u2234",Therefore:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thetav:"\u03d1",thickapprox:"\u2248",thicksim:"\u223c",ThickSpace:"\u205f\u200a",ThinSpace:"\u2009",thinsp:"\u2009",thkap:"\u2248",thksim:"\u223c",THORN:"\xde",thorn:"\xfe",tilde:"\u02dc",Tilde:"\u223c",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",timesbar:"\u2a31",timesb:"\u22a0",times:"\xd7",timesd:"\u2a30",tint:"\u222d",toea:"\u2928",topbot:"\u2336",topcir:"\u2af1",top:"\u22a4",Topf:"\ud835\udd4b",topf:"\ud835\udd65",topfork:"\u2ada",tosa:"\u2929",tprime:"\u2034",trade:"\u2122",TRADE:"\u2122",triangle:"\u25b5",triangledown:"\u25bf",triangleleft:"\u25c3",trianglelefteq:"\u22b4",triangleq:"\u225c",triangleright:"\u25b9",trianglerighteq:"\u22b5",tridot:"\u25ec",trie:"\u225c",triminus:"\u2a3a",TripleDot:"\u20db",triplus:"\u2a39",trisb:"\u29cd",tritime:"\u2a3b",trpezium:"\u23e2",Tscr:"\ud835\udcaf",tscr:"\ud835\udcc9",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040b",tshcy:"\u045b",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226c",twoheadleftarrow:"\u219e",twoheadrightarrow:"\u21a0",Uacute:"\xda",uacute:"\xfa",uarr:"\u2191",Uarr:"\u219f",uArr:"\u21d1",Uarrocir:"\u2949",Ubrcy:"\u040e",ubrcy:"\u045e",Ubreve:"\u016c",ubreve:"\u016d",Ucirc:"\xdb",ucirc:"\xfb",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21c5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296e",ufisht:"\u297e",Ufr:"\ud835\udd18",ufr:"\ud835\udd32",Ugrave:"\xd9",ugrave:"\xf9",uHar:"\u2963",uharl:"\u21bf",uharr:"\u21be",uhblk:"\u2580",ulcorn:"\u231c",ulcorner:"\u231c",ulcrop:"\u230f",ultri:"\u25f8",Umacr:"\u016a",umacr:"\u016b",uml:"\xa8",UnderBar:"_",UnderBrace:"\u23df",UnderBracket:"\u23b5",UnderParenthesis:"\u23dd",Union:"\u22c3",UnionPlus:"\u228e",Uogon:"\u0172",uogon:"\u0173",Uopf:"\ud835\udd4c",uopf:"\ud835\udd66",UpArrowBar:"\u2912",uparrow:"\u2191",UpArrow:"\u2191",Uparrow:"\u21d1",UpArrowDownArrow:"\u21c5",updownarrow:"\u2195",UpDownArrow:"\u2195",Updownarrow:"\u21d5",UpEquilibrium:"\u296e",upharpoonleft:"\u21bf",upharpoonright:"\u21be",uplus:"\u228e",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",upsi:"\u03c5",Upsi:"\u03d2",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",UpTeeArrow:"\u21a5",UpTee:"\u22a5",upuparrows:"\u21c8",urcorn:"\u231d",urcorner:"\u231d",urcrop:"\u230e",Uring:"\u016e",uring:"\u016f",urtri:"\u25f9",Uscr:"\ud835\udcb0",uscr:"\ud835\udcca",utdot:"\u22f0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25b5",utrif:"\u25b4",uuarr:"\u21c8",Uuml:"\xdc",uuml:"\xfc",uwangle:"\u29a7",vangrt:"\u299c",varepsilon:"\u03f5",varkappa:"\u03f0",varnothing:"\u2205",varphi:"\u03d5",varpi:"\u03d6",varpropto:"\u221d",varr:"\u2195",vArr:"\u21d5",varrho:"\u03f1",varsigma:"\u03c2",varsubsetneq:"\u228a\ufe00",varsubsetneqq:"\u2acb\ufe00",varsupsetneq:"\u228b\ufe00",varsupsetneqq:"\u2acc\ufe00",vartheta:"\u03d1",vartriangleleft:"\u22b2",vartriangleright:"\u22b3",vBar:"\u2ae8",Vbar:"\u2aeb",vBarv:"\u2ae9",Vcy:"\u0412",vcy:"\u0432",vdash:"\u22a2",vDash:"\u22a8",Vdash:"\u22a9",VDash:"\u22ab",Vdashl:"\u2ae6",veebar:"\u22bb",vee:"\u2228",Vee:"\u22c1",veeeq:"\u225a",vellip:"\u22ee",verbar:"|",Verbar:"\u2016",vert:"|",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200a",Vfr:"\ud835\udd19",vfr:"\ud835\udd33",vltri:"\u22b2",vnsub:"\u2282\u20d2",vnsup:"\u2283\u20d2",Vopf:"\ud835\udd4d",vopf:"\ud835\udd67",vprop:"\u221d",vrtri:"\u22b3",Vscr:"\ud835\udcb1",vscr:"\ud835\udccb",vsubnE:"\u2acb\ufe00",vsubne:"\u228a\ufe00",vsupnE:"\u2acc\ufe00",vsupne:"\u228b\ufe00",Vvdash:"\u22aa",vzigzag:"\u299a",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2a5f",wedge:"\u2227",Wedge:"\u22c0",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\ud835\udd1a",wfr:"\ud835\udd34",Wopf:"\ud835\udd4e",wopf:"\ud835\udd68",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\ud835\udcb2",wscr:"\ud835\udccc",xcap:"\u22c2",xcirc:"\u25ef",xcup:"\u22c3",xdtri:"\u25bd",Xfr:"\ud835\udd1b",xfr:"\ud835\udd35",xharr:"\u27f7",xhArr:"\u27fa",Xi:"\u039e",xi:"\u03be",xlarr:"\u27f5",xlArr:"\u27f8",xmap:"\u27fc",xnis:"\u22fb",xodot:"\u2a00",Xopf:"\ud835\udd4f",xopf:"\ud835\udd69",xoplus:"\u2a01",xotime:"\u2a02",xrarr:"\u27f6",xrArr:"\u27f9",Xscr:"\ud835\udcb3",xscr:"\ud835\udccd",xsqcup:"\u2a06",xuplus:"\u2a04",xutri:"\u25b3",xvee:"\u22c1",xwedge:"\u22c0",Yacute:"\xdd",yacute:"\xfd",YAcy:"\u042f",yacy:"\u044f",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042b",ycy:"\u044b",yen:"\xa5",Yfr:"\ud835\udd1c",yfr:"\ud835\udd36",YIcy:"\u0407",yicy:"\u0457",Yopf:"\ud835\udd50",yopf:"\ud835\udd6a",Yscr:"\ud835\udcb4",yscr:"\ud835\udcce",YUcy:"\u042e",yucy:"\u044e",yuml:"\xff",Yuml:"\u0178",Zacute:"\u0179",zacute:"\u017a",Zcaron:"\u017d",zcaron:"\u017e",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017b",zdot:"\u017c",zeetrf:"\u2128",ZeroWidthSpace:"\u200b",Zeta:"\u0396",zeta:"\u03b6",zfr:"\ud835\udd37",Zfr:"\u2128",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21dd",zopf:"\ud835\udd6b",Zopf:"\u2124",Zscr:"\ud835\udcb5",zscr:"\ud835\udccf",zwj:"\u200d",zwnj:"\u200c"}},{}],53:[function(c,e,r){"use strict";function n(t){return Array.prototype.slice.call(arguments,1).forEach(function(r){r&&Object.keys(r).forEach(function(e){t[e]=r[e]})}),t}function l(e){return Object.prototype.toString.call(e)}function u(e){return"[object Function]"===l(e)}function p(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var s={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var o={"http:":{validate:function(e,r,t){var n=e.slice(r);return t.re.http||(t.re.http=new RegExp("^\\/\\/"+t.re.src_auth+t.re.src_host_port_strict+t.re.src_path,"i")),t.re.http.test(n)?n.match(t.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,r,t){var n=e.slice(r);return t.re.no_http||(t.re.no_http=new RegExp("^"+t.re.src_auth+"(?:localhost|(?:(?:"+t.re.src_domain+")\\.)+"+t.re.src_domain_root+")"+t.re.src_port+t.re.src_host_terminator+t.re.src_path,"i")),t.re.no_http.test(n)?3<=r&&":"===e[r-3]?0:3<=r&&"/"===e[r-3]?0:n.match(t.re.no_http)[0].length:0}},"mailto:":{validate:function(e,r,t){var n=e.slice(r);return t.re.mailto||(t.re.mailto=new RegExp("^"+t.re.src_email_name+"@"+t.re.src_host_strict,"i")),t.re.mailto.test(n)?n.match(t.re.mailto)[0].length:0}}},h="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",i="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function a(s){var r=s.re=c("./lib/re")(s.__opts__),e=s.__tlds__.slice();function t(e){return e.replace("%TLDS%",r.src_tlds)}s.onCompile(),s.__tlds_replaced__||e.push(h),e.push(r.src_xn),r.src_tlds=e.join("|"),r.email_fuzzy=RegExp(t(r.tpl_email_fuzzy),"i"),r.link_fuzzy=RegExp(t(r.tpl_link_fuzzy),"i"),r.link_no_ip_fuzzy=RegExp(t(r.tpl_link_no_ip_fuzzy),"i"),r.host_fuzzy_test=RegExp(t(r.tpl_host_fuzzy_test),"i");var o=[];function i(e,r){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+r)}s.__compiled__={},Object.keys(s.__schemas__).forEach(function(e){var r=s.__schemas__[e];if(null!==r){var n,t={validate:null,link:null};if(s.__compiled__[e]=t,"[object Object]"===l(r))return"[object RegExp]"===l(r.validate)?t.validate=(n=r.validate,function(e,r){var t=e.slice(r);return n.test(t)?t.match(n)[0].length:0}):u(r.validate)?t.validate=r.validate:i(e,r),void(u(r.normalize)?t.normalize=r.normalize:r.normalize?i(e,r):t.normalize=function(e,r){r.normalize(e)});if("[object String]"!==l(r))i(e,r);else o.push(e)}}),o.forEach(function(e){s.__compiled__[s.__schemas__[e]]&&(s.__compiled__[e].validate=s.__compiled__[s.__schemas__[e]].validate,s.__compiled__[e].normalize=s.__compiled__[s.__schemas__[e]].normalize)}),s.__compiled__[""]={validate:null,normalize:function(e,r){r.normalize(e)}};var n,a=Object.keys(s.__compiled__).filter(function(e){return 0<e.length&&s.__compiled__[e]}).map(p).join("|");s.re.schema_test=RegExp("(^|(?!_)(?:[><\uff5c]|"+r.src_ZPCc+"))("+a+")","i"),s.re.schema_search=RegExp("(^|(?!_)(?:[><\uff5c]|"+r.src_ZPCc+"))("+a+")","ig"),s.re.pretest=RegExp("("+s.re.schema_test.source+")|("+s.re.host_fuzzy_test.source+")|@","i"),(n=s).__index__=-1,n.__text_cache__=""}function f(e,r){var t=new function(e,r){var t=e.__index__,n=e.__last_index__,s=e.__text_cache__.slice(t,n);this.schema=e.__schema__.toLowerCase(),this.index=t+r,this.lastIndex=n+r,this.raw=s,this.text=s,this.url=s}(e,r);return e.__compiled__[t.schema].normalize(t,e),t}function d(e,r){if(!(this instanceof d))return new d(e,r);var t;r||(t=e,Object.keys(t||{}).reduce(function(e,r){return e||s.hasOwnProperty(r)},!1)&&(r=e,e={})),this.__opts__=n({},s,r),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=n({},o,e),this.__compiled__={},this.__tlds__=i,this.__tlds_replaced__=!1,this.re={},a(this)}d.prototype.add=function(e,r){return this.__schemas__[e]=r,a(this),this},d.prototype.set=function(e){return this.__opts__=n(this.__opts__,e),this},d.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var r,t,n,s,o,i,a,c;if(this.re.schema_test.test(e))for((a=this.re.schema_search).lastIndex=0;null!==(r=a.exec(e));)if(s=this.testSchemaAt(e,r[2],a.lastIndex)){this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+s;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&0<=(c=e.search(this.re.host_fuzzy_test))&&(this.__index__<0||c<this.__index__)&&null!==(t=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=t.index+t[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=t.index+t[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&0<=e.indexOf("@")&&null!==(n=e.match(this.re.email_fuzzy))&&(o=n.index+n[1].length,i=n.index+n[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&i>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=i)),0<=this.__index__},d.prototype.pretest=function(e){return this.re.pretest.test(e)},d.prototype.testSchemaAt=function(e,r,t){return this.__compiled__[r.toLowerCase()]?this.__compiled__[r.toLowerCase()].validate(e,t,this):0},d.prototype.match=function(e){var r=0,t=[];0<=this.__index__&&this.__text_cache__===e&&(t.push(f(this,r)),r=this.__last_index__);for(var n=r?e.slice(r):e;this.test(n);)t.push(f(this,r)),n=n.slice(this.__last_index__),r+=this.__last_index__;return t.length?t:null},d.prototype.tlds=function(e,r){return e=Array.isArray(e)?e:[e],r?this.__tlds__=this.__tlds__.concat(e).sort().filter(function(e,r,t){return e!==t[r-1]}).reverse():(this.__tlds__=e.slice(),this.__tlds_replaced__=!0),a(this),this},d.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},d.prototype.onCompile=function(){},e.exports=d},{"./lib/re":54}],54:[function(n,e,r){"use strict";e.exports=function(e){var r={};r.src_Any=n("uc.micro/properties/Any/regex").source,r.src_Cc=n("uc.micro/categories/Cc/regex").source,r.src_Z=n("uc.micro/categories/Z/regex").source,r.src_P=n("uc.micro/categories/P/regex").source,r.src_ZPCc=[r.src_Z,r.src_P,r.src_Cc].join("|"),r.src_ZCc=[r.src_Z,r.src_Cc].join("|");var t="[><\uff5c]";return r.src_pseudo_letter="(?:(?![><\uff5c]|"+r.src_ZPCc+")"+r.src_Any+")",r.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",r.src_auth="(?:(?:(?!"+r.src_ZCc+"|[@/\\[\\]()]).)+@)?",r.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",r.src_host_terminator="(?=$|[><\uff5c]|"+r.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+r.src_ZPCc+"))",r.src_path="(?:[/?#](?:(?!"+r.src_ZCc+"|"+t+"|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+r.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+r.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+r.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+r.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+r.src_ZCc+"|[']).)+\\'|\\'(?="+r.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+r.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+r.src_ZCc+").|\\!(?!"+r.src_ZCc+"|[!]).|\\?(?!"+r.src_ZCc+"|[?]).)+|\\/)?",r.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',r.src_xn="xn--[a-z0-9\\-]{1,59}",r.src_domain_root="(?:"+r.src_xn+"|"+r.src_pseudo_letter+"{1,63})",r.src_domain="(?:"+r.src_xn+"|(?:"+r.src_pseudo_letter+")|(?:"+r.src_pseudo_letter+"(?:-(?!-)|"+r.src_pseudo_letter+"){0,61}"+r.src_pseudo_letter+"))",r.src_host="(?:(?:(?:(?:"+r.src_domain+")\\.)*"+r.src_domain+"))",r.tpl_host_fuzzy="(?:"+r.src_ip4+"|(?:(?:(?:"+r.src_domain+")\\.)+(?:%TLDS%)))",r.tpl_host_no_ip_fuzzy="(?:(?:(?:"+r.src_domain+")\\.)+(?:%TLDS%))",r.src_host_strict=r.src_host+r.src_host_terminator,r.tpl_host_fuzzy_strict=r.tpl_host_fuzzy+r.src_host_terminator,r.src_host_port_strict=r.src_host+r.src_port+r.src_host_terminator,r.tpl_host_port_fuzzy_strict=r.tpl_host_fuzzy+r.src_port+r.src_host_terminator,r.tpl_host_port_no_ip_fuzzy_strict=r.tpl_host_no_ip_fuzzy+r.src_port+r.src_host_terminator,r.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+r.src_ZPCc+"|>|$))",r.tpl_email_fuzzy="(^|[><\uff5c]|\\(|"+r.src_ZCc+")("+r.src_email_name+"@"+r.tpl_host_fuzzy_strict+")",r.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+r.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+r.tpl_host_port_fuzzy_strict+r.src_path+")",r.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+r.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+r.tpl_host_port_no_ip_fuzzy_strict+r.src_path+")",r}},{"uc.micro/categories/Cc/regex":61,"uc.micro/categories/P/regex":63,"uc.micro/categories/Z/regex":64,"uc.micro/properties/Any/regex":66}],55:[function(e,r,t){"use strict";var s={};function n(e,r){var l;return"string"!=typeof r&&(r=n.defaultChars),l=function(e){var r,t,n=s[e];if(n)return n;for(n=s[e]=[],r=0;r<128;r++)t=String.fromCharCode(r),n.push(t);for(r=0;r<e.length;r++)n[t=e.charCodeAt(r)]="%"+("0"+t.toString(16).toUpperCase()).slice(-2);return n}(r),e.replace(/(%[a-f0-9]{2})+/gi,function(e){var r,t,n,s,o,i,a,c="";for(r=0,t=e.length;r<t;r+=3)(n=parseInt(e.slice(r+1,r+3),16))<128?c+=l[n]:192==(224&n)&&r+3<t&&128==(192&(s=parseInt(e.slice(r+4,r+6),16)))?(c+=(a=n<<6&1984|63&s)<128?"\ufffd\ufffd":String.fromCharCode(a),r+=3):224==(240&n)&&r+6<t&&(s=parseInt(e.slice(r+4,r+6),16),o=parseInt(e.slice(r+7,r+9),16),128==(192&s)&&128==(192&o))?(c+=(a=n<<12&61440|s<<6&4032|63&o)<2048||55296<=a&&a<=57343?"\ufffd\ufffd\ufffd":String.fromCharCode(a),r+=6):240==(248&n)&&r+9<t&&(s=parseInt(e.slice(r+4,r+6),16),o=parseInt(e.slice(r+7,r+9),16),i=parseInt(e.slice(r+10,r+12),16),128==(192&s)&&128==(192&o)&&128==(192&i))?((a=n<<18&1835008|s<<12&258048|o<<6&4032|63&i)<65536||1114111<a?c+="\ufffd\ufffd\ufffd\ufffd":(a-=65536,c+=String.fromCharCode(55296+(a>>10),56320+(1023&a))),r+=9):c+="\ufffd";return c})}n.defaultChars=";/?:@&=+$,#",n.componentChars="",r.exports=n},{}],56:[function(e,r,t){"use strict";var l={};function u(e,r,t){var n,s,o,i,a,c="";for("string"!=typeof r&&(t=r,r=u.defaultChars),void 0===t&&(t=!0),a=function(e){var r,t,n=l[e];if(n)return n;for(n=l[e]=[],r=0;r<128;r++)t=String.fromCharCode(r),/^[0-9a-z]$/i.test(t)?n.push(t):n.push("%"+("0"+r.toString(16).toUpperCase()).slice(-2));for(r=0;r<e.length;r++)n[e.charCodeAt(r)]=e[r];return n}(r),n=0,s=e.length;n<s;n++)if(o=e.charCodeAt(n),t&&37===o&&n+2<s&&/^[0-9a-f]{2}$/i.test(e.slice(n+1,n+3)))c+=e.slice(n,n+3),n+=2;else if(o<128)c+=a[o];else if(55296<=o&&o<=57343){if(55296<=o&&o<=56319&&n+1<s&&56320<=(i=e.charCodeAt(n+1))&&i<=57343){c+=encodeURIComponent(e[n]+e[n+1]),n++;continue}c+="%EF%BF%BD"}else c+=encodeURIComponent(e[n]);return c}u.defaultChars=";/?:@&=+$,-_.!~*'()#",u.componentChars="-_.!~*'()",r.exports=u},{}],57:[function(e,r,t){"use strict";r.exports=function(e){var r="";return r+=e.protocol||"",r+=e.slashes?"//":"",r+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?r+="["+e.hostname+"]":r+=e.hostname||"",r+=e.port?":"+e.port:"",r+=e.pathname||"",r+=e.search||"",r+=e.hash||""}},{}],58:[function(e,r,t){"use strict";r.exports.encode=e("./encode"),r.exports.decode=e("./decode"),r.exports.format=e("./format"),r.exports.parse=e("./parse")},{"./decode":55,"./encode":56,"./format":57,"./parse":59}],59:[function(e,r,t){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var w=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,D=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,o=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),i=["'"].concat(o),E=["%","/","?",";","#"].concat(i),q=["/","?","#"],S=/^[+a-z0-9A-Z_-]{0,63}$/,F=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,L={javascript:!0,"javascript:":!0},z={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};n.prototype.parse=function(e,r){var t,n,s,o,i,a=e;if(a=a.trim(),!r&&1===e.split("#").length){var c=D.exec(a);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}var l=w.exec(a);if(l&&(s=(l=l[0]).toLowerCase(),this.protocol=l,a=a.substr(l.length)),(r||l||a.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(i="//"===a.substr(0,2))||l&&L[l]||(a=a.substr(2),this.slashes=!0)),!L[l]&&(i||l&&!z[l])){var u,p,h=-1;for(t=0;t<q.length;t++)-1!==(o=a.indexOf(q[t]))&&(-1===h||o<h)&&(h=o);for(-1!==(p=-1===h?a.lastIndexOf("@"):a.lastIndexOf("@",h))&&(u=a.slice(0,p),a=a.slice(p+1),this.auth=u),h=-1,t=0;t<E.length;t++)-1!==(o=a.indexOf(E[t]))&&(-1===h||o<h)&&(h=o);-1===h&&(h=a.length),":"===a[h-1]&&h--;var f=a.slice(0,h);a=a.slice(h),this.parseHost(f),this.hostname=this.hostname||"";var d="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!d){var m=this.hostname.split(/\./);for(t=0,n=m.length;t<n;t++){var _=m[t];if(_&&!_.match(S)){for(var g="",b=0,k=_.length;b<k;b++)127<_.charCodeAt(b)?g+="x":g+=_[b];if(!g.match(S)){var v=m.slice(0,t),x=m.slice(t+1),y=_.match(F);y&&(v.push(y[1]),x.unshift(y[2])),x.length&&(a=x.join(".")+a),this.hostname=v.join(".");break}}}}255<this.hostname.length&&(this.hostname=""),d&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var C=a.indexOf("#");-1!==C&&(this.hash=a.substr(C),a=a.slice(0,C));var A=a.indexOf("?");return-1!==A&&(this.search=a.substr(A),a=a.slice(0,A)),a&&(this.pathname=a),z[s]&&this.hostname&&!this.pathname&&(this.pathname=""),this},n.prototype.parseHost=function(e){var r=s.exec(e);r&&(":"!==(r=r[0])&&(this.port=r.substr(1)),e=e.substr(0,e.length-r.length)),e&&(this.hostname=e)},r.exports=function(e,r){if(e&&e instanceof n)return e;var t=new n;return t.parse(e,r),t}},{}],60:[function(e,z,T){(function(L){!function(e){var r="object"==typeof T&&T&&!T.nodeType&&T,t="object"==typeof z&&z&&!z.nodeType&&z,n="object"==typeof L&&L;n.global!==n&&n.window!==n&&n.self!==n||(e=n);var s,o,g=2147483647,b=36,k=1,v=26,i=38,a=700,x=72,y=128,C="-",c=/^xn--/,l=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=b-k,A=Math.floor,w=String.fromCharCode;function D(e){throw new RangeError(p[e])}function f(e,r){for(var t=e.length,n=[];t--;)n[t]=r(e[t]);return n}function d(e,r){var t=e.split("@"),n="";return 1<t.length&&(n=t[0]+"@",e=t[1]),n+f((e=e.replace(u,".")).split("."),r).join(".")}function E(e){for(var r,t,n=[],s=0,o=e.length;s<o;)55296<=(r=e.charCodeAt(s++))&&r<=56319&&s<o?56320==(64512&(t=e.charCodeAt(s++)))?n.push(((1023&r)<<10)+(1023&t)+65536):(n.push(r),s--):n.push(r);return n}function q(e){return f(e,function(e){var r="";return 65535<e&&(r+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),r+=w(e)}).join("")}function S(e,r){return e+22+75*(e<26)-((0!=r)<<5)}function F(e,r,t){var n=0;for(e=t?A(e/a):e>>1,e+=A(e/r);h*v>>1<e;n+=b)e=A(e/h);return A(n+(h+1)*e/(e+i))}function m(e){var r,t,n,s,o,i,a,c,l,u,p,h=[],f=e.length,d=0,m=y,_=x;for((t=e.lastIndexOf(C))<0&&(t=0),n=0;n<t;++n)128<=e.charCodeAt(n)&&D("not-basic"),h.push(e.charCodeAt(n));for(s=0<t?t+1:0;s<f;){for(o=d,i=1,a=b;f<=s&&D("invalid-input"),p=e.charCodeAt(s++),(b<=(c=p-48<10?p-22:p-65<26?p-65:p-97<26?p-97:b)||c>A((g-d)/i))&&D("overflow"),d+=c*i,!(c<(l=a<=_?k:_+v<=a?v:a-_));a+=b)i>A(g/(u=b-l))&&D("overflow"),i*=u;_=F(d-o,r=h.length+1,0==o),A(d/r)>g-m&&D("overflow"),m+=A(d/r),d%=r,h.splice(d++,0,m)}return q(h)}function _(e){var r,t,n,s,o,i,a,c,l,u,p,h,f,d,m,_=[];for(h=(e=E(e)).length,r=y,o=x,i=t=0;i<h;++i)(p=e[i])<128&&_.push(w(p));for(n=s=_.length,s&&_.push(C);n<h;){for(a=g,i=0;i<h;++i)r<=(p=e[i])&&p<a&&(a=p);for(a-r>A((g-t)/(f=n+1))&&D("overflow"),t+=(a-r)*f,r=a,i=0;i<h;++i)if((p=e[i])<r&&++t>g&&D("overflow"),p==r){for(c=t,l=b;!(c<(u=l<=o?k:o+v<=l?v:l-o));l+=b)m=c-u,d=b-u,_.push(w(S(u+m%d,0))),c=A(m/d);_.push(w(S(c,0))),o=F(t,f,n==s),t=0,++n}++t,++r}return _.join("")}if(s={version:"1.4.1",ucs2:{decode:E,encode:q},decode:m,encode:_,toASCII:function(e){return d(e,function(e){return l.test(e)?"xn--"+_(e):e})},toUnicode:function(e){return d(e,function(e){return c.test(e)?m(e.slice(4).toLowerCase()):e})}},r&&t)if(z.exports==r)t.exports=s;else for(o in s)s.hasOwnProperty(o)&&(r[o]=s[o]);else e.punycode=s}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],61:[function(e,r,t){r.exports=/[\0-\x1F\x7F-\x9F]/},{}],62:[function(e,r,t){r.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804\uDCBD|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},{}],63:[function(e,r,t){r.exports=/[!-#%-\*,-/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E49\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},{}],64:[function(e,r,t){r.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},{}],65:[function(e,r,t){"use strict";t.Any=e("./properties/Any/regex"),t.Cc=e("./categories/Cc/regex"),t.Cf=e("./categories/Cf/regex"),t.P=e("./categories/P/regex"),t.Z=e("./categories/Z/regex")},{"./categories/Cc/regex":61,"./categories/Cf/regex":62,"./categories/P/regex":63,"./categories/Z/regex":64,"./properties/Any/regex":66}],66:[function(e,r,t){r.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},{}],67:[function(e,r,t){"use strict";r.exports=e("./lib/")},{"./lib/":9}]},{},[67])(67)});

// --
!function t(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define1&&define1.amd?define1("Raphael",[],r):"object"==typeof exports?exports.Raphael=r():e.Raphael=r()}(this,function(){return function(t){function e(i){if(r[i])return r[i].exports;var n=r[i]={exports:{},id:i,loaded:!1};return t[i].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){var i,n;i=[r(1),r(3),r(4)],n=function(t){return t}.apply(e,i),!(void 0!==n&&(t.exports=n))},function(t,e,r){var i,n;i=[r(2)],n=function(t){function e(r){if(e.is(r,"function"))return w?r():t.on("raphael.DOMload",r);if(e.is(r,Q))return e._engine.create[z](e,r.splice(0,3+e.is(r[0],$))).add(r);var i=Array.prototype.slice.call(arguments,0);if(e.is(i[i.length-1],"function")){var n=i.pop();return w?n.call(e._engine.create[z](e,i)):t.on("raphael.DOMload",function(){n.call(e._engine.create[z](e,i))})}return e._engine.create[z](e,arguments)}function r(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var i in t)t[T](i)&&(e[i]=r(t[i]));return e}function i(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return t.push(t.splice(r,1)[0])}function n(t,e,r){function n(){var a=Array.prototype.slice.call(arguments,0),s=a.join(""),o=n.cache=n.cache||{},l=n.count=n.count||[];return o[T](s)?(i(l,s),r?r(o[s]):o[s]):(l.length>=1e3&&delete o[l.shift()],l.push(s),o[s]=t[z](e,a),r?r(o[s]):o[s])}return n}function a(){return this.hex}function s(t,e){for(var r=[],i=0,n=t.length;n-2*!e>i;i+=2){var a=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?n-4==i?a[3]={x:+t[0],y:+t[1]}:n-2==i&&(a[2]={x:+t[0],y:+t[1]},a[3]={x:+t[2],y:+t[3]}):a[0]={x:+t[n-2],y:+t[n-1]}:n-4==i?a[3]=a[2]:i||(a[0]={x:+t[i],y:+t[i+1]}),r.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return r}function o(t,e,r,i,n){var a=-3*e+9*r-9*i+3*n,s=t*a+6*e-12*r+6*i;return t*s-3*e+3*r}function l(t,e,r,i,n,a,s,l,h){null==h&&(h=1),h=h>1?1:h<0?0:h;for(var u=h/2,c=12,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,g=0;g<c;g++){var x=u*f[g]+u,v=o(x,t,r,n,s),y=o(x,e,i,a,l),m=v*v+y*y;d+=p[g]*Y.sqrt(m)}return u*d}function h(t,e,r,i,n,a,s,o,h){if(!(h<0||l(t,e,r,i,n,a,s,o)<h)){var u=1,c=u/2,f=u-c,p,d=.01;for(p=l(t,e,r,i,n,a,s,o,f);H(p-h)>d;)c/=2,f+=(p<h?1:-1)*c,p=l(t,e,r,i,n,a,s,o,f);return f}}function u(t,e,r,i,n,a,s,o){if(!(W(t,r)<G(n,s)||G(t,r)>W(n,s)||W(e,i)<G(a,o)||G(e,i)>W(a,o))){var l=(t*i-e*r)*(n-s)-(t-r)*(n*o-a*s),h=(t*i-e*r)*(a-o)-(e-i)*(n*o-a*s),u=(t-r)*(a-o)-(e-i)*(n-s);if(u){var c=l/u,f=h/u,p=+c.toFixed(2),d=+f.toFixed(2);if(!(p<+G(t,r).toFixed(2)||p>+W(t,r).toFixed(2)||p<+G(n,s).toFixed(2)||p>+W(n,s).toFixed(2)||d<+G(e,i).toFixed(2)||d>+W(e,i).toFixed(2)||d<+G(a,o).toFixed(2)||d>+W(a,o).toFixed(2)))return{x:c,y:f}}}}function c(t,e){return p(t,e)}function f(t,e){return p(t,e,1)}function p(t,r,i){var n=e.bezierBBox(t),a=e.bezierBBox(r);if(!e.isBBoxIntersect(n,a))return i?0:[];for(var s=l.apply(0,t),o=l.apply(0,r),h=W(~~(s/5),1),c=W(~~(o/5),1),f=[],p=[],d={},g=i?0:[],x=0;x<h+1;x++){var v=e.findDotsAtSegment.apply(e,t.concat(x/h));f.push({x:v.x,y:v.y,t:x/h})}for(x=0;x<c+1;x++)v=e.findDotsAtSegment.apply(e,r.concat(x/c)),p.push({x:v.x,y:v.y,t:x/c});for(x=0;x<h;x++)for(var y=0;y<c;y++){var m=f[x],b=f[x+1],_=p[y],w=p[y+1],k=H(b.x-m.x)<.001?"y":"x",B=H(w.x-_.x)<.001?"y":"x",C=u(m.x,m.y,b.x,b.y,_.x,_.y,w.x,w.y);if(C){if(d[C.x.toFixed(4)]==C.y.toFixed(4))continue;d[C.x.toFixed(4)]=C.y.toFixed(4);var S=m.t+H((C[k]-m[k])/(b[k]-m[k]))*(b.t-m.t),T=_.t+H((C[B]-_[B])/(w[B]-_[B]))*(w.t-_.t);S>=0&&S<=1.001&&T>=0&&T<=1.001&&(i?g++:g.push({x:C.x,y:C.y,t1:G(S,1),t2:G(T,1)}))}}return g}function d(t,r,i){t=e._path2curve(t),r=e._path2curve(r);for(var n,a,s,o,l,h,u,c,f,d,g=i?0:[],x=0,v=t.length;x<v;x++){var y=t[x];if("M"==y[0])n=l=y[1],a=h=y[2];else{"C"==y[0]?(f=[n,a].concat(y.slice(1)),n=f[6],a=f[7]):(f=[n,a,n,a,l,h,l,h],n=l,a=h);for(var m=0,b=r.length;m<b;m++){var _=r[m];if("M"==_[0])s=u=_[1],o=c=_[2];else{"C"==_[0]?(d=[s,o].concat(_.slice(1)),s=d[6],o=d[7]):(d=[s,o,s,o,u,c,u,c],s=u,o=c);var w=p(f,d,i);if(i)g+=w;else{for(var k=0,B=w.length;k<B;k++)w[k].segment1=x,w[k].segment2=m,w[k].bez1=f,w[k].bez2=d;g=g.concat(w)}}}}}return g}function g(t,e,r,i,n,a){null!=t?(this.a=+t,this.b=+e,this.c=+r,this.d=+i,this.e=+n,this.f=+a):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function x(){return this.x+I+this.y}function v(){return this.x+I+this.y+I+this.width+"  "+this.height}function y(t,e,r,i,n,a){function s(t){return((c*t+u)*t+h)*t}function o(t,e){var r=l(t,e);return((d*r+p)*r+f)*r}function l(t,e){var r,i,n,a,o,l;for(n=t,l=0;l<8;l++){if(a=s(n)-t,H(a)<e)return n;if(o=(3*c*n+2*u)*n+h,H(o)<1e-6)break;n-=a/o}if(r=0,i=1,n=t,n<r)return r;if(n>i)return i;for(;r<i;){if(a=s(n),H(a-t)<e)return n;t>a?r=n:i=n,n=(i-r)/2+r}return n}var h=3*e,u=3*(i-e)-h,c=1-h-u,f=3*r,p=3*(n-r)-f,d=1-f-p;return o(t,1/(200*a))}function m(t,e){var r=[],i={};if(this.ms=e,this.times=1,t){for(var n in t)t[T](n)&&(i[ht(n)]=t[n],r.push(ht(n)));r.sort(Bt)}this.anim=i,this.top=r[r.length-1],this.percents=r}function b(r,i,n,a,s,o){n=ht(n);var l,h,u,c=[],f,p,d,x=r.ms,v={},m={},b={};if(a)for(w=0,B=Ee.length;w<B;w++){var _=Ee[w];if(_.el.id==i.id&&_.anim==r){_.percent!=n?(Ee.splice(w,1),u=1):h=_,i.attr(_.totalOrigin);break}}else a=+m;for(var w=0,B=r.percents.length;w<B;w++){if(r.percents[w]==n||r.percents[w]>a*r.top){n=r.percents[w],p=r.percents[w-1]||0,x=x/r.top*(n-p),f=r.percents[w+1],l=r.anim[n];break}a&&i.attr(r.anim[r.percents[w]])}if(l){if(h)h.initstatus=a,h.start=new Date-h.ms*a;else{for(var C in l)if(l[T](C)&&(pt[T](C)||i.paper.customAttributes[T](C)))switch(v[C]=i.attr(C),null==v[C]&&(v[C]=ft[C]),m[C]=l[C],pt[C]){case $:b[C]=(m[C]-v[C])/x;break;case"colour":v[C]=e.getRGB(v[C]);var S=e.getRGB(m[C]);b[C]={r:(S.r-v[C].r)/x,g:(S.g-v[C].g)/x,b:(S.b-v[C].b)/x};break;case"path":var A=Qt(v[C],m[C]),E=A[1];for(v[C]=A[0],b[C]=[],w=0,B=v[C].length;w<B;w++){b[C][w]=[0];for(var N=1,M=v[C][w].length;N<M;N++)b[C][w][N]=(E[w][N]-v[C][w][N])/x}break;case"transform":var L=i._,z=le(L[C],m[C]);if(z)for(v[C]=z.from,m[C]=z.to,b[C]=[],b[C].real=!0,w=0,B=v[C].length;w<B;w++)for(b[C][w]=[v[C][w][0]],N=1,M=v[C][w].length;N<M;N++)b[C][w][N]=(m[C][w][N]-v[C][w][N])/x;else{var F=i.matrix||new g,R={_:{transform:L.transform},getBBox:function(){return i.getBBox(1)}};v[C]=[F.a,F.b,F.c,F.d,F.e,F.f],se(R,m[C]),m[C]=R._.transform,b[C]=[(R.matrix.a-F.a)/x,(R.matrix.b-F.b)/x,(R.matrix.c-F.c)/x,(R.matrix.d-F.d)/x,(R.matrix.e-F.e)/x,(R.matrix.f-F.f)/x]}break;case"csv":var I=j(l[C])[q](k),D=j(v[C])[q](k);if("clip-rect"==C)for(v[C]=D,b[C]=[],w=D.length;w--;)b[C][w]=(I[w]-v[C][w])/x;m[C]=I;break;default:for(I=[][P](l[C]),D=[][P](v[C]),b[C]=[],w=i.paper.customAttributes[C].length;w--;)b[C][w]=((I[w]||0)-(D[w]||0))/x}var V=l.easing,O=e.easing_formulas[V];if(!O)if(O=j(V).match(st),O&&5==O.length){var Y=O;O=function(t){return y(t,+Y[1],+Y[2],+Y[3],+Y[4],x)}}else O=St;if(d=l.start||r.start||+new Date,_={anim:r,percent:n,timestamp:d,start:d+(r.del||0),status:0,initstatus:a||0,stop:!1,ms:x,easing:O,from:v,diff:b,to:m,el:i,callback:l.callback,prev:p,next:f,repeat:o||r.times,origin:i.attr(),totalOrigin:s},Ee.push(_),a&&!h&&!u&&(_.stop=!0,_.start=new Date-x*a,1==Ee.length))return Me();u&&(_.start=new Date-_.ms*a),1==Ee.length&&Ne(Me)}t("raphael.anim.start."+i.id,i,r)}}function _(t){for(var e=0;e<Ee.length;e++)Ee[e].el.paper==t&&Ee.splice(e--,1)}e.version="@@VERSION",e.eve=t;var w,k=/[, ]+/,B={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},C=/\{(\d+)\}/g,S="prototype",T="hasOwnProperty",A={doc:document,win:window},E={was:Object.prototype[T].call(A.win,"Raphael"),is:A.win.Raphael},N=function(){this.ca=this.customAttributes={}},M,L="appendChild",z="apply",P="concat",F="ontouchstart"in A.win||A.win.DocumentTouch&&A.doc instanceof DocumentTouch,R="",I=" ",j=String,q="split",D="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[q](I),V={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},O=j.prototype.toLowerCase,Y=Math,W=Y.max,G=Y.min,H=Y.abs,X=Y.pow,U=Y.PI,$="number",Z="string",Q="array",J="toString",K="fill",tt=Object.prototype.toString,et={},rt="push",it=e._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,nt=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,at={NaN:1,Infinity:1,"-Infinity":1},st=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,ot=Y.round,lt="setAttribute",ht=parseFloat,ut=parseInt,ct=j.prototype.toUpperCase,ft=e._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},pt=e._availableAnimAttrs={blur:$,"clip-rect":"csv",cx:$,cy:$,fill:"colour","fill-opacity":$,"font-size":$,height:$,opacity:$,path:"path",r:$,rx:$,ry:$,stroke:"colour","stroke-opacity":$,"stroke-width":$,transform:"transform",width:$,x:$,y:$},dt=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]/g,gt=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,xt={hs:1,rg:1},vt=/,?([achlmqrstvxz]),?/gi,yt=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,mt=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,bt=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,_t=e._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,wt={},kt=function(t,e){return t.key-e.key},Bt=function(t,e){return ht(t)-ht(e)},Ct=function(){},St=function(t){return t},Tt=e._rectPath=function(t,e,r,i,n){return n?[["M",t+n,e],["l",r-2*n,0],["a",n,n,0,0,1,n,n],["l",0,i-2*n],["a",n,n,0,0,1,-n,n],["l",2*n-r,0],["a",n,n,0,0,1,-n,-n],["l",0,2*n-i],["a",n,n,0,0,1,n,-n],["z"]]:[["M",t,e],["l",r,0],["l",0,i],["l",-r,0],["z"]]},At=function(t,e,r,i){return null==i&&(i=r),[["M",t,e],["m",0,-i],["a",r,i,0,1,1,0,2*i],["a",r,i,0,1,1,0,-2*i],["z"]]},Et=e._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return At(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return At(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return Tt(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return Tt(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return Tt(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return Tt(e.x,e.y,e.width,e.height)}},Nt=e.mapPath=function(t,e){if(!e)return t;var r,i,n,a,s,o,l;for(t=Qt(t),n=0,s=t.length;n<s;n++)for(l=t[n],a=1,o=l.length;a<o;a+=2)r=e.x(l[a],l[a+1]),i=e.y(l[a],l[a+1]),l[a]=r,l[a+1]=i;return t};if(e._g=A,e.type=A.win.SVGAngle||A.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==e.type){var Mt=A.doc.createElement("div"),Lt;if(Mt.innerHTML='<v:shape adj="1"/>',Lt=Mt.firstChild,Lt.style.behavior="url(#default#VML)",!Lt||"object"!=typeof Lt.adj)return e.type=R;Mt=null}e.svg=!(e.vml="VML"==e.type),e._Paper=N,e.fn=M=N.prototype=e.prototype,e._id=0,e._oid=0,e.is=function(t,e){return e=O.call(e),"finite"==e?!at[T](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||tt.call(t).slice(8,-1).toLowerCase()==e},e.angle=function(t,r,i,n,a,s){if(null==a){var o=t-i,l=r-n;return o||l?(180+180*Y.atan2(-l,-o)/U+360)%360:0}return e.angle(t,r,a,s)-e.angle(i,n,a,s)},e.rad=function(t){return t%360*U/180},e.deg=function(t){return Math.round(180*t/U%360*1e3)/1e3},e.snapTo=function(t,r,i){if(i=e.is(i,"finite")?i:10,e.is(t,Q)){for(var n=t.length;n--;)if(H(t[n]-r)<=i)return t[n]}else{t=+t;var a=r%t;if(a<i)return r-a;if(a>t-i)return r-a+t}return r};var zt=e.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,function(t){var e=16*Y.random()|0,r="x"==t?e:3&e|8;return r.toString(16)});e.setWindow=function(r){t("raphael.setWindow",e,A.win,r),A.win=r,A.doc=A.win.document,e._engine.initWin&&e._engine.initWin(A.win)};var Pt=function(t){if(e.vml){var r=/^\s+|\s+$/g,i;try{var a=new ActiveXObject("htmlfile");a.write("<body>"),a.close(),i=a.body}catch(s){i=createPopup().document.body}var o=i.createTextRange();Pt=n(function(t){try{i.style.color=j(t).replace(r,R);var e=o.queryCommandValue("ForeColor");return e=(255&e)<<16|65280&e|(16711680&e)>>>16,"#"+("000000"+e.toString(16)).slice(-6)}catch(n){return"none"}})}else{var l=A.doc.createElement("i");l.title="Raphal Colour Picker",l.style.display="none",A.doc.body.appendChild(l),Pt=n(function(t){return l.style.color=t,A.doc.defaultView.getComputedStyle(l,R).getPropertyValue("color")})}return Pt(t)},Ft=function(){return"hsb("+[this.h,this.s,this.b]+")"},Rt=function(){return"hsl("+[this.h,this.s,this.l]+")"},It=function(){return this.hex},jt=function(t,r,i){if(null==r&&e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(i=t.b,r=t.g,t=t.r),null==r&&e.is(t,Z)){var n=e.getRGB(t);t=n.r,r=n.g,i=n.b}return(t>1||r>1||i>1)&&(t/=255,r/=255,i/=255),[t,r,i]},qt=function(t,r,i,n){t*=255,r*=255,i*=255;var a={r:t,g:r,b:i,hex:e.rgb(t,r,i),toString:It};return e.is(n,"finite")&&(a.opacity=n),a};e.color=function(t){var r;return e.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(r=e.hsb2rgb(t),t.r=r.r,t.g=r.g,t.b=r.b,t.hex=r.hex):e.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(r=e.hsl2rgb(t),t.r=r.r,t.g=r.g,t.b=r.b,t.hex=r.hex):(e.is(t,"string")&&(t=e.getRGB(t)),e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(r=e.rgb2hsl(t),t.h=r.h,t.s=r.s,t.l=r.l,r=e.rgb2hsb(t),t.v=r.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1)),t.toString=It,t},e.hsb2rgb=function(t,e,r,i){this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(r=t.b,e=t.s,i=t.o,t=t.h),t*=360;var n,a,s,o,l;return t=t%360/60,l=r*e,o=l*(1-H(t%2-1)),n=a=s=r-l,t=~~t,n+=[l,o,0,0,o,l][t],a+=[o,l,l,o,0,0][t],s+=[0,0,o,l,l,o][t],qt(n,a,s,i)},e.hsl2rgb=function(t,e,r,i){this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(r=t.l,e=t.s,t=t.h),(t>1||e>1||r>1)&&(t/=360,e/=100,r/=100),t*=360;var n,a,s,o,l;return t=t%360/60,l=2*e*(r<.5?r:1-r),o=l*(1-H(t%2-1)),n=a=s=r-l/2,t=~~t,n+=[l,o,0,0,o,l][t],a+=[o,l,l,o,0,0][t],s+=[0,0,o,l,l,o][t],qt(n,a,s,i)},e.rgb2hsb=function(t,e,r){r=jt(t,e,r),t=r[0],e=r[1],r=r[2];var i,n,a,s;return a=W(t,e,r),s=a-G(t,e,r),i=0==s?null:a==t?(e-r)/s:a==e?(r-t)/s+2:(t-e)/s+4,i=(i+360)%6*60/360,n=0==s?0:s/a,{h:i,s:n,b:a,toString:Ft}},e.rgb2hsl=function(t,e,r){r=jt(t,e,r),t=r[0],e=r[1],r=r[2];var i,n,a,s,o,l;return s=W(t,e,r),o=G(t,e,r),l=s-o,i=0==l?null:s==t?(e-r)/l:s==e?(r-t)/l+2:(t-e)/l+4,i=(i+360)%6*60/360,a=(s+o)/2,n=0==l?0:a<.5?l/(2*a):l/(2-2*a),{h:i,s:n,l:a,toString:Rt}},e._path2string=function(){return this.join(",").replace(vt,"$1")};var Dt=e._preload=function(t,e){var r=A.doc.createElement("img");r.style.cssText="position:absolute;left:-9999em;top:-9999em",r.onload=function(){e.call(this),this.onload=null,A.doc.body.removeChild(this)},r.onerror=function(){A.doc.body.removeChild(this)},A.doc.body.appendChild(r),r.src=t};e.getRGB=n(function(t){if(!t||(t=j(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:a};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:a};!(xt[T](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=Pt(t));var r,i,n,s,o,l,h,u=t.match(nt);return u?(u[2]&&(s=ut(u[2].substring(5),16),n=ut(u[2].substring(3,5),16),i=ut(u[2].substring(1,3),16)),u[3]&&(s=ut((l=u[3].charAt(3))+l,16),n=ut((l=u[3].charAt(2))+l,16),i=ut((l=u[3].charAt(1))+l,16)),u[4]&&(h=u[4][q](gt),i=ht(h[0]),"%"==h[0].slice(-1)&&(i*=2.55),n=ht(h[1]),"%"==h[1].slice(-1)&&(n*=2.55),s=ht(h[2]),"%"==h[2].slice(-1)&&(s*=2.55),"rgba"==u[1].toLowerCase().slice(0,4)&&(o=ht(h[3])),h[3]&&"%"==h[3].slice(-1)&&(o/=100)),u[5]?(h=u[5][q](gt),i=ht(h[0]),"%"==h[0].slice(-1)&&(i*=2.55),n=ht(h[1]),"%"==h[1].slice(-1)&&(n*=2.55),s=ht(h[2]),"%"==h[2].slice(-1)&&(s*=2.55),("deg"==h[0].slice(-3)||""==h[0].slice(-1))&&(i/=360),"hsba"==u[1].toLowerCase().slice(0,4)&&(o=ht(h[3])),h[3]&&"%"==h[3].slice(-1)&&(o/=100),e.hsb2rgb(i,n,s,o)):u[6]?(h=u[6][q](gt),i=ht(h[0]),"%"==h[0].slice(-1)&&(i*=2.55),n=ht(h[1]),"%"==h[1].slice(-1)&&(n*=2.55),s=ht(h[2]),"%"==h[2].slice(-1)&&(s*=2.55),("deg"==h[0].slice(-3)||""==h[0].slice(-1))&&(i/=360),"hsla"==u[1].toLowerCase().slice(0,4)&&(o=ht(h[3])),h[3]&&"%"==h[3].slice(-1)&&(o/=100),e.hsl2rgb(i,n,s,o)):(u={r:i,g:n,b:s,toString:a},u.hex="#"+(16777216|s|n<<8|i<<16).toString(16).slice(1),e.is(o,"finite")&&(u.opacity=o),u)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:a}},e),e.hsb=n(function(t,r,i){return e.hsb2rgb(t,r,i).hex}),e.hsl=n(function(t,r,i){return e.hsl2rgb(t,r,i).hex}),e.rgb=n(function(t,e,r){function i(t){return t+.5|0}return"#"+(16777216|i(r)|i(e)<<8|i(t)<<16).toString(16).slice(1)}),e.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},r=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),r.hex},e.getColor.reset=function(){delete this.start},e.parsePathString=function(t){if(!t)return null;var r=Vt(t);if(r.arr)return Yt(r.arr);var i={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},n=[];return e.is(t,Q)&&e.is(t[0],Q)&&(n=Yt(t)),n.length||j(t).replace(yt,function(t,e,r){var a=[],s=e.toLowerCase();if(r.replace(bt,function(t,e){e&&a.push(+e)}),"m"==s&&a.length>2&&(n.push([e][P](a.splice(0,2))),s="l",e="m"==e?"l":"L"),"r"==s)n.push([e][P](a));else for(;a.length>=i[s]&&(n.push([e][P](a.splice(0,i[s]))),i[s]););}),n.toString=e._path2string,r.arr=Yt(n),n},e.parseTransformString=n(function(t){if(!t)return null;var r={r:3,s:4,t:2,m:6},i=[];return e.is(t,Q)&&e.is(t[0],Q)&&(i=Yt(t)),i.length||j(t).replace(mt,function(t,e,r){var n=[],a=O.call(e);r.replace(bt,function(t,e){e&&n.push(+e)}),i.push([e][P](n))}),i.toString=e._path2string,i});var Vt=function(t){var e=Vt.ps=Vt.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var r in e)e[T](r)&&r!=t&&(e[r].sleep--,!e[r].sleep&&delete e[r])}),e[t]};e.findDotsAtSegment=function(t,e,r,i,n,a,s,o,l){var h=1-l,u=X(h,3),c=X(h,2),f=l*l,p=f*l,d=u*t+3*c*l*r+3*h*l*l*n+p*s,g=u*e+3*c*l*i+3*h*l*l*a+p*o,x=t+2*l*(r-t)+f*(n-2*r+t),v=e+2*l*(i-e)+f*(a-2*i+e),y=r+2*l*(n-r)+f*(s-2*n+r),m=i+2*l*(a-i)+f*(o-2*a+i),b=h*t+l*r,_=h*e+l*i,w=h*n+l*s,k=h*a+l*o,B=90-180*Y.atan2(x-y,v-m)/U;return(x>y||v<m)&&(B+=180),{x:d,y:g,m:{x:x,y:v},n:{x:y,y:m},start:{x:b,y:_},end:{x:w,y:k},alpha:B}},e.bezierBBox=function(t,r,i,n,a,s,o,l){e.is(t,"array")||(t=[t,r,i,n,a,s,o,l]);var h=Zt.apply(null,t);return{x:h.min.x,y:h.min.y,x2:h.max.x,y2:h.max.y,width:h.max.x-h.min.x,height:h.max.y-h.min.y}},e.isPointInsideBBox=function(t,e,r){return e>=t.x&&e<=t.x2&&r>=t.y&&r<=t.y2},e.isBBoxIntersect=function(t,r){var i=e.isPointInsideBBox;return i(r,t.x,t.y)||i(r,t.x2,t.y)||i(r,t.x,t.y2)||i(r,t.x2,t.y2)||i(t,r.x,r.y)||i(t,r.x2,r.y)||i(t,r.x,r.y2)||i(t,r.x2,r.y2)||(t.x<r.x2&&t.x>r.x||r.x<t.x2&&r.x>t.x)&&(t.y<r.y2&&t.y>r.y||r.y<t.y2&&r.y>t.y)},e.pathIntersection=function(t,e){return d(t,e)},e.pathIntersectionNumber=function(t,e){return d(t,e,1)},e.isPointInsidePath=function(t,r,i){var n=e.pathBBox(t);return e.isPointInsideBBox(n,r,i)&&d(t,[["M",r,i],["H",n.x2+10]],1)%2==1},e._removedFactory=function(e){return function(){t("raphael.log",null,"Raphal: you are calling to method "+e+" of removed object",e)}};var Ot=e.pathBBox=function(t){var e=Vt(t);if(e.bbox)return r(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};t=Qt(t);for(var i=0,n=0,a=[],s=[],o,l=0,h=t.length;l<h;l++)if(o=t[l],"M"==o[0])i=o[1],n=o[2],a.push(i),s.push(n);else{var u=Zt(i,n,o[1],o[2],o[3],o[4],o[5],o[6]);a=a[P](u.min.x,u.max.x),s=s[P](u.min.y,u.max.y),i=o[5],n=o[6]}var c=G[z](0,a),f=G[z](0,s),p=W[z](0,a),d=W[z](0,s),g=p-c,x=d-f,v={x:c,y:f,x2:p,y2:d,width:g,height:x,cx:c+g/2,cy:f+x/2};return e.bbox=r(v),v},Yt=function(t){var i=r(t);return i.toString=e._path2string,i},Wt=e._pathToRelative=function(t){var r=Vt(t);if(r.rel)return Yt(r.rel);e.is(t,Q)&&e.is(t&&t[0],Q)||(t=e.parsePathString(t));var i=[],n=0,a=0,s=0,o=0,l=0;"M"==t[0][0]&&(n=t[0][1],a=t[0][2],s=n,o=a,l++,i.push(["M",n,a]));for(var h=l,u=t.length;h<u;h++){var c=i[h]=[],f=t[h];if(f[0]!=O.call(f[0]))switch(c[0]=O.call(f[0]),c[0]){case"a":c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=+(f[6]-n).toFixed(3),c[7]=+(f[7]-a).toFixed(3);break;case"v":c[1]=+(f[1]-a).toFixed(3);break;case"m":s=f[1],o=f[2];default:for(var p=1,d=f.length;p<d;p++)c[p]=+(f[p]-(p%2?n:a)).toFixed(3)}else{c=i[h]=[],"m"==f[0]&&(s=f[1]+n,o=f[2]+a);for(var g=0,x=f.length;g<x;g++)i[h][g]=f[g]}var v=i[h].length;switch(i[h][0]){case"z":n=s,a=o;break;case"h":n+=+i[h][v-1];break;case"v":a+=+i[h][v-1];break;default:n+=+i[h][v-2],a+=+i[h][v-1]}}return i.toString=e._path2string,r.rel=Yt(i),i},Gt=e._pathToAbsolute=function(t){var r=Vt(t);if(r.abs)return Yt(r.abs);if(e.is(t,Q)&&e.is(t&&t[0],Q)||(t=e.parsePathString(t)),!t||!t.length)return[["M",0,0]];var i=[],n=0,a=0,o=0,l=0,h=0;"M"==t[0][0]&&(n=+t[0][1],a=+t[0][2],o=n,l=a,h++,i[0]=["M",n,a]);for(var u=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),c,f,p=h,d=t.length;p<d;p++){if(i.push(c=[]),f=t[p],f[0]!=ct.call(f[0]))switch(c[0]=ct.call(f[0]),c[0]){case"A":c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=+(f[6]+n),c[7]=+(f[7]+a);break;case"V":c[1]=+f[1]+a;break;case"H":c[1]=+f[1]+n;break;case"R":for(var g=[n,a][P](f.slice(1)),x=2,v=g.length;x<v;x++)g[x]=+g[x]+n,g[++x]=+g[x]+a;i.pop(),i=i[P](s(g,u));break;case"M":o=+f[1]+n,l=+f[2]+a;default:for(x=1,v=f.length;x<v;x++)c[x]=+f[x]+(x%2?n:a)}else if("R"==f[0])g=[n,a][P](f.slice(1)),i.pop(),i=i[P](s(g,u)),c=["R"][P](f.slice(-2));else for(var y=0,m=f.length;y<m;y++)c[y]=f[y];switch(c[0]){case"Z":n=o,a=l;break;case"H":n=c[1];break;case"V":a=c[1];break;case"M":o=c[c.length-2],l=c[c.length-1];default:n=c[c.length-2],a=c[c.length-1]}}return i.toString=e._path2string,r.abs=Yt(i),i},Ht=function(t,e,r,i){return[t,e,r,i,r,i]},Xt=function(t,e,r,i,n,a){var s=1/3,o=2/3;return[s*t+o*r,s*e+o*i,s*n+o*r,s*a+o*i,n,a]},Ut=function(t,e,r,i,a,s,o,l,h,u){var c=120*U/180,f=U/180*(+a||0),p=[],d,g=n(function(t,e,r){var i=t*Y.cos(r)-e*Y.sin(r),n=t*Y.sin(r)+e*Y.cos(r);return{x:i,y:n}});if(u)S=u[0],T=u[1],B=u[2],C=u[3];else{d=g(t,e,-f),t=d.x,e=d.y,d=g(l,h,-f),l=d.x,h=d.y;var x=Y.cos(U/180*a),v=Y.sin(U/180*a),y=(t-l)/2,m=(e-h)/2,b=y*y/(r*r)+m*m/(i*i);b>1&&(b=Y.sqrt(b),r=b*r,i=b*i);var _=r*r,w=i*i,k=(s==o?-1:1)*Y.sqrt(H((_*w-_*m*m-w*y*y)/(_*m*m+w*y*y))),B=k*r*m/i+(t+l)/2,C=k*-i*y/r+(e+h)/2,S=Y.asin(((e-C)/i).toFixed(9)),T=Y.asin(((h-C)/i).toFixed(9));S=t<B?U-S:S,T=l<B?U-T:T,S<0&&(S=2*U+S),T<0&&(T=2*U+T),o&&S>T&&(S-=2*U),!o&&T>S&&(T-=2*U)}var A=T-S;if(H(A)>c){var E=T,N=l,M=h;T=S+c*(o&&T>S?1:-1),l=B+r*Y.cos(T),h=C+i*Y.sin(T),p=Ut(l,h,r,i,a,0,o,N,M,[T,E,B,C])}A=T-S;var L=Y.cos(S),z=Y.sin(S),F=Y.cos(T),R=Y.sin(T),I=Y.tan(A/4),j=4/3*r*I,D=4/3*i*I,V=[t,e],O=[t+j*z,e-D*L],W=[l+j*R,h-D*F],G=[l,h];if(O[0]=2*V[0]-O[0],O[1]=2*V[1]-O[1],u)return[O,W,G][P](p);p=[O,W,G][P](p).join()[q](",");for(var X=[],$=0,Z=p.length;$<Z;$++)X[$]=$%2?g(p[$-1],p[$],f).y:g(p[$],p[$+1],f).x;return X},$t=function(t,e,r,i,n,a,s,o,l){var h=1-l;return{x:X(h,3)*t+3*X(h,2)*l*r+3*h*l*l*n+X(l,3)*s,y:X(h,3)*e+3*X(h,2)*l*i+3*h*l*l*a+X(l,3)*o}},Zt=n(function(t,e,r,i,n,a,s,o){var l=n-2*r+t-(s-2*n+r),h=2*(r-t)-2*(n-r),u=t-r,c=(-h+Y.sqrt(h*h-4*l*u))/2/l,f=(-h-Y.sqrt(h*h-4*l*u))/2/l,p=[e,o],d=[t,s],g;return H(c)>"1e12"&&(c=.5),H(f)>"1e12"&&(f=.5),c>0&&c<1&&(g=$t(t,e,r,i,n,a,s,o,c),d.push(g.x),p.push(g.y)),f>0&&f<1&&(g=$t(t,e,r,i,n,a,s,o,f),d.push(g.x),p.push(g.y)),l=a-2*i+e-(o-2*a+i),h=2*(i-e)-2*(a-i),u=e-i,c=(-h+Y.sqrt(h*h-4*l*u))/2/l,f=(-h-Y.sqrt(h*h-4*l*u))/2/l,H(c)>"1e12"&&(c=.5),H(f)>"1e12"&&(f=.5),c>0&&c<1&&(g=$t(t,e,r,i,n,a,s,o,c),d.push(g.x),p.push(g.y)),f>0&&f<1&&(g=$t(t,e,r,i,n,a,s,o,f),d.push(g.x),p.push(g.y)),{min:{x:G[z](0,d),y:G[z](0,p)},max:{x:W[z](0,d),y:W[z](0,p)}}}),Qt=e._path2curve=n(function(t,e){var r=!e&&Vt(t);if(!e&&r.curve)return Yt(r.curve);for(var i=Gt(t),n=e&&Gt(e),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=(function(t,e,r){var i,n,a={T:1,Q:1};if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in a)&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][P](Ut[z](0,[e.x,e.y][P](t.slice(1))));break;case"S":"C"==r||"S"==r?(i=2*e.x-e.bx,n=2*e.y-e.by):(i=e.x,n=e.y),t=["C",i,n][P](t.slice(1));break;case"T":"Q"==r||"T"==r?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][P](Xt(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][P](Xt(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][P](Ht(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][P](Ht(e.x,e.y,t[1],e.y));break;case"V":t=["C"][P](Ht(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][P](Ht(e.x,e.y,e.X,e.Y))}return t}),l=function(t,e){if(t[e].length>7){t[e].shift();for(var r=t[e];r.length;)u[e]="A",n&&(c[e]="A"),t.splice(e++,0,["C"][P](r.splice(0,6)));t.splice(e,1),g=W(i.length,n&&n.length||0)}},h=function(t,e,r,a,s){t&&e&&"M"==t[s][0]&&"M"!=e[s][0]&&(e.splice(s,0,["M",a.x,a.y]),r.bx=0,r.by=0,r.x=t[s][1],r.y=t[s][2],g=W(i.length,n&&n.length||0))},u=[],c=[],f="",p="",d=0,g=W(i.length,n&&n.length||0);d<g;d++){i[d]&&(f=i[d][0]),"C"!=f&&(u[d]=f,d&&(p=u[d-1])),i[d]=o(i[d],a,p),"A"!=u[d]&&"C"==f&&(u[d]="C"),l(i,d),n&&(n[d]&&(f=n[d][0]),"C"!=f&&(c[d]=f,d&&(p=c[d-1])),n[d]=o(n[d],s,p),"A"!=c[d]&&"C"==f&&(c[d]="C"),l(n,d)),h(i,n,a,s,d),h(n,i,s,a,d);var x=i[d],v=n&&n[d],y=x.length,m=n&&v.length;a.x=x[y-2],a.y=x[y-1],a.bx=ht(x[y-4])||a.x,a.by=ht(x[y-3])||a.y,s.bx=n&&(ht(v[m-4])||s.x),s.by=n&&(ht(v[m-3])||s.y),s.x=n&&v[m-2],s.y=n&&v[m-1]}return n||(r.curve=Yt(i)),n?[i,n]:i},null,Yt),Jt=e._parseDots=n(function(t){for(var r=[],i=0,n=t.length;i<n;i++){var a={},s=t[i].match(/^([^:]*):?([\d\.]*)/);if(a.color=e.getRGB(s[1]),a.color.error)return null;a.opacity=a.color.opacity,a.color=a.color.hex,s[2]&&(a.offset=s[2]+"%"),r.push(a)}for(i=1,n=r.length-1;i<n;i++)if(!r[i].offset){for(var o=ht(r[i-1].offset||0),l=0,h=i+1;h<n;h++)if(r[h].offset){l=r[h].offset;break}l||(l=100,h=n),l=ht(l);for(var u=(l-o)/(h-i+1);i<h;i++)o+=u,r[i].offset=o+"%"}return r}),Kt=e._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)},te=e._tofront=function(t,e){e.top!==t&&(Kt(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},ee=e._toback=function(t,e){e.bottom!==t&&(Kt(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},re=e._insertafter=function(t,e,r){Kt(t,r),e==r.top&&(r.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},ie=e._insertbefore=function(t,e,r){Kt(t,r),e==r.bottom&&(r.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},ne=e.toMatrix=function(t,e){var r=Ot(t),i={_:{transform:R},getBBox:function(){return r}};return se(i,e),i.matrix},ae=e.transformPath=function(t,e){return Nt(t,ne(t,e))},se=e._extractTransform=function(t,r){if(null==r)return t._.transform;r=j(r).replace(/\.{3}|\u2026/g,t._.transform||R);var i=e.parseTransformString(r),n=0,a=0,s=0,o=1,l=1,h=t._,u=new g;if(h.transform=i||[],i)for(var c=0,f=i.length;c<f;c++){var p=i[c],d=p.length,x=j(p[0]).toLowerCase(),v=p[0]!=x,y=v?u.invert():0,m,b,_,w,k;"t"==x&&3==d?v?(m=y.x(0,0),b=y.y(0,0),_=y.x(p[1],p[2]),w=y.y(p[1],p[2]),u.translate(_-m,w-b)):u.translate(p[1],p[2]):"r"==x?2==d?(k=k||t.getBBox(1),u.rotate(p[1],k.x+k.width/2,k.y+k.height/2),n+=p[1]):4==d&&(v?(_=y.x(p[2],p[3]),w=y.y(p[2],p[3]),u.rotate(p[1],_,w)):u.rotate(p[1],p[2],p[3]),n+=p[1]):"s"==x?2==d||3==d?(k=k||t.getBBox(1),u.scale(p[1],p[d-1],k.x+k.width/2,k.y+k.height/2),o*=p[1],l*=p[d-1]):5==d&&(v?(_=y.x(p[3],p[4]),w=y.y(p[3],p[4]),u.scale(p[1],p[2],_,w)):u.scale(p[1],p[2],p[3],p[4]),o*=p[1],l*=p[2]):"m"==x&&7==d&&u.add(p[1],p[2],p[3],p[4],p[5],p[6]),h.dirtyT=1,t.matrix=u}t.matrix=u,h.sx=o,h.sy=l,h.deg=n,h.dx=a=u.e,h.dy=s=u.f,1==o&&1==l&&!n&&h.bbox?(h.bbox.x+=+a,h.bbox.y+=+s):h.dirtyT=1},oe=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},le=e._equaliseTransform=function(t,r){r=j(r).replace(/\.{3}|\u2026/g,t),t=e.parseTransformString(t)||[],r=e.parseTransformString(r)||[];for(var i=W(t.length,r.length),n=[],a=[],s=0,o,l,h,u;s<i;s++){if(h=t[s]||oe(r[s]),u=r[s]||oe(h),h[0]!=u[0]||"r"==h[0].toLowerCase()&&(h[2]!=u[2]||h[3]!=u[3])||"s"==h[0].toLowerCase()&&(h[3]!=u[3]||h[4]!=u[4]))return;for(n[s]=[],a[s]=[],o=0,l=W(h.length,u.length);o<l;o++)o in h&&(n[s][o]=h[o]),o in u&&(a[s][o]=u[o])}return{from:n,to:a}};e._getContainer=function(t,r,i,n){var a;if(a=null!=n||e.is(t,"object")?t:A.doc.getElementById(t),null!=a)return a.tagName?null==r?{container:a,width:a.style.pixelWidth||a.offsetWidth,height:a.style.pixelHeight||a.offsetHeight}:{container:a,width:r,height:i}:{container:1,x:t,y:r,width:i,height:n}},e.pathToRelative=Wt,e._engine={},e.path2curve=Qt,e.matrix=function(t,e,r,i,n,a){return new g(t,e,r,i,n,a)},function(t){function r(t){return t[0]*t[0]+t[1]*t[1]}function i(t){var e=Y.sqrt(r(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}t.add=function(t,e,r,i,n,a){var s=[[],[],[]],o=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],l=[[t,r,n],[e,i,a],[0,0,1]],h,u,c,f;for(t&&t instanceof g&&(l=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),h=0;h<3;h++)for(u=0;u<3;u++){for(f=0,c=0;c<3;c++)f+=o[h][c]*l[c][u];s[h][u]=f}this.a=s[0][0],this.b=s[1][0],this.c=s[0][1],this.d=s[1][1],this.e=s[0][2],this.f=s[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new g(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new g(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){
this.add(1,0,0,1,t,e)},t.scale=function(t,e,r,i){null==e&&(e=t),(r||i)&&this.add(1,0,0,1,r,i),this.add(t,0,0,e,0,0),(r||i)&&this.add(1,0,0,1,-r,-i)},t.rotate=function(t,r,i){t=e.rad(t),r=r||0,i=i||0;var n=+Y.cos(t).toFixed(9),a=+Y.sin(t).toFixed(9);this.add(n,a,-a,n,r,i),this.add(1,0,0,1,-r,-i)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[j.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return e.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var n=[[this.a,this.c],[this.b,this.d]];t.scalex=Y.sqrt(r(n[0])),i(n[0]),t.shear=n[0][0]*n[1][0]+n[0][1]*n[1][1],n[1]=[n[1][0]-n[0][0]*t.shear,n[1][1]-n[0][1]*t.shear],t.scaley=Y.sqrt(r(n[1])),i(n[1]),t.shear/=t.scaley;var a=-n[0][1],s=n[1][1];return s<0?(t.rotate=e.deg(Y.acos(s)),a<0&&(t.rotate=360-t.rotate)):t.rotate=e.deg(Y.asin(a)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this[q]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:R)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:R)+(e.rotate?"r"+[e.rotate,0,0]:R)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(g.prototype);for(var he=function(){this.returnValue=!1},ue=function(){return this.originalEvent.preventDefault()},ce=function(){this.cancelBubble=!0},fe=function(){return this.originalEvent.stopPropagation()},pe=function(t){var e=A.doc.documentElement.scrollTop||A.doc.body.scrollTop,r=A.doc.documentElement.scrollLeft||A.doc.body.scrollLeft;return{x:t.clientX+r,y:t.clientY+e}},de=function(){return A.doc.addEventListener?function(t,e,r,i){var n=function(t){var e=pe(t);return r.call(i,t,e.x,e.y)};if(t.addEventListener(e,n,!1),F&&V[e]){var a=function(e){for(var n=pe(e),a=e,s=0,o=e.targetTouches&&e.targetTouches.length;s<o;s++)if(e.targetTouches[s].target==t){e=e.targetTouches[s],e.originalEvent=a,e.preventDefault=ue,e.stopPropagation=fe;break}return r.call(i,e,n.x,n.y)};t.addEventListener(V[e],a,!1)}return function(){return t.removeEventListener(e,n,!1),F&&V[e]&&t.removeEventListener(V[e],a,!1),!0}}:A.doc.attachEvent?function(t,e,r,i){var n=function(t){t=t||A.win.event;var e=A.doc.documentElement.scrollTop||A.doc.body.scrollTop,n=A.doc.documentElement.scrollLeft||A.doc.body.scrollLeft,a=t.clientX+n,s=t.clientY+e;return t.preventDefault=t.preventDefault||he,t.stopPropagation=t.stopPropagation||ce,r.call(i,t,a,s)};t.attachEvent("on"+e,n);var a=function(){return t.detachEvent("on"+e,n),!0};return a}:void 0}(),ge=[],xe=function(e){for(var r=e.clientX,i=e.clientY,n=A.doc.documentElement.scrollTop||A.doc.body.scrollTop,a=A.doc.documentElement.scrollLeft||A.doc.body.scrollLeft,s,o=ge.length;o--;){if(s=ge[o],F&&e.touches){for(var l=e.touches.length,h;l--;)if(h=e.touches[l],h.identifier==s.el._drag.id){r=h.clientX,i=h.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var u=s.el.node,c,f=u.nextSibling,p=u.parentNode,d=u.style.display;A.win.opera&&p.removeChild(u),u.style.display="none",c=s.el.paper.getElementByPoint(r,i),u.style.display=d,A.win.opera&&(f?p.insertBefore(u,f):p.appendChild(u)),c&&t("raphael.drag.over."+s.el.id,s.el,c),r+=a,i+=n,t("raphael.drag.move."+s.el.id,s.move_scope||s.el,r-s.el._drag.x,i-s.el._drag.y,r,i,e)}},ve=function(r){e.unmousemove(xe).unmouseup(ve);for(var i=ge.length,n;i--;)n=ge[i],n.el._drag={},t("raphael.drag.end."+n.el.id,n.end_scope||n.start_scope||n.move_scope||n.el,r);ge=[]},ye=e.el={},me=D.length;me--;)!function(t){e[t]=ye[t]=function(r,i){return e.is(r,"function")&&(this.events=this.events||[],this.events.push({name:t,f:r,unbind:de(this.shape||this.node||A.doc,t,r,i||this)})),this},e["un"+t]=ye["un"+t]=function(r){for(var i=this.events||[],n=i.length;n--;)i[n].name!=t||!e.is(r,"undefined")&&i[n].f!=r||(i[n].unbind(),i.splice(n,1),!i.length&&delete this.events);return this}}(D[me]);ye.data=function(r,i){var n=wt[this.id]=wt[this.id]||{};if(0==arguments.length)return n;if(1==arguments.length){if(e.is(r,"object")){for(var a in r)r[T](a)&&this.data(a,r[a]);return this}return t("raphael.data.get."+this.id,this,n[r],r),n[r]}return n[r]=i,t("raphael.data.set."+this.id,this,i,r),this},ye.removeData=function(t){return null==t?wt[this.id]={}:wt[this.id]&&delete wt[this.id][t],this},ye.getData=function(){return r(wt[this.id]||{})},ye.hover=function(t,e,r,i){return this.mouseover(t,r).mouseout(e,i||r)},ye.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var be=[];ye.drag=function(r,i,n,a,s,o){function l(l){(l.originalEvent||l).preventDefault();var h=l.clientX,u=l.clientY,c=A.doc.documentElement.scrollTop||A.doc.body.scrollTop,f=A.doc.documentElement.scrollLeft||A.doc.body.scrollLeft;if(this._drag.id=l.identifier,F&&l.touches)for(var p=l.touches.length,d;p--;)if(d=l.touches[p],this._drag.id=d.identifier,d.identifier==this._drag.id){h=d.clientX,u=d.clientY;break}this._drag.x=h+f,this._drag.y=u+c,!ge.length&&e.mousemove(xe).mouseup(ve),ge.push({el:this,move_scope:a,start_scope:s,end_scope:o}),i&&t.on("raphael.drag.start."+this.id,i),r&&t.on("raphael.drag.move."+this.id,r),n&&t.on("raphael.drag.end."+this.id,n),t("raphael.drag.start."+this.id,s||a||this,l.clientX+f,l.clientY+c,l)}return this._drag={},be.push({el:this,start:l}),this.mousedown(l),this},ye.onDragOver=function(e){e?t.on("raphael.drag.over."+this.id,e):t.unbind("raphael.drag.over."+this.id)},ye.undrag=function(){for(var r=be.length;r--;)be[r].el==this&&(this.unmousedown(be[r].start),be.splice(r,1),t.unbind("raphael.drag.*."+this.id));!be.length&&e.unmousemove(xe).unmouseup(ve),ge=[]},M.circle=function(t,r,i){var n=e._engine.circle(this,t||0,r||0,i||0);return this.__set__&&this.__set__.push(n),n},M.rect=function(t,r,i,n,a){var s=e._engine.rect(this,t||0,r||0,i||0,n||0,a||0);return this.__set__&&this.__set__.push(s),s},M.ellipse=function(t,r,i,n){var a=e._engine.ellipse(this,t||0,r||0,i||0,n||0);return this.__set__&&this.__set__.push(a),a},M.path=function(t){t&&!e.is(t,Z)&&!e.is(t[0],Q)&&(t+=R);var r=e._engine.path(e.format[z](e,arguments),this);return this.__set__&&this.__set__.push(r),r},M.image=function(t,r,i,n,a){var s=e._engine.image(this,t||"about:blank",r||0,i||0,n||0,a||0);return this.__set__&&this.__set__.push(s),s},M.text=function(t,r,i){var n=e._engine.text(this,t||0,r||0,j(i));return this.__set__&&this.__set__.push(n),n},M.set=function(t){!e.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var r=new ze(t);return this.__set__&&this.__set__.push(r),r.paper=this,r.type="set",r},M.setStart=function(t){this.__set__=t||this.set()},M.setFinish=function(t){var e=this.__set__;return delete this.__set__,e},M.getSize=function(){var t=this.canvas.parentNode;return{width:t.offsetWidth,height:t.offsetHeight}},M.setSize=function(t,r){return e._engine.setSize.call(this,t,r)},M.setViewBox=function(t,r,i,n,a){return e._engine.setViewBox.call(this,t,r,i,n,a)},M.top=M.bottom=null,M.raphael=e;var _e=function(t){var e=t.getBoundingClientRect(),r=t.ownerDocument,i=r.body,n=r.documentElement,a=n.clientTop||i.clientTop||0,s=n.clientLeft||i.clientLeft||0,o=e.top+(A.win.pageYOffset||n.scrollTop||i.scrollTop)-a,l=e.left+(A.win.pageXOffset||n.scrollLeft||i.scrollLeft)-s;return{y:o,x:l}};M.getElementByPoint=function(t,e){var r=this,i=r.canvas,n=A.doc.elementFromPoint(t,e);if(A.win.opera&&"svg"==n.tagName){var a=_e(i),s=i.createSVGRect();s.x=t-a.x,s.y=e-a.y,s.width=s.height=1;var o=i.getIntersectionList(s,null);o.length&&(n=o[o.length-1])}if(!n)return null;for(;n.parentNode&&n!=i.parentNode&&!n.raphael;)n=n.parentNode;return n==r.canvas.parentNode&&(n=i),n=n&&n.raphael?r.getById(n.raphaelid):null},M.getElementsByBBox=function(t){var r=this.set();return this.forEach(function(i){e.isBBoxIntersect(i.getBBox(),t)&&r.push(i)}),r},M.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},M.forEach=function(t,e){for(var r=this.bottom;r;){if(t.call(e,r)===!1)return this;r=r.next}return this},M.getElementsByPoint=function(t,e){var r=this.set();return this.forEach(function(i){i.isPointInside(t,e)&&r.push(i)}),r},ye.isPointInside=function(t,r){var i=this.realPath=Et[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(i=e.transformPath(i,this.attr("transform"))),e.isPointInsidePath(i,t,r)},ye.getBBox=function(t){if(this.removed)return{};var e=this._;return t?(!e.dirty&&e.bboxwt||(this.realPath=Et[this.type](this),e.bboxwt=Ot(this.realPath),e.bboxwt.toString=v,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&(!e.dirty&&this.realPath||(e.bboxwt=0,this.realPath=Et[this.type](this)),e.bbox=Ot(Nt(this.realPath,this.matrix)),e.bbox.toString=v,e.dirty=e.dirtyT=0),e.bbox)},ye.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},ye.glow=function(t){if("text"==this.type)return null;t=t||{};var e={width:(t.width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:null==t.opacity?.5:t.opacity,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},r=e.width/2,i=this.paper,n=i.set(),a=this.realPath||Et[this.type](this);a=this.matrix?Nt(a,this.matrix):a;for(var s=1;s<r+1;s++)n.push(i.path(a).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/r*s).toFixed(3),opacity:+(e.opacity/r).toFixed(3)}));return n.insertBefore(this).translate(e.offsetx,e.offsety)};var we={},ke=function(t,r,i,n,a,s,o,u,c){return null==c?l(t,r,i,n,a,s,o,u):e.findDotsAtSegment(t,r,i,n,a,s,o,u,h(t,r,i,n,a,s,o,u,c))},Be=function(t,r){return function(i,n,a){i=Qt(i);for(var s,o,l,h,u="",c={},f,p=0,d=0,g=i.length;d<g;d++){if(l=i[d],"M"==l[0])s=+l[1],o=+l[2];else{if(h=ke(s,o,l[1],l[2],l[3],l[4],l[5],l[6]),p+h>n){if(r&&!c.start){if(f=ke(s,o,l[1],l[2],l[3],l[4],l[5],l[6],n-p),u+=["C"+f.start.x,f.start.y,f.m.x,f.m.y,f.x,f.y],a)return u;c.start=u,u=["M"+f.x,f.y+"C"+f.n.x,f.n.y,f.end.x,f.end.y,l[5],l[6]].join(),p+=h,s=+l[5],o=+l[6];continue}if(!t&&!r)return f=ke(s,o,l[1],l[2],l[3],l[4],l[5],l[6],n-p),{x:f.x,y:f.y,alpha:f.alpha}}p+=h,s=+l[5],o=+l[6]}u+=l.shift()+l}return c.end=u,f=t?p:r?c:e.findDotsAtSegment(s,o,l[0],l[1],l[2],l[3],l[4],l[5],1),f.alpha&&(f={x:f.x,y:f.y,alpha:f.alpha}),f}},Ce=Be(1),Se=Be(),Te=Be(0,1);e.getTotalLength=Ce,e.getPointAtLength=Se,e.getSubpath=function(t,e,r){if(this.getTotalLength(t)-r<1e-6)return Te(t,e).end;var i=Te(t,r,1);return e?Te(i,e).end:i},ye.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():Ce(t)},ye.getPointAtLength=function(t){var e=this.getPath();if(e)return Se(e,t)},ye.getPath=function(){var t,r=e._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return r&&(t=r(this)),t},ye.getSubpath=function(t,r){var i=this.getPath();if(i)return e.getSubpath(i,t,r)};var Ae=e.easing_formulas={linear:function(t){return t},"<":function(t){return X(t,1.7)},">":function(t){return X(t,.48)},"<>":function(t){var e=.48-t/1.04,r=Y.sqrt(.1734+e*e),i=r-e,n=X(H(i),1/3)*(i<0?-1:1),a=-r-e,s=X(H(a),1/3)*(a<0?-1:1),o=n+s+.5;return 3*(1-o)*o*o+o*o*o},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:X(2,-10*t)*Y.sin((t-.075)*(2*U)/.3)+1},bounce:function(t){var e=7.5625,r=2.75,i;return t<1/r?i=e*t*t:t<2/r?(t-=1.5/r,i=e*t*t+.75):t<2.5/r?(t-=2.25/r,i=e*t*t+.9375):(t-=2.625/r,i=e*t*t+.984375),i}};Ae.easeIn=Ae["ease-in"]=Ae["<"],Ae.easeOut=Ae["ease-out"]=Ae[">"],Ae.easeInOut=Ae["ease-in-out"]=Ae["<>"],Ae["back-in"]=Ae.backIn,Ae["back-out"]=Ae.backOut;var Ee=[],Ne=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},Me=function(){for(var r=+new Date,i=0;i<Ee.length;i++){var n=Ee[i];if(!n.el.removed&&!n.paused){var a=r-n.start,s=n.ms,o=n.easing,l=n.from,h=n.diff,u=n.to,c=n.t,f=n.el,p={},d,g={},x;if(n.initstatus?(a=(n.initstatus*n.anim.top-n.prev)/(n.percent-n.prev)*s,n.status=n.initstatus,delete n.initstatus,n.stop&&Ee.splice(i--,1)):n.status=(n.prev+(n.percent-n.prev)*(a/s))/n.anim.top,!(a<0))if(a<s){var v=o(a/s);for(var y in l)if(l[T](y)){switch(pt[y]){case $:d=+l[y]+v*s*h[y];break;case"colour":d="rgb("+[Le(ot(l[y].r+v*s*h[y].r)),Le(ot(l[y].g+v*s*h[y].g)),Le(ot(l[y].b+v*s*h[y].b))].join(",")+")";break;case"path":d=[];for(var m=0,_=l[y].length;m<_;m++){d[m]=[l[y][m][0]];for(var w=1,k=l[y][m].length;w<k;w++)d[m][w]=+l[y][m][w]+v*s*h[y][m][w];d[m]=d[m].join(I)}d=d.join(I);break;case"transform":if(h[y].real)for(d=[],m=0,_=l[y].length;m<_;m++)for(d[m]=[l[y][m][0]],w=1,k=l[y][m].length;w<k;w++)d[m][w]=l[y][m][w]+v*s*h[y][m][w];else{var B=function(t){return+l[y][t]+v*s*h[y][t]};d=[["m",B(0),B(1),B(2),B(3),B(4),B(5)]]}break;case"csv":if("clip-rect"==y)for(d=[],m=4;m--;)d[m]=+l[y][m]+v*s*h[y][m];break;default:var C=[][P](l[y]);for(d=[],m=f.paper.customAttributes[y].length;m--;)d[m]=+C[m]+v*s*h[y][m]}p[y]=d}f.attr(p),function(e,r,i){setTimeout(function(){t("raphael.anim.frame."+e,r,i)})}(f.id,f,n.anim)}else{if(function(r,i,n){setTimeout(function(){t("raphael.anim.frame."+i.id,i,n),t("raphael.anim.finish."+i.id,i,n),e.is(r,"function")&&r.call(i)})}(n.callback,f,n.anim),f.attr(u),Ee.splice(i--,1),n.repeat>1&&!n.next){for(x in u)u[T](x)&&(g[x]=n.totalOrigin[x]);n.el.attr(g),b(n.anim,n.el,n.anim.percents[0],null,n.totalOrigin,n.repeat-1)}n.next&&!n.stop&&b(n.anim,n.el,n.next,null,n.totalOrigin,n.repeat)}}}Ee.length&&Ne(Me)},Le=function(t){return t>255?255:t<0?0:t};ye.animateWith=function(t,r,i,n,a,s){var o=this;if(o.removed)return s&&s.call(o),o;var l=i instanceof m?i:e.animation(i,n,a,s),h,u;b(l,o,l.percents[0],null,o.attr());for(var c=0,f=Ee.length;c<f;c++)if(Ee[c].anim==r&&Ee[c].el==t){Ee[f-1].start=Ee[c].start;break}return o},ye.onAnimation=function(e){return e?t.on("raphael.anim.frame."+this.id,e):t.unbind("raphael.anim.frame."+this.id),this},m.prototype.delay=function(t){var e=new m(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},m.prototype.repeat=function(t){var e=new m(this.anim,this.ms);return e.del=this.del,e.times=Y.floor(W(t,0))||1,e},e.animation=function(t,r,i,n){if(t instanceof m)return t;!e.is(i,"function")&&i||(n=n||i||null,i=null),t=Object(t),r=+r||0;var a={},s,o;for(o in t)t[T](o)&&ht(o)!=o&&ht(o)+"%"!=o&&(s=!0,a[o]=t[o]);if(s)return i&&(a.easing=i),n&&(a.callback=n),new m({100:a},r);if(n){var l=0;for(var h in t){var u=ut(h);t[T](h)&&u>l&&(l=u)}l+="%",!t[l].callback&&(t[l].callback=n)}return new m(t,r)},ye.animate=function(t,r,i,n){var a=this;if(a.removed)return n&&n.call(a),a;var s=t instanceof m?t:e.animation(t,r,i,n);return b(s,a,s.percents[0],null,a.attr()),a},ye.setTime=function(t,e){return t&&null!=e&&this.status(t,G(e,t.ms)/t.ms),this},ye.status=function(t,e){var r=[],i=0,n,a;if(null!=e)return b(t,this,-1,G(e,1)),this;for(n=Ee.length;i<n;i++)if(a=Ee[i],a.el.id==this.id&&(!t||a.anim==t)){if(t)return a.status;r.push({anim:a.anim,status:a.status})}return t?0:r},ye.pause=function(e){for(var r=0;r<Ee.length;r++)Ee[r].el.id!=this.id||e&&Ee[r].anim!=e||t("raphael.anim.pause."+this.id,this,Ee[r].anim)!==!1&&(Ee[r].paused=!0);return this},ye.resume=function(e){for(var r=0;r<Ee.length;r++)if(Ee[r].el.id==this.id&&(!e||Ee[r].anim==e)){var i=Ee[r];t("raphael.anim.resume."+this.id,this,i.anim)!==!1&&(delete i.paused,this.status(i.anim,i.status))}return this},ye.stop=function(e){for(var r=0;r<Ee.length;r++)Ee[r].el.id!=this.id||e&&Ee[r].anim!=e||t("raphael.anim.stop."+this.id,this,Ee[r].anim)!==!1&&Ee.splice(r--,1);return this},t.on("raphael.remove",_),t.on("raphael.clear",_),ye.toString=function(){return"Raphals object"};var ze=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,r=t.length;e<r;e++)!t[e]||t[e].constructor!=ye.constructor&&t[e].constructor!=ze||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},Pe=ze.prototype;Pe.push=function(){for(var t,e,r=0,i=arguments.length;r<i;r++)t=arguments[r],!t||t.constructor!=ye.constructor&&t.constructor!=ze||(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},Pe.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},Pe.forEach=function(t,e){for(var r=0,i=this.items.length;r<i;r++)if(t.call(e,this.items[r],r)===!1)return this;return this};for(var Fe in ye)ye[T](Fe)&&(Pe[Fe]=function(t){return function(){var e=arguments;return this.forEach(function(r){r[t][z](r,e)})}}(Fe));return Pe.attr=function(t,r){if(t&&e.is(t,Q)&&e.is(t[0],"object"))for(var i=0,n=t.length;i<n;i++)this.items[i].attr(t[i]);else for(var a=0,s=this.items.length;a<s;a++)this.items[a].attr(t,r);return this},Pe.clear=function(){for(;this.length;)this.pop()},Pe.splice=function(t,e,r){t=t<0?W(this.length+t,0):t,e=W(0,G(this.length-t,e));var i=[],n=[],a=[],s;for(s=2;s<arguments.length;s++)a.push(arguments[s]);for(s=0;s<e;s++)n.push(this[t+s]);for(;s<this.length-t;s++)i.push(this[t+s]);var o=a.length;for(s=0;s<o+i.length;s++)this.items[t+s]=this[t+s]=s<o?a[s]:i[s-o];for(s=this.items.length=this.length-=e-o;this[s];)delete this[s++];return new ze(n)},Pe.exclude=function(t){for(var e=0,r=this.length;e<r;e++)if(this[e]==t)return this.splice(e,1),!0},Pe.animate=function(t,r,i,n){(e.is(i,"function")||!i)&&(n=i||null);var a=this.items.length,s=a,o,l=this,h;if(!a)return this;n&&(h=function(){!--a&&n.call(l)}),i=e.is(i,Z)?i:h;var u=e.animation(t,r,i,h);for(o=this.items[--s].animate(u);s--;)this.items[s]&&!this.items[s].removed&&this.items[s].animateWith(o,u,u),this.items[s]&&!this.items[s].removed||a--;return this},Pe.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},Pe.getBBox=function(){for(var t=[],e=[],r=[],i=[],n=this.items.length;n--;)if(!this.items[n].removed){var a=this.items[n].getBBox();t.push(a.x),e.push(a.y),r.push(a.x+a.width),i.push(a.y+a.height)}return t=G[z](0,t),e=G[z](0,e),r=W[z](0,r),i=W[z](0,i),{x:t,y:e,x2:r,y2:i,width:r-t,height:i-e}},Pe.clone=function(t){t=this.paper.set();for(var e=0,r=this.items.length;e<r;e++)t.push(this.items[e].clone());return t},Pe.toString=function(){return"Raphals set"},Pe.glow=function(t){var e=this.paper.set();return this.forEach(function(r,i){var n=r.glow(t);null!=n&&n.forEach(function(t,r){e.push(t)})}),e},Pe.isPointInside=function(t,e){var r=!1;return this.forEach(function(i){if(i.isPointInside(t,e))return r=!0,!1}),r},e.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},r=t.face["font-family"];for(var i in t.face)t.face[T](i)&&(e.face[i]=t.face[i]);if(this.fonts[r]?this.fonts[r].push(e):this.fonts[r]=[e],!t.svg){e.face["units-per-em"]=ut(t.face["units-per-em"],10);for(var n in t.glyphs)if(t.glyphs[T](n)){var a=t.glyphs[n];if(e.glyphs[n]={w:a.w,k:{},d:a.d&&"M"+a.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},a.k)for(var s in a.k)a[T](s)&&(e.glyphs[n].k[s]=a.k[s])}}return t},M.getFont=function(t,r,i,n){if(n=n||"normal",i=i||"normal",r=+r||{normal:400,bold:700,lighter:300,bolder:800}[r]||400,e.fonts){var a=e.fonts[t];if(!a){var s=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,R)+"(\\s|$)","i");for(var o in e.fonts)if(e.fonts[T](o)&&s.test(o)){a=e.fonts[o];break}}var l;if(a)for(var h=0,u=a.length;h<u&&(l=a[h],l.face["font-weight"]!=r||l.face["font-style"]!=i&&l.face["font-style"]||l.face["font-stretch"]!=n);h++);return l}},M.print=function(t,r,i,n,a,s,o,l){s=s||"middle",o=W(G(o||0,1),-1),l=W(G(l||1,3),1);var h=j(i)[q](R),u=0,c=0,f=R,p;if(e.is(n,"string")&&(n=this.getFont(n)),n){p=(a||16)/n.face["units-per-em"];for(var d=n.face.bbox[q](k),g=+d[0],x=d[3]-d[1],v=0,y=+d[1]+("baseline"==s?x+ +n.face.descent:x/2),m=0,b=h.length;m<b;m++){if("\n"==h[m])u=0,w=0,c=0,v+=x*l;else{var _=c&&n.glyphs[h[m-1]]||{},w=n.glyphs[h[m]];u+=c?(_.w||n.w)+(_.k&&_.k[h[m]]||0)+n.w*o:0,c=1}w&&w.d&&(f+=e.transformPath(w.d,["t",u*p,v*p,"s",p,p,g,y,"t",(t-g)/p,(r-y)/p]))}}return this.path(f).attr({fill:"#000",stroke:"none"})},M.add=function(t){if(e.is(t,"array"))for(var r=this.set(),i=0,n=t.length,a;i<n;i++)a=t[i]||{},B[T](a.type)&&r.push(this[a.type]().attr(a));return r},e.format=function(t,r){var i=e.is(r,Q)?[0][P](r):arguments;return t&&e.is(t,Z)&&i.length-1&&(t=t.replace(C,function(t,e){return null==i[++e]?R:i[e]})),t||R},e.fullfill=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,r=function(t,r,i){var n=i;return r.replace(e,function(t,e,r,i,a){e=e||i,n&&(e in n&&(n=n[e]),"function"==typeof n&&a&&(n=n()))}),n=(null==n||n==i?t:n)+""};return function(e,i){return String(e).replace(t,function(t,e){return r(t,e,i)})}}(),e.ninja=function(){if(E.was)A.win.Raphael=E.is;else{window.Raphael=void 0;try{delete window.Raphael}catch(t){}}return e},e.st=Pe,t.on("raphael.DOMload",function(){w=!0}),function(t,r,i){function n(){/in/.test(t.readyState)?setTimeout(n,9):e.eve("raphael.DOMload")}null==t.readyState&&t.addEventListener&&(t.addEventListener(r,i=function(){t.removeEventListener(r,i,!1),t.readyState="complete"},!1),t.readyState="loading"),n()}(document,"DOMContentLoaded"),e}.apply(e,i),!(void 0!==n&&(t.exports=n))},function(t,e,r){var i,n;!function(r){var a="0.4.2",s="hasOwnProperty",o=/[\.\/]/,l="*",h=function(){},u=function(t,e){return t-e},c,f,p={n:{}},d=function(t,e){t=String(t);var r=p,i=f,n=Array.prototype.slice.call(arguments,2),a=d.listeners(t),s=0,o=!1,l,h=[],g={},x=[],v=c,y=[];c=t,f=0;for(var m=0,b=a.length;m<b;m++)"zIndex"in a[m]&&(h.push(a[m].zIndex),a[m].zIndex<0&&(g[a[m].zIndex]=a[m]));for(h.sort(u);h[s]<0;)if(l=g[h[s++]],x.push(l.apply(e,n)),f)return f=i,x;for(m=0;m<b;m++)if(l=a[m],"zIndex"in l)if(l.zIndex==h[s]){if(x.push(l.apply(e,n)),f)break;do if(s++,l=g[h[s]],l&&x.push(l.apply(e,n)),f)break;while(l)}else g[l.zIndex]=l;else if(x.push(l.apply(e,n)),f)break;return f=i,c=v,x.length?x:null};d._events=p,d.listeners=function(t){var e=t.split(o),r=p,i,n,a,s,h,u,c,f,d=[r],g=[];for(s=0,h=e.length;s<h;s++){for(f=[],u=0,c=d.length;u<c;u++)for(r=d[u].n,n=[r[e[s]],r[l]],a=2;a--;)i=n[a],i&&(f.push(i),g=g.concat(i.f||[]));d=f}return g},d.on=function(t,e){if(t=String(t),"function"!=typeof e)return function(){};for(var r=t.split(o),i=p,n=0,a=r.length;n<a;n++)i=i.n,i=i.hasOwnProperty(r[n])&&i[r[n]]||(i[r[n]]={n:{}});for(i.f=i.f||[],n=0,a=i.f.length;n<a;n++)if(i.f[n]==e)return h;return i.f.push(e),function(t){+t==+t&&(e.zIndex=+t)}},d.f=function(t){var e=[].slice.call(arguments,1);return function(){d.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},d.stop=function(){f=1},d.nt=function(t){return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(c):c},d.nts=function(){return c.split(o)},d.off=d.unbind=function(t,e){if(!t)return void(d._events=p={n:{}});var r=t.split(o),i,n,a,h,u,c,f,g=[p];for(h=0,u=r.length;h<u;h++)for(c=0;c<g.length;c+=a.length-2){if(a=[c,1],i=g[c].n,r[h]!=l)i[r[h]]&&a.push(i[r[h]]);else for(n in i)i[s](n)&&a.push(i[n]);g.splice.apply(g,a)}for(h=0,u=g.length;h<u;h++)for(i=g[h];i.n;){if(e){if(i.f){for(c=0,f=i.f.length;c<f;c++)if(i.f[c]==e){i.f.splice(c,1);break}!i.f.length&&delete i.f}for(n in i.n)if(i.n[s](n)&&i.n[n].f){var x=i.n[n].f;for(c=0,f=x.length;c<f;c++)if(x[c]==e){x.splice(c,1);break}!x.length&&delete i.n[n].f}}else{delete i.f;for(n in i.n)i.n[s](n)&&i.n[n].f&&delete i.n[n].f}i=i.n}},d.once=function(t,e){var r=function(){return d.unbind(t,r),e.apply(this,arguments)};return d.on(t,r)},d.version=a,d.toString=function(){return"You are running Eve "+a},"undefined"!=typeof t&&t.exports?t.exports=d:(i=[],n=function(){return d}.apply(e,i),!(void 0!==n&&(t.exports=n)))}(this)},function(t,e,r){var i,n;i=[r(1)],n=function(t){if(!t||t.svg){var e="hasOwnProperty",r=String,i=parseFloat,n=parseInt,a=Math,s=a.max,o=a.abs,l=a.pow,h=/[, ]+/,u=t.eve,c="",f=" ",p="http://www.w3.org/1999/xlink",d={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};t.toString=function(){return"Your browser supports SVG.\nYou are running Raphal "+this.version};var x=function(i,n){if(n){"string"==typeof i&&(i=x(i));for(var a in n)n[e](a)&&("xlink:"==a.substring(0,6)?i.setAttributeNS(p,a.substring(6),r(n[a])):i.setAttribute(a,r(n[a])))}else i=t._g.doc.createElementNS("http://www.w3.org/2000/svg",i),i.style&&(i.style.webkitTapHighlightColor="rgba(0,0,0,0)");return i},v=function(e,n){var h="linear",u=e.id+n,f=.5,p=.5,d=e.node,g=e.paper,v=d.style,y=t._g.doc.getElementById(u);if(!y){if(n=r(n).replace(t._radial_gradient,function(t,e,r){if(h="radial",e&&r){f=i(e),p=i(r);var n=2*(p>.5)-1;l(f-.5,2)+l(p-.5,2)>.25&&(p=a.sqrt(.25-l(f-.5,2))*n+.5)&&.5!=p&&(p=p.toFixed(5)-1e-5*n)}return c}),n=n.split(/\s*\-\s*/),"linear"==h){var b=n.shift();if(b=-i(b),isNaN(b))return null;var _=[0,0,a.cos(t.rad(b)),a.sin(t.rad(b))],w=1/(s(o(_[2]),o(_[3]))||1);_[2]*=w,_[3]*=w,_[2]<0&&(_[0]=-_[2],_[2]=0),_[3]<0&&(_[1]=-_[3],_[3]=0)}var k=t._parseDots(n);if(!k)return null;if(u=u.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&u!=e.gradient.id&&(g.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){y=x(h+"Gradient",{id:u}),e.gradient=y,x(y,"radial"==h?{fx:f,fy:p}:{x1:_[0],y1:_[1],x2:_[2],y2:_[3],gradientTransform:e.matrix.invert()}),g.defs.appendChild(y);for(var B=0,C=k.length;B<C;B++)y.appendChild(x("stop",{offset:k[B].offset?k[B].offset:B?"100%":"0%","stop-color":k[B].color||"#fff","stop-opacity":isFinite(k[B].opacity)?k[B].opacity:1}))}}return x(d,{fill:m(u),opacity:1,"fill-opacity":1}),v.fill=c,v.opacity=1,v.fillOpacity=1,1},y=function(){var t=document.documentMode;return t&&(9===t||10===t)},m=function(t){if(y())return"url('#"+t+"')";var e=document.location,r=e.protocol+"//"+e.host+e.pathname+e.search;return"url('"+r+"#"+t+"')"},b=function(t){var e=t.getBBox(1);x(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},_=function(i,n,a){if("path"==i.type){for(var s=r(n).toLowerCase().split("-"),o=i.paper,l=a?"end":"start",h=i.node,u=i.attrs,f=u["stroke-width"],p=s.length,v="classic",y,m,b,_,w,k=3,B=3,C=5;p--;)switch(s[p]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":v=s[p];break;case"wide":B=5;break;case"narrow":B=2;break;case"long":k=5;break;case"short":k=2}if("open"==v?(k+=2,B+=2,C+=2,b=1,_=a?4:1,w={fill:"none",stroke:u.stroke}):(_=b=k/2,w={fill:u.stroke,stroke:"none"}),i._.arrows?a?(i._.arrows.endPath&&g[i._.arrows.endPath]--,i._.arrows.endMarker&&g[i._.arrows.endMarker]--):(i._.arrows.startPath&&g[i._.arrows.startPath]--,i._.arrows.startMarker&&g[i._.arrows.startMarker]--):i._.arrows={},"none"!=v){var S="raphael-marker-"+v,T="raphael-marker-"+l+v+k+B+"-obj"+i.id;t._g.doc.getElementById(S)?g[S]++:(o.defs.appendChild(x(x("path"),{"stroke-linecap":"round",d:d[v],id:S})),g[S]=1);var A=t._g.doc.getElementById(T),E;A?(g[T]++,E=A.getElementsByTagName("use")[0]):(A=x(x("marker"),{id:T,markerHeight:B,markerWidth:k,orient:"auto",refX:_,refY:B/2}),E=x(x("use"),{"xlink:href":"#"+S,transform:(a?"rotate(180 "+k/2+" "+B/2+") ":c)+"scale("+k/C+","+B/C+")","stroke-width":(1/((k/C+B/C)/2)).toFixed(4)}),A.appendChild(E),o.defs.appendChild(A),g[T]=1),x(E,w);var N=b*("diamond"!=v&&"oval"!=v);a?(y=i._.arrows.startdx*f||0,m=t.getTotalLength(u.path)-N*f):(y=N*f,m=t.getTotalLength(u.path)-(i._.arrows.enddx*f||0)),w={},w["marker-"+l]="url(#"+T+")",(m||y)&&(w.d=t.getSubpath(u.path,y,m)),x(h,w),i._.arrows[l+"Path"]=S,i._.arrows[l+"Marker"]=T,i._.arrows[l+"dx"]=N,i._.arrows[l+"Type"]=v,i._.arrows[l+"String"]=n}else a?(y=i._.arrows.startdx*f||0,m=t.getTotalLength(u.path)-y):(y=0,m=t.getTotalLength(u.path)-(i._.arrows.enddx*f||0)),i._.arrows[l+"Path"]&&x(h,{d:t.getSubpath(u.path,y,m)}),delete i._.arrows[l+"Path"],delete i._.arrows[l+"Marker"],delete i._.arrows[l+"dx"],delete i._.arrows[l+"Type"],delete i._.arrows[l+"String"];for(w in g)if(g[e](w)&&!g[w]){var M=t._g.doc.getElementById(w);M&&M.parentNode.removeChild(M)}}},w={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},k=function(t,e,i){if(e=w[r(e).toLowerCase()]){for(var n=t.attrs["stroke-width"]||"1",a={round:n,square:n,butt:0}[t.attrs["stroke-linecap"]||i["stroke-linecap"]]||0,s=[],o=e.length;o--;)s[o]=e[o]*n+(o%2?1:-1)*a;x(t.node,{"stroke-dasharray":s.join(",")})}else x(t.node,{"stroke-dasharray":"none"})},B=function(i,a){var l=i.node,u=i.attrs,f=l.style.visibility;l.style.visibility="hidden";for(var d in a)if(a[e](d)){if(!t._availableAttrs[e](d))continue;var g=a[d];switch(u[d]=g,d){case"blur":i.blur(g);break;case"title":var y=l.getElementsByTagName("title");if(y.length&&(y=y[0]))y.firstChild.nodeValue=g;else{y=x("title");var m=t._g.doc.createTextNode(g);y.appendChild(m),l.appendChild(y)}break;case"href":case"target":var w=l.parentNode;if("a"!=w.tagName.toLowerCase()){var B=x("a");w.insertBefore(B,l),B.appendChild(l),w=B}"target"==d?w.setAttributeNS(p,"show","blank"==g?"new":g):w.setAttributeNS(p,d,g);break;case"cursor":l.style.cursor=g;break;case"transform":i.transform(g);break;case"arrow-start":_(i,g);break;case"arrow-end":_(i,g,1);break;case"clip-rect":var C=r(g).split(h);if(4==C.length){i.clip&&i.clip.parentNode.parentNode.removeChild(i.clip.parentNode);var T=x("clipPath"),A=x("rect");T.id=t.createUUID(),x(A,{x:C[0],y:C[1],width:C[2],height:C[3]}),T.appendChild(A),i.paper.defs.appendChild(T),x(l,{"clip-path":"url(#"+T.id+")"}),i.clip=A}if(!g){var E=l.getAttribute("clip-path");if(E){var N=t._g.doc.getElementById(E.replace(/(^url\(#|\)$)/g,c));N&&N.parentNode.removeChild(N),x(l,{"clip-path":c}),delete i.clip}}break;case"path":"path"==i.type&&(x(l,{d:g?u.path=t._pathToAbsolute(g):"M0,0"}),i._.dirty=1,i._.arrows&&("startString"in i._.arrows&&_(i,i._.arrows.startString),"endString"in i._.arrows&&_(i,i._.arrows.endString,1)));break;case"width":if(l.setAttribute(d,g),i._.dirty=1,!u.fx)break;d="x",g=u.x;case"x":u.fx&&(g=-u.x-(u.width||0));case"rx":if("rx"==d&&"rect"==i.type)break;case"cx":l.setAttribute(d,g),i.pattern&&b(i),i._.dirty=1;break;case"height":if(l.setAttribute(d,g),i._.dirty=1,!u.fy)break;d="y",g=u.y;case"y":u.fy&&(g=-u.y-(u.height||0));case"ry":if("ry"==d&&"rect"==i.type)break;case"cy":l.setAttribute(d,g),i.pattern&&b(i),i._.dirty=1;break;case"r":"rect"==i.type?x(l,{rx:g,ry:g}):l.setAttribute(d,g),i._.dirty=1;break;case"src":"image"==i.type&&l.setAttributeNS(p,"href",g);break;case"stroke-width":1==i._.sx&&1==i._.sy||(g/=s(o(i._.sx),o(i._.sy))||1),l.setAttribute(d,g),u["stroke-dasharray"]&&k(i,u["stroke-dasharray"],a),i._.arrows&&("startString"in i._.arrows&&_(i,i._.arrows.startString),"endString"in i._.arrows&&_(i,i._.arrows.endString,1));break;case"stroke-dasharray":k(i,g,a);break;case"fill":var M=r(g).match(t._ISURL);if(M){T=x("pattern");var L=x("image");T.id=t.createUUID(),x(T,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),x(L,{x:0,y:0,"xlink:href":M[1]}),T.appendChild(L),function(e){t._preload(M[1],function(){var t=this.offsetWidth,r=this.offsetHeight;x(e,{width:t,height:r}),x(L,{width:t,height:r})})}(T),i.paper.defs.appendChild(T),x(l,{fill:"url(#"+T.id+")"}),i.pattern=T,i.pattern&&b(i);break}var z=t.getRGB(g);if(z.error){if(("circle"==i.type||"ellipse"==i.type||"r"!=r(g).charAt())&&v(i,g)){
if("opacity"in u||"fill-opacity"in u){var P=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,c));if(P){var F=P.getElementsByTagName("stop");x(F[F.length-1],{"stop-opacity":("opacity"in u?u.opacity:1)*("fill-opacity"in u?u["fill-opacity"]:1)})}}u.gradient=g,u.fill="none";break}}else delete a.gradient,delete u.gradient,!t.is(u.opacity,"undefined")&&t.is(a.opacity,"undefined")&&x(l,{opacity:u.opacity}),!t.is(u["fill-opacity"],"undefined")&&t.is(a["fill-opacity"],"undefined")&&x(l,{"fill-opacity":u["fill-opacity"]});z[e]("opacity")&&x(l,{"fill-opacity":z.opacity>1?z.opacity/100:z.opacity});case"stroke":z=t.getRGB(g),l.setAttribute(d,z.hex),"stroke"==d&&z[e]("opacity")&&x(l,{"stroke-opacity":z.opacity>1?z.opacity/100:z.opacity}),"stroke"==d&&i._.arrows&&("startString"in i._.arrows&&_(i,i._.arrows.startString),"endString"in i._.arrows&&_(i,i._.arrows.endString,1));break;case"gradient":("circle"==i.type||"ellipse"==i.type||"r"!=r(g).charAt())&&v(i,g);break;case"opacity":u.gradient&&!u[e]("stroke-opacity")&&x(l,{"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(u.gradient){P=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,c)),P&&(F=P.getElementsByTagName("stop"),x(F[F.length-1],{"stop-opacity":g}));break}default:"font-size"==d&&(g=n(g,10)+"px");var R=d.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});l.style[R]=g,i._.dirty=1,l.setAttribute(d,g)}}S(i,a),l.style.visibility=f},C=1.2,S=function(i,a){if("text"==i.type&&(a[e]("text")||a[e]("font")||a[e]("font-size")||a[e]("x")||a[e]("y"))){var s=i.attrs,o=i.node,l=o.firstChild?n(t._g.doc.defaultView.getComputedStyle(o.firstChild,c).getPropertyValue("font-size"),10):10;if(a[e]("text")){for(s.text=a.text;o.firstChild;)o.removeChild(o.firstChild);for(var h=r(a.text).split("\n"),u=[],f,p=0,d=h.length;p<d;p++)f=x("tspan"),p&&x(f,{dy:l*C,x:s.x}),f.appendChild(t._g.doc.createTextNode(h[p])),o.appendChild(f),u[p]=f}else for(u=o.getElementsByTagName("tspan"),p=0,d=u.length;p<d;p++)p?x(u[p],{dy:l*C,x:s.x}):x(u[0],{dy:0});x(o,{x:s.x,y:s.y}),i._.dirty=1;var g=i._getBBox(),v=s.y-(g.y+g.height/2);g.height&&v&&t.is(v,"finite")&&x(u[0],{dy:v})}},T=function(t){return t.parentNode&&"a"===t.parentNode.tagName.toLowerCase()?t.parentNode:t},A=function(e,r){var i=0,n=0;this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.matrix=t.matrix(),this.realPath=null,this.paper=r,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!r.bottom&&(r.bottom=this),this.prev=r.top,r.top&&(r.top.next=this),r.top=this,this.next=null},E=t.el;A.prototype=E,E.constructor=A,t._engine.path=function(t,e){var r=x("path");e.canvas&&e.canvas.appendChild(r);var i=new A(r,e);return i.type="path",B(i,{fill:"none",stroke:"#000",path:t}),i},E.rotate=function(t,e,n){if(this.removed)return this;if(t=r(t).split(h),t.length-1&&(e=i(t[1]),n=i(t[2])),t=i(t[0]),null==n&&(e=n),null==e||null==n){var a=this.getBBox(1);e=a.x+a.width/2,n=a.y+a.height/2}return this.transform(this._.transform.concat([["r",t,e,n]])),this},E.scale=function(t,e,n,a){if(this.removed)return this;if(t=r(t).split(h),t.length-1&&(e=i(t[1]),n=i(t[2]),a=i(t[3])),t=i(t[0]),null==e&&(e=t),null==a&&(n=a),null==n||null==a)var s=this.getBBox(1);return n=null==n?s.x+s.width/2:n,a=null==a?s.y+s.height/2:a,this.transform(this._.transform.concat([["s",t,e,n,a]])),this},E.translate=function(t,e){return this.removed?this:(t=r(t).split(h),t.length-1&&(e=i(t[1])),t=i(t[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",t,e]])),this)},E.transform=function(r){var i=this._;if(null==r)return i.transform;if(t._extractTransform(this,r),this.clip&&x(this.clip,{transform:this.matrix.invert()}),this.pattern&&b(this),this.node&&x(this.node,{transform:this.matrix}),1!=i.sx||1!=i.sy){var n=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":n})}return i.transform=this.matrix.toTransformString(),this},E.hide=function(){return this.removed||(this.node.style.display="none"),this},E.show=function(){return this.removed||(this.node.style.display=""),this},E.remove=function(){var e=T(this.node);if(!this.removed&&e.parentNode){var r=this.paper;r.__set__&&r.__set__.exclude(this),u.unbind("raphael.*.*."+this.id),this.gradient&&r.defs.removeChild(this.gradient),t._tear(this,r),e.parentNode.removeChild(e),this.removeData();for(var i in this)this[i]="function"==typeof this[i]?t._removedFactory(i):null;this.removed=!0}},E._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e=!1,r;this.paper.canvas.parentElement?r=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(r=this.paper.canvas.parentNode.style),r&&"none"==r.display&&(e=!0,r.display="");var i={};try{i=this.node.getBBox()}catch(n){i={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{i=i||{},e&&(r.display="none")}return t&&this.hide(),i},E.attr=function(r,i){if(this.removed)return this;if(null==r){var n={};for(var a in this.attrs)this.attrs[e](a)&&(n[a]=this.attrs[a]);return n.gradient&&"none"==n.fill&&(n.fill=n.gradient)&&delete n.gradient,n.transform=this._.transform,n}if(null==i&&t.is(r,"string")){if("fill"==r&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==r)return this._.transform;for(var s=r.split(h),o={},l=0,c=s.length;l<c;l++)r=s[l],r in this.attrs?o[r]=this.attrs[r]:t.is(this.paper.customAttributes[r],"function")?o[r]=this.paper.customAttributes[r].def:o[r]=t._availableAttrs[r];return c-1?o:o[s[0]]}if(null==i&&t.is(r,"array")){for(o={},l=0,c=r.length;l<c;l++)o[r[l]]=this.attr(r[l]);return o}if(null!=i){var f={};f[r]=i}else null!=r&&t.is(r,"object")&&(f=r);for(var p in f)u("raphael.attr."+p+"."+this.id,this,f[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[e](p)&&f[e](p)&&t.is(this.paper.customAttributes[p],"function")){var d=this.paper.customAttributes[p].apply(this,[].concat(f[p]));this.attrs[p]=f[p];for(var g in d)d[e](g)&&(f[g]=d[g])}return B(this,f),this},E.toFront=function(){if(this.removed)return this;var e=T(this.node);e.parentNode.appendChild(e);var r=this.paper;return r.top!=this&&t._tofront(this,r),this},E.toBack=function(){if(this.removed)return this;var e=T(this.node),r=e.parentNode;r.insertBefore(e,r.firstChild),t._toback(this,this.paper);var i=this.paper;return this},E.insertAfter=function(e){if(this.removed||!e)return this;var r=T(this.node),i=T(e.node||e[e.length-1].node);return i.nextSibling?i.parentNode.insertBefore(r,i.nextSibling):i.parentNode.appendChild(r),t._insertafter(this,e,this.paper),this},E.insertBefore=function(e){if(this.removed||!e)return this;var r=T(this.node),i=T(e.node||e[0].node);return i.parentNode.insertBefore(r,i),t._insertbefore(this,e,this.paper),this},E.blur=function(e){var r=this;if(0!==+e){var i=x("filter"),n=x("feGaussianBlur");r.attrs.blur=e,i.id=t.createUUID(),x(n,{stdDeviation:+e||1.5}),i.appendChild(n),r.paper.defs.appendChild(i),r._blur=i,x(r.node,{filter:"url(#"+i.id+")"})}else r._blur&&(r._blur.parentNode.removeChild(r._blur),delete r._blur,delete r.attrs.blur),r.node.removeAttribute("filter");return r},t._engine.circle=function(t,e,r,i){var n=x("circle");t.canvas&&t.canvas.appendChild(n);var a=new A(n,t);return a.attrs={cx:e,cy:r,r:i,fill:"none",stroke:"#000"},a.type="circle",x(n,a.attrs),a},t._engine.rect=function(t,e,r,i,n,a){var s=x("rect");t.canvas&&t.canvas.appendChild(s);var o=new A(s,t);return o.attrs={x:e,y:r,width:i,height:n,rx:a||0,ry:a||0,fill:"none",stroke:"#000"},o.type="rect",x(s,o.attrs),o},t._engine.ellipse=function(t,e,r,i,n){var a=x("ellipse");t.canvas&&t.canvas.appendChild(a);var s=new A(a,t);return s.attrs={cx:e,cy:r,rx:i,ry:n,fill:"none",stroke:"#000"},s.type="ellipse",x(a,s.attrs),s},t._engine.image=function(t,e,r,i,n,a){var s=x("image");x(s,{x:r,y:i,width:n,height:a,preserveAspectRatio:"none"}),s.setAttributeNS(p,"href",e),t.canvas&&t.canvas.appendChild(s);var o=new A(s,t);return o.attrs={x:r,y:i,width:n,height:a,src:e},o.type="image",o},t._engine.text=function(e,r,i,n){var a=x("text");e.canvas&&e.canvas.appendChild(a);var s=new A(a,e);return s.attrs={x:r,y:i,"text-anchor":"middle",text:n,"font-family":t._availableAttrs["font-family"],"font-size":t._availableAttrs["font-size"],stroke:"none",fill:"#000"},s.type="text",B(s,s.attrs),s},t._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},t._engine.create=function(){var e=t._getContainer.apply(0,arguments),r=e&&e.container,i=e.x,n=e.y,a=e.width,s=e.height;if(!r)throw new Error("SVG container not found.");var o=x("svg"),l="overflow:hidden;",h;return i=i||0,n=n||0,a=a||512,s=s||342,x(o,{height:s,version:1.1,width:a,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==r?(o.style.cssText=l+"position:absolute;left:"+i+"px;top:"+n+"px",t._g.doc.body.appendChild(o),h=1):(o.style.cssText=l+"position:relative",r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o)),r=new t._Paper,r.width=a,r.height=s,r.canvas=o,r.clear(),r._left=r._top=0,h&&(r.renderfix=function(){}),r.renderfix(),r},t._engine.setViewBox=function(t,e,r,i,n){u("raphael.setViewBox",this,this._viewBox,[t,e,r,i,n]);var a=this.getSize(),o=s(r/a.width,i/a.height),l=this.top,h=n?"xMidYMid meet":"xMinYMin",c,p;for(null==t?(this._vbSize&&(o=1),delete this._vbSize,c="0 0 "+this.width+f+this.height):(this._vbSize=o,c=t+f+e+f+r+f+i),x(this.canvas,{viewBox:c,preserveAspectRatio:h});o&&l;)p="stroke-width"in l.attrs?l.attrs["stroke-width"]:1,l.attr({"stroke-width":p}),l._.dirty=1,l._.dirtyT=1,l=l.prev;return this._viewBox=[t,e,r,i,!!n],this},t.prototype.renderfix=function(){var t=this.canvas,e=t.style,r;try{r=t.getScreenCTM()||t.createSVGMatrix()}catch(i){r=t.createSVGMatrix()}var n=-r.e%1,a=-r.f%1;(n||a)&&(n&&(this._left=(this._left+n)%1,e.left=this._left+"px"),a&&(this._top=(this._top+a)%1,e.top=this._top+"px"))},t.prototype.clear=function(){t.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=x("desc")).appendChild(t._g.doc.createTextNode("Created with Raphal "+t.version)),e.appendChild(this.desc),e.appendChild(this.defs=x("defs"))},t.prototype.remove=function(){u("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null};var N=t.st;for(var M in E)E[e](M)&&!N[e](M)&&(N[M]=function(t){return function(){var e=arguments;return this.forEach(function(r){r[t].apply(r,e)})}}(M))}}.apply(e,i),!(void 0!==n&&(t.exports=n))},function(t,e,r){var i,n;i=[r(1)],n=function(t){if(!t||t.vml){var e="hasOwnProperty",r=String,i=parseFloat,n=Math,a=n.round,s=n.max,o=n.min,l=n.abs,h="fill",u=/[, ]+/,c=t.eve,f=" progid:DXImageTransform.Microsoft",p=" ",d="",g={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},x=/([clmz]),?([^clmz]*)/gi,v=/ progid:\S+Blur\([^\)]+\)/g,y=/-?[^,\s-]+/g,m="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",b=21600,_={path:1,rect:1,image:1},w={circle:1,ellipse:1},k=function(e){var i=/[ahqstv]/gi,n=t._pathToAbsolute;if(r(e).match(i)&&(n=t._path2curve),i=/[clmz]/g,n==t._pathToAbsolute&&!r(e).match(i)){var s=r(e).replace(x,function(t,e,r){var i=[],n="m"==e.toLowerCase(),s=g[e];return r.replace(y,function(t){n&&2==i.length&&(s+=i+g["m"==e?"l":"L"],i=[]),i.push(a(t*b))}),s+i});return s}var o=n(e),l,h;s=[];for(var u=0,c=o.length;u<c;u++){l=o[u],h=o[u][0].toLowerCase(),"z"==h&&(h="x");for(var f=1,v=l.length;f<v;f++)h+=a(l[f]*b)+(f!=v-1?",":d);s.push(h)}return s.join(p)},B=function(e,r,i){var n=t.matrix();return n.rotate(-e,.5,.5),{dx:n.x(r,i),dy:n.y(r,i)}},C=function(t,e,r,i,n,a){var s=t._,o=t.matrix,u=s.fillpos,c=t.node,f=c.style,d=1,g="",x,v=b/e,y=b/r;if(f.visibility="hidden",e&&r){if(c.coordsize=l(v)+p+l(y),f.rotation=a*(e*r<0?-1:1),a){var m=B(a,i,n);i=m.dx,n=m.dy}if(e<0&&(g+="x"),r<0&&(g+=" y")&&(d=-1),f.flip=g,c.coordorigin=i*-v+p+n*-y,u||s.fillsize){var _=c.getElementsByTagName(h);_=_&&_[0],c.removeChild(_),u&&(m=B(a,o.x(u[0],u[1]),o.y(u[0],u[1])),_.position=m.dx*d+p+m.dy*d),s.fillsize&&(_.size=s.fillsize[0]*l(e)+p+s.fillsize[1]*l(r)),c.appendChild(_)}f.visibility="visible"}};t.toString=function(){return"Your browser doesnt support SVG. Falling down to VML.\nYou are running Raphal "+this.version};var S=function(t,e,i){for(var n=r(e).toLowerCase().split("-"),a=i?"end":"start",s=n.length,o="classic",l="medium",h="medium";s--;)switch(n[s]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":o=n[s];break;case"wide":case"narrow":h=n[s];break;case"long":case"short":l=n[s]}var u=t.node.getElementsByTagName("stroke")[0];u[a+"arrow"]=o,u[a+"arrowlength"]=l,u[a+"arrowwidth"]=h},T=function(n,l){n.attrs=n.attrs||{};var c=n.node,f=n.attrs,g=c.style,x,v=_[n.type]&&(l.x!=f.x||l.y!=f.y||l.width!=f.width||l.height!=f.height||l.cx!=f.cx||l.cy!=f.cy||l.rx!=f.rx||l.ry!=f.ry||l.r!=f.r),y=w[n.type]&&(f.cx!=l.cx||f.cy!=l.cy||f.r!=l.r||f.rx!=l.rx||f.ry!=l.ry),m=n;for(var B in l)l[e](B)&&(f[B]=l[B]);if(v&&(f.path=t._getPath[n.type](n),n._.dirty=1),l.href&&(c.href=l.href),l.title&&(c.title=l.title),l.target&&(c.target=l.target),l.cursor&&(g.cursor=l.cursor),"blur"in l&&n.blur(l.blur),(l.path&&"path"==n.type||v)&&(c.path=k(~r(f.path).toLowerCase().indexOf("r")?t._pathToAbsolute(f.path):f.path),n._.dirty=1,"image"==n.type&&(n._.fillpos=[f.x,f.y],n._.fillsize=[f.width,f.height],C(n,1,1,0,0,0))),"transform"in l&&n.transform(l.transform),y){var T=+f.cx,E=+f.cy,N=+f.rx||+f.r||0,L=+f.ry||+f.r||0;c.path=t.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",a((T-N)*b),a((E-L)*b),a((T+N)*b),a((E+L)*b),a(T*b)),n._.dirty=1}if("clip-rect"in l){var z=r(l["clip-rect"]).split(u);if(4==z.length){z[2]=+z[2]+ +z[0],z[3]=+z[3]+ +z[1];var P=c.clipRect||t._g.doc.createElement("div"),F=P.style;F.clip=t.format("rect({1}px {2}px {3}px {0}px)",z),c.clipRect||(F.position="absolute",F.top=0,F.left=0,F.width=n.paper.width+"px",F.height=n.paper.height+"px",c.parentNode.insertBefore(P,c),P.appendChild(c),c.clipRect=P)}l["clip-rect"]||c.clipRect&&(c.clipRect.style.clip="auto")}if(n.textpath){var R=n.textpath.style;l.font&&(R.font=l.font),l["font-family"]&&(R.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,d)+'"'),l["font-size"]&&(R.fontSize=l["font-size"]),l["font-weight"]&&(R.fontWeight=l["font-weight"]),l["font-style"]&&(R.fontStyle=l["font-style"])}if("arrow-start"in l&&S(m,l["arrow-start"]),"arrow-end"in l&&S(m,l["arrow-end"],1),null!=l.opacity||null!=l["stroke-width"]||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var I=c.getElementsByTagName(h),j=!1;if(I=I&&I[0],!I&&(j=I=M(h)),"image"==n.type&&l.src&&(I.src=l.src),l.fill&&(I.on=!0),null!=I.on&&"none"!=l.fill&&null!==l.fill||(I.on=!1),I.on&&l.fill){var q=r(l.fill).match(t._ISURL);if(q){I.parentNode==c&&c.removeChild(I),I.rotate=!0,I.src=q[1],I.type="tile";var D=n.getBBox(1);I.position=D.x+p+D.y,n._.fillpos=[D.x,D.y],t._preload(q[1],function(){n._.fillsize=[this.offsetWidth,this.offsetHeight]})}else I.color=t.getRGB(l.fill).hex,I.src=d,I.type="solid",t.getRGB(l.fill).error&&(m.type in{circle:1,ellipse:1}||"r"!=r(l.fill).charAt())&&A(m,l.fill,I)&&(f.fill="none",f.gradient=l.fill,I.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var V=((+f["fill-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+t.getRGB(l.fill).o+1||2)-1);V=o(s(V,0),1),I.opacity=V,I.src&&(I.color="none")}c.appendChild(I);var O=c.getElementsByTagName("stroke")&&c.getElementsByTagName("stroke")[0],Y=!1;!O&&(Y=O=M("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(O.on=!0),("none"==l.stroke||null===l.stroke||null==O.on||0==l.stroke||0==l["stroke-width"])&&(O.on=!1);var W=t.getRGB(l.stroke);O.on&&l.stroke&&(O.color=W.hex),V=((+f["stroke-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+W.o+1||2)-1);var G=.75*(i(l["stroke-width"])||1);if(V=o(s(V,0),1),null==l["stroke-width"]&&(G=f["stroke-width"]),l["stroke-width"]&&(O.weight=G),G&&G<1&&(V*=G)&&(O.weight=1),O.opacity=V,l["stroke-linejoin"]&&(O.joinstyle=l["stroke-linejoin"]||"miter"),O.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(O.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),"stroke-dasharray"in l){var H={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};O.dashstyle=H[e](l["stroke-dasharray"])?H[l["stroke-dasharray"]]:d}Y&&c.appendChild(O)}if("text"==m.type){m.paper.canvas.style.display=d;var X=m.paper.span,U=100,$=f.font&&f.font.match(/\d+(?:\.\d*)?(?=px)/);g=X.style,f.font&&(g.font=f.font),f["font-family"]&&(g.fontFamily=f["font-family"]),f["font-weight"]&&(g.fontWeight=f["font-weight"]),f["font-style"]&&(g.fontStyle=f["font-style"]),$=i(f["font-size"]||$&&$[0])||10,g.fontSize=$*U+"px",m.textpath.string&&(X.innerHTML=r(m.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var Z=X.getBoundingClientRect();m.W=f.w=(Z.right-Z.left)/U,m.H=f.h=(Z.bottom-Z.top)/U,m.X=f.x,m.Y=f.y+m.H/2,("x"in l||"y"in l)&&(m.path.v=t.format("m{0},{1}l{2},{1}",a(f.x*b),a(f.y*b),a(f.x*b)+1));for(var Q=["x","y","text","font","font-family","font-weight","font-style","font-size"],J=0,K=Q.length;J<K;J++)if(Q[J]in l){m._.dirty=1;break}switch(f["text-anchor"]){case"start":m.textpath.style["v-text-align"]="left",m.bbx=m.W/2;break;case"end":m.textpath.style["v-text-align"]="right",m.bbx=-m.W/2;break;default:m.textpath.style["v-text-align"]="center",m.bbx=0}m.textpath.style["v-text-kern"]=!0}},A=function(e,a,s){e.attrs=e.attrs||{};var o=e.attrs,l=Math.pow,h,u,c="linear",f=".5 .5";if(e.attrs.gradient=a,a=r(a).replace(t._radial_gradient,function(t,e,r){return c="radial",e&&r&&(e=i(e),r=i(r),l(e-.5,2)+l(r-.5,2)>.25&&(r=n.sqrt(.25-l(e-.5,2))*(2*(r>.5)-1)+.5),f=e+p+r),d}),a=a.split(/\s*\-\s*/),"linear"==c){var g=a.shift();if(g=-i(g),isNaN(g))return null}var x=t._parseDots(a);if(!x)return null;if(e=e.shape||e.node,x.length){e.removeChild(s),s.on=!0,s.method="none",s.color=x[0].color,s.color2=x[x.length-1].color;for(var v=[],y=0,m=x.length;y<m;y++)x[y].offset&&v.push(x[y].offset+p+x[y].color);s.colors=v.length?v.join():"0% "+s.color,"radial"==c?(s.type="gradientTitle",s.focus="100%",s.focussize="0 0",s.focusposition=f,s.angle=0):(s.type="gradient",s.angle=(270-g)%360),e.appendChild(s)}return 1},E=function(e,r){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=r,this.matrix=t.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!r.bottom&&(r.bottom=this),this.prev=r.top,r.top&&(r.top.next=this),r.top=this,this.next=null},N=t.el;E.prototype=N,N.constructor=E,N.transform=function(e){if(null==e)return this._.transform;var i=this.paper._viewBoxShift,n=i?"s"+[i.scale,i.scale]+"-1-1t"+[i.dx,i.dy]:d,a;i&&(a=e=r(e).replace(/\.{3}|\u2026/g,this._.transform||d)),t._extractTransform(this,n+e);var s=this.matrix.clone(),o=this.skew,l=this.node,h,u=~r(this.attrs.fill).indexOf("-"),c=!r(this.attrs.fill).indexOf("url(");if(s.translate(1,1),c||u||"image"==this.type)if(o.matrix="1 0 0 1",o.offset="0 0",h=s.split(),u&&h.noRotation||!h.isSimple){l.style.filter=s.toFilter();var f=this.getBBox(),g=this.getBBox(1),x=f.x-g.x,v=f.y-g.y;l.coordorigin=x*-b+p+v*-b,C(this,1,1,x,v,0)}else l.style.filter=d,C(this,h.scalex,h.scaley,h.dx,h.dy,h.rotate);else l.style.filter=d,o.matrix=r(s),o.offset=s.offset();return null!==a&&(this._.transform=a,t._extractTransform(this,a)),this},N.rotate=function(t,e,n){if(this.removed)return this;if(null!=t){if(t=r(t).split(u),t.length-1&&(e=i(t[1]),n=i(t[2])),t=i(t[0]),null==n&&(e=n),null==e||null==n){var a=this.getBBox(1);e=a.x+a.width/2,n=a.y+a.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,n]])),this}},N.translate=function(t,e){return this.removed?this:(t=r(t).split(u),t.length-1&&(e=i(t[1])),t=i(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]])),this)},N.scale=function(t,e,n,a){if(this.removed)return this;if(t=r(t).split(u),t.length-1&&(e=i(t[1]),n=i(t[2]),a=i(t[3]),isNaN(n)&&(n=null),isNaN(a)&&(a=null)),t=i(t[0]),null==e&&(e=t),null==a&&(n=a),null==n||null==a)var s=this.getBBox(1);return n=null==n?s.x+s.width/2:n,a=null==a?s.y+s.height/2:a,this.transform(this._.transform.concat([["s",t,e,n,a]])),this._.dirtyT=1,this},N.hide=function(){return!this.removed&&(this.node.style.display="none"),this},N.show=function(){return!this.removed&&(this.node.style.display=d),this},N.auxGetBBox=t.el.getBBox,N.getBBox=function(){var t=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var e={},r=1/this.paper._viewBoxShift.scale;return e.x=t.x-this.paper._viewBoxShift.dx,e.x*=r,e.y=t.y-this.paper._viewBoxShift.dy,e.y*=r,e.width=t.width*r,e.height=t.height*r,e.x2=e.x+e.width,e.y2=e.y+e.height,e}return t},N._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},N.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),t.eve.unbind("raphael.*.*."+this.id),t._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;this.removed=!0}},N.attr=function(r,i){if(this.removed)return this;if(null==r){var n={};for(var a in this.attrs)this.attrs[e](a)&&(n[a]=this.attrs[a]);return n.gradient&&"none"==n.fill&&(n.fill=n.gradient)&&delete n.gradient,n.transform=this._.transform,n}if(null==i&&t.is(r,"string")){if(r==h&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var s=r.split(u),o={},l=0,f=s.length;l<f;l++)r=s[l],r in this.attrs?o[r]=this.attrs[r]:t.is(this.paper.customAttributes[r],"function")?o[r]=this.paper.customAttributes[r].def:o[r]=t._availableAttrs[r];return f-1?o:o[s[0]]}if(this.attrs&&null==i&&t.is(r,"array")){for(o={},l=0,f=r.length;l<f;l++)o[r[l]]=this.attr(r[l]);return o}var p;null!=i&&(p={},p[r]=i),null==i&&t.is(r,"object")&&(p=r);for(var d in p)c("raphael.attr."+d+"."+this.id,this,p[d]);if(p){for(d in this.paper.customAttributes)if(this.paper.customAttributes[e](d)&&p[e](d)&&t.is(this.paper.customAttributes[d],"function")){var g=this.paper.customAttributes[d].apply(this,[].concat(p[d]));this.attrs[d]=p[d];for(var x in g)g[e](x)&&(p[x]=g[x])}p.text&&"text"==this.type&&(this.textpath.string=p.text),T(this,p)}return this},N.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&t._tofront(this,this.paper),this},N.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper)),this)},N.insertAfter=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper),this)},N.insertBefore=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),t._insertbefore(this,e,this.paper),this)},N.blur=function(e){var r=this.node.runtimeStyle,i=r.filter;return i=i.replace(v,d),0!==+e?(this.attrs.blur=e,r.filter=i+p+f+".Blur(pixelradius="+(+e||1.5)+")",r.margin=t.format("-{0}px 0 0 -{0}px",a(+e||1.5))):(r.filter=i,r.margin=0,delete this.attrs.blur),this},t._engine.path=function(t,e){var r=M("shape");r.style.cssText=m,r.coordsize=b+p+b,r.coordorigin=e.coordorigin;var i=new E(r,e),n={fill:"none",stroke:"#000"};t&&(n.path=t),i.type="path",i.path=[],i.Path=d,T(i,n),e.canvas&&e.canvas.appendChild(r);var a=M("skew");return a.on=!0,r.appendChild(a),i.skew=a,i.transform(d),i},t._engine.rect=function(e,r,i,n,a,s){var o=t._rectPath(r,i,n,a,s),l=e.path(o),h=l.attrs;return l.X=h.x=r,l.Y=h.y=i,l.W=h.width=n,l.H=h.height=a,h.r=s,h.path=o,l.type="rect",l},t._engine.ellipse=function(t,e,r,i,n){var a=t.path(),s=a.attrs;return a.X=e-i,a.Y=r-n,a.W=2*i,a.H=2*n,a.type="ellipse",T(a,{cx:e,cy:r,rx:i,ry:n}),a},t._engine.circle=function(t,e,r,i){var n=t.path(),a=n.attrs;return n.X=e-i,n.Y=r-i,n.W=n.H=2*i,n.type="circle",T(n,{cx:e,cy:r,r:i}),n},t._engine.image=function(e,r,i,n,a,s){var o=t._rectPath(i,n,a,s),l=e.path(o).attr({stroke:"none"}),u=l.attrs,c=l.node,f=c.getElementsByTagName(h)[0];return u.src=r,l.X=u.x=i,l.Y=u.y=n,l.W=u.width=a,l.H=u.height=s,u.path=o,l.type="image",f.parentNode==c&&c.removeChild(f),f.rotate=!0,f.src=r,f.type="tile",l._.fillpos=[i,n],l._.fillsize=[a,s],c.appendChild(f),C(l,1,1,0,0,0),l},t._engine.text=function(e,i,n,s){var o=M("shape"),l=M("path"),h=M("textpath");i=i||0,n=n||0,s=s||"",l.v=t.format("m{0},{1}l{2},{1}",a(i*b),a(n*b),a(i*b)+1),l.textpathok=!0,h.string=r(s),h.on=!0,o.style.cssText=m,o.coordsize=b+p+b,o.coordorigin="0 0";var u=new E(o,e),c={fill:"#000",stroke:"none",font:t._availableAttrs.font,text:s};u.shape=o,u.path=l,u.textpath=h,u.type="text",u.attrs.text=r(s),u.attrs.x=i,u.attrs.y=n,u.attrs.w=1,u.attrs.h=1,T(u,c),o.appendChild(h),o.appendChild(l),e.canvas.appendChild(o);var f=M("skew");return f.on=!0,o.appendChild(f),u.skew=f,u.transform(d),u},t._engine.setSize=function(e,r){var i=this.canvas.style;return this.width=e,this.height=r,e==+e&&(e+="px"),r==+r&&(r+="px"),i.width=e,i.height=r,i.clip="rect(0 "+e+" "+r+" 0)",this._viewBox&&t._engine.setViewBox.apply(this,this._viewBox),this},t._engine.setViewBox=function(e,r,i,n,a){t.eve("raphael.setViewBox",this,this._viewBox,[e,r,i,n,a]);var s=this.getSize(),o=s.width,l=s.height,h,u;return a&&(h=l/n,u=o/i,i*h<o&&(e-=(o-i*h)/2/h),n*u<l&&(r-=(l-n*u)/2/u)),this._viewBox=[e,r,i,n,!!a],this._viewBoxShift={dx:-e,dy:-r,scale:s},this.forEach(function(t){t.transform("...")}),this};var M;t._engine.initWin=function(t){var e=t.document;e.styleSheets.length<31?e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):e.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),M=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(r){M=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},t._engine.initWin(t._g.win),t._engine.create=function(){var e=t._getContainer.apply(0,arguments),r=e.container,i=e.height,n,a=e.width,s=e.x,o=e.y;if(!r)throw new Error("VML container not found.");var l=new t._Paper,h=l.canvas=t._g.doc.createElement("div"),u=h.style;return s=s||0,o=o||0,a=a||512,i=i||342,l.width=a,l.height=i,a==+a&&(a+="px"),i==+i&&(i+="px"),l.coordsize=1e3*b+p+1e3*b,l.coordorigin="0 0",l.span=t._g.doc.createElement("span"),l.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",h.appendChild(l.span),u.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",a,i),1==r?(t._g.doc.body.appendChild(h),u.left=s+"px",u.top=o+"px",u.position="absolute"):r.firstChild?r.insertBefore(h,r.firstChild):r.appendChild(h),l.renderfix=function(){},l},t.prototype.clear=function(){t.eve("raphael.clear",this),this.canvas.innerHTML=d,this.span=t._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},t.prototype.remove=function(){t.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;return!0};var L=t.st;for(var z in N)N[e](z)&&!L[e](z)&&(L[z]=function(t){return function(){var e=arguments;return this.forEach(function(r){r[t].apply(r,e)})}}(z))}}.apply(e,i),!(void 0!==n&&(t.exports=n))}])});

// --
(function(doc,undefined){var DOCUMENT_POSITION_PRECEDING=2;var ELEMENT_NODE=1;var TEXT_NODE=3;var DOCUMENT_NODE=9;var DOCUMENT_FRAGMENT_NODE=11;var SHOW_ELEMENT=1;var SHOW_TEXT=4;var START_TO_START=0;var START_TO_END=1;var END_TO_END=2;var END_TO_START=3;var HIGHLIGHT_CLASS="highlight";var COLOUR_CLASS="colour";var FONT_FAMILY_CLASS="font";var FONT_SIZE_CLASS="size";var ZWS="\u200B";var win=doc.defaultView;var ua=navigator.userAgent;var isAndroid=/Android/.test(ua);var isIOS=/iP(?:ad|hone|od)/.test(ua);var isMac=/Mac OS X/.test(ua);var isWin=/Windows NT/.test(ua);var isGecko=/Gecko\//.test(ua);var isIElt11=/Trident\/[456]\./.test(ua);var isPresto=!!win.opera;var isEdge=/Edge\//.test(ua);var isWebKit=!isEdge&&/WebKit\//.test(ua);var isIE=/Trident\/[4567]\./.test(ua);var ctrlKey=isMac?"meta-":"ctrl-";var useTextFixer=isIElt11||isPresto;var cantFocusEmptyTextNodes=isIElt11||isWebKit;var losesSelectionOnBlur=isIElt11;var canObserveMutations=typeof MutationObserver!=="undefined";var canWeakMap=typeof WeakMap!=="undefined";var notWS=/[^ \t\r\n]/;var indexOf=Array.prototype.indexOf;if(!Object.create){Object.create=function(proto){var F=function(){};F.prototype=proto;return new F()}}var typeToBitArray={1:1,2:2,3:4,8:128,9:256,11:1024};function TreeWalker(root,nodeType,filter){this.root=this.currentNode=root;this.nodeType=nodeType;this.filter=filter}TreeWalker.prototype.nextNode=function(){var current=this.currentNode,root=this.root,nodeType=this.nodeType,filter=this.filter,node;while(true){node=current.firstChild;while(!node&&current){if(current===root){break}node=current.nextSibling;if(!node){current=current.parentNode}}if(!node){return null}if((typeToBitArray[node.nodeType]&nodeType)&&filter(node)){this.currentNode=node;return node}current=node}};TreeWalker.prototype.previousNode=function(){var current=this.currentNode,root=this.root,nodeType=this.nodeType,filter=this.filter,node;while(true){if(current===root){return null}node=current.previousSibling;if(node){while(current=node.lastChild){node=current
}}else{node=current.parentNode}if(!node){return null}if((typeToBitArray[node.nodeType]&nodeType)&&filter(node)){this.currentNode=node;return node}current=node}};TreeWalker.prototype.previousPONode=function(){var current=this.currentNode,root=this.root,nodeType=this.nodeType,filter=this.filter,node;while(true){node=current.lastChild;while(!node&&current){if(current===root){break}node=current.previousSibling;if(!node){current=current.parentNode}}if(!node){return null}if((typeToBitArray[node.nodeType]&nodeType)&&filter(node)){this.currentNode=node;return node}current=node}};var inlineNodeNames=/^(?:#text|A(?:BBR|CRONYM)?|B(?:R|D[IO])?|C(?:ITE|ODE)|D(?:ATA|EL|FN)|EM|FONT|HR|I(?:FRAME|MG|NPUT|NS)?|KBD|Q|R(?:P|T|UBY)|S(?:AMP|MALL|PAN|TR(?:IKE|ONG)|U[BP])?|TIME|U|VAR|WBR)$/;var leafNodeNames={BR:1,HR:1,IFRAME:1,IMG:1,INPUT:1};function every(nodeList,fn){var l=nodeList.length;while(l--){if(!fn(nodeList[l])){return false}}return true}var UNKNOWN=0;var INLINE=1;var BLOCK=2;var CONTAINER=3;var nodeCategoryCache=canWeakMap?new WeakMap():null;function isLeaf(node){return node.nodeType===ELEMENT_NODE&&!!leafNodeNames[node.nodeName]}function getNodeCategory(node){switch(node.nodeType){case TEXT_NODE:return INLINE;case ELEMENT_NODE:case DOCUMENT_FRAGMENT_NODE:if(canWeakMap&&nodeCategoryCache.has(node)){return nodeCategoryCache.get(node)}break;default:return UNKNOWN}var nodeCategory;if(!every(node.childNodes,isInline)){nodeCategory=CONTAINER}else{if(inlineNodeNames.test(node.nodeName)){nodeCategory=INLINE}else{nodeCategory=BLOCK}}if(canWeakMap){nodeCategoryCache.set(node,nodeCategory)}return nodeCategory}function isInline(node){return getNodeCategory(node)===INLINE}function isBlock(node){return getNodeCategory(node)===BLOCK}function isContainer(node){return getNodeCategory(node)===CONTAINER}function getBlockWalker(node,root){var walker=new TreeWalker(root,SHOW_ELEMENT,isBlock);walker.currentNode=node;return walker}function getPreviousBlock(node,root){node=getBlockWalker(node,root).previousNode();
return node!==root?node:null}function getNextBlock(node,root){node=getBlockWalker(node,root).nextNode();return node!==root?node:null}function isEmptyBlock(block){return !block.textContent&&!block.querySelector("IMG")}function areAlike(node,node2){return !isLeaf(node)&&(node.nodeType===node2.nodeType&&node.nodeName===node2.nodeName&&node.nodeName!=="A"&&node.className===node2.className&&((!node.style&&!node2.style)||node.style.cssText===node2.style.cssText))}function hasTagAttributes(node,tag,attributes){if(node.nodeName!==tag){return false}for(var attr in attributes){if(node.getAttribute(attr)!==attributes[attr]){return false}}return true}function getNearest(node,root,tag,attributes){while(node&&node!==root){if(hasTagAttributes(node,tag,attributes)){return node}node=node.parentNode}return null}function isOrContains(parent,node){while(node){if(node===parent){return true}node=node.parentNode}return false}function getPath(node,root){var path="";var id,className,classNames,dir;if(node&&node!==root){path=getPath(node.parentNode,root);if(node.nodeType===ELEMENT_NODE){path+=(path?">":"")+node.nodeName;if(id=node.id){path+="#"+id}if(className=node.className.trim()){classNames=className.split(/\s\s*/);classNames.sort();path+=".";path+=classNames.join(".")}if(dir=node.dir){path+="[dir="+dir+"]"}if(classNames){if(indexOf.call(classNames,HIGHLIGHT_CLASS)>-1){path+="[backgroundColor="+node.style.backgroundColor.replace(/ /g,"")+"]"}if(indexOf.call(classNames,COLOUR_CLASS)>-1){path+="[color="+node.style.color.replace(/ /g,"")+"]"}if(indexOf.call(classNames,FONT_FAMILY_CLASS)>-1){path+="[fontFamily="+node.style.fontFamily.replace(/ /g,"")+"]"}if(indexOf.call(classNames,FONT_SIZE_CLASS)>-1){path+="[fontSize="+node.style.fontSize+"]"}}}}return path}function getLength(node){var nodeType=node.nodeType;return nodeType===ELEMENT_NODE||nodeType===DOCUMENT_FRAGMENT_NODE?node.childNodes.length:node.length||0}function detach(node){var parent=node.parentNode;if(parent){parent.removeChild(node)
}return node}function replaceWith(node,node2){var parent=node.parentNode;if(parent){parent.replaceChild(node2,node)}}function empty(node){var frag=node.ownerDocument.createDocumentFragment(),childNodes=node.childNodes,l=childNodes?childNodes.length:0;while(l--){frag.appendChild(node.firstChild)}return frag}function createElement(doc,tag,props,children){var el=doc.createElement(tag),attr,value,i,l;if(props instanceof Array){children=props;props=null}if(props){for(attr in props){value=props[attr];if(value!==undefined){el.setAttribute(attr,props[attr])}}}if(children){for(i=0,l=children.length;i<l;i+=1){el.appendChild(children[i])}}return el}function fixCursor(node,root){var self=root.__squire__;var doc=node.ownerDocument;var originalNode=node;var fixer,child;if(node===root){if(!(child=node.firstChild)||child.nodeName==="BR"){fixer=self.createDefaultBlock();if(child){node.replaceChild(fixer,child)}else{node.appendChild(fixer)}node=fixer;fixer=null}}if(node.nodeType===TEXT_NODE){return originalNode}if(isInline(node)){child=node.firstChild;while(cantFocusEmptyTextNodes&&child&&child.nodeType===TEXT_NODE&&!child.data){node.removeChild(child);child=node.firstChild}if(!child){if(cantFocusEmptyTextNodes){fixer=doc.createTextNode(ZWS);self._didAddZWS()}else{fixer=doc.createTextNode("")}}}else{if(useTextFixer){while(node.nodeType!==TEXT_NODE&&!isLeaf(node)){child=node.firstChild;if(!child){fixer=doc.createTextNode("");break}node=child}if(node.nodeType===TEXT_NODE){if(/^ +$/.test(node.data)){node.data=""}}else{if(isLeaf(node)){node.parentNode.insertBefore(doc.createTextNode(""),node)}}}else{if(!node.querySelector("BR")){fixer=createElement(doc,"BR");while((child=node.lastElementChild)&&!isInline(child)){node=child}}}}if(fixer){try{node.appendChild(fixer)}catch(error){self.didError({name:"Squire: fixCursor "+error,message:"Parent: "+node.nodeName+"/"+node.innerHTML+" appendChild: "+fixer.nodeName})}}return originalNode}function fixContainer(container,root){var children=container.childNodes;
var doc=container.ownerDocument;var wrapper=null;var i,l,child,isBR;var config=root.__squire__._config;for(i=0,l=children.length;i<l;i+=1){child=children[i];isBR=child.nodeName==="BR";if(!isBR&&isInline(child)){if(!wrapper){wrapper=createElement(doc,config.blockTag,config.blockAttributes)}wrapper.appendChild(child);i-=1;l-=1}else{if(isBR||wrapper){if(!wrapper){wrapper=createElement(doc,config.blockTag,config.blockAttributes)}fixCursor(wrapper,root);if(isBR){container.replaceChild(wrapper,child)}else{container.insertBefore(wrapper,child);i+=1;l+=1}wrapper=null}}if(isContainer(child)){fixContainer(child,root)}}if(wrapper){container.appendChild(fixCursor(wrapper,root))}return container}function split(node,offset,stopNode,root){var nodeType=node.nodeType,parent,clone,next;if(nodeType===TEXT_NODE&&node!==stopNode){return split(node.parentNode,node.splitText(offset),stopNode,root)}if(nodeType===ELEMENT_NODE){if(typeof(offset)==="number"){offset=offset<node.childNodes.length?node.childNodes[offset]:null}if(node===stopNode){return offset}parent=node.parentNode;clone=node.cloneNode(false);while(offset){next=offset.nextSibling;clone.appendChild(offset);offset=next}if(node.nodeName==="OL"&&getNearest(node,root,"BLOCKQUOTE")){clone.start=(+node.start||1)+node.childNodes.length-1}fixCursor(node,root);fixCursor(clone,root);if(next=node.nextSibling){parent.insertBefore(clone,next)}else{parent.appendChild(clone)}return split(parent,clone,stopNode,root)}return offset}function _mergeInlines(node,fakeRange){var children=node.childNodes,l=children.length,frags=[],child,prev,len;while(l--){child=children[l];prev=l&&children[l-1];if(l&&isInline(child)&&areAlike(child,prev)&&!leafNodeNames[child.nodeName]){if(fakeRange.startContainer===child){fakeRange.startContainer=prev;fakeRange.startOffset+=getLength(prev)}if(fakeRange.endContainer===child){fakeRange.endContainer=prev;fakeRange.endOffset+=getLength(prev)}if(fakeRange.startContainer===node){if(fakeRange.startOffset>l){fakeRange.startOffset-=1
}else{if(fakeRange.startOffset===l){fakeRange.startContainer=prev;fakeRange.startOffset=getLength(prev)}}}if(fakeRange.endContainer===node){if(fakeRange.endOffset>l){fakeRange.endOffset-=1}else{if(fakeRange.endOffset===l){fakeRange.endContainer=prev;fakeRange.endOffset=getLength(prev)}}}detach(child);if(child.nodeType===TEXT_NODE){prev.appendData(child.data)}else{frags.push(empty(child))}}else{if(child.nodeType===ELEMENT_NODE){len=frags.length;while(len--){child.appendChild(frags.pop())}_mergeInlines(child,fakeRange)}}}}function mergeInlines(node,range){if(node.nodeType===TEXT_NODE){node=node.parentNode}if(node.nodeType===ELEMENT_NODE){var fakeRange={startContainer:range.startContainer,startOffset:range.startOffset,endContainer:range.endContainer,endOffset:range.endOffset};_mergeInlines(node,fakeRange);range.setStart(fakeRange.startContainer,fakeRange.startOffset);range.setEnd(fakeRange.endContainer,fakeRange.endOffset)}}function mergeWithBlock(block,next,range,root){var container=next;var parent,last,offset;while((parent=container.parentNode)&&parent!==root&&parent.nodeType===ELEMENT_NODE&&parent.childNodes.length===1){container=parent}detach(container);offset=block.childNodes.length;last=block.lastChild;if(last&&last.nodeName==="BR"){block.removeChild(last);offset-=1}block.appendChild(empty(next));range.setStart(block,offset);range.collapse(true);mergeInlines(block,range);if(isPresto&&(last=block.lastChild)&&last.nodeName==="BR"){block.removeChild(last)}}function mergeContainers(node,root){var prev=node.previousSibling,first=node.firstChild,doc=node.ownerDocument,isListItem=(node.nodeName==="LI"),needsFix,block;if(isListItem&&(!first||!/^[OU]L$/.test(first.nodeName))){return}if(prev&&areAlike(prev,node)){if(!isContainer(prev)){if(isListItem){block=createElement(doc,"DIV");block.appendChild(empty(prev));prev.appendChild(block)}else{return}}detach(node);needsFix=!isContainer(node);prev.appendChild(empty(node));if(needsFix){fixContainer(prev,root)}if(first){mergeContainers(first,root)
}}else{if(isListItem){prev=createElement(doc,"DIV");node.insertBefore(prev,first);fixCursor(prev,root)}}}var getNodeBefore=function(node,offset){var children=node.childNodes;while(offset&&node.nodeType===ELEMENT_NODE){node=children[offset-1];children=node.childNodes;offset=children.length}return node};var getNodeAfter=function(node,offset){if(node.nodeType===ELEMENT_NODE){var children=node.childNodes;if(offset<children.length){node=children[offset]}else{while(node&&!node.nextSibling){node=node.parentNode}if(node){node=node.nextSibling}}}return node};var insertNodeInRange=function(range,node){var startContainer=range.startContainer,startOffset=range.startOffset,endContainer=range.endContainer,endOffset=range.endOffset,parent,children,childCount,afterSplit;if(startContainer.nodeType===TEXT_NODE){parent=startContainer.parentNode;children=parent.childNodes;if(startOffset===startContainer.length){startOffset=indexOf.call(children,startContainer)+1;if(range.collapsed){endContainer=parent;endOffset=startOffset}}else{if(startOffset){afterSplit=startContainer.splitText(startOffset);if(endContainer===startContainer){endOffset-=startOffset;endContainer=afterSplit}else{if(endContainer===parent){endOffset+=1}}startContainer=afterSplit}startOffset=indexOf.call(children,startContainer)}startContainer=parent}else{children=startContainer.childNodes}childCount=children.length;if(startOffset===childCount){startContainer.appendChild(node)}else{startContainer.insertBefore(node,children[startOffset])}if(startContainer===endContainer){endOffset+=children.length-childCount}range.setStart(startContainer,startOffset);range.setEnd(endContainer,endOffset)};var extractContentsOfRange=function(range,common,root){var startContainer=range.startContainer,startOffset=range.startOffset,endContainer=range.endContainer,endOffset=range.endOffset;if(!common){common=range.commonAncestorContainer}if(common.nodeType===TEXT_NODE){common=common.parentNode}var endNode=split(endContainer,endOffset,common,root),startNode=split(startContainer,startOffset,common,root),frag=common.ownerDocument.createDocumentFragment(),next,before,after;
while(startNode!==endNode){next=startNode.nextSibling;frag.appendChild(startNode);startNode=next}startContainer=common;startOffset=endNode?indexOf.call(common.childNodes,endNode):common.childNodes.length;after=common.childNodes[startOffset];before=after&&after.previousSibling;if(before&&before.nodeType===TEXT_NODE&&after.nodeType===TEXT_NODE){startContainer=before;startOffset=before.length;before.appendData(after.data);detach(after)}range.setStart(startContainer,startOffset);range.collapse(true);fixCursor(common,root);return frag};var deleteContentsOfRange=function(range,root){var startBlock=getStartBlockOfRange(range,root);var endBlock=getEndBlockOfRange(range,root);var needsMerge=(startBlock!==endBlock);var frag,child;moveRangeBoundariesDownTree(range);moveRangeBoundariesUpTree(range,startBlock,endBlock,root);frag=extractContentsOfRange(range,null,root);moveRangeBoundariesDownTree(range);if(needsMerge){endBlock=getEndBlockOfRange(range,root);if(startBlock&&endBlock&&startBlock!==endBlock){mergeWithBlock(startBlock,endBlock,range,root)}}if(startBlock){fixCursor(startBlock,root)}child=root.firstChild;if(!child||child.nodeName==="BR"){fixCursor(root,root);range.selectNodeContents(root.firstChild)}else{range.collapse(true)}return frag};var insertTreeFragmentIntoRange=function(range,frag,root){var node,block,blockContentsAfterSplit,stopPoint,container,offset;var firstBlockInFrag,nodeAfterSplit,nodeBeforeSplit,tempRange;fixContainer(frag,root);node=frag;while((node=getNextBlock(node,root))){fixCursor(node,root)}if(!range.collapsed){deleteContentsOfRange(range,root)}moveRangeBoundariesDownTree(range);range.collapse(false);stopPoint=getNearest(range.endContainer,root,"BLOCKQUOTE")||root;block=getStartBlockOfRange(range,root);firstBlockInFrag=getNextBlock(frag,frag);if(block&&firstBlockInFrag&&!getNearest(firstBlockInFrag,frag,"PRE")&&!getNearest(firstBlockInFrag,frag,"TABLE")){moveRangeBoundariesUpTree(range,block,block,root);range.collapse(true);container=range.endContainer;
offset=range.endOffset;cleanupBRs(block,root,false);if(isInline(container)){nodeAfterSplit=split(container,offset,getPreviousBlock(container,root),root);container=nodeAfterSplit.parentNode;offset=indexOf.call(container.childNodes,nodeAfterSplit)}if(offset!==getLength(container)){blockContentsAfterSplit=root.ownerDocument.createDocumentFragment();while((node=container.childNodes[offset])){blockContentsAfterSplit.appendChild(node)}}mergeWithBlock(container,firstBlockInFrag,range,root);offset=indexOf.call(container.parentNode.childNodes,container)+1;container=container.parentNode;range.setEnd(container,offset)}if(getLength(frag)){moveRangeBoundariesUpTree(range,stopPoint,stopPoint,root);nodeAfterSplit=split(range.endContainer,range.endOffset,stopPoint,root);nodeBeforeSplit=nodeAfterSplit?nodeAfterSplit.previousSibling:stopPoint.lastChild;stopPoint.insertBefore(frag,nodeAfterSplit);if(nodeAfterSplit){range.setEndBefore(nodeAfterSplit)}else{range.setEnd(stopPoint,getLength(stopPoint))}block=getEndBlockOfRange(range,root);moveRangeBoundariesDownTree(range);container=range.endContainer;offset=range.endOffset;if(nodeAfterSplit&&isContainer(nodeAfterSplit)){mergeContainers(nodeAfterSplit,root)}nodeAfterSplit=nodeBeforeSplit&&nodeBeforeSplit.nextSibling;if(nodeAfterSplit&&isContainer(nodeAfterSplit)){mergeContainers(nodeAfterSplit,root)}range.setEnd(container,offset)}if(blockContentsAfterSplit){tempRange=range.cloneRange();mergeWithBlock(block,blockContentsAfterSplit,tempRange,root);range.setEnd(tempRange.endContainer,tempRange.endOffset)}moveRangeBoundariesDownTree(range)};var isNodeContainedInRange=function(range,node,partial){var nodeRange=node.ownerDocument.createRange();nodeRange.selectNode(node);if(partial){var nodeEndBeforeStart=(range.compareBoundaryPoints(END_TO_START,nodeRange)>-1),nodeStartAfterEnd=(range.compareBoundaryPoints(START_TO_END,nodeRange)<1);return(!nodeEndBeforeStart&&!nodeStartAfterEnd)}else{var nodeStartAfterStart=(range.compareBoundaryPoints(START_TO_START,nodeRange)<1),nodeEndBeforeEnd=(range.compareBoundaryPoints(END_TO_END,nodeRange)>-1);
return(nodeStartAfterStart&&nodeEndBeforeEnd)}};var moveRangeBoundariesDownTree=function(range){var startContainer=range.startContainer,startOffset=range.startOffset,endContainer=range.endContainer,endOffset=range.endOffset,maySkipBR=true,child;while(startContainer.nodeType!==TEXT_NODE){child=startContainer.childNodes[startOffset];if(!child||isLeaf(child)){break}startContainer=child;startOffset=0}if(endOffset){while(endContainer.nodeType!==TEXT_NODE){child=endContainer.childNodes[endOffset-1];if(!child||isLeaf(child)){if(maySkipBR&&child&&child.nodeName==="BR"){endOffset-=1;maySkipBR=false;continue}break}endContainer=child;endOffset=getLength(endContainer)}}else{while(endContainer.nodeType!==TEXT_NODE){child=endContainer.firstChild;if(!child||isLeaf(child)){break}endContainer=child}}if(range.collapsed){range.setStart(endContainer,endOffset);range.setEnd(startContainer,startOffset)}else{range.setStart(startContainer,startOffset);range.setEnd(endContainer,endOffset)}};var moveRangeBoundariesUpTree=function(range,startMax,endMax,root){var startContainer=range.startContainer;var startOffset=range.startOffset;var endContainer=range.endContainer;var endOffset=range.endOffset;var maySkipBR=true;var parent;if(!startMax){startMax=range.commonAncestorContainer}if(!endMax){endMax=startMax}while(!startOffset&&startContainer!==startMax&&startContainer!==root){parent=startContainer.parentNode;startOffset=indexOf.call(parent.childNodes,startContainer);startContainer=parent}while(true){if(maySkipBR&&endContainer.nodeType!==TEXT_NODE&&endContainer.childNodes[endOffset]&&endContainer.childNodes[endOffset].nodeName==="BR"){endOffset+=1;maySkipBR=false}if(endContainer===endMax||endContainer===root||endOffset!==getLength(endContainer)){break}parent=endContainer.parentNode;endOffset=indexOf.call(parent.childNodes,endContainer)+1;endContainer=parent}range.setStart(startContainer,startOffset);range.setEnd(endContainer,endOffset)};var getStartBlockOfRange=function(range,root){var container=range.startContainer,block;
if(isInline(container)){block=getPreviousBlock(container,root)}else{if(container!==root&&isBlock(container)){block=container}else{block=getNodeBefore(container,range.startOffset);block=getNextBlock(block,root)}}return block&&isNodeContainedInRange(range,block,true)?block:null};var getEndBlockOfRange=function(range,root){var container=range.endContainer,block,child;if(isInline(container)){block=getPreviousBlock(container,root)}else{if(container!==root&&isBlock(container)){block=container}else{block=getNodeAfter(container,range.endOffset);if(!block||!isOrContains(root,block)){block=root;while(child=block.lastChild){block=child}}block=getPreviousBlock(block,root)}}return block&&isNodeContainedInRange(range,block,true)?block:null};var contentWalker=new TreeWalker(null,SHOW_TEXT|SHOW_ELEMENT,function(node){return node.nodeType===TEXT_NODE?notWS.test(node.data):node.nodeName==="IMG"});var rangeDoesStartAtBlockBoundary=function(range,root){var startContainer=range.startContainer;var startOffset=range.startOffset;var nodeAfterCursor;contentWalker.root=null;if(startContainer.nodeType===TEXT_NODE){if(startOffset){return false}nodeAfterCursor=startContainer}else{nodeAfterCursor=getNodeAfter(startContainer,startOffset);if(nodeAfterCursor&&!isOrContains(root,nodeAfterCursor)){nodeAfterCursor=null}if(!nodeAfterCursor){nodeAfterCursor=getNodeBefore(startContainer,startOffset);if(nodeAfterCursor.nodeType===TEXT_NODE&&nodeAfterCursor.length){return false}}}contentWalker.currentNode=nodeAfterCursor;contentWalker.root=getStartBlockOfRange(range,root);return !contentWalker.previousNode()};var rangeDoesEndAtBlockBoundary=function(range,root){var endContainer=range.endContainer,endOffset=range.endOffset,length;contentWalker.root=null;if(endContainer.nodeType===TEXT_NODE){length=endContainer.data.length;if(length&&endOffset<length){return false}contentWalker.currentNode=endContainer}else{contentWalker.currentNode=getNodeBefore(endContainer,endOffset)}contentWalker.root=getEndBlockOfRange(range,root);
return !contentWalker.nextNode()};var expandRangeToBlockBoundaries=function(range,root){var start=getStartBlockOfRange(range,root),end=getEndBlockOfRange(range,root),parent;if(start&&end){parent=start.parentNode;range.setStart(parent,indexOf.call(parent.childNodes,start));parent=end.parentNode;range.setEnd(parent,indexOf.call(parent.childNodes,end)+1)}};var keys={8:"backspace",9:"tab",13:"enter",32:"space",33:"pageup",34:"pagedown",37:"left",39:"right",46:"delete",219:"[",221:"]"};var onKey=function(event){var code=event.keyCode,key=keys[code],modifiers="",range=this.getSelection();if(event.defaultPrevented){return}if(!key){key=String.fromCharCode(code).toLowerCase();if(!/^[A-Za-z0-9]$/.test(key)){key=""}}if(isPresto&&event.which===46){key="."}if(111<code&&code<124){key="f"+(code-111)}if(key!=="backspace"&&key!=="delete"){if(event.altKey){modifiers+="alt-"}if(event.ctrlKey){modifiers+="ctrl-"}if(event.metaKey){modifiers+="meta-"}}if(event.shiftKey){modifiers+="shift-"}key=modifiers+key;if(this._keyHandlers[key]){this._keyHandlers[key](this,event,range)}else{if(key.length===1&&!range.collapsed){this.saveUndoState(range);deleteContentsOfRange(range,this._root);this._ensureBottomLine();this.setSelection(range);this._updatePath(range,true)}}};var mapKeyTo=function(method){return function(self,event){event.preventDefault();self[method]()}};var mapKeyToFormat=function(tag,remove){remove=remove||null;return function(self,event){event.preventDefault();var range=self.getSelection();if(self.hasFormat(tag,null,range)){self.changeFormat(null,{tag:tag},range)}else{self.changeFormat({tag:tag},remove,range)}}};var afterDelete=function(self,range){try{if(!range){range=self.getSelection()}var node=range.startContainer,parent;if(node.nodeType===TEXT_NODE){node=node.parentNode}parent=node;while(isInline(parent)&&(!parent.textContent||parent.textContent===ZWS)){node=parent;parent=node.parentNode}if(node!==parent){range.setStart(parent,indexOf.call(parent.childNodes,node));range.collapse(true);
parent.removeChild(node);if(!isBlock(parent)){parent=getPreviousBlock(parent,self._root)}fixCursor(parent,self._root);moveRangeBoundariesDownTree(range)}if(node===self._root&&(node=node.firstChild)&&node.nodeName==="BR"){detach(node)}self._ensureBottomLine();self.setSelection(range);self._updatePath(range,true)}catch(error){self.didError(error)}};var keyHandlers={enter:function(self,event,range){var root=self._root;var block,parent,nodeAfterSplit;event.preventDefault();self._recordUndoState(range);addLinks(range.startContainer,root,self);self._removeZWS();self._getRangeAndRemoveBookmark(range);if(!range.collapsed){deleteContentsOfRange(range,root)}block=getStartBlockOfRange(range,root);if(!block||/^T[HD]$/.test(block.nodeName)){parent=getNearest(range.endContainer,root,"A");if(parent){parent=parent.parentNode;moveRangeBoundariesUpTree(range,parent,parent,root);range.collapse(false)}insertNodeInRange(range,self.createElement("BR"));range.collapse(false);self.setSelection(range);self._updatePath(range,true);return}if(parent=getNearest(block,root,"LI")){block=parent}if(isEmptyBlock(block)){if(getNearest(block,root,"UL")||getNearest(block,root,"OL")){return self.decreaseListLevel(range)}else{if(getNearest(block,root,"BLOCKQUOTE")){return self.modifyBlocks(removeBlockQuote,range)}}}nodeAfterSplit=splitBlock(self,block,range.startContainer,range.startOffset);removeZWS(block);removeEmptyInlines(block);fixCursor(block,root);while(nodeAfterSplit.nodeType===ELEMENT_NODE){var child=nodeAfterSplit.firstChild,next;if(nodeAfterSplit.nodeName==="A"&&(!nodeAfterSplit.textContent||nodeAfterSplit.textContent===ZWS)){child=self._doc.createTextNode("");replaceWith(nodeAfterSplit,child);nodeAfterSplit=child;break}while(child&&child.nodeType===TEXT_NODE&&!child.data){next=child.nextSibling;if(!next||next.nodeName==="BR"){break}detach(child);child=next}if(!child||child.nodeName==="BR"||(child.nodeType===TEXT_NODE&&!isPresto)){break}nodeAfterSplit=child}range=self._createRange(nodeAfterSplit,0);
self.setSelection(range);self._updatePath(range,true)},backspace:function(self,event,range){var root=self._root;self._removeZWS();self.saveUndoState(range);if(!range.collapsed){event.preventDefault();deleteContentsOfRange(range,root);afterDelete(self,range)}else{if(rangeDoesStartAtBlockBoundary(range,root)){event.preventDefault();var current=getStartBlockOfRange(range,root);var previous;if(!current){return}fixContainer(current.parentNode,root);previous=getPreviousBlock(current,root);if(previous){if(!previous.isContentEditable){detach(previous);return}mergeWithBlock(previous,current,range,root);current=previous.parentNode;while(current!==root&&!current.nextSibling){current=current.parentNode}if(current!==root&&(current=current.nextSibling)){mergeContainers(current,root)}self.setSelection(range)}else{if(current){if(getNearest(current,root,"UL")||getNearest(current,root,"OL")){return self.decreaseListLevel(range)}else{if(getNearest(current,root,"BLOCKQUOTE")){return self.modifyBlocks(decreaseBlockQuoteLevel,range)}}self.setSelection(range);self._updatePath(range,true)}}}else{self.setSelection(range);setTimeout(function(){afterDelete(self)},0)}}},"delete":function(self,event,range){var root=self._root;var current,next,originalRange,cursorContainer,cursorOffset,nodeAfterCursor;self._removeZWS();self.saveUndoState(range);if(!range.collapsed){event.preventDefault();deleteContentsOfRange(range,root);afterDelete(self,range)}else{if(rangeDoesEndAtBlockBoundary(range,root)){event.preventDefault();current=getStartBlockOfRange(range,root);if(!current){return}fixContainer(current.parentNode,root);next=getNextBlock(current,root);if(next){if(!next.isContentEditable){detach(next);return}mergeWithBlock(current,next,range,root);next=current.parentNode;while(next!==root&&!next.nextSibling){next=next.parentNode}if(next!==root&&(next=next.nextSibling)){mergeContainers(next,root)}self.setSelection(range);self._updatePath(range,true)}}else{originalRange=range.cloneRange();moveRangeBoundariesUpTree(range,root,root,root);
cursorContainer=range.endContainer;cursorOffset=range.endOffset;if(cursorContainer.nodeType===ELEMENT_NODE){nodeAfterCursor=cursorContainer.childNodes[cursorOffset];if(nodeAfterCursor&&nodeAfterCursor.nodeName==="IMG"){event.preventDefault();detach(nodeAfterCursor);moveRangeBoundariesDownTree(range);afterDelete(self,range);return}}self.setSelection(originalRange);setTimeout(function(){afterDelete(self)},0)}}},tab:function(self,event,range){var root=self._root;var node,parent;self._removeZWS();if(range.collapsed&&rangeDoesStartAtBlockBoundary(range,root)){node=getStartBlockOfRange(range,root);while((parent=node.parentNode)){if(parent.nodeName==="UL"||parent.nodeName==="OL"){event.preventDefault();self.increaseListLevel(range);break}node=parent}}},"shift-tab":function(self,event,range){var root=self._root;var node;self._removeZWS();if(range.collapsed&&rangeDoesStartAtBlockBoundary(range,root)){node=range.startContainer;if(getNearest(node,root,"UL")||getNearest(node,root,"OL")){event.preventDefault();self.decreaseListLevel(range)}}},space:function(self,_,range){var node,parent;self._recordUndoState(range);addLinks(range.startContainer,self._root,self);self._getRangeAndRemoveBookmark(range);node=range.endContainer;parent=node.parentNode;if(range.collapsed&&parent.nodeName==="A"&&!node.nextSibling&&range.endOffset===getLength(node)){range.setStartAfter(parent)}else{if(!range.collapsed){deleteContentsOfRange(range,self._root);self._ensureBottomLine();self.setSelection(range);self._updatePath(range,true)}}self.setSelection(range)},left:function(self){self._removeZWS()},right:function(self){self._removeZWS()}};if(isMac&&isGecko){keyHandlers["meta-left"]=function(self,event){event.preventDefault();var sel=getWindowSelection(self);if(sel&&sel.modify){sel.modify("move","backward","lineboundary")}};keyHandlers["meta-right"]=function(self,event){event.preventDefault();var sel=getWindowSelection(self);if(sel&&sel.modify){sel.modify("move","forward","lineboundary")}}}if(!isMac){keyHandlers.pageup=function(self){self.moveCursorToStart()
};keyHandlers.pagedown=function(self){self.moveCursorToEnd()}}keyHandlers[ctrlKey+"b"]=mapKeyToFormat("B");keyHandlers[ctrlKey+"i"]=mapKeyToFormat("I");keyHandlers[ctrlKey+"u"]=mapKeyToFormat("U");keyHandlers[ctrlKey+"shift-7"]=mapKeyToFormat("S");keyHandlers[ctrlKey+"shift-5"]=mapKeyToFormat("SUB",{tag:"SUP"});keyHandlers[ctrlKey+"shift-6"]=mapKeyToFormat("SUP",{tag:"SUB"});keyHandlers[ctrlKey+"shift-8"]=mapKeyTo("makeUnorderedList");keyHandlers[ctrlKey+"shift-9"]=mapKeyTo("makeOrderedList");keyHandlers[ctrlKey+"["]=mapKeyTo("decreaseQuoteLevel");keyHandlers[ctrlKey+"]"]=mapKeyTo("increaseQuoteLevel");keyHandlers[ctrlKey+"y"]=mapKeyTo("redo");keyHandlers[ctrlKey+"z"]=mapKeyTo("undo");keyHandlers[ctrlKey+"shift-z"]=mapKeyTo("redo");var fontSizes={1:10,2:13,3:16,4:18,5:24,6:32,7:48};var styleToSemantic={backgroundColor:{regexp:notWS,replace:function(doc,colour){return createElement(doc,"SPAN",{"class":HIGHLIGHT_CLASS,style:"background-color:"+colour})}},color:{regexp:notWS,replace:function(doc,colour){return createElement(doc,"SPAN",{"class":COLOUR_CLASS,style:"color:"+colour})}},fontWeight:{regexp:/^bold|^700/i,replace:function(doc){return createElement(doc,"B")}},fontStyle:{regexp:/^italic/i,replace:function(doc){return createElement(doc,"I")}},fontFamily:{regexp:notWS,replace:function(doc,family){return createElement(doc,"SPAN",{"class":FONT_FAMILY_CLASS,style:"font-family:"+family})}},fontSize:{regexp:notWS,replace:function(doc,size){return createElement(doc,"SPAN",{"class":FONT_SIZE_CLASS,style:"font-size:"+size})}},textDecoration:{regexp:/^underline/i,replace:function(doc){return createElement(doc,"U")}}};var replaceWithTag=function(tag){return function(node,parent){var el=createElement(node.ownerDocument,tag);parent.replaceChild(el,node);el.appendChild(empty(node));return el}};var replaceStyles=function(node,parent){var style=node.style;var doc=node.ownerDocument;var attr,converter,css,newTreeBottom,newTreeTop,el;for(attr in styleToSemantic){converter=styleToSemantic[attr];
css=style[attr];if(css&&converter.regexp.test(css)){el=converter.replace(doc,css);if(!newTreeTop){newTreeTop=el}if(newTreeBottom){newTreeBottom.appendChild(el)}newTreeBottom=el;node.style[attr]=""}}if(newTreeTop){newTreeBottom.appendChild(empty(node));if(node.nodeName==="SPAN"){parent.replaceChild(newTreeTop,node)}else{node.appendChild(newTreeTop)}}return newTreeBottom||node};var stylesRewriters={P:replaceStyles,SPAN:replaceStyles,STRONG:replaceWithTag("B"),EM:replaceWithTag("I"),INS:replaceWithTag("U"),STRIKE:replaceWithTag("S"),FONT:function(node,parent){var face=node.face,size=node.size,colour=node.color,doc=node.ownerDocument,fontSpan,sizeSpan,colourSpan,newTreeBottom,newTreeTop;if(face){fontSpan=createElement(doc,"SPAN",{"class":FONT_FAMILY_CLASS,style:"font-family:"+face});newTreeTop=fontSpan;newTreeBottom=fontSpan}if(size){sizeSpan=createElement(doc,"SPAN",{"class":FONT_SIZE_CLASS,style:"font-size:"+fontSizes[size]+"px"});if(!newTreeTop){newTreeTop=sizeSpan}if(newTreeBottom){newTreeBottom.appendChild(sizeSpan)}newTreeBottom=sizeSpan}if(colour&&/^#?([\dA-F]{3}){1,2}$/i.test(colour)){if(colour.charAt(0)!=="#"){colour="#"+colour}colourSpan=createElement(doc,"SPAN",{"class":COLOUR_CLASS,style:"color:"+colour});if(!newTreeTop){newTreeTop=colourSpan}if(newTreeBottom){newTreeBottom.appendChild(colourSpan)}newTreeBottom=colourSpan}if(!newTreeTop){newTreeTop=newTreeBottom=createElement(doc,"SPAN")}parent.replaceChild(newTreeTop,node);newTreeBottom.appendChild(empty(node));return newTreeBottom},TT:function(node,parent){var el=createElement(node.ownerDocument,"SPAN",{"class":FONT_FAMILY_CLASS,style:'font-family:menlo,consolas,"courier new",monospace'});parent.replaceChild(el,node);el.appendChild(empty(node));return el}};var allowedBlock=/^(?:A(?:DDRESS|RTICLE|SIDE|UDIO)|BLOCKQUOTE|CAPTION|D(?:[DLT]|IV)|F(?:IGURE|IGCAPTION|OOTER)|H[1-6]|HEADER|L(?:ABEL|EGEND|I)|O(?:L|UTPUT)|P(?:RE)?|SECTION|T(?:ABLE|BODY|D|FOOT|H|HEAD|R)|COL(?:GROUP)?|UL)$/;var blacklist=/^(?:HEAD|META|STYLE)/;
var walker=new TreeWalker(null,SHOW_TEXT|SHOW_ELEMENT,function(){return true});var cleanTree=function cleanTree(node,preserveWS){var children=node.childNodes,nonInlineParent,i,l,child,nodeName,nodeType,rewriter,childLength,startsWithWS,endsWithWS,data,sibling;nonInlineParent=node;while(isInline(nonInlineParent)){nonInlineParent=nonInlineParent.parentNode}walker.root=nonInlineParent;for(i=0,l=children.length;i<l;i+=1){child=children[i];nodeName=child.nodeName;nodeType=child.nodeType;rewriter=stylesRewriters[nodeName];if(nodeType===ELEMENT_NODE){childLength=child.childNodes.length;if(rewriter){child=rewriter(child,node)}else{if(blacklist.test(nodeName)){node.removeChild(child);i-=1;l-=1;continue}else{if(!allowedBlock.test(nodeName)&&!isInline(child)){i-=1;l+=childLength-1;node.replaceChild(empty(child),child);continue}}}if(childLength){cleanTree(child,preserveWS||(nodeName==="PRE"))}}else{if(nodeType===TEXT_NODE){data=child.data;startsWithWS=!notWS.test(data.charAt(0));endsWithWS=!notWS.test(data.charAt(data.length-1));if(preserveWS||(!startsWithWS&&!endsWithWS)){continue}if(startsWithWS){walker.currentNode=child;while(sibling=walker.previousPONode()){nodeName=sibling.nodeName;if(nodeName==="IMG"||(nodeName==="#text"&&notWS.test(sibling.data))){break}if(!isInline(sibling)){sibling=null;break}}data=data.replace(/^[ \t\r\n]+/g,sibling?" ":"")}if(endsWithWS){walker.currentNode=child;while(sibling=walker.nextNode()){if(nodeName==="IMG"||(nodeName==="#text"&&notWS.test(sibling.data))){break}if(!isInline(sibling)){sibling=null;break}}data=data.replace(/[ \t\r\n]+$/g,sibling?" ":"")}if(data){child.data=data;continue}}node.removeChild(child);i-=1;l-=1}}return node};var removeEmptyInlines=function removeEmptyInlines(node){var children=node.childNodes,l=children.length,child;while(l--){child=children[l];if(child.nodeType===ELEMENT_NODE&&!isLeaf(child)){removeEmptyInlines(child);if(isInline(child)&&!child.firstChild){node.removeChild(child)}}else{if(child.nodeType===TEXT_NODE&&!child.data){node.removeChild(child)
}}}};var notWSTextNode=function(node){return node.nodeType===ELEMENT_NODE?node.nodeName==="BR":notWS.test(node.data)};var isLineBreak=function(br,isLBIfEmptyBlock){var block=br.parentNode;var walker;while(isInline(block)){block=block.parentNode}walker=new TreeWalker(block,SHOW_ELEMENT|SHOW_TEXT,notWSTextNode);walker.currentNode=br;return !!walker.nextNode()||(isLBIfEmptyBlock&&!walker.previousNode())};var cleanupBRs=function(node,root,keepForBlankLine){var brs=node.querySelectorAll("BR");var brBreaksLine=[];var l=brs.length;var i,br,parent;for(i=0;i<l;i+=1){brBreaksLine[i]=isLineBreak(brs[i],keepForBlankLine)}while(l--){br=brs[l];parent=br.parentNode;if(!parent){continue}if(!brBreaksLine[l]){detach(br)}else{if(!isInline(parent)){fixContainer(parent,root)}}}};var setClipboardData=function(clipboardData,node,root){var body=node.ownerDocument.body;var html,text;cleanupBRs(node,root,true);node.setAttribute("style","position:fixed;overflow:hidden;bottom:100%;right:100%;");body.appendChild(node);html=node.innerHTML;text=node.innerText||node.textContent;if(isWin){text=text.replace(/\r?\n/g,"\r\n")}clipboardData.setData("text/html",html);clipboardData.setData("text/plain",text);body.removeChild(node)};var onCut=function(event){var clipboardData=event.clipboardData;var range=this.getSelection();var root=this._root;var self=this;var startBlock,endBlock,copyRoot,contents,parent,newContents,node;if(range.collapsed){event.preventDefault();return}this.saveUndoState(range);if(!isEdge&&!isIOS&&clipboardData){startBlock=getStartBlockOfRange(range,root);endBlock=getEndBlockOfRange(range,root);copyRoot=((startBlock===endBlock)&&startBlock)||root;contents=deleteContentsOfRange(range,root);parent=range.commonAncestorContainer;if(parent.nodeType===TEXT_NODE){parent=parent.parentNode}while(parent&&parent!==copyRoot){newContents=parent.cloneNode(false);newContents.appendChild(contents);contents=newContents;parent=parent.parentNode}node=this.createElement("div");node.appendChild(contents);setClipboardData(clipboardData,node,root);
event.preventDefault()}else{setTimeout(function(){try{self._ensureBottomLine()}catch(error){self.didError(error)}},0)}this.setSelection(range)};var onCopy=function(event){var clipboardData=event.clipboardData;var range=this.getSelection();var root=this._root;var startBlock,endBlock,copyRoot,contents,parent,newContents,node;if(!isEdge&&!isIOS&&clipboardData){startBlock=getStartBlockOfRange(range,root);endBlock=getEndBlockOfRange(range,root);copyRoot=((startBlock===endBlock)&&startBlock)||root;range=range.cloneRange();moveRangeBoundariesDownTree(range);moveRangeBoundariesUpTree(range,copyRoot,copyRoot,root);contents=range.cloneContents();parent=range.commonAncestorContainer;if(parent.nodeType===TEXT_NODE){parent=parent.parentNode}while(parent&&parent!==copyRoot){newContents=parent.cloneNode(false);newContents.appendChild(contents);contents=newContents;parent=parent.parentNode}node=this.createElement("div");node.appendChild(contents);setClipboardData(clipboardData,node,root);event.preventDefault()}};function monitorShiftKey(event){this.isShiftDown=event.shiftKey}var onPaste=function(event){var clipboardData=event.clipboardData;var items=clipboardData&&clipboardData.items;var choosePlain=this.isShiftDown;var fireDrop=false;var hasImage=false;var plainItem=null;var self=this;var l,item,type,types,data;if(!isEdge&&items){event.preventDefault();l=items.length;while(l--){item=items[l];type=item.type;if(!choosePlain&&type==="text/html"){item.getAsString(function(html){self.insertHTML(html,true)});return}if(type==="text/plain"){plainItem=item}if(!choosePlain&&/^image\/.*/.test(type)){hasImage=true}}if(hasImage){this.fireEvent("dragover",{dataTransfer:clipboardData,preventDefault:function(){fireDrop=true}});if(fireDrop){this.fireEvent("drop",{dataTransfer:clipboardData})}}else{if(plainItem){plainItem.getAsString(function(text){self.insertPlainText(text,true)})}}return}types=clipboardData&&clipboardData.types;if(!isEdge&&types&&(indexOf.call(types,"text/html")>-1||(!isGecko&&indexOf.call(types,"text/plain")>-1&&indexOf.call(types,"text/rtf")<0))){event.preventDefault();
if(!choosePlain&&(data=clipboardData.getData("text/html"))){this.insertHTML(data,true)}else{if((data=clipboardData.getData("text/plain"))||(data=clipboardData.getData("text/uri-list"))){this.insertPlainText(data,true)}}return}this._awaitingPaste=true;var body=this._doc.body,range=this.getSelection(),startContainer=range.startContainer,startOffset=range.startOffset,endContainer=range.endContainer,endOffset=range.endOffset;var pasteArea=this.createElement("DIV",{contenteditable:"true",style:"position:fixed; overflow:hidden; top:0; right:100%; width:1px; height:1px;"});body.appendChild(pasteArea);range.selectNodeContents(pasteArea);this.setSelection(range);setTimeout(function(){try{self._awaitingPaste=false;var html="",next=pasteArea,first,range;while(pasteArea=next){next=pasteArea.nextSibling;detach(pasteArea);first=pasteArea.firstChild;if(first&&first===pasteArea.lastChild&&first.nodeName==="DIV"){pasteArea=first}html+=pasteArea.innerHTML}range=self._createRange(startContainer,startOffset,endContainer,endOffset);self.setSelection(range);if(html){self.insertHTML(html,true)}}catch(error){self.didError(error)}},0)};var onDrop=function(event){var types=event.dataTransfer.types;var l=types.length;var hasPlain=false;var hasHTML=false;while(l--){switch(types[l]){case"text/plain":hasPlain=true;break;case"text/html":hasHTML=true;break;default:return}}if(hasHTML||hasPlain){this.saveUndoState()}};function mergeObjects(base,extras,mayOverride){var prop,value;if(!base){base={}}if(extras){for(prop in extras){if(mayOverride||!(prop in base)){value=extras[prop];base[prop]=(value&&value.constructor===Object)?mergeObjects(base[prop],value,mayOverride):value}}}return base}function Squire(root,config){if(root.nodeType===DOCUMENT_NODE){root=root.body}var doc=root.ownerDocument;var win=doc.defaultView;var mutation;this._win=win;this._doc=doc;this._root=root;this._events={};this._isFocused=false;this._lastSelection=null;if(losesSelectionOnBlur){this.addEventListener("beforedeactivate",this.getSelection)
}this._hasZWS=false;this._lastAnchorNode=null;this._lastFocusNode=null;this._path="";this._willUpdatePath=false;if("onselectionchange" in doc){this.addEventListener("selectionchange",this._updatePathOnEvent)}else{this.addEventListener("keyup",this._updatePathOnEvent);this.addEventListener("mouseup",this._updatePathOnEvent)}this._undoIndex=-1;this._undoStack=[];this._undoStackLength=0;this._isInUndoState=false;this._ignoreChange=false;this._ignoreAllChanges=false;if(canObserveMutations){mutation=new MutationObserver(this._docWasChanged.bind(this));mutation.observe(root,{childList:true,attributes:true,characterData:true,subtree:true});this._mutation=mutation}else{this.addEventListener("keyup",this._keyUpDetectChange)}this._restoreSelection=false;this.addEventListener("blur",enableRestoreSelection);this.addEventListener("mousedown",disableRestoreSelection);this.addEventListener("touchstart",disableRestoreSelection);this.addEventListener("focus",restoreSelection);this._awaitingPaste=false;this.addEventListener(isIElt11?"beforecut":"cut",onCut);this.addEventListener("copy",onCopy);this.addEventListener("keydown",monitorShiftKey);this.addEventListener("keyup",monitorShiftKey);this.addEventListener(isIElt11?"beforepaste":"paste",onPaste);this.addEventListener("drop",onDrop);this.addEventListener(isPresto?"keypress":"keydown",onKey);this._keyHandlers=Object.create(keyHandlers);this.setConfig(config);if(isIElt11){win.Text.prototype.splitText=function(offset){var afterSplit=this.ownerDocument.createTextNode(this.data.slice(offset)),next=this.nextSibling,parent=this.parentNode,toDelete=this.length-offset;if(next){parent.insertBefore(afterSplit,next)}else{parent.appendChild(afterSplit)}if(toDelete){this.deleteData(offset,toDelete)}return afterSplit}}root.setAttribute("contenteditable","true");try{doc.execCommand("enableObjectResizing",false,"false");doc.execCommand("enableInlineTableEditing",false,"false")}catch(error){}root.__squire__=this;this.setHTML("")}var proto=Squire.prototype;
var sanitizeToDOMFragment=function(html,isPaste,self){var doc=self._doc;var frag=html?DOMPurify.sanitize(html,{ALLOW_UNKNOWN_PROTOCOLS:true,WHOLE_DOCUMENT:false,RETURN_DOM:true,RETURN_DOM_FRAGMENT:true}):null;return frag?doc.importNode(frag,true):doc.createDocumentFragment()};proto.setConfig=function(config){config=mergeObjects({blockTag:"DIV",blockAttributes:null,tagAttributes:{blockquote:null,ul:null,ol:null,li:null,a:null},leafNodeNames:leafNodeNames,undo:{documentSizeThreshold:-1,undoLimit:-1},isInsertedHTMLSanitized:true,isSetHTMLSanitized:true,sanitizeToDOMFragment:typeof DOMPurify!=="undefined"&&DOMPurify.isSupported?sanitizeToDOMFragment:null},config,true);config.blockTag=config.blockTag.toUpperCase();this._config=config;return this};proto.createElement=function(tag,props,children){return createElement(this._doc,tag,props,children)};proto.createDefaultBlock=function(children){var config=this._config;return fixCursor(this.createElement(config.blockTag,config.blockAttributes,children),this._root)};proto.didError=function(error){console.log(error)};proto.getDocument=function(){return this._doc};proto.getRoot=function(){return this._root};proto.modifyDocument=function(modificationCallback){var mutation=this._mutation;if(mutation){if(mutation.takeRecords().length){this._docWasChanged()}mutation.disconnect()}this._ignoreAllChanges=true;modificationCallback();this._ignoreAllChanges=false;if(mutation){mutation.observe(this._root,{childList:true,attributes:true,characterData:true,subtree:true});this._ignoreChange=false}};var customEvents={pathChange:1,select:1,input:1,undoStateChange:1};proto.fireEvent=function(type,event){var handlers=this._events[type];var isFocused,l,obj;if(/^(?:focus|blur)/.test(type)){isFocused=this._root===this._doc.activeElement;if(type==="focus"){if(!isFocused||this._isFocused){return this}this._isFocused=true}else{if(isFocused||!this._isFocused){return this}this._isFocused=false}}if(handlers){if(!event){event={}}if(event.type!==type){event.type=type
}handlers=handlers.slice();l=handlers.length;while(l--){obj=handlers[l];try{if(obj.handleEvent){obj.handleEvent(event)}else{obj.call(this,event)}}catch(error){error.details="Squire: fireEvent error. Event type: "+type;this.didError(error)}}}return this};proto.destroy=function(){var events=this._events;var type;for(type in events){this.removeEventListener(type)}if(this._mutation){this._mutation.disconnect()}delete this._root.__squire__;this._undoIndex=-1;this._undoStack=[];this._undoStackLength=0};proto.handleEvent=function(event){this.fireEvent(event.type,event)};proto.addEventListener=function(type,fn){var handlers=this._events[type];var target=this._root;if(!fn){this.didError({name:"Squire: addEventListener with null or undefined fn",message:"Event type: "+type});return this}if(!handlers){handlers=this._events[type]=[];if(!customEvents[type]){if(type==="selectionchange"){target=this._doc}target.addEventListener(type,this,true)}}handlers.push(fn);return this};proto.removeEventListener=function(type,fn){var handlers=this._events[type];var target=this._root;var l;if(handlers){if(fn){l=handlers.length;while(l--){if(handlers[l]===fn){handlers.splice(l,1)}}}else{handlers.length=0}if(!handlers.length){delete this._events[type];if(!customEvents[type]){if(type==="selectionchange"){target=this._doc}target.removeEventListener(type,this,true)}}}return this};proto._createRange=function(range,startOffset,endContainer,endOffset){if(range instanceof this._win.Range){return range.cloneRange()}var domRange=this._doc.createRange();domRange.setStart(range,startOffset);if(endContainer){domRange.setEnd(endContainer,endOffset)}else{domRange.setEnd(range,startOffset)}return domRange};proto.getCursorPosition=function(range){if((!range&&!(range=this.getSelection()))||!range.getBoundingClientRect){return null}var rect=range.getBoundingClientRect();var node,parent;if(rect&&!rect.top){this._ignoreChange=true;node=this._doc.createElement("SPAN");node.textContent=ZWS;insertNodeInRange(range,node);
rect=node.getBoundingClientRect();parent=node.parentNode;parent.removeChild(node);mergeInlines(parent,range)}return rect};proto._moveCursorTo=function(toStart){var root=this._root,range=this._createRange(root,toStart?0:root.childNodes.length);moveRangeBoundariesDownTree(range);this.setSelection(range);return this};proto.moveCursorToStart=function(){return this._moveCursorTo(true)};proto.moveCursorToEnd=function(){return this._moveCursorTo(false)};var getWindowSelection=function(self){return self._win.getSelection()||null};proto.setSelection=function(range){if(range){this._lastSelection=range;if(!this._isFocused){enableRestoreSelection.call(this)}else{if(isAndroid&&!this._restoreSelection){enableRestoreSelection.call(this);this.blur();this.focus()}else{if(isIOS){this._win.focus()}var sel=getWindowSelection(this);if(sel){sel.removeAllRanges();sel.addRange(range)}}}}return this};proto.getSelection=function(){var sel=getWindowSelection(this);var root=this._root;var selection,startContainer,endContainer,node;if(this._isFocused&&sel&&sel.rangeCount){selection=sel.getRangeAt(0).cloneRange();startContainer=selection.startContainer;endContainer=selection.endContainer;if(startContainer&&isLeaf(startContainer)){selection.setStartBefore(startContainer)}if(endContainer&&isLeaf(endContainer)){selection.setEndBefore(endContainer)}}if(selection&&isOrContains(root,selection.commonAncestorContainer)){this._lastSelection=selection}else{selection=this._lastSelection;node=selection.commonAncestorContainer;if(!isOrContains(node.ownerDocument,node)){selection=null}}if(!selection){selection=this._createRange(root.firstChild,0)}return selection};function enableRestoreSelection(){this._restoreSelection=true}function disableRestoreSelection(){this._restoreSelection=false}function restoreSelection(){if(this._restoreSelection){this.setSelection(this._lastSelection)}}proto.getSelectedText=function(){var range=this.getSelection();if(!range||range.collapsed){return""}var walker=new TreeWalker(range.commonAncestorContainer,SHOW_TEXT|SHOW_ELEMENT,function(node){return isNodeContainedInRange(range,node,true)
});var startContainer=range.startContainer;var endContainer=range.endContainer;var node=walker.currentNode=startContainer;var textContent="";var addedTextInBlock=false;var value;if(!walker.filter(node)){node=walker.nextNode()}while(node){if(node.nodeType===TEXT_NODE){value=node.data;if(value&&(/\S/.test(value))){if(node===endContainer){value=value.slice(0,range.endOffset)}if(node===startContainer){value=value.slice(range.startOffset)}textContent+=value;addedTextInBlock=true}}else{if(node.nodeName==="BR"||addedTextInBlock&&!isInline(node)){textContent+="\n";addedTextInBlock=false}}node=walker.nextNode()}return textContent};proto.getPath=function(){return this._path};var removeZWS=function(root,keepNode){var walker=new TreeWalker(root,SHOW_TEXT,function(){return true},false),parent,node,index;while(node=walker.nextNode()){while((index=node.data.indexOf(ZWS))>-1&&(!keepNode||node.parentNode!==keepNode)){if(node.length===1){do{parent=node.parentNode;parent.removeChild(node);node=parent;walker.currentNode=parent}while(isInline(node)&&!getLength(node));break}else{node.deleteData(index,1)}}}};proto._didAddZWS=function(){this._hasZWS=true};proto._removeZWS=function(){if(!this._hasZWS){return}removeZWS(this._root);this._hasZWS=false};proto._updatePath=function(range,force){if(!range){return}var anchor=range.startContainer,focus=range.endContainer,newPath;if(force||anchor!==this._lastAnchorNode||focus!==this._lastFocusNode){this._lastAnchorNode=anchor;this._lastFocusNode=focus;newPath=(anchor&&focus)?(anchor===focus)?getPath(focus,this._root):"(selection)":"";if(this._path!==newPath){this._path=newPath;this.fireEvent("pathChange",{path:newPath})}}this.fireEvent(range.collapsed?"cursor":"select",{range:range})};proto._updatePathOnEvent=function(event){var self=this;if(self._isFocused&&!self._willUpdatePath){self._willUpdatePath=true;setTimeout(function(){self._willUpdatePath=false;self._updatePath(self.getSelection())},0)}};proto.focus=function(){this._root.focus();if(isIE){this.fireEvent("focus")
}return this};proto.blur=function(){this._root.blur();if(isIE){this.fireEvent("blur")}return this};var startSelectionId="squire-selection-start";var endSelectionId="squire-selection-end";proto._saveRangeToBookmark=function(range){var startNode=this.createElement("INPUT",{id:startSelectionId,type:"hidden"}),endNode=this.createElement("INPUT",{id:endSelectionId,type:"hidden"}),temp;insertNodeInRange(range,startNode);range.collapse(false);insertNodeInRange(range,endNode);if(startNode.compareDocumentPosition(endNode)&DOCUMENT_POSITION_PRECEDING){startNode.id=endSelectionId;endNode.id=startSelectionId;temp=startNode;startNode=endNode;endNode=temp}range.setStartAfter(startNode);range.setEndBefore(endNode)};proto._getRangeAndRemoveBookmark=function(range){var root=this._root,start=root.querySelector("#"+startSelectionId),end=root.querySelector("#"+endSelectionId);if(start&&end){var startContainer=start.parentNode,endContainer=end.parentNode,startOffset=indexOf.call(startContainer.childNodes,start),endOffset=indexOf.call(endContainer.childNodes,end);if(startContainer===endContainer){endOffset-=1}detach(start);detach(end);if(!range){range=this._doc.createRange()}range.setStart(startContainer,startOffset);range.setEnd(endContainer,endOffset);mergeInlines(startContainer,range);if(startContainer!==endContainer){mergeInlines(endContainer,range)}if(range.collapsed){startContainer=range.startContainer;if(startContainer.nodeType===TEXT_NODE){endContainer=startContainer.childNodes[range.startOffset];if(!endContainer||endContainer.nodeType!==TEXT_NODE){endContainer=startContainer.childNodes[range.startOffset-1]}if(endContainer&&endContainer.nodeType===TEXT_NODE){range.setStart(endContainer,0);range.collapse(true)}}}}return range||null};proto._keyUpDetectChange=function(event){var code=event.keyCode;if(!event.ctrlKey&&!event.metaKey&&!event.altKey&&(code<16||code>20)&&(code<33||code>45)){this._docWasChanged()}};proto._docWasChanged=function(){if(canWeakMap){nodeCategoryCache=new WeakMap()
}if(this._ignoreAllChanges){return}if(canObserveMutations&&this._ignoreChange){this._ignoreChange=false;return}if(this._isInUndoState){this._isInUndoState=false;this.fireEvent("undoStateChange",{canUndo:true,canRedo:false})}this.fireEvent("input")};proto._recordUndoState=function(range,replace){if(!this._isInUndoState||replace){var undoIndex=this._undoIndex;var undoStack=this._undoStack;var undoConfig=this._config.undo;var undoThreshold=undoConfig.documentSizeThreshold;var undoLimit=undoConfig.undoLimit;var html;if(!replace){undoIndex+=1}if(undoIndex<this._undoStackLength){undoStack.length=this._undoStackLength=undoIndex}if(range){this._saveRangeToBookmark(range)}html=this._getHTML();if(undoThreshold>-1&&html.length*2>undoThreshold){if(undoLimit>-1&&undoIndex>undoLimit){undoStack.splice(0,undoIndex-undoLimit);undoIndex=undoLimit;this._undoStackLength=undoLimit}}undoStack[undoIndex]=html;this._undoIndex=undoIndex;this._undoStackLength+=1;this._isInUndoState=true}};proto.saveUndoState=function(range){if(range===undefined){range=this.getSelection()}this._recordUndoState(range,this._isInUndoState);this._getRangeAndRemoveBookmark(range);return this};proto.undo=function(){if(this._undoIndex!==0||!this._isInUndoState){this._recordUndoState(this.getSelection(),false);this._undoIndex-=1;this._setHTML(this._undoStack[this._undoIndex]);var range=this._getRangeAndRemoveBookmark();if(range){this.setSelection(range)}this._isInUndoState=true;this.fireEvent("undoStateChange",{canUndo:this._undoIndex!==0,canRedo:true});this.fireEvent("input")}return this};proto.redo=function(){var undoIndex=this._undoIndex,undoStackLength=this._undoStackLength;if(undoIndex+1<undoStackLength&&this._isInUndoState){this._undoIndex+=1;this._setHTML(this._undoStack[this._undoIndex]);var range=this._getRangeAndRemoveBookmark();if(range){this.setSelection(range)}this.fireEvent("undoStateChange",{canUndo:true,canRedo:undoIndex+2<undoStackLength});this.fireEvent("input")}return this};proto.hasFormat=function(tag,attributes,range){tag=tag.toUpperCase();
if(!attributes){attributes={}}if(!range&&!(range=this.getSelection())){return false}if(!range.collapsed&&range.startContainer.nodeType===TEXT_NODE&&range.startOffset===range.startContainer.length&&range.startContainer.nextSibling){range.setStartBefore(range.startContainer.nextSibling)}if(!range.collapsed&&range.endContainer.nodeType===TEXT_NODE&&range.endOffset===0&&range.endContainer.previousSibling){range.setEndAfter(range.endContainer.previousSibling)}var root=this._root;var common=range.commonAncestorContainer;var walker,node;if(getNearest(common,root,tag,attributes)){return true}if(common.nodeType===TEXT_NODE){return false}walker=new TreeWalker(common,SHOW_TEXT,function(node){return isNodeContainedInRange(range,node,true)},false);var seenNode=false;while(node=walker.nextNode()){if(!getNearest(node,root,tag,attributes)){return false}seenNode=true}return seenNode};proto.getFontInfo=function(range){var fontInfo={color:undefined,backgroundColor:undefined,family:undefined,size:undefined};var seenAttributes=0;var element,style,attr;if(!range&&!(range=this.getSelection())){return fontInfo}element=range.commonAncestorContainer;if(range.collapsed||element.nodeType===TEXT_NODE){if(element.nodeType===TEXT_NODE){element=element.parentNode}while(seenAttributes<4&&element){if(style=element.style){if(!fontInfo.color&&(attr=style.color)){fontInfo.color=attr;seenAttributes+=1}if(!fontInfo.backgroundColor&&(attr=style.backgroundColor)){fontInfo.backgroundColor=attr;seenAttributes+=1}if(!fontInfo.family&&(attr=style.fontFamily)){fontInfo.family=attr;seenAttributes+=1}if(!fontInfo.size&&(attr=style.fontSize)){fontInfo.size=attr;seenAttributes+=1}}element=element.parentNode}}return fontInfo};proto._addFormat=function(tag,attributes,range){var root=this._root;var el,walker,startContainer,endContainer,startOffset,endOffset,node,needsFormat,block;if(range.collapsed){el=fixCursor(this.createElement(tag,attributes),root);insertNodeInRange(range,el);range.setStart(el.firstChild,el.firstChild.length);
range.collapse(true);block=el;while(isInline(block)){block=block.parentNode}removeZWS(block,el)}else{walker=new TreeWalker(range.commonAncestorContainer,SHOW_TEXT|SHOW_ELEMENT,function(node){return(node.nodeType===TEXT_NODE||node.nodeName==="BR"||node.nodeName==="IMG")&&isNodeContainedInRange(range,node,true)},false);startContainer=range.startContainer;startOffset=range.startOffset;endContainer=range.endContainer;endOffset=range.endOffset;walker.currentNode=startContainer;if(!walker.filter(startContainer)){startContainer=walker.nextNode();startOffset=0}if(!startContainer){return range}do{node=walker.currentNode;needsFormat=!getNearest(node,root,tag,attributes);if(needsFormat){if(node===endContainer&&node.length>endOffset){node.splitText(endOffset)}if(node===startContainer&&startOffset){node=node.splitText(startOffset);if(endContainer===startContainer){endContainer=node;endOffset-=startOffset}startContainer=node;startOffset=0}el=this.createElement(tag,attributes);replaceWith(node,el);el.appendChild(node)}}while(walker.nextNode());if(endContainer.nodeType!==TEXT_NODE){if(node.nodeType===TEXT_NODE){endContainer=node;endOffset=node.length}else{endContainer=node.parentNode;endOffset=1}}range=this._createRange(startContainer,startOffset,endContainer,endOffset)}return range};proto._removeFormat=function(tag,attributes,range,partial){this._saveRangeToBookmark(range);var doc=this._doc,fixer;if(range.collapsed){if(cantFocusEmptyTextNodes){fixer=doc.createTextNode(ZWS);this._didAddZWS()}else{fixer=doc.createTextNode("")}insertNodeInRange(range,fixer)}var root=range.commonAncestorContainer;while(isInline(root)){root=root.parentNode}var startContainer=range.startContainer,startOffset=range.startOffset,endContainer=range.endContainer,endOffset=range.endOffset,toWrap=[],examineNode=function(node,exemplar){if(isNodeContainedInRange(range,node,false)){return}var isText=(node.nodeType===TEXT_NODE),child,next;if(!isNodeContainedInRange(range,node,true)){if(node.nodeName!=="INPUT"&&(!isText||node.data)){toWrap.push([exemplar,node])
}return}if(isText){if(node===endContainer&&endOffset!==node.length){toWrap.push([exemplar,node.splitText(endOffset)])}if(node===startContainer&&startOffset){node.splitText(startOffset);toWrap.push([exemplar,node])}}else{for(child=node.firstChild;child;child=next){next=child.nextSibling;examineNode(child,exemplar)}}},formatTags=Array.prototype.filter.call(root.getElementsByTagName(tag),function(el){return isNodeContainedInRange(range,el,true)&&hasTagAttributes(el,tag,attributes)});if(!partial){formatTags.forEach(function(node){examineNode(node,node)})}toWrap.forEach(function(item){var el=item[0].cloneNode(false),node=item[1];replaceWith(node,el);el.appendChild(node)});formatTags.forEach(function(el){replaceWith(el,empty(el))});this._getRangeAndRemoveBookmark(range);if(fixer){range.collapse(false)}mergeInlines(root,range);return range};proto.changeFormat=function(add,remove,range,partial){if(!range&&!(range=this.getSelection())){return this}this.saveUndoState(range);if(remove){range=this._removeFormat(remove.tag.toUpperCase(),remove.attributes||{},range,partial)}if(add){range=this._addFormat(add.tag.toUpperCase(),add.attributes||{},range)}this.setSelection(range);this._updatePath(range,true);if(!canObserveMutations){this._docWasChanged()}return this};var tagAfterSplit={DT:"DD",DD:"DT",LI:"LI",PRE:"PRE"};var splitBlock=function(self,block,node,offset){var splitTag=tagAfterSplit[block.nodeName],splitProperties=null,nodeAfterSplit=split(node,offset,block.parentNode,self._root),config=self._config;if(!splitTag){splitTag=config.blockTag;splitProperties=config.blockAttributes}if(!hasTagAttributes(nodeAfterSplit,splitTag,splitProperties)){block=createElement(nodeAfterSplit.ownerDocument,splitTag,splitProperties);if(nodeAfterSplit.dir){block.dir=nodeAfterSplit.dir}replaceWith(nodeAfterSplit,block);block.appendChild(empty(nodeAfterSplit));nodeAfterSplit=block}return nodeAfterSplit};proto.forEachBlock=function(fn,mutates,range){if(!range&&!(range=this.getSelection())){return this
}if(mutates){this.saveUndoState(range)}var root=this._root;var start=getStartBlockOfRange(range,root);var end=getEndBlockOfRange(range,root);if(start&&end){do{if(fn(start)||start===end){break}}while(start=getNextBlock(start,root))}if(mutates){this.setSelection(range);this._updatePath(range,true);if(!canObserveMutations){this._docWasChanged()}}return this};proto.modifyBlocks=function(modify,range){if(!range&&!(range=this.getSelection())){return this}this._recordUndoState(range,this._isInUndoState);var root=this._root;var frag;expandRangeToBlockBoundaries(range,root);moveRangeBoundariesUpTree(range,root,root,root);frag=extractContentsOfRange(range,root,root);insertNodeInRange(range,modify.call(this,frag));if(range.endOffset<range.endContainer.childNodes.length){mergeContainers(range.endContainer.childNodes[range.endOffset],root)}mergeContainers(range.startContainer.childNodes[range.startOffset],root);this._getRangeAndRemoveBookmark(range);this.setSelection(range);this._updatePath(range,true);if(!canObserveMutations){this._docWasChanged()}return this};var increaseBlockQuoteLevel=function(frag){return this.createElement("BLOCKQUOTE",this._config.tagAttributes.blockquote,[frag])};var decreaseBlockQuoteLevel=function(frag){var root=this._root;var blockquotes=frag.querySelectorAll("blockquote");Array.prototype.filter.call(blockquotes,function(el){return !getNearest(el.parentNode,root,"BLOCKQUOTE")}).forEach(function(el){replaceWith(el,empty(el))});return frag};var removeBlockQuote=function(){return this.createDefaultBlock([this.createElement("INPUT",{id:startSelectionId,type:"hidden"}),this.createElement("INPUT",{id:endSelectionId,type:"hidden"})])};var makeList=function(self,frag,type){var walker=getBlockWalker(frag,self._root),node,tag,prev,newLi,tagAttributes=self._config.tagAttributes,listAttrs=tagAttributes[type.toLowerCase()],listItemAttrs=tagAttributes.li;while(node=walker.nextNode()){if(node.parentNode.nodeName==="LI"){node=node.parentNode;walker.currentNode=node.lastChild
}if(node.nodeName!=="LI"){newLi=self.createElement("LI",listItemAttrs);if(node.dir){newLi.dir=node.dir}if((prev=node.previousSibling)&&prev.nodeName===type){prev.appendChild(newLi);detach(node)}else{replaceWith(node,self.createElement(type,listAttrs,[newLi]))}newLi.appendChild(empty(node));walker.currentNode=newLi}else{node=node.parentNode;tag=node.nodeName;if(tag!==type&&(/^[OU]L$/.test(tag))){replaceWith(node,self.createElement(type,listAttrs,[empty(node)]))}}}};var makeUnorderedList=function(frag){makeList(this,frag,"UL");return frag};var makeOrderedList=function(frag){makeList(this,frag,"OL");return frag};var removeList=function(frag){var lists=frag.querySelectorAll("UL, OL"),items=frag.querySelectorAll("LI"),root=this._root,i,l,list,listFrag,item;for(i=0,l=lists.length;i<l;i+=1){list=lists[i];listFrag=empty(list);fixContainer(listFrag,root);replaceWith(list,listFrag)}for(i=0,l=items.length;i<l;i+=1){item=items[i];if(isBlock(item)){replaceWith(item,this.createDefaultBlock([empty(item)]))}else{fixContainer(item,root);replaceWith(item,empty(item))}}return frag};var getListSelection=function(range,root){var list=range.commonAncestorContainer;var startLi=range.startContainer;var endLi=range.endContainer;while(list&&list!==root&&!/^[OU]L$/.test(list.nodeName)){list=list.parentNode}if(!list||list===root){return null}if(startLi===list){startLi=startLi.childNodes[range.startOffset]}if(endLi===list){endLi=endLi.childNodes[range.endOffset]}while(startLi&&startLi.parentNode!==list){startLi=startLi.parentNode}while(endLi&&endLi.parentNode!==list){endLi=endLi.parentNode}return[list,startLi,endLi]};proto.increaseListLevel=function(range){if(!range&&!(range=this.getSelection())){return this.focus()}var root=this._root;var listSelection=getListSelection(range,root);if(!listSelection){return this.focus()}var list=listSelection[0];var startLi=listSelection[1];var endLi=listSelection[2];if(!startLi||startLi===list.firstChild){return this.focus()}this._recordUndoState(range,this._isInUndoState);
var type=list.nodeName;var newParent=startLi.previousSibling;var listAttrs,next;if(newParent.nodeName!==type){listAttrs=this._config.tagAttributes[type.toLowerCase()];newParent=this.createElement(type,listAttrs);list.insertBefore(newParent,startLi)}do{next=startLi===endLi?null:startLi.nextSibling;newParent.appendChild(startLi)}while((startLi=next));next=newParent.nextSibling;if(next){mergeContainers(next,root)}this._getRangeAndRemoveBookmark(range);this.setSelection(range);this._updatePath(range,true);if(!canObserveMutations){this._docWasChanged()}return this.focus()};proto.decreaseListLevel=function(range){if(!range&&!(range=this.getSelection())){return this.focus()}var root=this._root;var listSelection=getListSelection(range,root);if(!listSelection){return this.focus()}var list=listSelection[0];var startLi=listSelection[1];var endLi=listSelection[2];if(!startLi){startLi=list.firstChild}if(!endLi){endLi=list.lastChild}this._recordUndoState(range,this._isInUndoState);var newParent=list.parentNode;var next;var insertBefore=!endLi.nextSibling?list.nextSibling:split(list,endLi.nextSibling,newParent,root);if(newParent!==root&&newParent.nodeName==="LI"){newParent=newParent.parentNode;while(insertBefore){next=insertBefore.nextSibling;endLi.appendChild(insertBefore);insertBefore=next}insertBefore=list.parentNode.nextSibling}var makeNotList=!/^[OU]L$/.test(newParent.nodeName);do{next=startLi===endLi?null:startLi.nextSibling;list.removeChild(startLi);if(makeNotList&&startLi.nodeName==="LI"){startLi=this.createDefaultBlock([empty(startLi)])}newParent.insertBefore(startLi,insertBefore)}while((startLi=next));if(!list.firstChild){detach(list)}if(insertBefore){mergeContainers(insertBefore,root)}this._getRangeAndRemoveBookmark(range);this.setSelection(range);this._updatePath(range,true);if(!canObserveMutations){this._docWasChanged()}return this.focus()};proto._ensureBottomLine=function(){var root=this._root;var last=root.lastElementChild;if(!last||last.nodeName!==this._config.blockTag||!isBlock(last)){root.appendChild(this.createDefaultBlock())
}};proto.setKeyHandler=function(key,fn){this._keyHandlers[key]=fn;return this};proto._getHTML=function(){return this._root.innerHTML};proto._setHTML=function(html){var root=this._root;var node=root;node.innerHTML=html;do{fixCursor(node,root)}while(node=getNextBlock(node,root));this._ignoreChange=true};proto.getHTML=function(withBookMark){var brs=[],root,node,fixer,html,l,range;if(withBookMark&&(range=this.getSelection())){this._saveRangeToBookmark(range)}if(useTextFixer){root=this._root;node=root;while(node=getNextBlock(node,root)){if(!node.textContent&&!node.querySelector("BR")){fixer=this.createElement("BR");node.appendChild(fixer);brs.push(fixer)}}}html=this._getHTML().replace(/\u200B/g,"");if(useTextFixer){l=brs.length;while(l--){detach(brs[l])}}if(range){this._getRangeAndRemoveBookmark(range)}return html};proto.setHTML=function(html){var config=this._config;var sanitizeToDOMFragment=config.isSetHTMLSanitized?config.sanitizeToDOMFragment:null;var root=this._root;var div,frag,child;if(typeof sanitizeToDOMFragment==="function"){frag=sanitizeToDOMFragment(html,false,this)}else{div=this.createElement("DIV");div.innerHTML=html;frag=this._doc.createDocumentFragment();frag.appendChild(empty(div))}cleanTree(frag);cleanupBRs(frag,root,false);fixContainer(frag,root);var node=frag;while(node=getNextBlock(node,root)){fixCursor(node,root)}this._ignoreChange=true;while(child=root.lastChild){root.removeChild(child)}root.appendChild(frag);fixCursor(root,root);this._undoIndex=-1;this._undoStack.length=0;this._undoStackLength=0;this._isInUndoState=false;var range=this._getRangeAndRemoveBookmark()||this._createRange(root.firstChild,0);this.saveUndoState(range);this._lastSelection=range;enableRestoreSelection.call(this);this._updatePath(range,true);return this};proto.insertElement=function(el,range){if(!range){range=this.getSelection()}range.collapse(true);if(isInline(el)){insertNodeInRange(range,el);range.setStartAfter(el)}else{var root=this._root;var splitNode=getStartBlockOfRange(range,root)||root;
var parent,nodeAfterSplit;while(splitNode!==root&&!splitNode.nextSibling){splitNode=splitNode.parentNode}if(splitNode!==root){parent=splitNode.parentNode;nodeAfterSplit=split(parent,splitNode.nextSibling,root,root)}if(nodeAfterSplit){root.insertBefore(el,nodeAfterSplit)}else{root.appendChild(el);nodeAfterSplit=this.createDefaultBlock();root.appendChild(nodeAfterSplit)}range.setStart(nodeAfterSplit,0);range.setEnd(nodeAfterSplit,0);moveRangeBoundariesDownTree(range)}this.focus();this.setSelection(range);this._updatePath(range);if(!canObserveMutations){this._docWasChanged()}return this};proto.insertImage=function(src,attributes){var img=this.createElement("IMG",mergeObjects({src:src},attributes,true));this.insertElement(img);return img};var linkRegExp=/\b((?:(?:ht|f)tps?:\/\/|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,}\/)(?:[^\s()<>]+|\([^\s()<>]+\))+(?:\((?:[^\s()<>]+|(?:\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?]))|([\w\-.%+]+@(?:[\w\-]+\.)+[A-Z]{2,}\b)/i;var addLinks=function(frag,root,self){var doc=frag.ownerDocument,walker=new TreeWalker(frag,SHOW_TEXT,function(node){return !getNearest(node,root,"A")},false),defaultAttributes=self._config.tagAttributes.a,node,data,parent,match,index,endIndex,child;while(node=walker.nextNode()){data=node.data;parent=node.parentNode;while(match=linkRegExp.exec(data)){index=match.index;endIndex=index+match[0].length;if(index){child=doc.createTextNode(data.slice(0,index));parent.insertBefore(child,node)}child=self.createElement("A",mergeObjects({href:match[1]?/^(?:ht|f)tps?:/.test(match[1])?match[1]:"http://"+match[1]:"mailto:"+match[2]},defaultAttributes,false));child.textContent=data.slice(index,endIndex);parent.insertBefore(child,node);node.data=data=data.slice(endIndex)}}};proto.insertHTML=function(html,isPaste){var config=this._config;var sanitizeToDOMFragment=config.isInsertedHTMLSanitized?config.sanitizeToDOMFragment:null;var range=this.getSelection();var doc=this._doc;var startFragmentIndex,endFragmentIndex;var div,frag,root,node,event;
if(typeof sanitizeToDOMFragment==="function"){frag=sanitizeToDOMFragment(html,isPaste,this)}else{if(isPaste){startFragmentIndex=html.indexOf("<!--StartFragment-->");endFragmentIndex=html.lastIndexOf("<!--EndFragment-->");if(startFragmentIndex>-1&&endFragmentIndex>-1){html=html.slice(startFragmentIndex+20,endFragmentIndex)}}if(/<\/td>((?!<\/tr>)[\s\S])*$/i.test(html)){html="<TR>"+html+"</TR>"}if(/<\/tr>((?!<\/table>)[\s\S])*$/i.test(html)){html="<TABLE>"+html+"</TABLE>"}div=this.createElement("DIV");div.innerHTML=html;frag=doc.createDocumentFragment();frag.appendChild(empty(div))}this.saveUndoState(range);try{root=this._root;node=frag;event={fragment:frag,preventDefault:function(){this.defaultPrevented=true},defaultPrevented:false};addLinks(frag,frag,this);cleanTree(frag);cleanupBRs(frag,root,false);removeEmptyInlines(frag);frag.normalize();while(node=getNextBlock(node,frag)){fixCursor(node,root)}if(isPaste){this.fireEvent("willPaste",event)}if(!event.defaultPrevented){insertTreeFragmentIntoRange(range,event.fragment,root);if(!canObserveMutations){this._docWasChanged()}range.collapse(false);this._ensureBottomLine()}this.setSelection(range);this._updatePath(range,true);if(isPaste){this.focus()}}catch(error){this.didError(error)}return this};var escapeHTMLFragement=function(text){return text.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")};proto.insertPlainText=function(plainText,isPaste){var lines=plainText.split("\n");var config=this._config;var tag=config.blockTag;var attributes=config.blockAttributes;var closeBlock="</"+tag+">";var openBlock="<"+tag;var attr,i,l,line;for(attr in attributes){openBlock+=" "+attr+'="'+escapeHTMLFragement(attributes[attr])+'"'}openBlock+=">";for(i=0,l=lines.length;i<l;i+=1){line=lines[i];line=escapeHTMLFragement(line).replace(/ (?= )/g,"&nbsp;");lines[i]=openBlock+(line||"<BR>")+closeBlock}return this.insertHTML(lines.join(""),isPaste)};var command=function(method,arg,arg2){return function(){this[method](arg,arg2);
return this.focus()}};proto.addStyles=function(styles){if(styles){var head=this._doc.documentElement.firstChild,style=this.createElement("STYLE",{type:"text/css"});style.appendChild(this._doc.createTextNode(styles));head.appendChild(style)}return this};proto.bold=command("changeFormat",{tag:"B"});proto.italic=command("changeFormat",{tag:"I"});proto.underline=command("changeFormat",{tag:"U"});proto.strikethrough=command("changeFormat",{tag:"S"});proto.subscript=command("changeFormat",{tag:"SUB"},{tag:"SUP"});proto.superscript=command("changeFormat",{tag:"SUP"},{tag:"SUB"});proto.removeBold=command("changeFormat",null,{tag:"B"});proto.removeItalic=command("changeFormat",null,{tag:"I"});proto.removeUnderline=command("changeFormat",null,{tag:"U"});proto.removeStrikethrough=command("changeFormat",null,{tag:"S"});proto.removeSubscript=command("changeFormat",null,{tag:"SUB"});proto.removeSuperscript=command("changeFormat",null,{tag:"SUP"});proto.makeLink=function(url,attributes){var range=this.getSelection();if(range.collapsed){var protocolEnd=url.indexOf(":")+1;if(protocolEnd){while(url[protocolEnd]==="/"){protocolEnd+=1}}insertNodeInRange(range,this._doc.createTextNode(url.slice(protocolEnd)))}attributes=mergeObjects(mergeObjects({href:url},attributes,true),this._config.tagAttributes.a,false);this.changeFormat({tag:"A",attributes:attributes},{tag:"A"},range);return this.focus()};proto.removeLink=function(){this.changeFormat(null,{tag:"A"},this.getSelection(),true);return this.focus()};proto.setFontFace=function(name){this.changeFormat(name?{tag:"SPAN",attributes:{"class":FONT_FAMILY_CLASS,style:"font-family: "+name+", sans-serif;"}}:null,{tag:"SPAN",attributes:{"class":FONT_FAMILY_CLASS}});return this.focus()};proto.setFontSize=function(size){this.changeFormat(size?{tag:"SPAN",attributes:{"class":FONT_SIZE_CLASS,style:"font-size: "+(typeof size==="number"?size+"px":size)}}:null,{tag:"SPAN",attributes:{"class":FONT_SIZE_CLASS}});return this.focus()};proto.setTextColour=function(colour){this.changeFormat(colour?{tag:"SPAN",attributes:{"class":COLOUR_CLASS,style:"color:"+colour}}:null,{tag:"SPAN",attributes:{"class":COLOUR_CLASS}});
return this.focus()};proto.setHighlightColour=function(colour){this.changeFormat(colour?{tag:"SPAN",attributes:{"class":HIGHLIGHT_CLASS,style:"background-color:"+colour}}:colour,{tag:"SPAN",attributes:{"class":HIGHLIGHT_CLASS}});return this.focus()};proto.setTextAlignment=function(alignment){this.forEachBlock(function(block){var className=block.className.split(/\s+/).filter(function(klass){return !!klass&&!/^align/.test(klass)}).join(" ");if(alignment){block.className=className+" align-"+alignment;block.style.textAlign=alignment}else{block.className=className;block.style.textAlign=""}},true);return this.focus()};proto.setTextDirection=function(direction){this.forEachBlock(function(block){if(direction){block.dir=direction}else{block.removeAttribute("dir")}},true);return this.focus()};function removeFormatting(self,root,clean){var node,next;for(node=root.firstChild;node;node=next){next=node.nextSibling;if(isInline(node)){if(node.nodeType===TEXT_NODE||node.nodeName==="BR"||node.nodeName==="IMG"){clean.appendChild(node);continue}}else{if(isBlock(node)){clean.appendChild(self.createDefaultBlock([removeFormatting(self,node,self._doc.createDocumentFragment())]));continue}}removeFormatting(self,node,clean)}return clean}proto.removeAllFormatting=function(range){if(!range&&!(range=this.getSelection())||range.collapsed){return this}var root=this._root;var stopNode=range.commonAncestorContainer;while(stopNode&&!isBlock(stopNode)){stopNode=stopNode.parentNode}if(!stopNode){expandRangeToBlockBoundaries(range,root);stopNode=root}if(stopNode.nodeType===TEXT_NODE){return this}this.saveUndoState(range);moveRangeBoundariesUpTree(range,stopNode,stopNode,root);var doc=stopNode.ownerDocument;var startContainer=range.startContainer;var startOffset=range.startOffset;var endContainer=range.endContainer;var endOffset=range.endOffset;var formattedNodes=doc.createDocumentFragment();var cleanNodes=doc.createDocumentFragment();var nodeAfterSplit=split(endContainer,endOffset,stopNode,root);var nodeInSplit=split(startContainer,startOffset,stopNode,root);
var nextNode,childNodes;while(nodeInSplit!==nodeAfterSplit){nextNode=nodeInSplit.nextSibling;formattedNodes.appendChild(nodeInSplit);nodeInSplit=nextNode}removeFormatting(this,formattedNodes,cleanNodes);cleanNodes.normalize();nodeInSplit=cleanNodes.firstChild;nextNode=cleanNodes.lastChild;childNodes=stopNode.childNodes;if(nodeInSplit){stopNode.insertBefore(cleanNodes,nodeAfterSplit);startOffset=indexOf.call(childNodes,nodeInSplit);endOffset=indexOf.call(childNodes,nextNode)+1}else{startOffset=indexOf.call(childNodes,nodeAfterSplit);endOffset=startOffset}range.setStart(stopNode,startOffset);range.setEnd(stopNode,endOffset);mergeInlines(stopNode,range);moveRangeBoundariesDownTree(range);this.setSelection(range);this._updatePath(range,true);return this.focus()};proto.increaseQuoteLevel=command("modifyBlocks",increaseBlockQuoteLevel);proto.decreaseQuoteLevel=command("modifyBlocks",decreaseBlockQuoteLevel);proto.makeUnorderedList=command("modifyBlocks",makeUnorderedList);proto.makeOrderedList=command("modifyBlocks",makeOrderedList);proto.removeList=command("modifyBlocks",removeList);Squire.isInline=isInline;Squire.isBlock=isBlock;Squire.isContainer=isContainer;Squire.getBlockWalker=getBlockWalker;Squire.getPreviousBlock=getPreviousBlock;Squire.getNextBlock=getNextBlock;Squire.areAlike=areAlike;Squire.hasTagAttributes=hasTagAttributes;Squire.getNearest=getNearest;Squire.isOrContains=isOrContains;Squire.detach=detach;Squire.replaceWith=replaceWith;Squire.empty=empty;Squire.getNodeBefore=getNodeBefore;Squire.getNodeAfter=getNodeAfter;Squire.insertNodeInRange=insertNodeInRange;Squire.extractContentsOfRange=extractContentsOfRange;Squire.deleteContentsOfRange=deleteContentsOfRange;Squire.insertTreeFragmentIntoRange=insertTreeFragmentIntoRange;Squire.isNodeContainedInRange=isNodeContainedInRange;Squire.moveRangeBoundariesDownTree=moveRangeBoundariesDownTree;Squire.moveRangeBoundariesUpTree=moveRangeBoundariesUpTree;Squire.getStartBlockOfRange=getStartBlockOfRange;Squire.getEndBlockOfRange=getEndBlockOfRange;
Squire.contentWalker=contentWalker;Squire.rangeDoesStartAtBlockBoundary=rangeDoesStartAtBlockBoundary;Squire.rangeDoesEndAtBlockBoundary=rangeDoesEndAtBlockBoundary;Squire.expandRangeToBlockBoundaries=expandRangeToBlockBoundaries;Squire.onPaste=onPaste;Squire.addLinks=addLinks;Squire.splitBlock=splitBlock;Squire.startSelectionId=startSelectionId;Squire.endSelectionId=endSelectionId;if(typeof exports==="object"){module.exports=Squire}else{if(typeof define1==="function"&&define1.amd){define1(function(){return Squire})}else{win.Squire=Squire;if(top!==win&&doc.documentElement.getAttribute("data-squireinit")==="true"){win.editor=new Squire(doc);if(win.onEditorLoad){win.onEditorLoad(win.editor);win.onEditorLoad=null}}}}}(document));

// --
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define1&&define1.amd?define1([],t):"object"==typeof exports?exports["to-mark"]=t():e.toMark=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,n){"use strict";var r=n(1),o=/\n$/g,i=/[ \xA0]+\n\n/g,u=/([ \xA0]+\n){2,}/g,a=/href\=\"(.*?)\"/,c=/^/gm,s=r.factory({TEXT_NODE:function(e){var t;return t=this.trim(this.getSpaceCollapsedText(e.nodeValue)),this._isNeedEscapeHtml(t)&&(t=this.escapeTextHtml(t)),this._isNeedEscape(t)&&(t=this.escapeText(t)),this.getSpaceControlled(t,e)},"CODE TEXT_NODE":function(e){return e.nodeValue},"EM, I":function(e,t){var n="";return this.isEmptyText(t)||(n="_"+t+"_"),n},"STRONG, B":function(e,t){var n="";return this.isEmptyText(t)||(n="**"+t+"**"),n},A:function(e,t){var n,r,o=t,i="";return n=a.exec(e.outerHTML),n&&(r=n[1].replace(/&amp;/g,"&")),e.title&&(i=' "'+e.title+'"'),!this.isEmptyText(t)&&r&&(o="["+this.escapeTextForLink(t)+"]("+r+i+")"),o},IMG:function(e){var t="",n=e.getAttribute("src"),r=e.alt;return n&&(t="!["+this.escapeTextForLink(r)+"]("+n+")"),t},BR:function(){return"  \n"},CODE:function(e,t){var n,r,o="";return this.isEmptyText(t)||(r=parseInt(e.getAttribute("data-backticks"),10),n=isNaN(r)?"`":Array(r+1).join("`"),o=n+t+n),o},P:function(e,t){var n="";return t=t.replace(u,"  \n"),this.isEmptyText(t)||(n="\n\n"+t+"\n\n"),n},"BLOCKQUOTE P":function(e,t){return t},"LI P":function(e,t){var n="";return this.isEmptyText(t)||(n=t),n},"H1, H2, H3, H4, H5, H6":function(e,t){for(var n="",r=parseInt(e.tagName.charAt(1),10);r;)n+="#",r-=1;return n+=" ",n+=t,"\n\n"+n+"\n\n"},"LI H1, LI H2, LI H3, LI H4, LI H5, LI H6":function(e){return"<"+e.tagName.toLowerCase()+">"+e.innerHTML+"</"+e.tagName.toLowerCase()+">"},"UL, OL":function(e,t){return"\n\n"+t+"\n\n"},"LI OL, LI UL":function(e,t){var n,r;return r=t.replace(i,"\n"),r=r.replace(o,""),n=r.replace(c,"    "),"\n"+n},"UL LI":function(e,t){var n="";return t=t.replace(u,"  \n"),e.firstChild&&"P"===e.firstChild.tagName&&(n+="\n"),n+="* "+t+"\n"},"OL LI":function(e,t){for(var n="",r=1;e.previousSibling;)e=e.previousSibling,1===e.nodeType&&"LI"===e.tagName&&(r+=1);return t=t.replace(u,"  \n"),e.firstChild&&"P"===e.firstChild.tagName&&(n+="\n"),n+=r+". "+t+"\n"},HR:function(){return"\n\n- - -\n\n"},BLOCKQUOTE:function(e,t){var n,r;return t=t.replace(u,"\n\n"),r=this.trim(t),n=r.replace(c,"> "),"\n\n"+n+"\n\n"},"PRE CODE":function(e,t){var n,r;return r=t.replace(o,""),n=r.replace(c,"    "),"\n\n"+n+"\n\n"}});e.exports=s},function(e,t,n){"use strict";function r(e,t,n){var r;n=n||null;for(r in e)if(e.hasOwnProperty(r)&&t.call(n,e[r],r,e)===!1)break}function o(e){this.rules={},e&&this.addRules(e)}function i(e){var t=e.tagName;return"S"===t||"B"===t||"I"===t||"EM"===t||"STRONG"===t||"A"===t||"IMG"===t||"CODE"===t}function u(e,t){r(t,function(t,n){"converter"!==n?(e[n]||(e[n]={}),u(e[n],t)):e[n]=t})}var a=/^\u0020/,c=/.+\u0020$/,s=/[\n\s\t]+/g,p=/^[\u0020\r\n\t]+|[\u0020\r\n\t]+$/g,l=/[\u0020]+/g,f=/[~>()*{}\[\]_`+-.!#|]/g,d=/[\[\]\(\)<>]/g,g=3;o.prototype.lineFeedReplacement="",o.prototype.addRule=function(e,t){var n=e.split(", "),r=n.pop();for(t.fname=e;r;)this._setConverterWithSelector(r,t),r=n.pop()},o.prototype.addRules=function(e){r(e,function(e,t){this.addRule(t,e)},this)},o.prototype.getSpaceControlled=function(e,t){var n,r="",o="";return t.previousSibling&&(t.previousSibling.nodeType===g||i(t.previousSibling))&&(n=t.previousSibling.innerHTML||t.previousSibling.nodeValue,(c.test(n)||a.test(t.innerHTML||t.nodeValue))&&(r=" ")),t.nextSibling&&(t.nextSibling.nodeType===g||i(t.nextSibling))&&(n=t.nextSibling.innerHTML||t.nextSibling.nodeValue,(a.test(n)||c.test(t.innerHTML||t.nodeValue))&&(o=" ")),r+e+o},o.prototype.convert=function(e,t){var n,r=this._getConverter(e);return e&&e.nodeType===Node.ELEMENT_NODE&&e.hasAttribute("data-tomark-pass")?(e.removeAttribute("data-tomark-pass"),n=e.outerHTML):r?n=r.call(this,e,t):e&&(n=this.getSpaceControlled(this._getInlineHtml(e,t),e)),n||""},o.prototype._getInlineHtml=function(e,t){var n=e.outerHTML,r=e.tagName,o=t.replace(/\$/g,"$$$$");return n.replace(new RegExp("(<"+r+" ?.*?>).*(</"+r+">)","i"),"$1"+o+"$2")},o.prototype._getConverter=function(e){for(var t,n=this.rules;e&&n;)n=this._getNextRule(n,this._getRuleNameFromNode(e)),e=this._getPrevNode(e),n&&n.converter&&(t=n.converter);return t},o.prototype._getNextRule=function(e,t){return e[t]},o.prototype._getRuleNameFromNode=function(e){return e.tagName||"TEXT_NODE"},o.prototype._getPrevNode=function(e){var t,n=e.parentNode;return n&&!n.__htmlRootByToMark&&(t=n),t},o.prototype._setConverterWithSelector=function(e,t){var n=this.rules;this._eachSelector(e,function(e){n[e]||(n[e]={}),n=n[e]}),n.converter=t},o.prototype._eachSelector=function(e,t){var n,r;for(n=e.split(" "),r=n.length-1;r>=0;)t(n[r]),r-=1},o.prototype.trim=function(e){return e.replace(p,"")},o.prototype.isEmptyText=function(e){return""===e.replace(s,"")},o.prototype.getSpaceCollapsedText=function(e){return e.replace(l," ")},o.prototype.escapeText=function(e){return e.replace(f,function(e){return"\\"+e})},o.prototype.escapeTextForLink=function(e){return e.replace(d,function(e){return"\\"+e})},o.prototype.escapeTextHtml=function(e){return e=e.replace(o.markdownTextToEscapeHtmlRx,function(e){return"\\"+e})},o.markdownTextToEscapeRx={codeblock:/(^ {4}[^\n]+\n*)+/,hr:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,heading:/^(#{1,6}) +[\s\S]+/,lheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,strong:/__(\S[\s\S]*\h)__|\*\*(\S[\s\S]*\S)\*\*/,em:/_(\S[\s\S]*\S)_|\*(\S[\s\S]*\S)\*/,strikeThrough:/~~(\S[\s\S]*\S)~~/,code:/(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,verticalBar:/\u007C/,codeblockGfm:/^(`{3,})/,codeblockTildes:/^(~{3,})/},o.markdownTextToEscapeHtmlRx=/<([a-zA-Z_][a-zA-Z0-9\-\._]*)(\s|[^\\\/>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-\._]*)\s*\/?>|<!--[^-]+-->|<([a-zA-Z_][a-zA-Z0-9\-\.:\/]*)>/g,o.prototype._isNeedEscape=function(e){var t,n=!1,r=o.markdownTextToEscapeRx;for(t in r)if(r.hasOwnProperty(t)&&r[t].test(e)){n=!0;break}return n},o.prototype._isNeedEscapeHtml=function(e){return o.markdownTextToEscapeHtmlRx.test(e)},o.prototype.mix=function(e){u(this.rules,e.rules)},o.factory=function(e,t){var n=new o;return t?n.mix(e):t=e,n.addRules(t),n},e.exports=o},function(e,t,n){"use strict";function r(e,t){var n;return e.className.indexOf("task-list-item")!==-1&&(n=e.className.indexOf("checked")!==-1?"x":" ",t="["+n+"] "+t),t}function o(e){var t,n,r,o;return t=e.align,o=e.textContent?e.textContent.length:e.innerText.length,n="",r="",t&&("left"===t?(n=":",o-=1):"right"===t?(r=":",o-=1):"center"===t&&(r=":",n=":",o-=2)),n+u("-",o)+r}function i(e,t){var n,r=e.childNodes,o=r.length,i=[];for(n=0;n<o;n+=1)r[n].tagName&&r[n].tagName===t&&i.push(r[n]);return i}function u(e,t){var n=e;for(t=Math.max(t,3);t>1;)n+=e,t-=1;return n}var a=n(1),c=n(0),s=a.factory(c,{"DEL, S":function(e,t){return"~~"+t+"~~"},"PRE CODE":function(e,t){var n,r="",o=e.getAttribute("data-backticks");return e.getAttribute("data-language")&&(r=" "+e.getAttribute("data-language")),o=parseInt(o,10),n=isNaN(o)?"```":Array(o+1).join("`"),t=t.replace(/(\r\n)|(\r)|(\n)/g,this.lineFeedReplacement),"\n\n"+n+r+"\n"+t+"\n"+n+"\n\n"},PRE:function(e,t){return t},"UL LI":function(e,t){return c.convert(e,r(e,t))},"OL LI":function(e,t){return c.convert(e,r(e,t))},TABLE:function(e,t){return"\n\n"+t+"\n\n"},"TBODY, TFOOT":function(e,t){return t},"TR TD, TR TH":function(e,t){return t=t.replace(/(\r\n)|(\r)|(\n)/g,"")," "+t+" |"},"TD BR, TH BR":function(){return"<br>"},TR:function(e,t){return"|"+t+"\n"},THEAD:function(e,t){var n,r,u,a="";for(r=i(i(e,"TR")[0],"TH"),u=r.length,n=0;n<u;n+=1)a+=" "+o(r[n])+" |";return t?t+"|"+a+"\n":""}});e.exports=s},function(e,t,n){"use strict";var r=n(4),o=n(1),i=n(0),u=n(2);r.Renderer=o,r.basicRenderer=i,r.gfmRenderer=u,e.exports=r},function(e,t,n){"use strict";function r(e,t){var n,r,u=!0;return e?(r=p,t&&(u=t.gfm,u===!1&&(r=s),r=t.renderer||r),n=new a(c(e)),i(o(n,r),u,r.lineFeedReplacement)):""}function o(e,t){for(var n="";e.next();)n+=u(e,t);return n}function i(e,t,n){return e=e.replace(l,"\n"),e=e.replace(d,"\n\n"),e=e.replace(h,function(e){var t=(e.match(/\n/g)||[]).length;return t>=3?"\n\n":e>=1?"\n":e}),e=e.replace(f,""),e=e.replace(new RegExp(n,"g"),"\n"),t&&(e=e.replace(g,"\n")),e}function u(e,t){var n,r,o,i="",a=e.getNode();for(n=0,r=a.childNodes.length;n<r;n+=1)e.next(),i+=u(e,t);return o=t.convert(a,i)}var a=n(5),c=n(6),s=n(0),p=n(2),l=/[ \xA0]+(\n\n)/g,f=/^[\n]+|[\s\n]+$/g,d=/([ \xA0]+\n){2,}/g,g=/([ \xA0]){2,}\n/g,h=/[ \xA0\n]+/g;e.exports=r},function(e,t,n){"use strict";function r(e){this._normalizeTextChildren(e),this._root=e,this._current=e}var o={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3};r.prototype.next=function(){var e,t=this._current;if(this._current){for(e=this._getNextNode(t);this._isNeedNextSearch(e,t);)t=t.parentNode,e=t.nextSibling;this._current=e}return this._current},r.prototype.getNode=function(){return this._normalizeTextChildren(this._current),this._current},r.prototype._normalizeTextChildren=function(e){var t,n;if(e&&!(e.childNodes.length<2))for(t=e.firstChild;t.nextSibling;)n=t.nextSibling,t.nodeType===o.TEXT_NODE&&n.nodeType===o.TEXT_NODE?(t.nodeValue+=n.nodeValue,e.removeChild(n)):t=n},r.prototype.getNodeText=function(){var e,t=this.getNode();return e=t.nodeType===o.TEXT_NODE?t.nodeValue:t.textContent||t.innerText},r.prototype._isNeedNextSearch=function(e,t){return!e&&t!==this._root&&t.parentNode!==this._root},r.prototype._getNextNode=function(e){return e.firstChild||e.nextSibling},r.NODE_TYPE=o,e.exports=r},function(e,t,n){"use strict";function r(e){var t;return"[object String]"===Object.prototype.toString.call(e)?(t=document.createElement("div"),t.innerHTML=o(e)):t=e,t.__htmlRootByToMark=!0,t}function o(e){return e=e.replace(i,""),e=e.replace(u,"><"),e=e.replace(a,"> <")}var i=/^[\s\r\n\t]+|[\s\r\n\t]+$/g,u=/>[\r\n\t]+</g,a=/>[ ]+</g;r.preProcess=o,e.exports=r}])});

// --
/*!
 * tui-code-snippet.min.js
 * @version 1.4.0
 * @author NHNEnt FE Development Lab <dl_javascript@nhnent.com>
 * @license MIT
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define1&&define1.amd?define1([],e):"object"==typeof exports?exports.util=e():(t.tui=t.tui||{},t.tui.util=e())}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="dist",e(0)}([function(t,e,n){"use strict";var r={},o=n(1),i=o.extend;i(r,o),i(r,n(3)),i(r,n(2)),i(r,n(4)),i(r,n(5)),i(r,n(6)),i(r,n(7)),i(r,n(8)),i(r,n(9)),r.browser=n(10),r.popup=n(11),r.formatDate=n(12),r.defineClass=n(13),r.defineModule=n(14),r.defineNamespace=n(15),r.CustomEvents=n(16),r.Enum=n(17),r.ExMap=n(18),r.HashMap=n(20),r.Map=n(19),t.exports=r},function(t,e,n){"use strict";function r(t,e){var n,r,o,i,u=Object.prototype.hasOwnProperty;for(o=1,i=arguments.length;o<i;o+=1){n=arguments[o];for(r in n)u.call(n,r)&&(t[r]=n[r])}return t}function o(t){return t.__fe_id||(l+=1,t.__fe_id=l),t.__fe_id}function i(t){return f.isExisty(p(t,"__fe_id"))}function u(){l=0}function s(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(e);return n}function c(t){var e=arguments.length,n=1;if(e<1)return!0;for(;n<e;n+=1)if(!a(t,arguments[n]))return!1;return!0}function a(t,e){var n,r=[],o=[];if(isNaN(t)&&isNaN(e)&&f.isNumber(t)&&f.isNumber(e))return!0;if(t===e)return!0;if(f.isFunction(t)&&f.isFunction(e)||t instanceof Date&&e instanceof Date||t instanceof RegExp&&e instanceof RegExp||t instanceof String&&e instanceof String||t instanceof Number&&e instanceof Number)return t.toString()===e.toString();if(!(t instanceof Object&&e instanceof Object))return!1;if(t.isPrototypeOf(e)||e.isPrototypeOf(t)||t.constructor!==e.constructor||t.prototype!==e.prototype)return!1;if(h.inArray(t,r)>-1||h.inArray(e,o)>-1)return!1;for(n in e){if(e.hasOwnProperty(n)!==t.hasOwnProperty(n))return!1;if(typeof e[n]!=typeof t[n])return!1}for(n in t){if(e.hasOwnProperty(n)!==t.hasOwnProperty(n))return!1;if(typeof e[n]!=typeof t[n])return!1;if("object"==typeof t[n]||"function"==typeof t[n]){if(r.push(t),o.push(e),!a(t[n],e[n]))return!1;r.pop(),o.pop()}else if(t[n]!==e[n])return!1}return!0}function p(t,e){for(var n=arguments,r=n[0],o=1,i=n.length;o<i;o+=1){if(f.isUndefined(r)||f.isNull(r))return;r=r[n[o]]}return r}var f=n(2),h=n(3),l=0;t.exports={extend:r,stamp:o,hasStamp:i,resetLastId:u,keys:Object.prototype.keys||s,compareJSON:c,pick:p}},function(t,e){"use strict";function n(t){return!r(t)&&!o(t)}function r(t){return void 0===t}function o(t){return null===t}function i(t){return n(t)&&t!==!1}function u(t){return!i(t)}function s(t){var e=n(t)&&("[object Arguments]"===P.call(t)||!!t.callee);return e}function c(t){return t instanceof Array}function a(t){return t===Object(t)}function p(t){return t instanceof Function}function f(t){return"number"==typeof t||t instanceof Number}function h(t){return"string"==typeof t||t instanceof String}function l(t){return"boolean"==typeof t||t instanceof Boolean}function y(t){return"[object Array]"===P.call(t)}function d(t){return"[object Function]"===P.call(t)}function m(t){return"[object Number]"===P.call(t)}function v(t){return"[object String]"===P.call(t)}function _(t){return"[object Boolean]"===P.call(t)}function g(t){return"object"==typeof HTMLElement?t&&(t instanceof HTMLElement||!!t.nodeType):!(!t||!t.nodeType)}function x(t){return"object"==typeof HTMLElement?t&&t instanceof HTMLElement:!(!t||!t.nodeType||1!==t.nodeType)}function b(t){return!(n(t)&&!E(t))||(c(t)||s(t)?0===t.length:!(a(t)&&!p(t))||!w(t))}function E(t){return h(t)&&""===t}function w(t){var e;for(e in t)if(t.hasOwnProperty(e))return!0;return!1}function O(t){return!b(t)}function N(t){return t instanceof Date}function A(t){return"[object Date]"===P.call(t)}var P=Object.prototype.toString;t.exports={isExisty:n,isUndefined:r,isNull:o,isTruthy:i,isFalsy:u,isArguments:s,isArray:c,isArraySafe:y,isObject:a,isFunction:p,isFunctionSafe:d,isNumber:f,isNumberSafe:m,isDate:N,isDateSafe:A,isString:h,isStringSafe:v,isBoolean:l,isBooleanSafe:_,isHTMLNode:g,isHTMLTag:x,isEmpty:b,isNotEmpty:O}},function(t,e,n){"use strict";var r,o=n(4),i=n(2),u=Array.prototype.slice,s=function(t,e,n){var r,o=[];for(i.isUndefined(e)&&(e=t||0,t=0),n=n||1,r=n<0?-1:1,e*=r;t*r<e;t+=n)o.push(t);return o},c=function(){var t=u.call(arguments),e=[];return o.forEach(t,function(t){o.forEach(t,function(t,n){e[n]||(e[n]=[]),e[n].push(t)})}),e},a=function(t,e,n){var r,o;if(n=n||0,!i.isArray(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t,n);for(o=e.length,r=n;n>=0&&r<o;r+=1)if(e[r]===t)return r;return-1};r={inArray:a,range:s,zip:c},t.exports=r},function(t,e,n){"use strict";function r(t,e,n){var r=0,o=t.length;for(n=n||null;r<o&&e.call(n,t[r],r,t)!==!1;r+=1);}function o(t,e,n){var r;n=n||null;for(r in t)if(t.hasOwnProperty(r)&&e.call(n,t[r],r,t)===!1)break}function i(t,e,n){f.isArray(t)?r(t,e,n):o(t,e,n)}function u(t,e,n){var r=[];return n=n||null,i(t,function(){r.push(e.apply(n,arguments))}),r}function s(t,e,n){var r,o,i,u=0;for(n=n||null,f.isArray(t)?(o=t.length,i=t[u]):(r=h.keys(t),o=r.length,i=t[r[u+=1]]),u+=1;u<o;u+=1)i=e.call(n,i,t[r?r[u]:u]);return i}function c(t){var e;try{e=Array.prototype.slice.call(t)}catch(n){e=[],r(t,function(t){e.push(t)})}return e}function a(t,e,n){var r,o;if(n=n||null,!f.isObject(t)||!f.isFunction(e))throw new Error("wrong parameter");return f.isArray(t)?(r=[],o=function(t,e){t.push(e[0])}):(r={},o=function(t,e){t[e[1]]=e[0]}),i(t,function(){e.apply(n,arguments)&&o(r,arguments)},n),r}function p(t,e){var n=u(t,function(t){return t[e]});return n}var f=n(2),h=n(1);t.exports={forEachOwnProperties:o,forEachArray:r,forEach:i,toArray:c,map:u,reduce:s,filter:a,pluck:p}},function(t,e){"use strict";function n(t,e){var n,r=Array.prototype.slice;return t.bind?t.bind.apply(t,r.call(arguments,1)):(n=r.call(arguments,2),function(){return t.apply(e,n.length?n.concat(r.call(arguments)):arguments)})}t.exports={bind:n}},function(t,e){"use strict";function n(t){function e(){}return e.prototype=t,new e}function r(t,e){var r=n(e.prototype);r.constructor=t,t.prototype=r}t.exports={createObject:n,inherit:r}},function(t,e,n){"use strict";function r(t){var e={"&quot;":'"',"&amp;":"&","&lt;":"<","&gt;":">","&#39;":"'","&nbsp;":" "};return t.replace(/&amp;|&lt;|&gt;|&quot;|&#39;|&nbsp;/g,function(t){return e[t]?e[t]:t})}function o(t){var e={'"':"quot","&":"amp","<":"lt",">":"gt","'":"#39"};return t.replace(/[<>&"']/g,function(t){return e[t]?"&"+e[t]+";":t})}function i(t){return/[<>&"']/.test(t)}function u(t,e){for(var n,r,o=0,i=t.length,u={};o<i;o+=1)r=t.charAt(o),u[r]=1;for(o=0,i=e.length;o<i;o+=1)r=e.charAt(o),u[r]&&(u[r]+=1);return u=s.filter(u,function(t){return t>1}),u=c.keys(u).sort(),n=u.join("")}var s=n(4),c=n(1);t.exports={decodeHTMLEntity:r,encodeHTMLEntity:o,hasEncodableString:i,getDuplicatedChar:u}},function(t,e){"use strict";function n(t,e){function n(){o=u.call(arguments),window.clearTimeout(r),r=window.setTimeout(function(){t.apply(null,o)},e)}var r,o;return e=e||0,n}function r(){return Number(new Date)}function o(t,e){function n(){return a=u.call(arguments),p?(f(a),void(p=!1)):(c=i.timestamp(),o=o||c,s(a),void(c-o>=e&&f(a)))}function r(){p=!0,o=null}var o,s,c,a,p=!0,f=function(e){t.apply(null,e),o=null};return e=e||0,s=i.debounce(f,e),n.reset=r,n}var i={},u=Array.prototype.slice;i.timestamp=r,i.debounce=n,i.throttle=o,t.exports=i},function(t,e,n){"use strict";function r(t){var e="https://www.google-analytics.com/collect",n=location.hostname,r="event",i="UA-115377265-9";(s.isUndefined(window.tui)||window.tui.usageStatistics!==!1)&&setTimeout(function(){"interactive"!==document.readyState&&"complete"!==document.readyState||o(e,{v:1,t:r,tid:i,cid:n,dp:n,dh:t})},1e3)}function o(t,e){var n=u.map(i.keys(e),function(t,n){var r=0===n?"":"&";return r+t+"="+e[t]}).join(""),r=document.createElement("img");return r.src=t+"?"+n,r.style.display="none",document.body.appendChild(r),document.body.removeChild(r),r}var i=n(1),u=n(4),s=n(2);t.exports={imagePing:o,sendHostname:r}},function(t,e){"use strict";var n,r,o={chrome:!1,firefox:!1,safari:!1,msie:!1,edge:!1,others:!1,version:0},i=window.navigator,u=i.appName.replace(/\s/g,"_"),s=i.userAgent,c=/MSIE\s([0-9]+[.0-9]*)/,a=/Trident.*rv:11\./,p=/Edge\/(\d+)\./,f={firefox:/Firefox\/(\d+)\./,chrome:/Chrome\/(\d+)\./,safari:/Version\/([\d.]+).*Safari\/(\d+)/},h={Microsoft_Internet_Explorer:function(){var t=s.match(c);t?(o.msie=!0,o.version=parseFloat(t[1])):o.others=!0},Netscape:function(){var t=!1;if(a.exec(s))o.msie=!0,o.version=11,t=!0;else if(p.exec(s))o.edge=!0,o.version=s.match(p)[1],t=!0;else for(n in f)if(f.hasOwnProperty(n)&&(r=s.match(f[n]),r&&r.length>1)){o[n]=t=!0,o.version=parseFloat(r[1]||0);break}t||(o.others=!0)}},l=h[u];l&&h[u](),t.exports=o},function(t,e,n){"use strict";function r(){this.openedPopup={},this.closeWithParentPopup={},this.postBridgeUrl=""}var o=n(4),i=n(2),u=n(5),s=n(10),c=n(1),a=0;r.prototype.getPopupList=function(t){var e;return e=i.isExisty(t)?this.openedPopup[t]:this.openedPopup},r.prototype.openPopup=function(t,e){var n,r,o;if(e=c.extend({popupName:"popup_"+a+"_"+Number(new Date),popupOptionStr:"",useReload:!0,closeWithParent:!0,method:"get",param:{}},e||{}),e.method=e.method.toUpperCase(),this.postBridgeUrl=e.postBridgeUrl||this.postBridgeUrl,o="POST"===e.method&&e.param&&s.msie&&11===s.version,!i.isExisty(t))throw new Error("Popup#open() need popup url.");a+=1,e.param&&("GET"===e.method?t=t+(/\?/.test(t)?"&":"?")+this._parameterize(e.param):"POST"===e.method&&(o||(r=this.createForm(t,e.param,e.method,e.popupName),t="about:blank"))),n=this.openedPopup[e.popupName],i.isExisty(n)?n.closed?this.openedPopup[e.popupName]=n=this._open(o,e.param,t,e.popupName,e.popupOptionStr):(e.useReload&&n.location.replace(t),n.focus()):this.openedPopup[e.popupName]=n=this._open(o,e.param,t,e.popupName,e.popupOptionStr),this.closeWithParentPopup[e.popupName]=e.closeWithParent,(!n||n.closed||i.isUndefined(n.closed))&&alert("please enable popup windows for this website"),e.param&&"POST"===e.method&&!o&&(n&&r.submit(),r.parentNode&&r.parentNode.removeChild(r)),window.onunload=u.bind(this.closeAllPopup,this)},r.prototype.close=function(t,e){var n=e||window;t=!!i.isExisty(t)&&t,t&&(window.onunload=null),n.closed||(n.opener=window.location.href,n.close())},r.prototype.closeAllPopup=function(t){var e=i.isExisty(t);o.forEachOwnProperties(this.openedPopup,function(t,n){(e&&this.closeWithParentPopup[n]||!e)&&this.close(!1,t)},this)},r.prototype.focus=function(t){this.getPopupList(t).focus()},r.prototype.parseQuery=function(){var t,e,n={};return t=window.location.search.substr(1),o.forEachArray(t.split("&"),function(t){e=t.split("="),n[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}),n},r.prototype.createForm=function(t,e,n,r,i){var u,s=document.createElement("form");return i=i||document.body,s.method=n||"POST",s.action=t||"",s.target=r||"",s.style.display="none",o.forEachOwnProperties(e,function(t,e){u=document.createElement("input"),u.name=e,u.type="hidden",u.value=t,s.appendChild(u)}),i.appendChild(s),s},r.prototype._parameterize=function(t){var e=[];return o.forEachOwnProperties(t,function(t,n){e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))}),e.join("&")},r.prototype._open=function(t,e,n,r,o){var i;return t?(i=window.open(this.postBridgeUrl,r,o),setTimeout(function(){i.redirect(n,e)},100)):i=window.open(n,r,o),i},t.exports=new r},function(t,e,n){"use strict";function r(t,e,n){var r,o,i,u;return t=Number(t),e=Number(e),n=Number(n),r=t>-1&&t<100||t>1969&&t<2070,o=e>0&&e<13,!(!r||!o)&&(u=a[e],2===e&&t%4===0&&(t%100===0&&t%400!==0||(u=29)),i=n>0&&n<=u)}function o(t,e,n){var o,c,a,f=u.pick(n,"meridiemSet","AM")||"AM",h=u.pick(n,"meridiemSet","PM")||"PM";return c=i.isDate(e)?{year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate(),hour:e.getHours(),minute:e.getMinutes()}:{year:e.year,month:e.month,date:e.date,hour:e.hour,minute:e.minute},!!r(c.year,c.month,c.date)&&(c.meridiem="",/([^\\]|^)[aA]\b/.test(t)&&(o=c.hour>11?h:f,c.hour>12&&(c.hour%=12),0===c.hour&&(c.hour=12),c.meridiem=o),a=t.replace(s,function(t){return t.indexOf("\\")>-1?t.replace(/\\/,""):p[t](c)||""}))}var i=n(2),u=n(1),s=/[\\]*YYYY|[\\]*YY|[\\]*MMMM|[\\]*MMM|[\\]*MM|[\\]*M|[\\]*DD|[\\]*D|[\\]*HH|[\\]*H|[\\]*A/gi,c=["Invalid month","January","February","March","April","May","June","July","August","September","October","November","December"],a=[0,31,28,31,30,31,30,31,31,30,31,30,31],p={M:function(t){return Number(t.month)},MM:function(t){var e=t.month;return Number(e)<10?"0"+e:e},MMM:function(t){return c[Number(t.month)].substr(0,3)},MMMM:function(t){return c[Number(t.month)]},D:function(t){return Number(t.date)},d:function(t){return p.D(t)},DD:function(t){var e=t.date;return Number(e)<10?"0"+e:e},dd:function(t){return p.DD(t)},YY:function(t){return Number(t.year)%100},yy:function(t){return p.YY(t)},YYYY:function(t){var e="20",n=t.year;return n>69&&n<100&&(e="19"),Number(n)<100?e+String(n):n},yyyy:function(t){return p.YYYY(t)},A:function(t){return t.meridiem},a:function(t){return t.meridiem},hh:function(t){var e=t.hour;return Number(e)<10?"0"+e:e},HH:function(t){return p.hh(t)},h:function(t){return String(Number(t.hour))},H:function(t){return p.h(t)},m:function(t){return String(Number(t.minute))},mm:function(t){var e=t.minute;return Number(e)<10?"0"+e:e}};t.exports=o},function(t,e,n){"use strict";function r(t,e){var n;return e||(e=t,t=null),n=e.init||function(){},t&&o(n,t),e.hasOwnProperty("static")&&(i(n,e["static"]),delete e["static"]),i(n.prototype,e),n}var o=n(6).inherit,i=n(1).extend;t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=e||{};return i.isFunction(n[u])&&n[u](),o(t,n)}var o=n(15),i=n(2),u="initialize";t.exports=r},function(t,e,n){"use strict";function r(t,e,n){var r,u,s,c;return r=t.split("."),r.unshift(window),u=o.reduce(r,function(t,e){return t[e]=t[e]||{},t[e]}),n?(c=r.pop(),s=i.pick.apply(null,r),u=s[c]=e):i.extend(u,e),u}var o=n(4),i=n(1);t.exports=r},function(t,e,n){"use strict";function r(){this.events=null,this.contexts=null}var o=n(4),i=n(2),u=n(1),s=/\s+/g;r.mixin=function(t){u.extend(t.prototype,r.prototype)},r.prototype._getHandlerItem=function(t,e){var n={handler:t};return e&&(n.context=e),n},r.prototype._safeEvent=function(t){var e,n=this.events;return n||(n=this.events={}),t&&(e=n[t],e||(e=[],n[t]=e),n=e),n},r.prototype._safeContext=function(){var t=this.contexts;return t||(t=this.contexts=[]),t},r.prototype._indexOfContext=function(t){for(var e=this._safeContext(),n=0;e[n];){if(t===e[n][0])return n;n+=1}return-1},r.prototype._memorizeContext=function(t){var e,n;i.isExisty(t)&&(e=this._safeContext(),n=this._indexOfContext(t),n>-1?e[n][1]+=1:e.push([t,1]))},r.prototype._forgetContext=function(t){var e,n;i.isExisty(t)&&(e=this._safeContext(),n=this._indexOfContext(t),n>-1&&(e[n][1]-=1,e[n][1]<=0&&e.splice(n,1)))},r.prototype._bindEvent=function(t,e,n){var r=this._safeEvent(t);this._memorizeContext(n),r.push(this._getHandlerItem(e,n))},r.prototype.on=function(t,e,n){var r=this;i.isString(t)?(t=t.split(s),o.forEach(t,function(t){r._bindEvent(t,e,n)})):i.isObject(t)&&(n=e,o.forEach(t,function(t,e){r.on(e,t,n)}))},r.prototype.once=function(t,e,n){function r(){e.apply(n,arguments),u.off(t,r,n)}var u=this;return i.isObject(t)?(n=e,void o.forEach(t,function(t,e){u.once(e,t,n)})):void this.on(t,r,n)},r.prototype._spliceMatches=function(t,e){var n,r=0;if(i.isArray(t))for(n=t.length;r<n;r+=1)e(t[r])===!0&&(t.splice(r,1),n-=1,r-=1)},r.prototype._matchHandler=function(t){var e=this;return function(n){var r=t===n.handler;return r&&e._forgetContext(n.context),r}},r.prototype._matchContext=function(t){var e=this;return function(n){var r=t===n.context;return r&&e._forgetContext(n.context),r}},r.prototype._matchHandlerAndContext=function(t,e){var n=this;return function(r){var o=t===r.handler,i=e===r.context,u=o&&i;return u&&n._forgetContext(r.context),u}},r.prototype._offByEventName=function(t,e){var n=this,r=o.forEachArray,u=i.isFunction(e),c=n._matchHandler(e);t=t.split(s),r(t,function(t){var e=n._safeEvent(t);u?n._spliceMatches(e,c):(r(e,function(t){n._forgetContext(t.context)}),n.events[t]=[])})},r.prototype._offByHandler=function(t){var e=this,n=this._matchHandler(t);o.forEach(this._safeEvent(),function(t){e._spliceMatches(t,n)})},r.prototype._offByObject=function(t,e){var n,r=this;this._indexOfContext(t)<0?o.forEach(t,function(t,e){r.off(e,t)}):i.isString(e)?(n=this._matchContext(t),r._spliceMatches(this._safeEvent(e),n)):i.isFunction(e)?(n=this._matchHandlerAndContext(e,t),o.forEach(this._safeEvent(),function(t){r._spliceMatches(t,n)})):(n=this._matchContext(t),o.forEach(this._safeEvent(),function(t){r._spliceMatches(t,n)}))},r.prototype.off=function(t,e){i.isString(t)?this._offByEventName(t,e):arguments.length?i.isFunction(t)?this._offByHandler(t):i.isObject(t)&&this._offByObject(t,e):(this.events={},this.contexts=[])},r.prototype.fire=function(t){this.invoke.apply(this,arguments)},r.prototype.invoke=function(t){var e,n,r,o;if(!this.hasListener(t))return!0;for(e=this._safeEvent(t),n=Array.prototype.slice.call(arguments,1),r=0;e[r];){if(o=e[r],o.handler.apply(o.context,n)===!1)return!1;r+=1}return!0},r.prototype.hasListener=function(t){return this.getListenerLength(t)>0},r.prototype.getListenerLength=function(t){var e=this._safeEvent(t);return e.length},t.exports=r},function(t,e,n){"use strict";function r(t){t&&this.set.apply(this,arguments)}var o=n(4),i=n(2),u=function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}(),s=0;r.prototype.set=function(t){var e=this;i.isArray(t)||(t=o.toArray(arguments)),o.forEach(t,function(t){e._addItem(t)})},r.prototype.getName=function(t){var e,n=this;return o.forEach(this,function(r,o){if(n._isEnumItem(o)&&t===r)return e=o,!1}),e},r.prototype._addItem=function(t){var e;this.hasOwnProperty(t)||(e=this._makeEnumValue(),u?Object.defineProperty(this,t,{enumerable:!0,configurable:!1,writable:!1,value:e}):this[t]=e)},r.prototype._makeEnumValue=function(){var t;return t=s,s+=1,t},r.prototype._isEnumItem=function(t){return i.isNumber(this[t])},t.exports=r},function(t,e,n){"use strict";function r(t){this._map=new i(t),this.size=this._map.size}var o=n(4),i=n(19),u=["get","has","forEach","keys","values","entries"],s=["delete","clear"];o.forEachArray(u,function(t){r.prototype[t]=function(){return this._map[t].apply(this._map,arguments)}}),o.forEachArray(s,function(t){r.prototype[t]=function(){var e=this._map[t].apply(this._map,arguments);return this.size=this._map.size,e}}),r.prototype.set=function(){return this._map.set.apply(this._map,arguments),this.size=this._map.size,this},r.prototype.setObject=function(t){o.forEachOwnProperties(t,function(t,e){this.set(e,t)},this)},r.prototype.deleteByKeys=function(t){o.forEachArray(t,function(t){this["delete"](t)},this)},r.prototype.merge=function(t){t.forEach(function(t,e){this.set(e,t)},this)},r.prototype.filter=function(t){var e=new r;return this.forEach(function(n,r){t(n,r)&&e.set(r,n)}),e},t.exports=r},function(t,e,n){"use strict";function r(t,e){this._keys=t,this._valueGetter=e,this._length=this._keys.length,this._index=-1,this._done=!1}function o(t){this._valuesForString={},this._valuesForIndex={},this._keys=[],t&&this._setInitData(t),this.size=0}var i=n(4),u=n(2),s=n(3),c=n(10),a=n(5),p={},f={};r.prototype.next=function(){var t={};do this._index+=1;while(u.isUndefined(this._keys[this._index])&&this._index<this._length);return this._index>=this._length?t.done=!0:(t.done=!1,t.value=this._valueGetter(this._keys[this._index],this._index)),t},o.prototype._setInitData=function(t){if(!u.isArray(t))throw new Error("Only Array is supported.");i.forEachArray(t,function(t){this.set(t[0],t[1])},this)},o.prototype._isNaN=function(t){return"number"==typeof t&&t!==t},o.prototype._getKeyIndex=function(t){var e,n=-1;return u.isString(t)?(e=this._valuesForString[t],e&&(n=e.keyIndex)):n=s.inArray(t,this._keys),n},o.prototype._getOriginKey=function(t){var e=t;return t===p?e=void 0:t===f&&(e=NaN),e},o.prototype._getUniqueKey=function(t){var e=t;return u.isUndefined(t)?e=p:this._isNaN(t)&&(e=f),e},o.prototype._getValueObject=function(t,e){return u.isString(t)?this._valuesForString[t]:(u.isUndefined(e)&&(e=this._getKeyIndex(t)),e>=0?this._valuesForIndex[e]:void 0)},o.prototype._getOriginValue=function(t,e){return this._getValueObject(t,e).origin},o.prototype._getKeyValuePair=function(t,e){return[this._getOriginKey(t),this._getOriginValue(t,e)]},o.prototype._createValueObject=function(t,e){return{keyIndex:e,origin:t}},o.prototype.set=function(t,e){var n,r=this._getUniqueKey(t),o=this._getKeyIndex(r);return o<0&&(o=this._keys.push(r)-1,this.size+=1),n=this._createValueObject(e,o),u.isString(t)?this._valuesForString[t]=n:this._valuesForIndex[o]=n,this},o.prototype.get=function(t){var e=this._getUniqueKey(t),n=this._getValueObject(e);return n&&n.origin},o.prototype.keys=function(){return new r(this._keys,a.bind(this._getOriginKey,this))},o.prototype.values=function(){return new r(this._keys,a.bind(this._getOriginValue,this))},o.prototype.entries=function(){return new r(this._keys,a.bind(this._getKeyValuePair,this))},o.prototype.has=function(t){return!!this._getValueObject(t)},o.prototype["delete"]=function(t){var e;u.isString(t)?this._valuesForString[t]&&(e=this._valuesForString[t].keyIndex,delete this._valuesForString[t]):(e=this._getKeyIndex(t),e>=0&&delete this._valuesForIndex[e]),e>=0&&(delete this._keys[e],this.size-=1)},o.prototype.forEach=function(t,e){e=e||this,i.forEachArray(this._keys,function(n){u.isUndefined(n)||t.call(e,this._getValueObject(n).origin,n,this)},this)},o.prototype.clear=function(){o.call(this)},function(){window.Map&&(c.firefox&&c.version>=37||c.chrome&&c.version>=42)&&(o=window.Map)}(),t.exports=o},function(t,e,n){"use strict";function r(t){this.length=0,t&&this.setObject(t)}var o=n(4),i=n(2),u="";r.prototype.set=function(t,e){2===arguments.length?this.setKeyValue(t,e):this.setObject(t)},r.prototype.setKeyValue=function(t,e){this.has(t)||(this.length+=1),this[this.encodeKey(t)]=e},r.prototype.setObject=function(t){var e=this;o.forEachOwnProperties(t,function(t,n){e.setKeyValue(n,t)})},r.prototype.merge=function(t){var e=this;t.each(function(t,n){e.setKeyValue(n,t)})},r.prototype.encodeKey=function(t){return u+t},r.prototype.decodeKey=function(t){var e=t.split(u);return e[e.length-1]},r.prototype.get=function(t){return this[this.encodeKey(t)]},r.prototype.has=function(t){return this.hasOwnProperty(this.encodeKey(t))},r.prototype.remove=function(t){return arguments.length>1&&(t=o.toArray(arguments)),i.isArray(t)?this.removeByKeyArray(t):this.removeByKey(t)},r.prototype.removeByKey=function(t){var e=this.has(t)?this.get(t):null;return null!==e&&(delete this[this.encodeKey(t)],this.length-=1),e},r.prototype.removeByKeyArray=function(t){var e=[],n=this;return o.forEach(t,function(t){e.push(n.removeByKey(t))}),e},r.prototype.removeAll=function(){var t=this;this.each(function(e,n){t.remove(n)})},r.prototype.each=function(t){var e,n=this;o.forEachOwnProperties(this,function(r,o){if(o.charAt(0)===u&&(e=t(r,n.decodeKey(o))),e===!1)return e})},r.prototype.keys=function(){var t=[],e=this;return this.each(function(n,r){t.push(e.decodeKey(r))}),t},r.prototype.find=function(t){var e=[];return this.each(function(n,r){t(n,r)&&e.push(n)}),e},r.prototype.toArray=function(){var t=[];return this.each(function(e){t.push(e)}),t},t.exports=r}])});

// --

/*!
 * tui-chart.min
 * @fileoverview tui-chart
 * @author NHN Ent. FE Development Lab <dl_javascript@nhnent.com>
 * @version 3.2.1
 * @license MIT
 * @link https://github.com/nhnent/tui.chart
 * bundle created at "Fri Jul 20 2018 14:38:23 GMT+0900 (KST)"
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require1("raphael"),require1("tui-code-snippet")):"function"==typeof define1&&define1.amd?define1(["raphael","tui-code-snippet"],e):"object"==typeof exports?exports.chart=e(require1("raphael"),require1("tui-code-snippet")):(t.tui=t.tui||{},t.tui.chart=e(t.Raphael,t.tui&&t.tui.util))}(this,function(__WEBPACK_EXTERNAL_MODULE_330__,__WEBPACK_EXTERNAL_MODULE_333__){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="/dist/",e(0)}([function(t,e,i){i(2),t.exports=i(328)},,function(t,e,i){(function(t){"use strict";function e(t,e,i){t[e]||Object[n](t,e,{writable:!0,configurable:!0,value:i})}if(i(3),i(324),i(325),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var n="defineProperty";e(String.prototype,"padLeft","".padStart),e(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&e(Array,t,Function.call.bind([][t]))})}).call(e,function(){return this}())},function(t,e,i){i(4),i(52),i(53),i(54),i(55),i(57),i(60),i(61),i(62),i(63),i(64),i(65),i(66),i(67),i(68),i(70),i(72),i(74),i(76),i(79),i(80),i(81),i(85),i(87),i(89),i(92),i(93),i(94),i(95),i(97),i(98),i(99),i(100),i(101),i(102),i(103),i(105),i(106),i(107),i(109),i(110),i(111),i(113),i(115),i(116),i(117),i(118),i(119),i(120),i(121),i(122),i(123),i(124),i(125),i(126),i(127),i(132),i(133),i(137),i(138),i(139),i(140),i(142),i(143),i(144),i(145),i(146),i(147),i(148),i(149),i(150),i(151),i(152),i(153),i(154),i(155),i(156),i(158),i(159),i(161),i(162),i(168),i(169),i(171),i(172),i(173),i(177),i(178),i(179),i(180),i(181),i(183),i(184),i(185),i(186),i(189),i(191),i(192),i(193),i(195),i(197),i(199),i(200),i(201),i(203),i(204),i(205),i(206),i(216),i(220),i(221),i(223),i(224),i(228),i(229),i(231),i(232),i(233),i(234),i(235),i(236),i(237),i(238),i(239),i(240),i(241),i(242),i(243),i(244),i(245),i(246),i(247),i(248),i(249),i(251),i(252),i(253),i(254),i(255),i(257),i(258),i(259),i(262),i(263),i(264),i(265),i(266),i(267),i(268),i(269),i(271),i(272),i(274),i(275),i(276),i(277),i(280),i(281),i(283),i(284),i(285),i(286),i(288),i(289),i(290),i(291),i(292),i(293),i(294),i(295),i(296),i(297),i(299),i(300),i(301),i(302),i(303),i(304),i(305),i(306),i(307),i(308),i(309),i(311),i(312),i(313),i(314),i(315),i(316),i(317),i(318),i(319),i(320),i(321),i(322),i(323),t.exports=i(10)},function(t,e,i){"use strict";var n=i(5),o=i(6),r=i(7),a=i(9),s=i(19),u=i(23).KEY,l=i(8),c=i(24),h=i(25),p=i(20),f=i(26),d=i(27),y=i(28),g=i(30),m=i(45),_=i(13),v=i(14),T=i(33),b=i(17),x=i(18),E=i(46),A=i(49),D=i(51),S=i(12),M=i(31),L=D.f,C=S.f,w=A.f,P=n.Symbol,O=n.JSON,R=O&&O.stringify,I="prototype",k=f("_hidden"),B=f("toPrimitive"),N={}.propertyIsEnumerable,F=c("symbol-registry"),G=c("symbols"),H=c("op-symbols"),V=Object[I],j="function"==typeof P,z=n.QObject,W=!z||!z[I]||!z[I].findChild,Y=r&&l(function(){return 7!=E(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=L(V,e);n&&delete V[e],C(t,e,i),n&&t!==V&&C(V,e,n)}:C,U=function(t){var e=G[t]=E(P[I]);return e._k=t,e},X=j&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},Z=function(t,e,i){return t===V&&Z(H,e,i),_(t),e=b(e,!0),_(i),o(G,e)?(i.enumerable?(o(t,k)&&t[k][e]&&(t[k][e]=!1),i=E(i,{enumerable:x(0,!1)})):(o(t,k)||C(t,k,x(1,{})),t[k][e]=!0),Y(t,e,i)):C(t,e,i)},K=function(t,e){_(t);for(var i,n=g(e=T(e)),o=0,r=n.length;r>o;)Z(t,i=n[o++],e[i]);return t},q=function(t,e){return void 0===e?E(t):K(E(t),e)},J=function(t){var e=N.call(this,t=b(t,!0));return!(this===V&&o(G,t)&&!o(H,t))&&(!(e||!o(this,t)||!o(G,t)||o(this,k)&&this[k][t])||e)},Q=function(t,e){if(t=T(t),e=b(e,!0),t!==V||!o(G,e)||o(H,e)){var i=L(t,e);return!i||!o(G,e)||o(t,k)&&t[k][e]||(i.enumerable=!0),i}},$=function(t){for(var e,i=w(T(t)),n=[],r=0;i.length>r;)o(G,e=i[r++])||e==k||e==u||n.push(e);return n},tt=function(t){for(var e,i=t===V,n=w(i?H:T(t)),r=[],a=0;n.length>a;)!o(G,e=n[a++])||i&&!o(V,e)||r.push(G[e]);return r};j||(P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(i){this===V&&e.call(H,i),o(this,k)&&o(this[k],t)&&(this[k][t]=!1),Y(this,t,x(1,i))};return r&&W&&Y(V,t,{configurable:!0,set:e}),U(t)},s(P[I],"toString",function(){return this._k}),D.f=Q,S.f=Z,i(50).f=A.f=$,i(44).f=J,i(43).f=tt,r&&!i(29)&&s(V,"propertyIsEnumerable",J,!0),d.f=function(t){return U(f(t))}),a(a.G+a.W+a.F*!j,{Symbol:P});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),it=0;et.length>it;)f(et[it++]);for(var nt=M(f.store),ot=0;nt.length>ot;)y(nt[ot++]);a(a.S+a.F*!j,"Symbol",{"for":function(t){return o(F,t+="")?F[t]:F[t]=P(t)},keyFor:function(t){if(!X(t))throw TypeError(t+" is not a symbol!");for(var e in F)if(F[e]===t)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!j,"Object",{create:q,defineProperty:Z,defineProperties:K,getOwnPropertyDescriptor:Q,getOwnPropertyNames:$,getOwnPropertySymbols:tt}),O&&a(a.S+a.F*(!j||l(function(){var t=P();return"[null]"!=R([t])||"{}"!=R({a:t})||"{}"!=R(Object(t))})),"JSON",{stringify:function(t){for(var e,i,n=[t],o=1;arguments.length>o;)n.push(arguments[o++]);if(i=e=n[1],(v(e)||void 0!==t)&&!X(t))return m(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!X(e))return e}),n[1]=e,R.apply(O,n)}}),P[I][B]||i(11)(P[I],B,P[I].valueOf),h(P,"Symbol"),h(Math,"Math",!0),h(n.JSON,"JSON",!0)},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){t.exports=!i(8)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,i){var n=i(5),o=i(10),r=i(11),a=i(19),s=i(21),u="prototype",l=function(t,e,i){var c,h,p,f,d=t&l.F,y=t&l.G,g=t&l.S,m=t&l.P,_=t&l.B,v=y?n:g?n[e]||(n[e]={}):(n[e]||{})[u],T=y?o:o[e]||(o[e]={}),b=T[u]||(T[u]={});y&&(i=e);for(c in i)h=!d&&v&&void 0!==v[c],p=(h?v:i)[c],f=_&&h?s(p,n):m&&"function"==typeof p?s(Function.call,p):p,v&&a(v,c,p,t&l.U),T[c]!=p&&r(T,c,f),m&&b[c]!=p&&(b[c]=p)};n.core=o,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e){var i=t.exports={version:"2.5.4"};"number"==typeof __e&&(__e=i)},function(t,e,i){var n=i(12),o=i(18);t.exports=i(7)?function(t,e,i){return n.f(t,e,o(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var n=i(13),o=i(15),r=i(17),a=Object.defineProperty;e.f=i(7)?Object.defineProperty:function(t,e,i){if(n(t),e=r(e,!0),n(i),o)try{return a(t,e,i)}catch(s){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){var n=i(14);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){t.exports=!i(7)&&!i(8)(function(){return 7!=Object.defineProperty(i(16)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){var n=i(14),o=i(5).document,r=n(o)&&n(o.createElement);t.exports=function(t){return r?o.createElement(t):{}}},function(t,e,i){var n=i(14);t.exports=function(t,e){if(!n(t))return t;var i,o;if(e&&"function"==typeof(i=t.toString)&&!n(o=i.call(t)))return o;if("function"==typeof(i=t.valueOf)&&!n(o=i.call(t)))return o;if(!e&&"function"==typeof(i=t.toString)&&!n(o=i.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){var n=i(5),o=i(11),r=i(6),a=i(20)("src"),s="toString",u=Function[s],l=(""+u).split(s);i(10).inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,i,s){var u="function"==typeof i;u&&(r(i,"name")||o(i,"name",e)),t[e]!==i&&(u&&(r(i,a)||o(i,a,t[e]?""+t[e]:l.join(String(e)))),t===n?t[e]=i:s?t[e]?t[e]=i:o(t,e,i):(delete t[e],o(t,e,i)))})(Function.prototype,s,function(){return"function"==typeof this&&this[a]||u.call(this)})},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},function(t,e,i){var n=i(22);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,o){return t.call(e,i,n,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,i){var n=i(20)("meta"),o=i(14),r=i(6),a=i(12).f,s=0,u=Object.isExtensible||function(){return!0},l=!i(8)(function(){return u(Object.preventExtensions({}))}),c=function(t){a(t,n,{value:{i:"O"+ ++s,w:{}}})},h=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,n)){if(!u(t))return"F";if(!e)return"E";c(t)}return t[n].i},p=function(t,e){if(!r(t,n)){if(!u(t))return!0;if(!e)return!1;c(t)}return t[n].w},f=function(t){return l&&d.NEED&&u(t)&&!r(t,n)&&c(t),t},d=t.exports={KEY:n,NEED:!1,fastKey:h,getWeak:p,onFreeze:f}},function(t,e,i){var n=i(5),o="__core-js_shared__",r=n[o]||(n[o]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e,i){var n=i(12).f,o=i(6),r=i(26)("toStringTag");t.exports=function(t,e,i){t&&!o(t=i?t:t.prototype,r)&&n(t,r,{configurable:!0,value:e})}},function(t,e,i){var n=i(24)("wks"),o=i(20),r=i(5).Symbol,a="function"==typeof r,s=t.exports=function(t){return n[t]||(n[t]=a&&r[t]||(a?r:o)("Symbol."+t))};s.store=n},function(t,e,i){e.f=i(26)},function(t,e,i){var n=i(5),o=i(10),r=i(29),a=i(27),s=i(12).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=r?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e){t.exports=!1},function(t,e,i){var n=i(31),o=i(43),r=i(44);t.exports=function(t){var e=n(t),i=o.f;if(i)for(var a,s=i(t),u=r.f,l=0;s.length>l;)u.call(t,a=s[l++])&&e.push(a);return e}},function(t,e,i){var n=i(32),o=i(42);t.exports=Object.keys||function(t){return n(t,o)}},function(t,e,i){var n=i(6),o=i(33),r=i(37)(!1),a=i(41)("IE_PROTO");t.exports=function(t,e){var i,s=o(t),u=0,l=[];for(i in s)i!=a&&n(s,i)&&l.push(i);for(;e.length>u;)n(s,i=e[u++])&&(~r(l,i)||l.push(i));return l}},function(t,e,i){var n=i(34),o=i(36);t.exports=function(t){return n(o(t))}},function(t,e,i){var n=i(35);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,i){var n=i(33),o=i(38),r=i(40);t.exports=function(t){return function(e,i,a){var s,u=n(e),l=o(u.length),c=r(a,l);if(t&&i!=i){for(;l>c;)if(s=u[c++],s!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===i)return t||c||0;return!t&&-1}}},function(t,e,i){var n=i(39),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e,i){var n=i(39),o=Math.max,r=Math.min;t.exports=function(t,e){return t=n(t),t<0?o(t+e,0):r(t,e)}},function(t,e,i){var n=i(24)("keys"),o=i(20);t.exports=function(t){return n[t]||(n[t]=o(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){var n=i(35);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){var n=i(13),o=i(47),r=i(42),a=i(41)("IE_PROTO"),s=function(){},u="prototype",l=function(){var t,e=i(16)("iframe"),n=r.length,o="<",a=">";for(e.style.display="none",i(48).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(o+"script"+a+"document.F=Object"+o+"/script"+a),t.close(),l=t.F;n--;)delete l[u][r[n]];return l()};t.exports=Object.create||function(t,e){var i;return null!==t?(s[u]=n(t),i=new s,s[u]=null,i[a]=t):i=l(),void 0===e?i:o(i,e)}},function(t,e,i){var n=i(12),o=i(13),r=i(31);t.exports=i(7)?Object.defineProperties:function(t,e){o(t);for(var i,a=r(e),s=a.length,u=0;s>u;)n.f(t,i=a[u++],e[i]);return t}},function(t,e,i){var n=i(5).document;t.exports=n&&n.documentElement},function(t,e,i){var n=i(33),o=i(50).f,r={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return o(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==r.call(t)?s(t):o(n(t))}},function(t,e,i){var n=i(32),o=i(42).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},function(t,e,i){var n=i(44),o=i(18),r=i(33),a=i(17),s=i(6),u=i(15),l=Object.getOwnPropertyDescriptor;e.f=i(7)?l:function(t,e){if(t=r(t),e=a(e,!0),u)try{return l(t,e)}catch(i){}if(s(t,e))return o(!n.f.call(t,e),t[e])}},function(t,e,i){var n=i(9);n(n.S,"Object",{create:i(46)})},function(t,e,i){var n=i(9);n(n.S+n.F*!i(7),"Object",{defineProperty:i(12).f})},function(t,e,i){var n=i(9);n(n.S+n.F*!i(7),"Object",{defineProperties:i(47)})},function(t,e,i){var n=i(33),o=i(51).f;i(56)("getOwnPropertyDescriptor",function(){return function(t,e){return o(n(t),e)}})},function(t,e,i){var n=i(9),o=i(10),r=i(8);t.exports=function(t,e){var i=(o.Object||{})[t]||Object[t],a={};a[t]=e(i),n(n.S+n.F*r(function(){i(1)}),"Object",a)}},function(t,e,i){var n=i(58),o=i(59);i(56)("getPrototypeOf",function(){return function(t){return o(n(t))}})},function(t,e,i){var n=i(36);t.exports=function(t){return Object(n(t))}},function(t,e,i){var n=i(6),o=i(58),r=i(41)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),n(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,i){var n=i(58),o=i(31);i(56)("keys",function(){return function(t){return o(n(t))}})},function(t,e,i){i(56)("getOwnPropertyNames",function(){return i(49).f})},function(t,e,i){var n=i(14),o=i(23).onFreeze;i(56)("freeze",function(t){return function(e){return t&&n(e)?t(o(e)):e}})},function(t,e,i){var n=i(14),o=i(23).onFreeze;i(56)("seal",function(t){return function(e){return t&&n(e)?t(o(e)):e}})},function(t,e,i){var n=i(14),o=i(23).onFreeze;i(56)("preventExtensions",function(t){return function(e){return t&&n(e)?t(o(e)):e}})},function(t,e,i){var n=i(14);i(56)("isFrozen",function(t){return function(e){return!n(e)||!!t&&t(e)}})},function(t,e,i){var n=i(14);i(56)("isSealed",function(t){return function(e){return!n(e)||!!t&&t(e)}})},function(t,e,i){var n=i(14);i(56)("isExtensible",function(t){return function(e){return!!n(e)&&(!t||t(e))}})},function(t,e,i){var n=i(9);n(n.S+n.F,"Object",{assign:i(69)})},function(t,e,i){"use strict";var n=i(31),o=i(43),r=i(44),a=i(58),s=i(34),u=Object.assign;t.exports=!u||i(8)(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=u({},t)[i]||Object.keys(u({},e)).join("")!=n})?function(t,e){for(var i=a(t),u=arguments.length,l=1,c=o.f,h=r.f;u>l;)for(var p,f=s(arguments[l++]),d=c?n(f).concat(c(f)):n(f),y=d.length,g=0;y>g;)h.call(f,p=d[g++])&&(i[p]=f[p]);return i}:u},function(t,e,i){var n=i(9);n(n.S,"Object",{is:i(71)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},function(t,e,i){var n=i(9);n(n.S,"Object",{setPrototypeOf:i(73).set})},function(t,e,i){var n=i(14),o=i(13),r=function(t,e){if(o(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=i(21)(Function.call,i(51).f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,i){return r(t,i),e?t.__proto__=i:n(t,i),t}}({},!1):void 0),check:r}},function(t,e,i){"use strict";var n=i(75),o={};o[i(26)("toStringTag")]="z",o+""!="[object z]"&&i(19)(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},function(t,e,i){var n=i(35),o=i(26)("toStringTag"),r="Arguments"==n(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(i){}};t.exports=function(t){var e,i,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=a(e=Object(t),o))?i:r?n(e):"Object"==(s=n(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,i){var n=i(9);n(n.P,"Function",{bind:i(77)})},function(t,e,i){"use strict";var n=i(22),o=i(14),r=i(78),a=[].slice,s={},u=function(t,e,i){if(!(e in s)){for(var n=[],o=0;o<e;o++)n[o]="a["+o+"]";s[e]=Function("F,a","return new F("+n.join(",")+")")}return s[e](t,i)};t.exports=Function.bind||function(t){var e=n(this),i=a.call(arguments,1),s=function(){var n=i.concat(a.call(arguments));return this instanceof s?u(e,n.length,n):r(e,n,t)};return o(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e){t.exports=function(t,e,i){var n=void 0===i;switch(e.length){case 0:return n?t():t.call(i);case 1:return n?t(e[0]):t.call(i,e[0]);case 2:return n?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},function(t,e,i){var n=i(12).f,o=Function.prototype,r=/^\s*function ([^ (]*)/,a="name";a in o||i(7)&&n(o,a,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},function(t,e,i){"use strict";var n=i(14),o=i(59),r=i(26)("hasInstance"),a=Function.prototype;r in a||i(12).f(a,r,{value:function(t){if("function"!=typeof this||!n(t))return!1;if(!n(this.prototype))return t instanceof this;for(;t=o(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,i){var n=i(9),o=i(82);n(n.G+n.F*(parseInt!=o),{parseInt:o})},function(t,e,i){var n=i(5).parseInt,o=i(83).trim,r=i(84),a=/^[-+]?0[xX]/;t.exports=8!==n(r+"08")||22!==n(r+"0x16")?function(t,e){var i=o(String(t),3);return n(i,e>>>0||(a.test(i)?16:10))}:n},function(t,e,i){var n=i(9),o=i(36),r=i(8),a=i(84),s="["+a+"]",u="",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),h=function(t,e,i){var o={},s=r(function(){return!!a[t]()||u[t]()!=u}),l=o[t]=s?e(p):a[t];i&&(o[i]=l),n(n.P+n.F*s,"String",o)},p=h.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(c,"")),t};t.exports=h},function(t,e){t.exports="\t\n\x0B\f\r \u2028\u2029\ufeff"},function(t,e,i){var n=i(9),o=i(86);n(n.G+n.F*(parseFloat!=o),{parseFloat:o})},function(t,e,i){var n=i(5).parseFloat,o=i(83).trim;t.exports=1/n(i(84)+"-0")!==-(1/0)?function(t){var e=o(String(t),3),i=n(e);return 0===i&&"-"==e.charAt(0)?-0:i}:n},function(t,e,i){"use strict";var n=i(5),o=i(6),r=i(35),a=i(88),s=i(17),u=i(8),l=i(50).f,c=i(51).f,h=i(12).f,p=i(83).trim,f="Number",d=n[f],y=d,g=d.prototype,m=r(i(46)(g))==f,_="trim"in String.prototype,v=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=_?e.trim():p(e,3);var i,n,o,r=e.charCodeAt(0);if(43===r||45===r){if(i=e.charCodeAt(2),88===i||120===i)return NaN}else if(48===r){switch(e.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+e}for(var a,u=e.slice(2),l=0,c=u.length;l<c;l++)if(a=u.charCodeAt(l),a<48||a>o)return NaN;return parseInt(u,n)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof d&&(m?u(function(){g.valueOf.call(i)}):r(i)!=f)?a(new y(v(e)),i,d):v(e)};for(var T,b=i(7)?l(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;b.length>x;x++)o(y,T=b[x])&&!o(d,T)&&h(d,T,c(y,T));d.prototype=g,g.constructor=d,i(19)(n,f,d)}},function(t,e,i){var n=i(14),o=i(73).set;t.exports=function(t,e,i){var r,a=e.constructor;return a!==i&&"function"==typeof a&&(r=a.prototype)!==i.prototype&&n(r)&&o&&o(t,r),t}},function(t,e,i){"use strict";var n=i(9),o=i(39),r=i(90),a=i(91),s=1..toFixed,u=Math.floor,l=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",h="0",p=function(t,e){for(var i=-1,n=e;++i<6;)n+=t*l[i],l[i]=n%1e7,n=u(n/1e7)},f=function(t){for(var e=6,i=0;--e>=0;)i+=l[e],l[e]=u(i/t),i=i%t*1e7},d=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==l[t]){var i=String(l[t]);e=""===e?i:e+a.call(h,7-i.length)+i}return e},y=function(t,e,i){return 0===e?i:e%2===1?y(t,e-1,i*t):y(t*t,e/2,i)},g=function(t){for(var e=0,i=t;i>=4096;)e+=12,i/=4096;for(;i>=2;)e+=1,i/=2;return e};n(n.P+n.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i(8)(function(){s.call({})})),"Number",{toFixed:function(t){var e,i,n,s,u=r(this,c),l=o(t),m="",_=h;if(l<0||l>20)throw RangeError(c);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(m="-",u=-u),u>1e-21)if(e=g(u*y(2,69,1))-69,i=e<0?u*y(2,-e,1):u/y(2,e,1),i*=4503599627370496,e=52-e,e>0){for(p(0,i),n=l;n>=7;)p(1e7,0),n-=7;for(p(y(10,n,1),0),n=e-1;n>=23;)f(1<<23),n-=23;f(1<<n),p(1,1),f(2),_=d()}else p(0,i),p(1<<-e,0),_=d()+a.call(h,l);return l>0?(s=_.length,_=m+(s<=l?"0."+a.call(h,l-s)+_:_.slice(0,s-l)+"."+_.slice(s-l))):_=m+_,_}})},function(t,e,i){var n=i(35);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=n(t))throw TypeError(e);return+t}},function(t,e,i){"use strict";var n=i(39),o=i(36);t.exports=function(t){var e=String(o(this)),i="",r=n(t);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(i+=e);return i}},function(t,e,i){"use strict";var n=i(9),o=i(8),r=i(90),a=1..toPrecision;n(n.P+n.F*(o(function(){return"1"!==a.call(1,void 0)})||!o(function(){a.call({})})),"Number",{toPrecision:function(t){var e=r(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,i){var n=i(9);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,i){var n=i(9),o=i(5).isFinite;n(n.S,"Number",{isFinite:function(t){return"number"==typeof t&&o(t)}})},function(t,e,i){var n=i(9);n(n.S,"Number",{isInteger:i(96)})},function(t,e,i){var n=i(14),o=Math.floor;t.exports=function(t){return!n(t)&&isFinite(t)&&o(t)===t}},function(t,e,i){var n=i(9);n(n.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,i){var n=i(9),o=i(96),r=Math.abs;n(n.S,"Number",{isSafeInteger:function(t){return o(t)&&r(t)<=9007199254740991}})},function(t,e,i){var n=i(9);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,i){var n=i(9);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,i){var n=i(9),o=i(86);n(n.S+n.F*(Number.parseFloat!=o),"Number",{parseFloat:o})},function(t,e,i){var n=i(9),o=i(82);n(n.S+n.F*(Number.parseInt!=o),"Number",{parseInt:o})},function(t,e,i){var n=i(9),o=i(104),r=Math.sqrt,a=Math.acosh;n(n.S+n.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:o(t-1+r(t-1)*r(t+1))}})},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,i){function n(t){return isFinite(t=+t)&&0!=t?t<0?-n(-t):Math.log(t+Math.sqrt(t*t+1)):t}var o=i(9),r=Math.asinh;o(o.S+o.F*!(r&&1/r(0)>0),"Math",{asinh:n})},function(t,e,i){var n=i(9),o=Math.atanh;n(n.S+n.F*!(o&&1/o(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,i){var n=i(9),o=i(108);n(n.S,"Math",{cbrt:function(t){return o(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,i){var n=i(9);n(n.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,i){var n=i(9),o=Math.exp;n(n.S,"Math",{cosh:function(t){return(o(t=+t)+o(-t))/2}})},function(t,e,i){var n=i(9),o=i(112);n(n.S+n.F*(o!=Math.expm1),"Math",{expm1:o})},function(t,e){var i=Math.expm1;t.exports=!i||i(10)>22025.465794806718||i(10)<22025.465794806718||i(-2e-17)!=-2e-17?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:i},function(t,e,i){var n=i(9);n(n.S,"Math",{fround:i(114)})},function(t,e,i){var n=i(108),o=Math.pow,r=o(2,-52),a=o(2,-23),s=o(2,127)*(2-a),u=o(2,-126),l=function(t){return t+1/r-1/r};t.exports=Math.fround||function(t){var e,i,o=Math.abs(t),c=n(t);return o<u?c*l(o/u/a)*u*a:(e=(1+a/r)*o,i=e-(e-o),i>s||i!=i?c*(1/0):c*i)}},function(t,e,i){var n=i(9),o=Math.abs;n(n.S,"Math",{hypot:function(t,e){for(var i,n,r=0,a=0,s=arguments.length,u=0;a<s;)i=o(arguments[a++]),u<i?(n=u/i,r=r*n*n+1,u=i):i>0?(n=i/u,r+=n*n):r+=i;return u===1/0?1/0:u*Math.sqrt(r)}})},function(t,e,i){var n=i(9),o=Math.imul;n(n.S+n.F*i(8)(function(){return o(4294967295,5)!=-5||2!=o.length}),"Math",{imul:function(t,e){var i=65535,n=+t,o=+e,r=i&n,a=i&o;return 0|r*a+((i&n>>>16)*a+r*(i&o>>>16)<<16>>>0)}})},function(t,e,i){var n=i(9);n(n.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,i){var n=i(9);n(n.S,"Math",{log1p:i(104)})},function(t,e,i){var n=i(9);n(n.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,i){var n=i(9);n(n.S,"Math",{sign:i(108)})},function(t,e,i){var n=i(9),o=i(112),r=Math.exp;n(n.S+n.F*i(8)(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(o(t)-o(-t))/2:(r(t-1)-r(-t-1))*(Math.E/2)}})},function(t,e,i){var n=i(9),o=i(112),r=Math.exp;n(n.S,"Math",{tanh:function(t){var e=o(t=+t),i=o(-t);return e==1/0?1:i==1/0?-1:(e-i)/(r(t)+r(-t))}})},function(t,e,i){var n=i(9);n(n.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,i){var n=i(9),o=i(40),r=String.fromCharCode,a=String.fromCodePoint;n(n.S+n.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,i=[],n=arguments.length,a=0;n>a;){if(e=+arguments[a++],o(e,1114111)!==e)throw RangeError(e+" is not a valid code point");i.push(e<65536?r(e):r(((e-=65536)>>10)+55296,e%1024+56320))}return i.join("")}})},function(t,e,i){var n=i(9),o=i(33),r=i(38);n(n.S,"String",{raw:function(t){for(var e=o(t.raw),i=r(e.length),n=arguments.length,a=[],s=0;i>s;)a.push(String(e[s++])),s<n&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,i){"use strict";i(83)("trim",function(t){return function(){return t(this,3)}})},function(t,e,i){"use strict";var n=i(128)(!0);i(129)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},function(t,e,i){var n=i(39),o=i(36);t.exports=function(t){return function(e,i){var r,a,s=String(o(e)),u=n(i),l=s.length;return u<0||u>=l?t?"":void 0:(r=s.charCodeAt(u),r<55296||r>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):r:t?s.slice(u,u+2):(r-55296<<10)+(a-56320)+65536)}}},function(t,e,i){"use strict";var n=i(29),o=i(9),r=i(19),a=i(11),s=i(130),u=i(131),l=i(25),c=i(59),h=i(26)("iterator"),p=!([].keys&&"next"in[].keys()),f="@@iterator",d="keys",y="values",g=function(){return this};t.exports=function(t,e,i,m,_,v,T){u(i,e,m);var b,x,E,A=function(t){if(!p&&t in L)return L[t];switch(t){case d:return function(){return new i(this,t)};case y:return function(){return new i(this,t)}}return function(){return new i(this,t)}},D=e+" Iterator",S=_==y,M=!1,L=t.prototype,C=L[h]||L[f]||_&&L[_],w=C||A(_),P=_?S?A("entries"):w:void 0,O="Array"==e?L.entries||C:C;if(O&&(E=c(O.call(new t)),E!==Object.prototype&&E.next&&(l(E,D,!0),n||"function"==typeof E[h]||a(E,h,g))),S&&C&&C.name!==y&&(M=!0,w=function(){return C.call(this)}),n&&!T||!p&&!M&&L[h]||a(L,h,w),s[e]=w,s[D]=g,_)if(b={values:S?w:A(y),keys:v?w:A(d),entries:P},T)for(x in b)x in L||r(L,x,b[x]);else o(o.P+o.F*(p||M),e,b);return b}},function(t,e){t.exports={}},function(t,e,i){"use strict";var n=i(46),o=i(18),r=i(25),a={};i(11)(a,i(26)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=n(a,{next:o(1,i)}),r(t,e+" Iterator")}},function(t,e,i){"use strict";var n=i(9),o=i(128)(!1);n(n.P,"String",{codePointAt:function(t){return o(this,t)}})},function(t,e,i){"use strict";var n=i(9),o=i(38),r=i(134),a="endsWith",s=""[a];n(n.P+n.F*i(136)(a),"String",{endsWith:function(t){var e=r(this,t,a),i=arguments.length>1?arguments[1]:void 0,n=o(e.length),u=void 0===i?n:Math.min(o(i),n),l=String(t);return s?s.call(e,l,u):e.slice(u-l.length,u)===l}})},function(t,e,i){var n=i(135),o=i(36);t.exports=function(t,e,i){if(n(e))throw TypeError("String#"+i+" doesn't accept regex!");return String(o(t))}},function(t,e,i){var n=i(14),o=i(35),r=i(26)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==o(t))}},function(t,e,i){var n=i(26)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[n]=!1,!"/./"[t](e)}catch(o){}}return!0}},function(t,e,i){"use strict";var n=i(9),o=i(134),r="includes";n(n.P+n.F*i(136)(r),"String",{includes:function(t){return!!~o(this,t,r).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){var n=i(9);n(n.P,"String",{repeat:i(91)})},function(t,e,i){"use strict";var n=i(9),o=i(38),r=i(134),a="startsWith",s=""[a];n(n.P+n.F*i(136)(a),"String",{startsWith:function(t){var e=r(this,t,a),i=o(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return s?s.call(e,n,i):e.slice(i,i+n.length)===n}})},function(t,e,i){"use strict";i(141)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,i){var n=i(9),o=i(8),r=i(36),a=/"/g,s=function(t,e,i,n){var o=String(r(t)),s="<"+e;return""!==i&&(s+=" "+i+'="'+String(n).replace(a,"&quot;")+'"'),s+">"+o+"</"+e+">"};t.exports=function(t,e){var i={};i[t]=e(s),n(n.P+n.F*o(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",i)}},function(t,e,i){"use strict";i(141)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,i){"use strict";i(141)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,i){"use strict";i(141)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,i){"use strict";i(141)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,i){"use strict";i(141)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,i){"use strict";i(141)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,i){"use strict";i(141)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,i){"use strict";i(141)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,i){"use strict";i(141)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,i){"use strict";i(141)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,i){"use strict";i(141)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,i){"use strict";i(141)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,i){var n=i(9);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,i){"use strict";var n=i(9),o=i(58),r=i(17);n(n.P+n.F*i(8)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=o(this),i=r(e);return"number"!=typeof i||isFinite(i)?e.toISOString():null;
}})},function(t,e,i){var n=i(9),o=i(157);n(n.P+n.F*(Date.prototype.toISOString!==o),"Date",{toISOString:o})},function(t,e,i){"use strict";var n=i(8),o=Date.prototype.getTime,r=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=r.call(new Date(-5e13-1))})||!n(function(){r.call(new Date(NaN))})?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),i=t.getUTCMilliseconds(),n=e<0?"-":e>9999?"+":"";return n+("00000"+Math.abs(e)).slice(n?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(i>99?i:"0"+a(i))+"Z"}:r},function(t,e,i){var n=Date.prototype,o="Invalid Date",r="toString",a=n[r],s=n.getTime;new Date(NaN)+""!=o&&i(19)(n,r,function(){var t=s.call(this);return t===t?a.call(this):o})},function(t,e,i){var n=i(26)("toPrimitive"),o=Date.prototype;n in o||i(11)(o,n,i(160))},function(t,e,i){"use strict";var n=i(13),o=i(17),r="number";t.exports=function(t){if("string"!==t&&t!==r&&"default"!==t)throw TypeError("Incorrect hint");return o(n(this),t!=r)}},function(t,e,i){var n=i(9);n(n.S,"Array",{isArray:i(45)})},function(t,e,i){"use strict";var n=i(21),o=i(9),r=i(58),a=i(163),s=i(164),u=i(38),l=i(165),c=i(166);o(o.S+o.F*!i(167)(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,o,h,p=r(t),f="function"==typeof this?this:Array,d=arguments.length,y=d>1?arguments[1]:void 0,g=void 0!==y,m=0,_=c(p);if(g&&(y=n(y,d>2?arguments[2]:void 0,2)),void 0==_||f==Array&&s(_))for(e=u(p.length),i=new f(e);e>m;m++)l(i,m,g?y(p[m],m):p[m]);else for(h=_.call(p),i=new f;!(o=h.next()).done;m++)l(i,m,g?a(h,y,[o.value,m],!0):o.value);return i.length=m,i}})},function(t,e,i){var n=i(13);t.exports=function(t,e,i,o){try{return o?e(n(i)[0],i[1]):e(i)}catch(r){var a=t["return"];throw void 0!==a&&n(a.call(t)),r}}},function(t,e,i){var n=i(130),o=i(26)("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||r[o]===t)}},function(t,e,i){"use strict";var n=i(12),o=i(18);t.exports=function(t,e,i){e in t?n.f(t,e,o(0,i)):t[e]=i}},function(t,e,i){var n=i(75),o=i(26)("iterator"),r=i(130);t.exports=i(10).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||r[n(t)]}},function(t,e,i){var n=i(26)("iterator"),o=!1;try{var r=[7][n]();r["return"]=function(){o=!0},Array.from(r,function(){throw 2})}catch(a){}t.exports=function(t,e){if(!e&&!o)return!1;var i=!1;try{var r=[7],a=r[n]();a.next=function(){return{done:i=!0}},r[n]=function(){return a},t(r)}catch(s){}return i}},function(t,e,i){"use strict";var n=i(9),o=i(165);n(n.S+n.F*i(8)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,i=new("function"==typeof this?this:Array)(e);e>t;)o(i,t,arguments[t++]);return i.length=e,i}})},function(t,e,i){"use strict";var n=i(9),o=i(33),r=[].join;n(n.P+n.F*(i(34)!=Object||!i(170)(r)),"Array",{join:function(t){return r.call(o(this),void 0===t?",":t)}})},function(t,e,i){"use strict";var n=i(8);t.exports=function(t,e){return!!t&&n(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,i){"use strict";var n=i(9),o=i(48),r=i(35),a=i(40),s=i(38),u=[].slice;n(n.P+n.F*i(8)(function(){o&&u.call(o)}),"Array",{slice:function(t,e){var i=s(this.length),n=r(this);if(e=void 0===e?i:e,"Array"==n)return u.call(this,t,e);for(var o=a(t,i),l=a(e,i),c=s(l-o),h=new Array(c),p=0;p<c;p++)h[p]="String"==n?this.charAt(o+p):this[o+p];return h}})},function(t,e,i){"use strict";var n=i(9),o=i(22),r=i(58),a=i(8),s=[].sort,u=[1,2,3];n(n.P+n.F*(a(function(){u.sort(void 0)})||!a(function(){u.sort(null)})||!i(170)(s)),"Array",{sort:function(t){return void 0===t?s.call(r(this)):s.call(r(this),o(t))}})},function(t,e,i){"use strict";var n=i(9),o=i(174)(0),r=i(170)([].forEach,!0);n(n.P+n.F*!r,"Array",{forEach:function(t){return o(this,t,arguments[1])}})},function(t,e,i){var n=i(21),o=i(34),r=i(58),a=i(38),s=i(175);t.exports=function(t,e){var i=1==t,u=2==t,l=3==t,c=4==t,h=6==t,p=5==t||h,f=e||s;return function(e,s,d){for(var y,g,m=r(e),_=o(m),v=n(s,d,3),T=a(_.length),b=0,x=i?f(e,T):u?f(e,0):void 0;T>b;b++)if((p||b in _)&&(y=_[b],g=v(y,b,m),t))if(i)x[b]=g;else if(g)switch(t){case 3:return!0;case 5:return y;case 6:return b;case 2:x.push(y)}else if(c)return!1;return h?-1:l||c?c:x}}},function(t,e,i){var n=i(176);t.exports=function(t,e){return new(n(t))(e)}},function(t,e,i){var n=i(14),o=i(45),r=i(26)("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)||(e=void 0),n(e)&&(e=e[r],null===e&&(e=void 0))),void 0===e?Array:e}},function(t,e,i){"use strict";var n=i(9),o=i(174)(1);n(n.P+n.F*!i(170)([].map,!0),"Array",{map:function(t){return o(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(9),o=i(174)(2);n(n.P+n.F*!i(170)([].filter,!0),"Array",{filter:function(t){return o(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(9),o=i(174)(3);n(n.P+n.F*!i(170)([].some,!0),"Array",{some:function(t){return o(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(9),o=i(174)(4);n(n.P+n.F*!i(170)([].every,!0),"Array",{every:function(t){return o(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(9),o=i(182);n(n.P+n.F*!i(170)([].reduce,!0),"Array",{reduce:function(t){return o(this,t,arguments.length,arguments[1],!1)}})},function(t,e,i){var n=i(22),o=i(58),r=i(34),a=i(38);t.exports=function(t,e,i,s,u){n(e);var l=o(t),c=r(l),h=a(l.length),p=u?h-1:0,f=u?-1:1;if(i<2)for(;;){if(p in c){s=c[p],p+=f;break}if(p+=f,u?p<0:h<=p)throw TypeError("Reduce of empty array with no initial value")}for(;u?p>=0:h>p;p+=f)p in c&&(s=e(s,c[p],p,l));return s}},function(t,e,i){"use strict";var n=i(9),o=i(182);n(n.P+n.F*!i(170)([].reduceRight,!0),"Array",{reduceRight:function(t){return o(this,t,arguments.length,arguments[1],!0)}})},function(t,e,i){"use strict";var n=i(9),o=i(37)(!1),r=[].indexOf,a=!!r&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(a||!i(170)(r)),"Array",{indexOf:function(t){return a?r.apply(this,arguments)||0:o(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(9),o=i(33),r=i(39),a=i(38),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(u||!i(170)(s)),"Array",{lastIndexOf:function(t){if(u)return s.apply(this,arguments)||0;var e=o(this),i=a(e.length),n=i-1;for(arguments.length>1&&(n=Math.min(n,r(arguments[1]))),n<0&&(n=i+n);n>=0;n--)if(n in e&&e[n]===t)return n||0;return-1}})},function(t,e,i){var n=i(9);n(n.P,"Array",{copyWithin:i(187)}),i(188)("copyWithin")},function(t,e,i){"use strict";var n=i(58),o=i(40),r=i(38);t.exports=[].copyWithin||function(t,e){var i=n(this),a=r(i.length),s=o(t,a),u=o(e,a),l=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===l?a:o(l,a))-u,a-s),h=1;for(u<s&&s<u+c&&(h=-1,u+=c-1,s+=c-1);c-- >0;)u in i?i[s]=i[u]:delete i[s],s+=h,u+=h;return i}},function(t,e,i){var n=i(26)("unscopables"),o=Array.prototype;void 0==o[n]&&i(11)(o,n,{}),t.exports=function(t){o[n][t]=!0}},function(t,e,i){var n=i(9);n(n.P,"Array",{fill:i(190)}),i(188)("fill")},function(t,e,i){"use strict";var n=i(58),o=i(40),r=i(38);t.exports=function(t){for(var e=n(this),i=r(e.length),a=arguments.length,s=o(a>1?arguments[1]:void 0,i),u=a>2?arguments[2]:void 0,l=void 0===u?i:o(u,i);l>s;)e[s++]=t;return e}},function(t,e,i){"use strict";var n=i(9),o=i(174)(5),r="find",a=!0;r in[]&&Array(1)[r](function(){a=!1}),n(n.P+n.F*a,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i(188)(r)},function(t,e,i){"use strict";var n=i(9),o=i(174)(6),r="findIndex",a=!0;r in[]&&Array(1)[r](function(){a=!1}),n(n.P+n.F*a,"Array",{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i(188)(r)},function(t,e,i){i(194)("Array")},function(t,e,i){"use strict";var n=i(5),o=i(12),r=i(7),a=i(26)("species");t.exports=function(t){var e=n[t];r&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,i){"use strict";var n=i(188),o=i(196),r=i(130),a=i(33);t.exports=i(129)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,o(1)):"keys"==e?o(0,i):"values"==e?o(0,t[i]):o(0,[i,t[i]])},"values"),r.Arguments=r.Array,n("keys"),n("values"),n("entries")},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,i){var n=i(5),o=i(88),r=i(12).f,a=i(50).f,s=i(135),u=i(198),l=n.RegExp,c=l,h=l.prototype,p=/a/g,f=/a/g,d=new l(p)!==p;if(i(7)&&(!d||i(8)(function(){return f[i(26)("match")]=!1,l(p)!=p||l(f)==f||"/a/i"!=l(p,"i")}))){l=function(t,e){var i=this instanceof l,n=s(t),r=void 0===e;return!i&&n&&t.constructor===l&&r?t:o(d?new c(n&&!r?t.source:t,e):c((n=t instanceof l)?t.source:t,n&&r?u.call(t):e),i?this:h,l)};for(var y=(function(t){t in l||r(l,t,{configurable:!0,get:function(){return c[t]},set:function(e){c[t]=e}})}),g=a(c),m=0;g.length>m;)y(g[m++]);h.constructor=l,l.prototype=h,i(19)(n,"RegExp",l)}i(194)("RegExp")},function(t,e,i){"use strict";var n=i(13);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,i){"use strict";i(200);var n=i(13),o=i(198),r=i(7),a="toString",s=/./[a],u=function(t){i(19)(RegExp.prototype,a,t,!0)};i(8)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?u(function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!r&&t instanceof RegExp?o.call(t):void 0)}):s.name!=a&&u(function(){return s.call(this)})},function(t,e,i){i(7)&&"g"!=/./g.flags&&i(12).f(RegExp.prototype,"flags",{configurable:!0,get:i(198)})},function(t,e,i){i(202)("match",1,function(t,e,i){return[function(i){"use strict";var n=t(this),o=void 0==i?void 0:i[e];return void 0!==o?o.call(i,n):new RegExp(i)[e](String(n))},i]})},function(t,e,i){"use strict";var n=i(11),o=i(19),r=i(8),a=i(36),s=i(26);t.exports=function(t,e,i){var u=s(t),l=i(a,u,""[t]),c=l[0],h=l[1];r(function(){var e={};return e[u]=function(){return 7},7!=""[t](e)})&&(o(String.prototype,t,c),n(RegExp.prototype,u,2==e?function(t,e){return h.call(t,this,e)}:function(t){return h.call(t,this)}))}},function(t,e,i){i(202)("replace",2,function(t,e,i){return[function(n,o){"use strict";var r=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,r,o):i.call(String(r),n,o)},i]})},function(t,e,i){i(202)("search",1,function(t,e,i){return[function(i){"use strict";var n=t(this),o=void 0==i?void 0:i[e];return void 0!==o?o.call(i,n):new RegExp(i)[e](String(n))},i]})},function(t,e,i){i(202)("split",2,function(t,e,n){"use strict";var o=i(135),r=n,a=[].push,s="split",u="length",l="lastIndex";if("c"=="abbc"[s](/(b)*/)[1]||4!="test"[s](/(?:)/,-1)[u]||2!="ab"[s](/(?:ab)*/)[u]||4!="."[s](/(.?)(.?)/)[u]||"."[s](/()()/)[u]>1||""[s](/.?/)[u]){var c=void 0===/()??/.exec("")[1];n=function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!o(t))return r.call(i,t,e);var n,s,h,p,f,d=[],y=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),g=0,m=void 0===e?4294967295:e>>>0,_=new RegExp(t.source,y+"g");for(c||(n=new RegExp("^"+_.source+"$(?!\\s)",y));(s=_.exec(i))&&(h=s.index+s[0][u],!(h>g&&(d.push(i.slice(g,s.index)),!c&&s[u]>1&&s[0].replace(n,function(){for(f=1;f<arguments[u]-2;f++)void 0===arguments[f]&&(s[f]=void 0)}),s[u]>1&&s.index<i[u]&&a.apply(d,s.slice(1)),p=s[0][u],g=h,d[u]>=m)));)_[l]===s.index&&_[l]++;return g===i[u]?!p&&_.test("")||d.push(""):d.push(i.slice(g)),d[u]>m?d.slice(0,m):d}}else"0"[s](void 0,0)[u]&&(n=function(t,e){return void 0===t&&0===e?[]:r.call(this,t,e)});return[function(i,o){var r=t(this),a=void 0==i?void 0:i[e];return void 0!==a?a.call(i,r,o):n.call(String(r),i,o)},n]})},function(t,e,i){"use strict";var n,o,r,a,s=i(29),u=i(5),l=i(21),c=i(75),h=i(9),p=i(14),f=i(22),d=i(207),y=i(208),g=i(209),m=i(210).set,_=i(211)(),v=i(212),T=i(213),b=i(214),x="Promise",E=u.TypeError,A=u.process,D=u[x],S="process"==c(A),M=function(){},L=o=v.f,C=!!function(){try{var t=D.resolve(1),e=(t.constructor={})[i(26)("species")]=function(t){t(M,M)};return(S||"function"==typeof PromiseRejectionEvent)&&t.then(M)instanceof e}catch(n){}}(),w=function(t){var e;return!(!p(t)||"function"!=typeof(e=t.then))&&e},P=function(t,e){if(!t._n){t._n=!0;var i=t._c;_(function(){for(var n=t._v,o=1==t._s,r=0,a=function(e){var i,r,a,s=o?e.ok:e.fail,u=e.resolve,l=e.reject,c=e.domain;try{s?(o||(2==t._h&&I(t),t._h=1),s===!0?i=n:(c&&c.enter(),i=s(n),c&&(c.exit(),a=!0)),i===e.promise?l(E("Promise-chain cycle")):(r=w(i))?r.call(i,u,l):u(i)):l(n)}catch(h){c&&!a&&c.exit(),l(h)}};i.length>r;)a(i[r++]);t._c=[],t._n=!1,e&&!t._h&&O(t)})}},O=function(t){m.call(u,function(){var e,i,n,o=t._v,r=R(t);if(r&&(e=T(function(){S?A.emit("unhandledRejection",o,t):(i=u.onunhandledrejection)?i({promise:t,reason:o}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",o)}),t._h=S||R(t)?2:1),t._a=void 0,r&&e.e)throw e.v})},R=function(t){return 1!==t._h&&0===(t._a||t._c).length},I=function(t){m.call(u,function(){var e;S?A.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},k=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),P(e,!0))},B=function(t){var e,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw E("Promise can't be resolved itself");(e=w(t))?_(function(){var n={_w:i,_d:!1};try{e.call(t,l(B,n,1),l(k,n,1))}catch(o){k.call(n,o)}}):(i._v=t,i._s=1,P(i,!1))}catch(n){k.call({_w:i,_d:!1},n)}}};C||(D=function(t){d(this,D,x,"_h"),f(t),n.call(this);try{t(l(B,this,1),l(k,this,1))}catch(e){k.call(this,e)}},n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=i(215)(D.prototype,{then:function(t,e){var i=L(g(this,D));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=S?A.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&P(this,!1),i.promise},"catch":function(t){return this.then(void 0,t)}}),r=function(){var t=new n;this.promise=t,this.resolve=l(B,t,1),this.reject=l(k,t,1)},v.f=L=function(t){return t===D||t===a?new r(t):o(t)}),h(h.G+h.W+h.F*!C,{Promise:D}),i(25)(D,x),i(194)(x),a=i(10)[x],h(h.S+h.F*!C,x,{reject:function(t){var e=L(this),i=e.reject;return i(t),e.promise}}),h(h.S+h.F*(s||!C),x,{resolve:function(t){return b(s&&this===a?D:this,t)}}),h(h.S+h.F*!(C&&i(167)(function(t){D.all(t)["catch"](M)})),x,{all:function(t){var e=this,i=L(e),n=i.resolve,o=i.reject,r=T(function(){var i=[],r=0,a=1;y(t,!1,function(t){var s=r++,u=!1;i.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,i[s]=t,--a||n(i))},o)}),--a||n(i)});return r.e&&o(r.v),i.promise},race:function(t){var e=this,i=L(e),n=i.reject,o=T(function(){y(t,!1,function(t){e.resolve(t).then(i.resolve,n)})});return o.e&&n(o.v),i.promise}})},function(t,e){t.exports=function(t,e,i,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(i+": incorrect invocation!");return t}},function(t,e,i){var n=i(21),o=i(163),r=i(164),a=i(13),s=i(38),u=i(166),l={},c={},e=t.exports=function(t,e,i,h,p){var f,d,y,g,m=p?function(){return t}:u(t),_=n(i,h,e?2:1),v=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(r(m)){for(f=s(t.length);f>v;v++)if(g=e?_(a(d=t[v])[0],d[1]):_(t[v]),g===l||g===c)return g}else for(y=m.call(t);!(d=y.next()).done;)if(g=o(y,_,d.value,e),g===l||g===c)return g};e.BREAK=l,e.RETURN=c},function(t,e,i){var n=i(13),o=i(22),r=i(26)("species");t.exports=function(t,e){var i,a=n(t).constructor;return void 0===a||void 0==(i=n(a)[r])?e:o(i)}},function(t,e,i){var n,o,r,a=i(21),s=i(78),u=i(48),l=i(16),c=i(5),h=c.process,p=c.setImmediate,f=c.clearImmediate,d=c.MessageChannel,y=c.Dispatch,g=0,m={},_="onreadystatechange",v=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},T=function(t){v.call(t.data)};p&&f||(p=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return m[++g]=function(){s("function"==typeof t?t:Function(t),e)},n(g),g},f=function(t){delete m[t]},"process"==i(35)(h)?n=function(t){h.nextTick(a(v,t,1))}:y&&y.now?n=function(t){y.now(a(v,t,1))}:d?(o=new d,r=o.port2,o.port1.onmessage=T,n=a(r.postMessage,r,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(t){c.postMessage(t+"","*")},c.addEventListener("message",T,!1)):n=_ in l("script")?function(t){u.appendChild(l("script"))[_]=function(){u.removeChild(this),v.call(t)}}:function(t){setTimeout(a(v,t,1),0)}),t.exports={set:p,clear:f}},function(t,e,i){var n=i(5),o=i(210).set,r=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,u="process"==i(35)(a);t.exports=function(){var t,e,i,l=function(){var n,o;for(u&&(n=a.domain)&&n.exit();t;){o=t.fn,t=t.next;try{o()}catch(r){throw t?i():e=void 0,r}}e=void 0,n&&n.enter()};if(u)i=function(){a.nextTick(l)};else if(!r||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var c=s.resolve();i=function(){c.then(l)}}else i=function(){o.call(n,l)};else{var h=!0,p=document.createTextNode("");new r(l).observe(p,{characterData:!0}),i=function(){p.data=h=!h}}return function(n){var o={fn:n,next:void 0};e&&(e.next=o),t||(t=o,i()),e=o}}},function(t,e,i){"use strict";function n(t){var e,i;this.promise=new t(function(t,n){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=n}),this.resolve=o(e),this.reject=o(i)}var o=i(22);t.exports.f=function(t){return new n(t)}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},function(t,e,i){var n=i(13),o=i(14),r=i(212);t.exports=function(t,e){if(n(t),o(e)&&e.constructor===t)return e;var i=r.f(t),a=i.resolve;return a(e),i.promise}},function(t,e,i){var n=i(19);t.exports=function(t,e,i){for(var o in e)n(t,o,e[o],i);return t}},function(t,e,i){"use strict";var n=i(217),o=i(218),r="Map";t.exports=i(219)(r,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=n.getEntry(o(this,r),t);return e&&e.v},set:function(t,e){return n.def(o(this,r),0===t?0:t,e)}},n,!0)},function(t,e,i){"use strict";var n=i(12).f,o=i(46),r=i(215),a=i(21),s=i(207),u=i(208),l=i(129),c=i(196),h=i(194),p=i(7),f=i(23).fastKey,d=i(218),y=p?"_s":"size",g=function(t,e){var i,n=f(e);if("F"!==n)return t._i[n];for(i=t._f;i;i=i.n)if(i.k==e)return i};t.exports={getConstructor:function(t,e,i,l){var c=t(function(t,n){s(t,c,e,"_i"),t._t=e,t._i=o(null),t._f=void 0,t._l=void 0,t[y]=0,void 0!=n&&u(n,i,t[l],t)});return r(c.prototype,{clear:function(){for(var t=d(this,e),i=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete i[n.i];t._f=t._l=void 0,t[y]=0},"delete":function(t){var i=d(this,e),n=g(i,t);if(n){var o=n.n,r=n.p;delete i._i[n.i],n.r=!0,r&&(r.n=o),o&&(o.p=r),i._f==n&&(i._f=o),i._l==n&&(i._l=r),i[y]--}return!!n},forEach:function(t){d(this,e);for(var i,n=a(t,arguments.length>1?arguments[1]:void 0,3);i=i?i.n:this._f;)for(n(i.v,i.k,this);i&&i.r;)i=i.p},has:function(t){return!!g(d(this,e),t)}}),p&&n(c.prototype,"size",{get:function(){return d(this,e)[y]}}),c},def:function(t,e,i){var n,o,r=g(t,e);return r?r.v=i:(t._l=r={i:o=f(e,!0),k:e,v:i,p:n=t._l,n:void 0,r:!1},t._f||(t._f=r),n&&(n.n=r),t[y]++,"F"!==o&&(t._i[o]=r)),t},getEntry:g,setStrong:function(t,e,i){l(t,e,function(t,i){this._t=d(t,e),this._k=i,this._l=void 0},function(){for(var t=this,e=t._k,i=t._l;i&&i.r;)i=i.p;return t._t&&(t._l=i=i?i.n:t._t._f)?"keys"==e?c(0,i.k):"values"==e?c(0,i.v):c(0,[i.k,i.v]):(t._t=void 0,c(1))},i?"entries":"values",!i,!0),h(e)}}},function(t,e,i){var n=i(14);t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,i){"use strict";var n=i(5),o=i(9),r=i(19),a=i(215),s=i(23),u=i(208),l=i(207),c=i(14),h=i(8),p=i(167),f=i(25),d=i(88);t.exports=function(t,e,i,y,g,m){var _=n[t],v=_,T=g?"set":"add",b=v&&v.prototype,x={},E=function(t){var e=b[t];r(b,t,"delete"==t?function(t){return!(m&&!c(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!c(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,i){return e.call(this,0===t?0:t,i),this})};if("function"==typeof v&&(m||b.forEach&&!h(function(){(new v).entries().next()}))){var A=new v,D=A[T](m?{}:-0,1)!=A,S=h(function(){A.has(1)}),M=p(function(t){new v(t)}),L=!m&&h(function(){for(var t=new v,e=5;e--;)t[T](e,e);return!t.has(-0)});M||(v=e(function(e,i){l(e,v,t);var n=d(new _,e,v);return void 0!=i&&u(i,g,n[T],n),n}),v.prototype=b,b.constructor=v),(S||L)&&(E("delete"),E("has"),g&&E("get")),(L||D)&&E(T),m&&b.clear&&delete b.clear}else v=y.getConstructor(e,t,g,T),a(v.prototype,i),s.NEED=!0;return f(v,t),x[t]=v,o(o.G+o.W+o.F*(v!=_),x),m||y.setStrong(v,t,g),v}},function(t,e,i){"use strict";var n=i(217),o=i(218),r="Set";t.exports=i(219)(r,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(o(this,r),t=0===t?0:t,t)}},n)},function(t,e,i){"use strict";var n,o=i(174)(0),r=i(19),a=i(23),s=i(69),u=i(222),l=i(14),c=i(8),h=i(218),p="WeakMap",f=a.getWeak,d=Object.isExtensible,y=u.ufstore,g={},m=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},_={get:function(t){if(l(t)){var e=f(t);return e===!0?y(h(this,p)).get(t):e?e[this._i]:void 0}},set:function(t,e){return u.def(h(this,p),t,e)}},v=t.exports=i(219)(p,m,_,u,!0,!0);c(function(){return 7!=(new v).set((Object.freeze||Object)(g),7).get(g)})&&(n=u.getConstructor(m,p),s(n.prototype,_),a.NEED=!0,o(["delete","has","get","set"],function(t){var e=v.prototype,i=e[t];r(e,t,function(e,o){if(l(e)&&!d(e)){this._f||(this._f=new n);var r=this._f[t](e,o);return"set"==t?this:r}return i.call(this,e,o)})}))},function(t,e,i){"use strict";var n=i(215),o=i(23).getWeak,r=i(13),a=i(14),s=i(207),u=i(208),l=i(174),c=i(6),h=i(218),p=l(5),f=l(6),d=0,y=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},m=function(t,e){return p(t.a,function(t){return t[0]===e})};g.prototype={get:function(t){var e=m(this,t);if(e)return e[1]},has:function(t){return!!m(this,t)},set:function(t,e){var i=m(this,t);i?i[1]=e:this.a.push([t,e])},"delete":function(t){var e=f(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,i,r){var l=t(function(t,n){s(t,l,e,"_i"),t._t=e,t._i=d++,t._l=void 0,void 0!=n&&u(n,i,t[r],t)});return n(l.prototype,{"delete":function(t){if(!a(t))return!1;var i=o(t);return i===!0?y(h(this,e))["delete"](t):i&&c(i,this._i)&&delete i[this._i]},has:function(t){if(!a(t))return!1;var i=o(t);return i===!0?y(h(this,e)).has(t):i&&c(i,this._i)}}),l},def:function(t,e,i){var n=o(r(e),!0);return n===!0?y(t).set(e,i):n[t._i]=i,t},ufstore:y}},function(t,e,i){"use strict";var n=i(222),o=i(218),r="WeakSet";i(219)(r,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(o(this,r),t,!0)}},n,!1,!0)},function(t,e,i){"use strict";var n=i(9),o=i(225),r=i(226),a=i(13),s=i(40),u=i(38),l=i(14),c=i(5).ArrayBuffer,h=i(209),p=r.ArrayBuffer,f=r.DataView,d=o.ABV&&c.isView,y=p.prototype.slice,g=o.VIEW,m="ArrayBuffer";n(n.G+n.W+n.F*(c!==p),{ArrayBuffer:p}),n(n.S+n.F*!o.CONSTR,m,{isView:function(t){return d&&d(t)||l(t)&&g in t}}),n(n.P+n.U+n.F*i(8)(function(){return!new p(2).slice(1,void 0).byteLength}),m,{slice:function(t,e){if(void 0!==y&&void 0===e)return y.call(a(this),t);for(var i=a(this).byteLength,n=s(t,i),o=s(void 0===e?i:e,i),r=new(h(this,p))(u(o-n)),l=new f(this),c=new f(r),d=0;n<o;)c.setUint8(d++,l.getUint8(n++));return r}}),i(194)(m)},function(t,e,i){for(var n,o=i(5),r=i(11),a=i(20),s=a("typed_array"),u=a("view"),l=!(!o.ArrayBuffer||!o.DataView),c=l,h=0,p=9,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<p;)(n=o[f[h++]])?(r(n.prototype,s,!0),r(n.prototype,u,!0)):c=!1;t.exports={ABV:l,CONSTR:c,TYPED:s,VIEW:u}},function(t,e,i){"use strict";function n(t,e,i){var n,o,r,a=new Array(i),s=8*i-e-1,u=(1<<s)-1,l=u>>1,c=23===e?V(2,-24)-V(2,-77):0,h=0,p=t<0||0===t&&1/t<0?1:0;for(t=H(t),t!=t||t===F?(o=t!=t?1:0,n=u):(n=j(z(t)/W),t*(r=V(2,-n))<1&&(n--,r*=2),t+=n+l>=1?c/r:c*V(2,1-l),t*r>=2&&(n++,r/=2),n+l>=u?(o=0,n=u):n+l>=1?(o=(t*r-1)*V(2,e),n+=l):(o=t*V(2,l-1)*V(2,e),n=0));e>=8;a[h++]=255&o,o/=256,e-=8);for(n=n<<e|o,s+=e;s>0;a[h++]=255&n,n/=256,s-=8);return a[--h]|=128*p,a}function o(t,e,i){var n,o=8*i-e-1,r=(1<<o)-1,a=r>>1,s=o-7,u=i-1,l=t[u--],c=127&l;for(l>>=7;s>0;c=256*c+t[u],u--,s-=8);for(n=c&(1<<-s)-1,c>>=-s,s+=e;s>0;n=256*n+t[u],u--,s-=8);if(0===c)c=1-a;else{if(c===r)return n?NaN:l?-F:F;n+=V(2,e),c-=a}return(l?-1:1)*n*V(2,c-e)}function r(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function a(t){return[255&t]}function s(t){return[255&t,t>>8&255]}function u(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function l(t){return n(t,52,8)}function c(t){return n(t,23,4)}function h(t,e,i){S(t[P],e,{get:function(){return this[i]}})}function p(t,e,i,n){var o=+i,r=A(o);if(r+e>t[K])throw N(R);var a=t[Z]._b,s=r+t[q],u=a.slice(s,s+e);return n?u:u.reverse()}function f(t,e,i,n,o,r){var a=+i,s=A(a);if(s+e>t[K])throw N(R);for(var u=t[Z]._b,l=s+t[q],c=n(+o),h=0;h<e;h++)u[l+h]=c[r?h:e-h-1]}var d=i(5),y=i(7),g=i(29),m=i(225),_=i(11),v=i(215),T=i(8),b=i(207),x=i(39),E=i(38),A=i(227),D=i(50).f,S=i(12).f,M=i(190),L=i(25),C="ArrayBuffer",w="DataView",P="prototype",O="Wrong length!",R="Wrong index!",I=d[C],k=d[w],B=d.Math,N=d.RangeError,F=d.Infinity,G=I,H=B.abs,V=B.pow,j=B.floor,z=B.log,W=B.LN2,Y="buffer",U="byteLength",X="byteOffset",Z=y?"_b":Y,K=y?"_l":U,q=y?"_o":X;if(m.ABV){if(!T(function(){I(1)})||!T(function(){new I(-1)})||T(function(){return new I,new I(1.5),new I(NaN),I.name!=C})){I=function(t){return b(this,I),new G(A(t))};for(var J,Q=I[P]=G[P],$=D(G),tt=0;$.length>tt;)(J=$[tt++])in I||_(I,J,G[J]);g||(Q.constructor=I)}var et=new k(new I(2)),it=k[P].setInt8;et.setInt8(0,2147483648),et.setInt8(1,2147483649),!et.getInt8(0)&&et.getInt8(1)||v(k[P],{setInt8:function(t,e){it.call(this,t,e<<24>>24)},setUint8:function(t,e){it.call(this,t,e<<24>>24)}},!0)}else I=function(t){b(this,I,C);var e=A(t);this._b=M.call(new Array(e),0),this[K]=e},k=function(t,e,i){b(this,k,w),b(t,I,w);var n=t[K],o=x(e);if(o<0||o>n)throw N("Wrong offset!");if(i=void 0===i?n-o:E(i),o+i>n)throw N(O);this[Z]=t,this[q]=o,this[K]=i},y&&(h(I,U,"_l"),h(k,Y,"_b"),h(k,U,"_l"),h(k,X,"_o")),v(k[P],{getInt8:function(t){return p(this,1,t)[0]<<24>>24},getUint8:function(t){return p(this,1,t)[0]},getInt16:function(t){var e=p(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=p(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return r(p(this,4,t,arguments[1]))},getUint32:function(t){return r(p(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return o(p(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return o(p(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){f(this,1,t,a,e)},setUint8:function(t,e){f(this,1,t,a,e)},setInt16:function(t,e){f(this,2,t,s,e,arguments[2])},setUint16:function(t,e){f(this,2,t,s,e,arguments[2])},setInt32:function(t,e){f(this,4,t,u,e,arguments[2])},setUint32:function(t,e){f(this,4,t,u,e,arguments[2])},setFloat32:function(t,e){f(this,4,t,c,e,arguments[2])},setFloat64:function(t,e){f(this,8,t,l,e,arguments[2])}});L(I,C),L(k,w),_(k[P],m.VIEW,!0),e[C]=I,e[w]=k},function(t,e,i){var n=i(39),o=i(38);t.exports=function(t){if(void 0===t)return 0;var e=n(t),i=o(e);if(e!==i)throw RangeError("Wrong length!");return i}},function(t,e,i){var n=i(9);n(n.G+n.W+n.F*!i(225).ABV,{DataView:i(226).DataView})},function(t,e,i){i(230)("Int8",1,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){"use strict";if(i(7)){var n=i(29),o=i(5),r=i(8),a=i(9),s=i(225),u=i(226),l=i(21),c=i(207),h=i(18),p=i(11),f=i(215),d=i(39),y=i(38),g=i(227),m=i(40),_=i(17),v=i(6),T=i(75),b=i(14),x=i(58),E=i(164),A=i(46),D=i(59),S=i(50).f,M=i(166),L=i(20),C=i(26),w=i(174),P=i(37),O=i(209),R=i(195),I=i(130),k=i(167),B=i(194),N=i(190),F=i(187),G=i(12),H=i(51),V=G.f,j=H.f,z=o.RangeError,W=o.TypeError,Y=o.Uint8Array,U="ArrayBuffer",X="Shared"+U,Z="BYTES_PER_ELEMENT",K="prototype",q=Array[K],J=u.ArrayBuffer,Q=u.DataView,$=w(0),tt=w(2),et=w(3),it=w(4),nt=w(5),ot=w(6),rt=P(!0),at=P(!1),st=R.values,ut=R.keys,lt=R.entries,ct=q.lastIndexOf,ht=q.reduce,pt=q.reduceRight,ft=q.join,dt=q.sort,yt=q.slice,gt=q.toString,mt=q.toLocaleString,_t=C("iterator"),vt=C("toStringTag"),Tt=L("typed_constructor"),bt=L("def_constructor"),xt=s.CONSTR,Et=s.TYPED,At=s.VIEW,Dt="Wrong length!",St=w(1,function(t,e){return Pt(O(t,t[bt]),e)}),Mt=r(function(){return 1===new Y(new Uint16Array([1]).buffer)[0]}),Lt=!!Y&&!!Y[K].set&&r(function(){new Y(1).set({})}),Ct=function(t,e){var i=d(t);if(i<0||i%e)throw z("Wrong offset!");return i},wt=function(t){if(b(t)&&Et in t)return t;throw W(t+" is not a typed array!")},Pt=function(t,e){if(!(b(t)&&Tt in t))throw W("It is not a typed array constructor!");return new t(e)},Ot=function(t,e){return Rt(O(t,t[bt]),e)},Rt=function(t,e){for(var i=0,n=e.length,o=Pt(t,n);n>i;)o[i]=e[i++];return o},It=function(t,e,i){V(t,e,{get:function(){return this._d[i]}})},kt=function(t){var e,i,n,o,r,a,s=x(t),u=arguments.length,c=u>1?arguments[1]:void 0,h=void 0!==c,p=M(s);if(void 0!=p&&!E(p)){for(a=p.call(s),n=[],e=0;!(r=a.next()).done;e++)n.push(r.value);s=n}for(h&&u>2&&(c=l(c,arguments[2],2)),e=0,i=y(s.length),o=Pt(this,i);i>e;e++)o[e]=h?c(s[e],e):s[e];return o},Bt=function(){for(var t=0,e=arguments.length,i=Pt(this,e);e>t;)i[t]=arguments[t++];return i},Nt=!!Y&&r(function(){mt.call(new Y(1))}),Ft=function(){return mt.apply(Nt?yt.call(wt(this)):wt(this),arguments)},Gt={copyWithin:function(t,e){return F.call(wt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return it(wt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return N.apply(wt(this),arguments)},filter:function(t){return Ot(this,tt(wt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return nt(wt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return ot(wt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){$(wt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return at(wt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return rt(wt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ft.apply(wt(this),arguments)},lastIndexOf:function(t){return ct.apply(wt(this),arguments)},map:function(t){return St(wt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ht.apply(wt(this),arguments)},reduceRight:function(t){return pt.apply(wt(this),arguments)},reverse:function(){for(var t,e=this,i=wt(e).length,n=Math.floor(i/2),o=0;o<n;)t=e[o],e[o++]=e[--i],e[i]=t;return e},some:function(t){return et(wt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return dt.call(wt(this),t)},subarray:function(t,e){var i=wt(this),n=i.length,o=m(t,n);return new(O(i,i[bt]))(i.buffer,i.byteOffset+o*i.BYTES_PER_ELEMENT,y((void 0===e?n:m(e,n))-o))}},Ht=function(t,e){return Ot(this,yt.call(wt(this),t,e))},Vt=function(t){wt(this);var e=Ct(arguments[1],1),i=this.length,n=x(t),o=y(n.length),r=0;if(o+e>i)throw z(Dt);for(;r<o;)this[e+r]=n[r++]},jt={entries:function(){return lt.call(wt(this))},keys:function(){return ut.call(wt(this))},values:function(){return st.call(wt(this))}},zt=function(t,e){return b(t)&&t[Et]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Wt=function(t,e){return zt(t,e=_(e,!0))?h(2,t[e]):j(t,e)},Yt=function(t,e,i){return!(zt(t,e=_(e,!0))&&b(i)&&v(i,"value"))||v(i,"get")||v(i,"set")||i.configurable||v(i,"writable")&&!i.writable||v(i,"enumerable")&&!i.enumerable?V(t,e,i):(t[e]=i.value,t)};xt||(H.f=Wt,G.f=Yt),a(a.S+a.F*!xt,"Object",{getOwnPropertyDescriptor:Wt,defineProperty:Yt}),r(function(){gt.call({})})&&(gt=mt=function(){return ft.call(this)});var Ut=f({},Gt);f(Ut,jt),p(Ut,_t,jt.values),f(Ut,{slice:Ht,set:Vt,constructor:function(){},
toString:gt,toLocaleString:Ft}),It(Ut,"buffer","b"),It(Ut,"byteOffset","o"),It(Ut,"byteLength","l"),It(Ut,"length","e"),V(Ut,vt,{get:function(){return this[Et]}}),t.exports=function(t,e,i,u){u=!!u;var l=t+(u?"Clamped":"")+"Array",h="get"+t,f="set"+t,d=o[l],m=d||{},_=d&&D(d),v=!d||!s.ABV,x={},E=d&&d[K],M=function(t,i){var n=t._d;return n.v[h](i*e+n.o,Mt)},L=function(t,i,n){var o=t._d;u&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),o.v[f](i*e+o.o,n,Mt)},C=function(t,e){V(t,e,{get:function(){return M(this,e)},set:function(t){return L(this,e,t)},enumerable:!0})};v?(d=i(function(t,i,n,o){c(t,d,l,"_d");var r,a,s,u,h=0,f=0;if(b(i)){if(!(i instanceof J||(u=T(i))==U||u==X))return Et in i?Rt(d,i):kt.call(d,i);r=i,f=Ct(n,e);var m=i.byteLength;if(void 0===o){if(m%e)throw z(Dt);if(a=m-f,a<0)throw z(Dt)}else if(a=y(o)*e,a+f>m)throw z(Dt);s=a/e}else s=g(i),a=s*e,r=new J(a);for(p(t,"_d",{b:r,o:f,l:a,e:s,v:new Q(r)});h<s;)C(t,h++)}),E=d[K]=A(Ut),p(E,"constructor",d)):r(function(){d(1)})&&r(function(){new d(-1)})&&k(function(t){new d,new d(null),new d(1.5),new d(t)},!0)||(d=i(function(t,i,n,o){c(t,d,l);var r;return b(i)?i instanceof J||(r=T(i))==U||r==X?void 0!==o?new m(i,Ct(n,e),o):void 0!==n?new m(i,Ct(n,e)):new m(i):Et in i?Rt(d,i):kt.call(d,i):new m(g(i))}),$(_!==Function.prototype?S(m).concat(S(_)):S(m),function(t){t in d||p(d,t,m[t])}),d[K]=E,n||(E.constructor=d));var w=E[_t],P=!!w&&("values"==w.name||void 0==w.name),O=jt.values;p(d,Tt,!0),p(E,Et,l),p(E,At,!0),p(E,bt,d),(u?new d(1)[vt]==l:vt in E)||V(E,vt,{get:function(){return l}}),x[l]=d,a(a.G+a.W+a.F*(d!=m),x),a(a.S,l,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*r(function(){m.of.call(d,1)}),l,{from:kt,of:Bt}),Z in E||p(E,Z,e),a(a.P,l,Gt),B(l),a(a.P+a.F*Lt,l,{set:Vt}),a(a.P+a.F*!P,l,jt),n||E.toString==gt||(E.toString=gt),a(a.P+a.F*r(function(){new d(1).slice()}),l,{slice:Ht}),a(a.P+a.F*(r(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!r(function(){E.toLocaleString.call([1,2])})),l,{toLocaleString:Ft}),I[l]=P?w:O,n||P||p(E,_t,O)}}else t.exports=function(){}},function(t,e,i){i(230)("Uint8",1,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(230)("Uint8",1,function(t){return function(e,i,n){return t(this,e,i,n)}},!0)},function(t,e,i){i(230)("Int16",2,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(230)("Uint16",2,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(230)("Int32",4,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(230)("Uint32",4,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(230)("Float32",4,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(230)("Float64",8,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){var n=i(9),o=i(22),r=i(13),a=(i(5).Reflect||{}).apply,s=Function.apply;n(n.S+n.F*!i(8)(function(){a(function(){})}),"Reflect",{apply:function(t,e,i){var n=o(t),u=r(i);return a?a(n,e,u):s.call(n,e,u)}})},function(t,e,i){var n=i(9),o=i(46),r=i(22),a=i(13),s=i(14),u=i(8),l=i(77),c=(i(5).Reflect||{}).construct,h=u(function(){function t(){}return!(c(function(){},[],t)instanceof t)}),p=!u(function(){c(function(){})});n(n.S+n.F*(h||p),"Reflect",{construct:function(t,e){r(t),a(e);var i=arguments.length<3?t:r(arguments[2]);if(p&&!h)return c(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(l.apply(t,n))}var u=i.prototype,f=o(s(u)?u:Object.prototype),d=Function.apply.call(t,f,e);return s(d)?d:f}})},function(t,e,i){var n=i(12),o=i(9),r=i(13),a=i(17);o(o.S+o.F*i(8)(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,i){r(t),e=a(e,!0),r(i);try{return n.f(t,e,i),!0}catch(o){return!1}}})},function(t,e,i){var n=i(9),o=i(51).f,r=i(13);n(n.S,"Reflect",{deleteProperty:function(t,e){var i=o(r(t),e);return!(i&&!i.configurable)&&delete t[e]}})},function(t,e,i){"use strict";var n=i(9),o=i(13),r=function(t){this._t=o(t),this._i=0;var e,i=this._k=[];for(e in t)i.push(e)};i(131)(r,"Object",function(){var t,e=this,i=e._k;do if(e._i>=i.length)return{value:void 0,done:!0};while(!((t=i[e._i++])in e._t));return{value:t,done:!1}}),n(n.S,"Reflect",{enumerate:function(t){return new r(t)}})},function(t,e,i){function n(t,e){var i,s,c=arguments.length<3?t:arguments[2];return l(t)===c?t[e]:(i=o.f(t,e))?a(i,"value")?i.value:void 0!==i.get?i.get.call(c):void 0:u(s=r(t))?n(s,e,c):void 0}var o=i(51),r=i(59),a=i(6),s=i(9),u=i(14),l=i(13);s(s.S,"Reflect",{get:n})},function(t,e,i){var n=i(51),o=i(9),r=i(13);o(o.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return n.f(r(t),e)}})},function(t,e,i){var n=i(9),o=i(59),r=i(13);n(n.S,"Reflect",{getPrototypeOf:function(t){return o(r(t))}})},function(t,e,i){var n=i(9);n(n.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,i){var n=i(9),o=i(13),r=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(t){return o(t),!r||r(t)}})},function(t,e,i){var n=i(9);n(n.S,"Reflect",{ownKeys:i(250)})},function(t,e,i){var n=i(50),o=i(43),r=i(13),a=i(5).Reflect;t.exports=a&&a.ownKeys||function(t){var e=n.f(r(t)),i=o.f;return i?e.concat(i(t)):e}},function(t,e,i){var n=i(9),o=i(13),r=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(t){o(t);try{return r&&r(t),!0}catch(e){return!1}}})},function(t,e,i){function n(t,e,i){var u,p,f=arguments.length<4?t:arguments[3],d=r.f(c(t),e);if(!d){if(h(p=a(t)))return n(p,e,i,f);d=l(0)}return s(d,"value")?!(d.writable===!1||!h(f))&&(u=r.f(f,e)||l(0),u.value=i,o.f(f,e,u),!0):void 0!==d.set&&(d.set.call(f,i),!0)}var o=i(12),r=i(51),a=i(59),s=i(6),u=i(9),l=i(18),c=i(13),h=i(14);u(u.S,"Reflect",{set:n})},function(t,e,i){var n=i(9),o=i(73);o&&n(n.S,"Reflect",{setPrototypeOf:function(t,e){o.check(t,e);try{return o.set(t,e),!0}catch(i){return!1}}})},function(t,e,i){"use strict";var n=i(9),o=i(37)(!0);n(n.P,"Array",{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i(188)("includes")},function(t,e,i){"use strict";var n=i(9),o=i(256),r=i(58),a=i(38),s=i(22),u=i(175);n(n.P,"Array",{flatMap:function(t){var e,i,n=r(this);return s(t),e=a(n.length),i=u(n,0),o(i,n,n,e,0,1,t,arguments[1]),i}}),i(188)("flatMap")},function(t,e,i){"use strict";function n(t,e,i,l,c,h,p,f){for(var d,y,g=c,m=0,_=!!p&&s(p,f,3);m<l;){if(m in i){if(d=_?_(i[m],m,e):i[m],y=!1,r(d)&&(y=d[u],y=void 0!==y?!!y:o(d)),y&&h>0)g=n(t,e,d,a(d.length),g,h-1)-1;else{if(g>=9007199254740991)throw TypeError();t[g]=d}g++}m++}return g}var o=i(45),r=i(14),a=i(38),s=i(21),u=i(26)("isConcatSpreadable");t.exports=n},function(t,e,i){"use strict";var n=i(9),o=i(256),r=i(58),a=i(38),s=i(39),u=i(175);n(n.P,"Array",{flatten:function(){var t=arguments[0],e=r(this),i=a(e.length),n=u(e,0);return o(n,e,e,i,0,void 0===t?1:s(t)),n}}),i(188)("flatten")},function(t,e,i){"use strict";var n=i(9),o=i(128)(!0);n(n.P,"String",{at:function(t){return o(this,t)}})},function(t,e,i){"use strict";var n=i(9),o=i(260),r=i(261);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(r),"String",{padStart:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,i){var n=i(38),o=i(91),r=i(36);t.exports=function(t,e,i,a){var s=String(r(t)),u=s.length,l=void 0===i?" ":String(i),c=n(e);if(c<=u||""==l)return s;var h=c-u,p=o.call(l,Math.ceil(h/l.length));return p.length>h&&(p=p.slice(0,h)),a?p+s:s+p}},function(t,e,i){var n=i(5),o=n.navigator;t.exports=o&&o.userAgent||""},function(t,e,i){"use strict";var n=i(9),o=i(260),r=i(261);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(r),"String",{padEnd:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,i){"use strict";i(83)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,i){"use strict";i(83)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,i){"use strict";var n=i(9),o=i(36),r=i(38),a=i(135),s=i(198),u=RegExp.prototype,l=function(t,e){this._r=t,this._s=e};i(131)(l,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),n(n.P,"String",{matchAll:function(t){if(o(this),!a(t))throw TypeError(t+" is not a regexp!");var e=String(this),i="flags"in u?String(t.flags):s.call(t),n=new RegExp(t.source,~i.indexOf("g")?i:"g"+i);return n.lastIndex=r(t.lastIndex),new l(n,e)}})},function(t,e,i){i(28)("asyncIterator")},function(t,e,i){i(28)("observable")},function(t,e,i){var n=i(9),o=i(250),r=i(33),a=i(51),s=i(165);n(n.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,i,n=r(t),u=a.f,l=o(n),c={},h=0;l.length>h;)i=u(n,e=l[h++]),void 0!==i&&s(c,e,i);return c}})},function(t,e,i){var n=i(9),o=i(270)(!1);n(n.S,"Object",{values:function(t){return o(t)}})},function(t,e,i){var n=i(31),o=i(33),r=i(44).f;t.exports=function(t){return function(e){for(var i,a=o(e),s=n(a),u=s.length,l=0,c=[];u>l;)r.call(a,i=s[l++])&&c.push(t?[i,a[i]]:a[i]);return c}}},function(t,e,i){var n=i(9),o=i(270)(!0);n(n.S,"Object",{entries:function(t){return o(t)}})},function(t,e,i){"use strict";var n=i(9),o=i(58),r=i(22),a=i(12);i(7)&&n(n.P+i(273),"Object",{__defineGetter__:function(t,e){a.f(o(this),t,{get:r(e),enumerable:!0,configurable:!0})}})},function(t,e,i){"use strict";t.exports=i(29)||!i(8)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete i(5)[t]})},function(t,e,i){"use strict";var n=i(9),o=i(58),r=i(22),a=i(12);i(7)&&n(n.P+i(273),"Object",{__defineSetter__:function(t,e){a.f(o(this),t,{set:r(e),enumerable:!0,configurable:!0})}})},function(t,e,i){"use strict";var n=i(9),o=i(58),r=i(17),a=i(59),s=i(51).f;i(7)&&n(n.P+i(273),"Object",{__lookupGetter__:function(t){var e,i=o(this),n=r(t,!0);do if(e=s(i,n))return e.get;while(i=a(i))}})},function(t,e,i){"use strict";var n=i(9),o=i(58),r=i(17),a=i(59),s=i(51).f;i(7)&&n(n.P+i(273),"Object",{__lookupSetter__:function(t){var e,i=o(this),n=r(t,!0);do if(e=s(i,n))return e.set;while(i=a(i))}})},function(t,e,i){var n=i(9);n(n.P+n.R,"Map",{toJSON:i(278)("Map")})},function(t,e,i){var n=i(75),o=i(279);t.exports=function(t){return function(){if(n(this)!=t)throw TypeError(t+"#toJSON isn't generic");return o(this)}}},function(t,e,i){var n=i(208);t.exports=function(t,e){var i=[];return n(t,!1,i.push,i,e),i}},function(t,e,i){var n=i(9);n(n.P+n.R,"Set",{toJSON:i(278)("Set")})},function(t,e,i){i(282)("Map")},function(t,e,i){"use strict";var n=i(9);t.exports=function(t){n(n.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,i){i(282)("Set")},function(t,e,i){i(282)("WeakMap")},function(t,e,i){i(282)("WeakSet")},function(t,e,i){i(287)("Map")},function(t,e,i){"use strict";var n=i(9),o=i(22),r=i(21),a=i(208);t.exports=function(t){n(n.S,t,{from:function(t){var e,i,n,s,u=arguments[1];return o(this),e=void 0!==u,e&&o(u),void 0==t?new this:(i=[],e?(n=0,s=r(u,arguments[2],2),a(t,!1,function(t){i.push(s(t,n++))})):a(t,!1,i.push,i),new this(i))}})}},function(t,e,i){i(287)("Set")},function(t,e,i){i(287)("WeakMap")},function(t,e,i){i(287)("WeakSet")},function(t,e,i){var n=i(9);n(n.G,{global:i(5)})},function(t,e,i){var n=i(9);n(n.S,"System",{global:i(5)})},function(t,e,i){var n=i(9),o=i(35);n(n.S,"Error",{isError:function(t){return"Error"===o(t)}})},function(t,e,i){var n=i(9);n(n.S,"Math",{clamp:function(t,e,i){return Math.min(i,Math.max(e,t))}})},function(t,e,i){var n=i(9);n(n.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,i){var n=i(9),o=180/Math.PI;n(n.S,"Math",{degrees:function(t){return t*o}})},function(t,e,i){var n=i(9),o=i(298),r=i(114);n(n.S,"Math",{fscale:function(t,e,i,n,a){return r(o(t,e,i,n,a))}})},function(t,e){t.exports=Math.scale||function(t,e,i,n,o){return 0===arguments.length||t!=t||e!=e||i!=i||n!=n||o!=o?NaN:t===1/0||t===-(1/0)?t:(t-e)*(o-n)/(i-e)+n}},function(t,e,i){var n=i(9);n(n.S,"Math",{iaddh:function(t,e,i,n){var o=t>>>0,r=e>>>0,a=i>>>0;return r+(n>>>0)+((o&a|(o|a)&~(o+a>>>0))>>>31)|0}})},function(t,e,i){var n=i(9);n(n.S,"Math",{isubh:function(t,e,i,n){var o=t>>>0,r=e>>>0,a=i>>>0;return r-(n>>>0)-((~o&a|~(o^a)&o-a>>>0)>>>31)|0}})},function(t,e,i){var n=i(9);n(n.S,"Math",{imulh:function(t,e){var i=65535,n=+t,o=+e,r=n&i,a=o&i,s=n>>16,u=o>>16,l=(s*a>>>0)+(r*a>>>16);return s*u+(l>>16)+((r*u>>>0)+(l&i)>>16)}})},function(t,e,i){var n=i(9);n(n.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,i){var n=i(9),o=Math.PI/180;n(n.S,"Math",{radians:function(t){return t*o}})},function(t,e,i){var n=i(9);n(n.S,"Math",{scale:i(298)})},function(t,e,i){var n=i(9);n(n.S,"Math",{umulh:function(t,e){var i=65535,n=+t,o=+e,r=n&i,a=o&i,s=n>>>16,u=o>>>16,l=(s*a>>>0)+(r*a>>>16);return s*u+(l>>>16)+((r*u>>>0)+(l&i)>>>16)}})},function(t,e,i){var n=i(9);n(n.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},function(t,e,i){"use strict";var n=i(9),o=i(10),r=i(5),a=i(209),s=i(214);n(n.P+n.R,"Promise",{"finally":function(t){var e=a(this,o.Promise||r.Promise),i="function"==typeof t;return this.then(i?function(i){return s(e,t()).then(function(){return i})}:t,i?function(i){return s(e,t()).then(function(){throw i})}:t)}})},function(t,e,i){"use strict";var n=i(9),o=i(212),r=i(213);n(n.S,"Promise",{"try":function(t){var e=o.f(this),i=r(t);return(i.e?e.reject:e.resolve)(i.v),e.promise}})},function(t,e,i){var n=i(310),o=i(13),r=n.key,a=n.set;n.exp({defineMetadata:function(t,e,i,n){a(t,e,o(i),r(n))}})},function(t,e,i){var n=i(216),o=i(9),r=i(24)("metadata"),a=r.store||(r.store=new(i(221))),s=function(t,e,i){var o=a.get(t);if(!o){if(!i)return;a.set(t,o=new n)}var r=o.get(e);if(!r){if(!i)return;o.set(e,r=new n)}return r},u=function(t,e,i){var n=s(e,i,!1);return void 0!==n&&n.has(t)},l=function(t,e,i){var n=s(e,i,!1);return void 0===n?void 0:n.get(t)},c=function(t,e,i,n){s(i,n,!0).set(t,e)},h=function(t,e){var i=s(t,e,!1),n=[];return i&&i.forEach(function(t,e){n.push(e)}),n},p=function(t){return void 0===t||"symbol"==typeof t?t:String(t)},f=function(t){o(o.S,"Reflect",t)};t.exports={store:a,map:s,has:u,get:l,set:c,keys:h,key:p,exp:f}},function(t,e,i){var n=i(310),o=i(13),r=n.key,a=n.map,s=n.store;n.exp({deleteMetadata:function(t,e){var i=arguments.length<3?void 0:r(arguments[2]),n=a(o(e),i,!1);if(void 0===n||!n["delete"](t))return!1;if(n.size)return!0;var u=s.get(e);return u["delete"](i),!!u.size||s["delete"](e)}})},function(t,e,i){var n=i(310),o=i(13),r=i(59),a=n.has,s=n.get,u=n.key,l=function(t,e,i){var n=a(t,e,i);if(n)return s(t,e,i);var o=r(e);return null!==o?l(t,o,i):void 0};n.exp({getMetadata:function(t,e){return l(t,o(e),arguments.length<3?void 0:u(arguments[2]))}})},function(t,e,i){var n=i(220),o=i(279),r=i(310),a=i(13),s=i(59),u=r.keys,l=r.key,c=function(t,e){var i=u(t,e),r=s(t);if(null===r)return i;var a=c(r,e);return a.length?i.length?o(new n(i.concat(a))):a:i};r.exp({getMetadataKeys:function(t){return c(a(t),arguments.length<2?void 0:l(arguments[1]))}})},function(t,e,i){var n=i(310),o=i(13),r=n.get,a=n.key;n.exp({getOwnMetadata:function(t,e){return r(t,o(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,i){var n=i(310),o=i(13),r=n.keys,a=n.key;n.exp({getOwnMetadataKeys:function(t){return r(o(t),arguments.length<2?void 0:a(arguments[1]))}})},function(t,e,i){var n=i(310),o=i(13),r=i(59),a=n.has,s=n.key,u=function(t,e,i){var n=a(t,e,i);if(n)return!0;var o=r(e);return null!==o&&u(t,o,i)};n.exp({hasMetadata:function(t,e){return u(t,o(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,i){var n=i(310),o=i(13),r=n.has,a=n.key;n.exp({hasOwnMetadata:function(t,e){return r(t,o(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,i){var n=i(310),o=i(13),r=i(22),a=n.key,s=n.set;n.exp({metadata:function(t,e){return function(i,n){s(t,e,(void 0!==n?o:r)(i),a(n))}}})},function(t,e,i){var n=i(9),o=i(211)(),r=i(5).process,a="process"==i(35)(r);n(n.G,{asap:function(t){var e=a&&r.domain;o(e?e.bind(t):t)}})},function(t,e,i){"use strict";var n=i(9),o=i(5),r=i(10),a=i(211)(),s=i(26)("observable"),u=i(22),l=i(13),c=i(207),h=i(215),p=i(11),f=i(208),d=f.RETURN,y=function(t){return null==t?void 0:u(t)},g=function(t){var e=t._c;e&&(t._c=void 0,e())},m=function(t){return void 0===t._o},_=function(t){m(t)||(t._o=void 0,g(t))},v=function(t,e){l(t),this._c=void 0,this._o=t,t=new T(this);try{var i=e(t),n=i;null!=i&&("function"==typeof i.unsubscribe?i=function(){n.unsubscribe()}:u(i),this._c=i)}catch(o){return void t.error(o)}m(this)&&g(this)};v.prototype=h({},{unsubscribe:function(){_(this)}});var T=function(t){this._s=t};T.prototype=h({},{next:function(t){var e=this._s;if(!m(e)){var i=e._o;try{var n=y(i.next);if(n)return n.call(i,t)}catch(o){try{_(e)}finally{throw o}}}},error:function(t){var e=this._s;if(m(e))throw t;var i=e._o;e._o=void 0;try{var n=y(i.error);if(!n)throw t;t=n.call(i,t)}catch(o){try{g(e)}finally{throw o}}return g(e),t},complete:function(t){var e=this._s;if(!m(e)){var i=e._o;e._o=void 0;try{var n=y(i.complete);t=n?n.call(i,t):void 0}catch(o){try{g(e)}finally{throw o}}return g(e),t}}});var b=function(t){c(this,b,"Observable","_f")._f=u(t)};h(b.prototype,{subscribe:function(t){return new v(t,this._f)},forEach:function(t){var e=this;return new(r.Promise||o.Promise)(function(i,n){u(t);var o=e.subscribe({next:function(e){try{return t(e)}catch(i){n(i),o.unsubscribe()}},error:n,complete:i})})}}),h(b,{from:function(t){var e="function"==typeof this?this:b,i=y(l(t)[s]);if(i){var n=l(i.call(t));return n.constructor===e?n:new e(function(t){return n.subscribe(t)})}return new e(function(e){var i=!1;return a(function(){if(!i){try{if(f(t,!1,function(t){if(e.next(t),i)return d})===d)return}catch(n){if(i)throw n;return void e.error(n)}e.complete()}}),function(){i=!0}})},of:function(){for(var t=0,e=arguments.length,i=new Array(e);t<e;)i[t]=arguments[t++];return new("function"==typeof this?this:b)(function(t){var e=!1;return a(function(){if(!e){for(var n=0;n<i.length;++n)if(t.next(i[n]),e)return;t.complete()}}),function(){e=!0}})}}),p(b.prototype,s,function(){return this}),n(n.G,{Observable:b}),i(194)("Observable")},function(t,e,i){var n=i(5),o=i(9),r=i(261),a=[].slice,s=/MSIE .\./.test(r),u=function(t){return function(e,i){var n=arguments.length>2,o=!!n&&a.call(arguments,2);return t(n?function(){("function"==typeof e?e:Function(e)).apply(this,o)}:e,i)}};o(o.G+o.B+o.F*s,{setTimeout:u(n.setTimeout),setInterval:u(n.setInterval)})},function(t,e,i){var n=i(9),o=i(210);n(n.G+n.B,{setImmediate:o.set,clearImmediate:o.clear})},function(t,e,i){for(var n=i(195),o=i(31),r=i(19),a=i(5),s=i(11),u=i(130),l=i(26),c=l("iterator"),h=l("toStringTag"),p=u.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=o(f),y=0;y<d.length;y++){var g,m=d[y],_=f[m],v=a[m],T=v&&v.prototype;if(T&&(T[c]||s(T,c,p),T[h]||s(T,h,m),u[m]=p,_))for(g in n)T[g]||r(T,g,n[g],!0)}},function(t,e){(function(e){!function(e){"use strict";function i(t,e,i,n){var r=e&&e.prototype instanceof o?e:o,a=Object.create(r.prototype),s=new f(n||[]);return a._invoke=l(t,i,s),a}function n(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(n){return{type:"throw",arg:n}}}function o(){}function r(){}function a(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function u(t){function i(e,o,r,a){var s=n(t[e],t,o);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&_.call(l,"__await")?Promise.resolve(l.__await).then(function(t){i("next",t,r,a)},function(t){i("throw",t,r,a)}):Promise.resolve(l).then(function(t){u.value=t,r(u)},a)}a(s.arg)}function o(t,e){function n(){return new Promise(function(n,o){i(t,e,n,o)})}return r=r?r.then(n,n):n()}"object"==typeof e.process&&e.process.domain&&(i=e.process.domain.bind(i));var r;this._invoke=o}function l(t,e,i){var o=D;return function(r,a){if(o===M)throw new Error("Generator is already running");if(o===L){if("throw"===r)throw a;return y()}for(i.method=r,i.arg=a;;){var s=i.delegate;if(s){var u=c(s,i);if(u){if(u===C)continue;return u}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===D)throw o=L,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=M;var l=n(t,e,i);if("normal"===l.type){if(o=i.done?L:S,l.arg===C)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(o=L,i.method="throw",i.arg=l.arg)}}}function c(t,e){var i=t.iterator[e.method];if(i===g){if(e.delegate=null,"throw"===e.method){if(t.iterator["return"]&&(e.method="return",e.arg=g,c(t,e),"throw"===e.method))return C;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return C}var o=n(i,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,C;var r=o.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=g),e.delegate=null,C):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,C)}function h(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function p(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function f(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function d(t){if(t){var e=t[T];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,n=function o(){for(;++i<t.length;)if(_.call(t,i))return o.value=t[i],o.done=!1,o;return o.value=g,o.done=!0,o};return n.next=n}}return{next:y}}function y(){return{value:g,done:!0}}var g,m=Object.prototype,_=m.hasOwnProperty,v="function"==typeof Symbol?Symbol:{},T=v.iterator||"@@iterator",b=v.asyncIterator||"@@asyncIterator",x=v.toStringTag||"@@toStringTag",E="object"==typeof t,A=e.regeneratorRuntime;if(A)return void(E&&(t.exports=A));A=e.regeneratorRuntime=E?t.exports:{},A.wrap=i;var D="suspendedStart",S="suspendedYield",M="executing",L="completed",C={},w={};w[T]=function(){return this};var P=Object.getPrototypeOf,O=P&&P(P(d([])));O&&O!==m&&_.call(O,T)&&(w=O);var R=a.prototype=o.prototype=Object.create(w);r.prototype=R.constructor=a,a.constructor=r,a[x]=r.displayName="GeneratorFunction",A.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===r||"GeneratorFunction"===(e.displayName||e.name))},A.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,x in t||(t[x]="GeneratorFunction")),t.prototype=Object.create(R),t},A.awrap=function(t){return{__await:t}},s(u.prototype),u.prototype[b]=function(){return this},A.AsyncIterator=u,A.async=function(t,e,n,o){var r=new u(i(t,e,n,o));return A.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},s(R),R[x]="Generator",R[T]=function(){return this},R.toString=function(){return"[object Generator]"},A.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},A.values=d,f.prototype={constructor:f,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(p),!t)for(var e in this)"t"===e.charAt(0)&&_.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=g)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,n){return r.type="throw",r.arg=t,i.next=e,n&&(i.method="next",i.arg=g),!!n}if(this.done)throw t;for(var i=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],r=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=_.call(o,"catchLoc"),s=_.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&_.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=t,r.arg=e,o?(this.method="next",this.next=o.finallyLoc,C):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),C},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),p(i),C}},"catch":function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var o=n.arg;p(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:d(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=g),C}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(e,function(){return this}())},function(t,e,i){i(326),t.exports=i(10).RegExp.escape},function(t,e,i){var n=i(9),o=i(327)(/[\\^$*+?.()|[\]{}]/g,"\\$&");n(n.S,"RegExp",{escape:function(t){return o(t)}})},function(t,e){t.exports=function(t,e){var i=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,i)}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var o=i(329),r=i(357),a=n(r),s=i(334),u=n(s),l=i(337),c=n(l),h=i(465),p=n(h);i(474),a["default"].registerPlugin("Raphael",o.pluginRaphael,o.callback),a["default"].renderUtil=u["default"],a["default"].arrayUtil=c["default"],a["default"].colorutil=p["default"],t.exports=a["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=document.createElementNS("http://www.w3.org/2000/svg","filter"),i=document.createElementNS("http://www.w3.org/2000/svg","feGaussianBlur"),n=document.createElementNS("http://www.w3.org/2000/svg","feFlood"),o=document.createElementNS("http://www.w3.org/2000/svg","feComposite"),r=document.createElementNS("http://www.w3.org/2000/svg","feMorphology"),a=document.createElementNS("http://www.w3.org/2000/svg","feMerge"),s=document.createElementNS("http://www.w3.org/2000/svg","feMergeNode"),u=document.createElementNS("http://www.w3.org/2000/svg","feMergeNode");e.id="glow",n.setAttribute("result","flood"),n.setAttribute("flood-color","#ffffff"),n.setAttribute("flood-opacity","0.5"),o.setAttribute("in","flood"),o.setAttribute("result","mask"),o.setAttribute("in2","SourceGraphic"),o.setAttribute("operator","in"),r.setAttribute("in","mask"),r.setAttribute("result","dilated"),r.setAttribute("operator","dilate"),r.setAttribute("radius","2"),i.setAttribute("in","dilated"),i.setAttribute("result","blurred"),i.setAttribute("stdDeviation","1"),s.setAttribute("in","blurred"),u.setAttribute("in","SourceGraphic"),e.appendChild(n),e.appendChild(o),e.appendChild(r),e.appendChild(i),e.appendChild(a),a.appendChild(s),a.appendChild(u),t.defs.appendChild(e)}function r(t){var e=document.createElementNS("http://www.w3.org/2000/svg","filter"),i=document.createElementNS("http://www.w3.org/2000/svg","feOffset"),n=document.createElementNS("http://www.w3.org/2000/svg","feGaussianBlur"),o=document.createElementNS("http://www.w3.org/2000/svg","feBlend");e.setAttributeNS(null,"id","shadow"),e.setAttributeNS(null,"x","-15%"),e.setAttributeNS(null,"y","-15%"),e.setAttributeNS(null,"width","180%"),e.setAttributeNS(null,"height","180%"),i.setAttributeNS(null,"result","offOut"),i.setAttributeNS(null,"in","SourceAlpha"),i.setAttributeNS(null,"dx","2"),i.setAttributeNS(null,"dy","2"),n.setAttributeNS(null,"result","blurOut"),n.setAttributeNS(null,"in","offOut"),n.setAttributeNS(null,"stdDeviation","2"),o.setAttributeNS(null,"in","SourceGraphic"),o.setAttributeNS(null,"in2","blurOut"),o.setAttributeNS(null,"mode","normal"),e.appendChild(i),e.appendChild(n),e.appendChild(o),t.defs.appendChild(e)}e.__esModule=!0,e.callback=e.pluginRaphael=void 0;var a=i(330),s=n(a),u=i(331),l=n(u),c=i(338),h=n(c),p=i(339),f=n(p),d=i(340),y=n(d),g=i(343),m=n(g),_=i(345),v=n(_),T=i(346),b=n(T),x=i(347),E=n(x),A=i(348),D=n(A),S=i(349),M=n(S),L=i(350),C=n(L),w=i(352),P=n(w),O=i(353),R=n(O),I=i(354),k=n(I),B=i(355),N=n(B),F=i(356),G=n(F);e.pluginRaphael={bar:l["default"],boxplot:h["default"],bullet:f["default"],column:l["default"],line:y["default"],area:m["default"],pie:v["default"],bubble:E["default"],scatter:E["default"],heatmap:D["default"],treemap:D["default"],map:M["default"],radial:b["default"],legend:C["default"],mapLegend:P["default"],circleLegend:R["default"],radialPlot:G["default"],title:k["default"],axis:N["default"]},e.callback=function(t,e){var i=(0,s["default"])(t,e.width,e.height),n=i.rect(0,0,e.width,e.height);return i.raphael.svg&&(o(i),r(i)),i.pushDownBackgroundToBottom=function(){n.toBack()},i.changeChartBackgroundColor=function(t){n.attr({fill:t})},i.changeChartBackgroundOpacity=function(t){n.attr({"fill-opacity":t})},i.resizeBackground=function(t,e){n.attr({width:t,height:e})},n.attr({fill:"#fff","stroke-width":0}),i}},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE_330__},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(u){o=!0,r=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=i(332),s=n(a),u=i(333),l=n(u),c=i(330),h=n(c),p=700,f=1,d=.3,y=.2,g=8,m=2,_=.4,v=function(){function t(){o(this,t)}return t.prototype.render=function(t,e){var i=e.groupBounds,n=e.theme,o=e.seriesDataModel,r=e.chartType,a=e.options;return i?(this.paper=t,this.theme=n,this.seriesDataModel=o,this.chartType=r,this.paper.setStart(),this.options=a,this.theme=n,this.groupBars=this._renderBars(i),this.groupBorders=this._renderBarBorders(i),this.overlay=this._renderOverlay(),this.groupBounds=i,this.paper.setFinish()):null},t.prototype._renderOverlay=function(){var t={width:1,height:1,left:0,top:0},e={"fill-opacity":0},i=this._renderBar(t,"#fff",e);return i.node.setAttribute("class","auto-shape-rendering"),i},t.prototype._renderBar=function(t,e,i){if(t.width<0||t.height<0)return null;var n=s["default"].renderRect(this.paper,t,Object.assign({fill:e,stroke:"none"},i)).toFront();return n.node.setAttribute("class","auto-shape-rendering"),n},t.prototype._renderBars=function(t){var e=this,i=this.theme.colors,n=this.options.colorByPoint,o=t.map(function(t,o){return t.map(function(t,r){if(!t)return null;var a=e.seriesDataModel.getSeriesItem(o,r),s=n?i[o]:i[r],u=e._renderBar(t.start,s);return{rect:u,color:s,bound:t.end,item:a,groupIndex:o,index:r,isRange:a.isRange}})});return o},t.prototype._makeRectPoints=function(t){return{leftTop:{left:Math.ceil(t.left),top:Math.ceil(t.top)},rightTop:{left:Math.ceil(t.left+t.width),top:Math.ceil(t.top)
},rightBottom:{left:Math.ceil(t.left+t.width),top:Math.ceil(t.top+t.height)},leftBottom:{left:Math.ceil(t.left),top:Math.ceil(t.top+t.height)}}},t.prototype._makeTopLinePath=function(t,e,i){var n=i.value,o=null;if("bar"===e||n>=0||i.isRange){var r=l["default"].extend({},t.leftTop);r.left-="column"===e||n<0?1:0,o=s["default"].makeLinePath(r,t.rightTop).join(" ")}return o},t.prototype._makeRightLinePath=function(t,e,i){var n=null;return("column"===e||i.value>=0||i.isRange)&&(n=s["default"].makeLinePath(t.rightTop,t.rightBottom).join(" ")),n},t.prototype._makeBottomLinePath=function(t,e,i){var n=null;return("bar"===e||i.value<0||i.isRange)&&(n=s["default"].makeLinePath(t.leftBottom,t.rightBottom).join(" ")),n},t.prototype._makeLeftLinePath=function(t,e,i){var n=null;return("column"===e||i.value<0||i.isRange)&&(n=s["default"].makeLinePath(t.leftTop,t.leftBottom).join(" ")),n},t.prototype._makeBorderLinesPaths=function(t,e,i){var n=this._makeRectPoints(t),o={top:this._makeTopLinePath(n,e,i),right:this._makeRightLinePath(n,e,i),bottom:this._makeBottomLinePath(n,e,i),left:this._makeLeftLinePath(n,e,i)};return l["default"].filter(o,function(t){return t})},t.prototype._renderBorderLines=function(t,e,i,n){var o=this._makeBorderLinesPaths(t,i,n),a={};return Object.entries(o).forEach(function(t){var i=r(t,2),n=i[0],o=i[1];a[n]=s["default"].renderLine(self.paper,o,e,1)}),a},t.prototype._renderBarBorders=function(t){var e=this,i=this.theme.borderColor;if(!i)return null;var n=l["default"].map(t,function(t,n){return l["default"].map(t,function(t,o){if(!t)return null;var r=e.seriesDataModel.getSeriesItem(n,o);return e._renderBorderLines(t.start,i,self.chartType,r)})});return n},t.prototype._animateRect=function(t,e){t.animate({x:e.width?e.left:e.left-m/2,y:e.height?e.top:e.top-m/2,width:e.width?e.width:m,height:e.height?e.height:m,opacity:e.height&&e.width?1:_},p,">")},t.prototype._animateBorders=function(t,e,i,n){var o=this._makeBorderLinesPaths(e,i,n);l["default"].forEach(t,function(t,e){t.animate({path:o[e]},p,">")})},t.prototype.animate=function(t){var e=this,i=this.groupBorders||[];s["default"].forEach2dArray(this.groupBars,function(t,n,o){var r=i[n]&&i[n][o];t&&(e._animateRect(t.rect,t.bound),r&&e._animateBorders(r,t.bound,e.chartType,t.item))}),t&&(this.callbackTimeout=setTimeout(function(){t(),delete e.callbackTimeout},p))},t.prototype.showAnimation=function(t){var e=this.groupBars[t.groupIndex][t.index],i=e.bound;this.overlay.attr({width:i.width+g,height:i.height+g,stroke:"#fff","stroke-width":"1",x:i.left-4,y:i.top-4,"fill-opacity":1}),this.resortBarIndex(t.groupIndex),this.overlay.toFront(),e.rect.toFront(),this.labelSet&&this.labelSet.toFront(),this.overlay.node.setAttribute("filter","url(#shadow)")},t.prototype.hideAnimation=function(t){this.resortBarIndex(t.groupIndex),this.overlay.attr({width:1,height:1,x:0,y:0,"fill-opacity":0}),this.labelSet&&this.labelSet.toFront()},t.prototype.resortBarIndex=function(t){this.groupBars[t].forEach(function(t){t.rect.toFront()})},t.prototype._updateRectBound=function(t,e){t.attr({x:e.left,y:e.top,width:e.width,height:e.height})},t.prototype.resize=function(t){var e=this,i=this.groupBorders||[],n=t.dimension,o=t.groupBounds;this.groupBounds=o,this.paper.setSize(n.width,n.height),s["default"].forEach2dArray(this.groupBars,function(t,n,r){if(t){var a=i[n]&&i[n][r],u=o[n][r].end;t.bound=u,s["default"].updateRectBound(t.rect,u),a&&e._updateBordersPath(a,u,e.chartType,t.item)}})},t.prototype._changeBordersColor=function(t,e){l["default"].forEach(t,function(t){t.attr({stroke:e})})},t.prototype._changeBarColor=function(t,e,i){var n=this.groupBars[t.groupIndex][t.index];if(n.rect.attr({fill:e}),i){var o=this.groupBorders[t.groupIndex][t.index];this._changeBordersColor(o,i)}},t.prototype.selectSeries=function(t){var e=this.groupBars[t.groupIndex][t.index],i=h["default"].color(e.color),n=this.theme.selectionColor,o=n||s["default"].makeChangedLuminanceColor(i.hex,y),r=this.theme.borderColor;if(r){var a=h["default"].color(r);r=s["default"].makeChangedLuminanceColor(a.hex,y)}this._changeBarColor(t,o,r)},t.prototype.unselectSeries=function(t){var e=this.groupBars[t.groupIndex][t.index],i=this.theme.borderColor;this._changeBarColor(t,e.color,i)},t.prototype.selectLegend=function(t){var e=this.groupBorders||[],i=l["default"].isNull(t);s["default"].forEach2dArray(this.groupBars,function(n,o,r){if(n){var a=e[o]&&e[o][r],s=i||t===r?f:d;n.rect.attr({"fill-opacity":s}),a&&l["default"].forEach(a,function(t){t.attr({"stroke-opacity":s})})}})},t.prototype.renderSeriesLabel=function(t,e,i,n,o){var r=o||"column"===this.chartType?"middle":"start",a={"font-size":n.fontSize,"font-family":n.fontFamily,"font-weight":n.fontWeight,fill:n.color,opacity:0,"text-anchor":r},u=this.labelSet=t.set();return i.forEach(function(i,n){i.forEach(function(i,o){var r=e[n][o],l=s["default"].renderText(t,r.end,i.end,a),c=l.node.style;if(c.userSelect="none",c.cursor="default",u.push(l),r.start){var h=s["default"].renderText(t,r.start,i.start,a);h.node.style.userSelect="none",h.node.style.cursor="default",u.push(h)}})}),u},t}();e["default"]=v},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){return a["default"].isExisty(t)&&"number"==typeof t}e.__esModule=!0;var r=i(333),a=n(r),s=i(334),u=n(s),l=i(330),c=n(l);e["default"]={makeLinePath:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=[t.left,t.top],o=[e.left,e.top],r=i%2/2;return n.forEach(function(t,e){t===o[e]&&(n[e]=o[e]=Math.round(t)-r)}),["M"].concat(n,["L"],o)},renderLine:function(t,e,i,n){var o=t.path([e]),r={stroke:i,"stroke-width":a["default"].isUndefined(n)?2:n,"stroke-linecap":"butt"};return"transparent"===i&&(r.stroke="#fff",r["stroke-opacity"]=0),o.attr(r).node.setAttribute("class","auto-shape-rendering"),o},getEllipsisText:function(t,e,i){for(var n=t.split(""),o=n.length,r=this.getRenderedTextSize(".",i.fontSize,i.fontFamily).width,a="",s=2*r,u=0;u<o;u+=1){if(s+=this.getRenderedTextSize(n[u],i.fontSize,i.fontFamily).width,s>=e){a+="..";break}a+=n[u]}return a},renderText:function(t,e,i,n){var o=t.text(e.left,e.top,a["default"].decodeHTMLEntity(String(i)));return n&&(n["dominant-baseline"]?o.node.setAttribute("dominant-baseline",n["dominant-baseline"]):o.node.setAttribute("dominant-baseline","central"),o.attr(n)),o},renderArea:function(t,e,i){var n=t.path(e);return i=Object.assign({"stroke-opacity":0},i),n.attr(i),n},renderCircle:function(t,e,i,n){var o=t.circle(e.left,e.top,i);return n&&o.attr(n),o},renderRect:function(t,e,i){var n=t.rect(e.left,e.top,e.width,e.height);return i&&n.attr(i),n},updateRectBound:function(t,e){t.attr({x:e.left,y:e.top,width:e.width,height:e.height})},forEach2dArray:function(t,e){t&&t.forEach(function(t,i){t.forEach(function(t,n){e(t,i,n)})})},makeChangedLuminanceColor:function(t,e){t=t.replace("#",""),e=e||0;var i=a["default"].range(3).map(function(i){var n=parseInt(t.substr(2*i,2),16),o=n+n*e;return o=Math.round(Math.min(Math.max(0,o),255)).toString(16),u["default"].formatToZeroFill(o,2)}).join("");return"#"+i},getRenderedTextSize:function(t,e,i){var n=(0,c["default"])(document.body,100,100),o=n.text(0,0,t).attr({"font-size":e,"font-family":i}),r=o.getBBox();return o.remove(),n.remove(),{width:r.width,height:r.height}},animateOpacity:function(t,e,i,n){var r=o(n)?n:600,a=o(e)?e:0,s=o(i)?i:1,u=c["default"].animation({opacity:s},r);t.attr({opacity:a}),t.animate(u)}}},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE_333__},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function r(t,e){t=d["default"].isArray(t)?t:[t],d["default"].forEachArray(t,e)}function a(t){return"alpha(opacity="+t*u["default"].OLD_BROWSER_OPACITY_100+")"}e.__esModule=!0;var s=i(335),u=n(s),l=i(336),c=n(l),h=i(337),p=n(h),f=i(333),d=n(f),y=d["default"].browser,g=y.msie&&y.version<=8,m=window.getComputedStyle||!1,_="clipRectForAnimation",v=0,T={concatStr:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return String.prototype.concat.apply("",e)},oneLineTrim:function(){var t=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return t.reduce(function(t,e,n){return t+i[n-1]+e})};return t.apply(void 0,arguments).replace(/\n\s*/g,"")},makeFontCssText:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=[];return t.fontSize&&e.push(this.concatStr("font-size:",t.fontSize,"px")),t.fontFamily&&e.push(this.concatStr("font-family:",t.fontFamily)),t.color&&e.push(this.concatStr("color:",t.color)),t.fontWeight&&e.push(this.concatStr("font-weight:",t.fontWeight)),e.length?e.join(";"):""},_makeCachingKey:function(t,e,i){var n=[t,i];return d["default"].forEach(e,function(t,e){n.push(t+e)}),n.join("-")},_addCssStyle:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.fontSize,n=e.fontFamily,o=e.fontWeight,r=e.cssText;t.style.fontSize=(i||u["default"].DEFAULT_LABEL_FONT_SIZE)+"px",n&&(t.style.fontFamily=n),o&&(t.style.fontWeight=o),r&&(t.style.cssText+=r)},sizeCache:{},_getRenderedLabelSize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments[2];if(t=String(t),!t)return 0;var n=this._makeCachingKey(t,e,i),o=this.sizeCache[n];if(!o){var r=this._createSizeCheckEl(),a=r.firstChild;a.innerHTML=t,this._addCssStyle(r,e),document.body.appendChild(r),o=a[i],document.body.removeChild(r),this.sizeCache[n]=o}return o},checkEl:null,_createSizeCheckEl:function(){if(this.checkEl)this.checkEl.style.cssText="";else{var t=c["default"].create("DIV","tui-chart-size-check-element"),e=c["default"].create("SPAN");t.appendChild(e),this.checkEl=t}return this.checkEl},getRenderedLabelWidth:function(t,e){return this._getRenderedLabelSize(t,e,"offsetWidth")},getRenderedLabelHeight:function(t,e){return this._getRenderedLabelSize(t,e,"offsetHeight")},_getRenderedLabelsMaxSize:function(t,e,i){var n=0;if(t&&t.length){var o=d["default"].map(t,function(t){return i(t,e)});n=p["default"].max(o)}return n},getRenderedLabelsMaxWidth:function(t,e){var i=d["default"].bind(this.getRenderedLabelWidth,this),n=this._getRenderedLabelsMaxSize(t,e,i);return n},getRenderedLabelsMaxHeight:function(t,e){var i=d["default"].bind(this.getRenderedLabelHeight,this),n=this._getRenderedLabelsMaxSize(t,e,i);return n},renderDimension:function(t,e){var i=e.width,n=void 0===i?0:i,o=e.height,r=void 0===o?0:o;t.style.cssText=[this.concatStr("width:",n,"px"),this.concatStr("height:",r,"px")].join(";")},renderPosition:function(t,e){d["default"].isUndefined(e)||d["default"].forEachArray(["top","bottom","left","right"],function(i){var n=e[i];d["default"].isNumber(n)&&(t.style[i]=n+"px")})},renderBackground:function(t,e){e&&(t.style.background=e)},renderFontFamily:function(t,e){e&&(t.style.fontFamily=e)},renderTitle:function(t,e,i){if(!t)return null;var n=T.makeFontCssText(e),o=c["default"].create("DIV",i);return o.innerHTML=t,e.background&&(n+=";"+this.concatStr("background:",e.background)),o.style.cssText=n,o},expandBound:function(t){var e=t.dimension,i=t.position;return{dimension:{width:e.width+2*u["default"].SERIES_EXPAND_SIZE,height:e.height+2*u["default"].SERIES_EXPAND_SIZE},position:{left:i.left-u["default"].SERIES_EXPAND_SIZE,top:i.top-u["default"].SERIES_EXPAND_SIZE}}},_properCase:function(t){return t.substring(0,1).toUpperCase()+t.substring(1)},makeMouseEventDetectorName:function(t,e,i){return t+this._properCase(e)+this._properCase(i)},formatValue:function(t){var e=t.value,i=t.formatFunctions,n=t.valueType,r=void 0===n?"value":n,a=t.areaType,s=t.legendName,u=t.chartType,l=[String(e)].concat(o(i||[]));return d["default"].reduce(l,function(t,e){return e(t,u,a,r,s)})},formatValues:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.chartType,o=i.areaType,r=i.valueType;return e&&e.length?d["default"].map(t,function(t){return T.formatValue({value:t,formatFunctions:e,chartType:n,areaType:o,valueType:r})}):t},formatDate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u["default"].DEFAULT_DATE_FORMAT,i=d["default"].isDate(t)?t:new Date(t);return d["default"].formatDate(e,i)||t},formatDates:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u["default"].DEFAULT_DATE_FORMAT;return d["default"].map(t,function(t){return e.formatDate(t,i)})},cancelAnimation:function(t){t&&t.id&&(cancelAnimationFrame(t.id),delete t.id)},startAnimation:function(t,e,i){function n(){var a=(new Date).getTime()-r,s=Math.min(a/t,1);e(s),1===s?(delete o.id,i&&i()):o.id=requestAnimationFrame(n)}var o={},r=(new Date).getTime();return o.id=requestAnimationFrame(n),o},isOldBrowser:function(){return g},formatToZeroFill:function(t,e){var i="0";if(t=String(t),t.length>=e)return t;for(;t.length<e;)t=i+t;return t},formatToDecimal:function(t,e){var i=10,n=Math.pow(i,e);return 0===e?Math.round(t):(t=Math.round(t*n)/n,t=parseFloat(t).toFixed(e))},formatToComma:function(t){t=String(t);var e=",",i=3,n=t,r=t.indexOf("-")>-1?"-":"",a="",s=void 0,u=void 0,l=void 0;if(t.indexOf(".")>-1?(s=t.split("."),t=String(Math.abs(s[0])),a="."+s[1]):t=String(Math.abs(t)),t.length<=i)l=n;else{var c;s=t.split("").reverse(),u=s.length-1,s=d["default"].map(s,function(t,n){var o=[t];return n<u&&(n+1)%i===0&&o.push(e),o}),l=r+(c=[]).concat.apply(c,o(s)).reverse().join("")+a}return l},makeCssTextFromMap:function(t){return d["default"].map(t,function(t,e){return T.concatStr(e,":",t)}).join(";")},_perseString:function(t){return"string"==typeof t||"number"==typeof t?String(t):""},addPrefixSuffix:function(t,e,i){return e=this._perseString(e),i=this._perseString(i),""!==e||""!==i?d["default"].map(t,function(t){return e+t+i}):t},getStyle:function(t){var e=void 0;return e=m?window.getComputedStyle(t,""):t.currentStyle},generateClipRectId:function(){var t=_+v;return v+=1,t}};g?(T.makeOpacityCssText=function(t){var e="";if(d["default"].isExisty(t)){var i=a(t);e=";filter:"+i}return e},T.setOpacity=function(t,e){var i=a(e);r(t,function(t){t.style.filter=i})}):(T.makeOpacityCssText=function(t){var e="";return d["default"].isExisty(t)&&(e=";opacity:"+t),e},T.setOpacity=function(t,e){r(t,function(t){t.style.opacity=e})}),e["default"]=T},function(t,e){"use strict";e.__esModule=!0,e["default"]={CLASS_NAME_LEGEND_LABEL:"tui-chart-legend-label",CLASS_NAME_LEGEND_CHECKBOX:"tui-chart-legend-checkbox",CLASS_NAME_SERIES_LABEL:"tui-chart-series-label",CLASS_NAME_SERIES_LEGEND:"tui-chart-series-legend",CLASS_NAME_RESET_ZOOM_BTN:"tui-chart-reset-zoom-btn",CLASS_NAME_ZOOM_OUT_BTN:"tui-chart-zoom-out-btn",CLASS_NAME_CHART_EXPORT_MENU_AREA:"tui-chart-chartExportMenu-area",CLASS_NAME_CHART_EXPORT_MENU_ITEM:"tui-chart-chartExportMenu-item",CLASS_NAME_CHART_EXPORT_MENU_BUTTON:"tui-chart-chartExportMenu-button",CLASS_NAME_CHART_EXPORT_MENU_HEAD:"tui-chart-chartExportMenu-head",CLASS_NAME_CHART_EXPORT_MENU_BODY:"tui-chart-chartExportMenu-body",CLASS_NAME_TOOLTIP_VALUE:"tui-chart-tooltip-value",CLASS_NAME_TOOLTIP_HEAD:"tui-chart-tooltip-head",CLASS_NAME_TOOLTIP_BODY:"tui-chart-tooltip-body",CLASS_NAME_SVG_AUTOSHAPE:"auto-shape-rendering",CHART_TYPE_BAR:"bar",CHART_TYPE_COLUMN:"column",CHART_TYPE_LINE:"line",CHART_TYPE_AREA:"area",CHART_TYPE_COMBO:"combo",CHART_TYPE_COLUMN_LINE_COMBO:"columnLineCombo",CHART_TYPE_LINE_SCATTER_COMBO:"lineScatterCombo",CHART_TYPE_LINE_AREA_COMBO:"lineAreaCombo",CHART_TYPE_PIE_DONUT_COMBO:"pieDonutCombo",CHART_TYPE_PIE:"pie",CHART_TYPE_BUBBLE:"bubble",CHART_TYPE_SCATTER:"scatter",CHART_TYPE_HEATMAP:"heatmap",CHART_TYPE_TREEMAP:"treemap",CHART_TYPE_MAP:"map",CHART_TYPE_RADIAL:"radial",CHART_TYPE_BOXPLOT:"boxplot",CHART_TYPE_BULLET:"bullet",CHART_PADDING:10,CHART_DEFAULT_WIDTH:500,CHART_DEFAULT_HEIGHT:400,OVERLAPPING_WIDTH:1,TEXT_PADDING:2,SERIES_EXPAND_SIZE:10,SERIES_AREA_V_PADDING:10,SERIES_LABEL_PADDING:5,SERIES_EXTRA_EVENT_AREA_FOR_ZERO:2,DEFAULT_TITLE_FONT_SIZE:14,DEFAULT_AXIS_TITLE_FONT_SIZE:10,DEFAULT_LABEL_FONT_SIZE:12,DEFAULT_SERIES_LABEL_FONT_SIZE:11,DEFAULT_PLUGIN:"Raphael",DEFAULT_TICK_COLOR:"black",DEFAULT_THEME_NAME:"default",MAX_HEIGHT_WORD:"A",NORMAL_STACK_TYPE:"normal",PERCENT_STACK_TYPE:"percent",DEFAULT_STACK:"___DEFAULT___STACK___",DUMMY_KEY:"___DUMMY___KEY___",TREEMAP_ROOT_ID:"___TUI_TREEMAP_ROOT___",TREEMAP_ID_PREFIX:"___TUI_TREEMAP_ID___",TREEMAP_DEPTH_KEY_PREFIX:"___TUI_TREEMAP_DEPTH___",TREEMAP_PARENT_KEY_PREFIX:"___TUI_TREEMAP_PARENT___",TREEMAP_LEAF_KEY_PREFIX:"___TUI_TREEMAP_LEAF___",TREEMAP_LIMIT_DEPTH_KEY_PREFIX:"___TUI_TREEMAP_LIMIT_DEPTH___",TREEMAP_DEFAULT_BORDER:"#ffffff",TREEMAP_DEFAULT_BORDER_WIDTH:4,EMPTY_AXIS_LABEL:"",ANGLE_85:85,ANGLE_90:90,ANGLE_360:360,RAD:Math.PI/180,RERENDER_TIME:700,ADDING_DATA_ANIMATION_DURATION:300,LABEL_ALIGN_OUTER:"outer",LEGEND_ALIGN_TOP:"top",LEGEND_ALIGN_BOTTOM:"bottom",LEGEND_ALIGN_LEFT:"left",LEGEND_PAGINATION_BUTTON_WIDTH:20,LEGEND_PAGINATION_BUTTON_PADDING_RIGHT:6,SERIES_OUTER_LABEL_PADDING:20,PIE_GRAPH_DEFAULT_RATIO:.9,PIE_GRAPH_SMALL_RATIO:.75,PIE_GRAPH_LEGEND_LABEL_SIZE:16,PIE_GRAPH_LEGEND_LABEL_INTERVAL:20,SPECTRUM_LEGEND_TICK_COUNT:4,LABEL_SEPARATOR:"\n",MAP_CHART_LABEL_DEFAULT_POSITION_RATIO:{x:.5,y:.5},MAP_CHART_ZOOM_AREA_WIDTH:24,MAP_CHART_ZOOM_AREA_HEIGHT:58,DOT_RADIUS:4,SCATTER_RADIUS:7,THEME_PROPS_MAP:{yAxis:["tickColor","title","label"],series:["label","colors","borderColor","borderWidth","selectionColor","startColor","endColor","overColor","dot","ranges"]},TITLE_AREA_WIDTH_PADDING:20,CHART_EXPORT_MENU_SIZE:24,XAXIS_LABEL_TOP_MARGIN:10,V_LABEL_RIGHT_PADDING:10,TOOLTIP_PREFIX:"tui-chart-tooltip",TOOLTIP_ZINDEX:500,TOOLTIP_ANIMATION_TIME:100,TOOLTIP_PIE_ANIMATION_TIME:50,MIN_PIXEL_TYPE_STEP_SIZE:45,MAX_PIXEL_TYPE_STEP_SIZE:65,PERCENT_STACKED_AXIS_SCALE:{limit:{min:0,max:100},step:25,labels:[0,25,50,75,100]},MINUS_PERCENT_STACKED_AXIS_SCALE:{limit:{min:-100,max:0},step:25,labels:[0,-25,-50,-75,-100]},DUAL_PERCENT_STACKED_AXIS_SCALE:{limit:{min:-100,max:100},step:25,labels:[-100,-75,-50,-25,0,25,50,75,100]},DIVERGING_PERCENT_STACKED_AXIS_SCALE:{limit:{min:-100,max:100},step:25,labels:[100,75,50,25,0,25,50,75,100]},AXIS_TYPE_DATETIME:"datetime",DEFAULT_DATE_FORMAT:"YYYY.MM.DD hh:mm:dd",DATE_TYPE_YEAR:"year",DATE_TYPE_MONTH:"month",DATE_TYPE_WEEK:"week",DATE_TYPE_DATE:"date",DATE_TYPE_HOUR:"hour",DATE_TYPE_MINUTE:"minute",DATE_TYPE_SECOND:"second",TITLE_PADDING:20,TITLE_ALIGN_CENTER:"center",TITLE_ALIGN_RIGHT:"right",TITLE_ALIGN_LEFT:"left",DEFAULT_HEADER_HEIGHT:10,LEGEND_AREA_H_PADDING:15,LEGEND_AREA_V_PADDING:7,LEGEND_CHECKBOX_SIZE:14,LEGEND_ICON_WIDTH:10,LEGEND_ICON_HEIGHT:10,LEGEND_LABEL_LEFT_PADDING:8,LEGEND_V_LABEL_RIGHT_PADDING:20,LEGEND_H_LABEL_RIGHT_PADDING:25,LEGEND_LINE_ICON_PATH:"M1,9 L1,3 C1,1.8954305 1.8954305,1 3,1 L3,1 C4.1045695,1 5,1.8954305 5,3 L5,7 C5,8.1045695 5.8954305,9 7,9 L7,9 C8.1045695,9 9,8.1045695 9,7 L9,1",MIN_LEGEND_WIDTH:100,MAP_LEGEND_AREA_PADDING_WIDE:22,VERTICAL_MAP_LEGEND_AREA_TOP_PADDING:26,MAP_LEGEND_AREA_PADDING_NARROW:10,MAP_LEGEND_TOOLTIP_VERTICAL_PADDING:4,MAP_LEGEND_TOOLTIP_HORIZONTAL_PADDING:6,MAP_LEGEND_WEDGE_SIZE:4,MAP_LEGEND_PADDING_BTW_GRAPH_AND_WEDGE:4,VERTICAL_MAP_LEGEND_HEIGHT:320,HORIZONTAL_MAP_LEGEND_WIDTH:400,MAP_LEGEND_GRAPH_SIZE:6,MAP_LEGEND_LABEL_PADDING:5,CIRCLE_LEGEND_LABEL_FONT_SIZE:9,CIRCLE_LEGEND_PADDING:10,HALF_RATIO:.5,AXIS_BACKGROUND_RIGHT_PADDING:4,X_AXIS_LABEL_PADDING:7,X_AXIS_TITLE_PADDING:5,Y_AXIS_LABEL_PADDING:17,Y_AXIS_TITLE_PADDING:7,DEGREE_CANDIDATES:[25,45,65,85],TICK_INTERVAL_AUTO:"auto",YAXIS_ALIGN_CENTER:"center",XAXIS_LABEL_GUTTER:2,AXIS_STANDARD_MULTIPLE_NUMS:[1,2,5,10,20,50,100],AXIS_LAST_STANDARD_MULTIPLE_NUM:100,AXIS_EDGE_RATIO:8,LABEL_PADDING_TOP:7,LINE_MARGIN_TOP:14,TOOLTIP_GAP:5,TOOLTIP_DIRECTION_FORWARD:"forword",TOOLTIP_DIRECTION_CENTER:"center",TOOLTIP_DIRECTION_BACKWARD:"backword",TOOLTIP_DEFAULT_ALIGN_OPTION:"center top",TOOLTIP_DEFAULT_HORIZONTAL_ALIGN_OPTION:"right middle",TOOLTIP_DEFAULT_GROUP_ALIGN_OPTION:"right middle",TOOLTIP_DEFAULT_GROUP_HORIZONTAL_ALIGN_OPTION:"center bottom",HIDE_DELAY:200,OLD_BROWSER_OPACITY_100:100,SERIES_LABEL_OPACITY:.3,WHEEL_TICK:120,MAX_ZOOM_MAGN:5,ZOOM_POSITION_TOP_EXIST_TITLE:5,ZOOM_POSITION_TOP_NONE_TITLE:1,FF_WHEELDELTA_ADJUSTING_VALUE:-40,IE7_ROTATION_FILTER_STYLE_MAP:{25:" style=\"filter: progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.9063077870366499, M12=0.42261826174069944, M21=-0.42261826174069944, M22=0.9063077870366499)\"",45:" style=\"filter: progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=0.7071067811865475, M21=-0.7071067811865475, M22=0.7071067811865476)\"",65:" style=\"filter: progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.42261826174069944, M12=0.9063077870366499, M21=-0.9063077870366499, M22=0.42261826174069944)\"",85:" style=\"filter: progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.08715574274765814, M12=0.9961946980917455, M21=-0.9961946980917455, M22=0.08715574274765814)\""},PUBLIC_EVENT_PREFIX:"public_",PUBLIC_EVENT_MAP:{load:!0,selectLegend:!0,selectSeries:!0,unselectSeries:!0,beforeShowTooltip:!0,afterShowTooltip:!0,beforeHideTooltip:!0,zoom:!0},RADIAL_PLOT_PADDING:15,RADIAL_MARGIN_FOR_CATEGORY:60,RADIAL_CATEGORY_PADDING:20,COMPONENT_TYPE_DOM:"DOM",COMPONENT_TYPE_RAPHAEL:"Raphael",IMAGE_EXTENSIONS:["png","jpeg"],DATA_EXTENSIONS:["xls","csv"],GUIDE_AREACHART_AREAOPACITY_TYPE:"areaOpacity should be a number between 0 and 1",BULLET_TYPE_ACTUAL:"Actual",BULLET_TYPE_RANGE:"Ranges",BULLET_TYPE_MARKER:"Markers",BULLET_MARKER_STROKE_TICK:3,BULLET_MARKER_BUFFER_POSITION:5,BULLET_RANGES_HEIGHT_RATIO:.7,BULLET_ACTUAL_HEIGHT_RATIO:.28,BULLET_MARKERS_HEIGHT_RATIO:.55,BULLET_MARKER_DETECT_PADDING:3}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}e.__esModule=!0;var r=i(333),a=n(r);e["default"]={create:function(t,e){var i=document.createElement(t);return e&&this.addClass(i,e),i},_getClassNames:function(t){var e=void 0,i=void 0;return t.classList?i=[].concat(o(t.classList)):(e=t.className||"",i=e&&a["default"].isString(e)?e.split(" "):[]),i},addClass:function(t,e){if(t&&e){var i=this._getClassNames(t),n=a["default"].inArray(e,i);n>-1||(i.push(e),t.className=i.join(" "))}},removeClass:function(t,e){var i=this._getClassNames(t),n=a["default"].inArray(e,i);n!==-1&&(i.splice(n,1),t.className=i.join(" "))},hasClass:function(t,e){var i=this._getClassNames(t),n=a["default"].inArray(e,i);return n>-1},findParentByClass:function(t,e,i){var n=t.parentNode,o=void 0;return o=n?this.hasClass(n,e)?n:"BODY"===n.nodeName||this.hasClass(n,i)?null:this.findParentByClass(n,e,i):null},append:function(t,e){t&&e&&(e=a["default"].isArray(e)?e:[e],a["default"].forEachArray(e,function(e){e&&t.appendChild(e)}))}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function r(t,e,i){var n=void 0;if(e){var r=h(t,1);n=r[0];var a=t.slice(1),s=e.call(i,n,0);a.forEach(function(t,o){var r=e.call(i,t,o+1);r<s&&(s=r,n=t)})}else n=Math.min.apply(Math,o(t));return n}function a(t,e,i){var n=void 0;if(e){var r=h(t,1);n=r[0];var a=t.slice(1),s=e.call(i,n,0);f["default"].forEachArray(a,function(t,o){var r=e.call(i,t,o+1);r>s&&(s=r,n=t)})}else n=Math.max.apply(Math,o(t));return n}function s(t,e,i){var n=!1;return f["default"].forEach(t,function(o,r){return e.call(i,o,r,t)&&(n=!0),!n}),n}function u(t,e,i){var n=!!(t||[]).length;return f["default"].forEach(t,function(o,r){return e.call(i,o,r,t)||(n=!1),n!==!1}),n}function l(t,e,i,n){var o=[];if(f["default"].isBoolean(e)||(n=i,i=e,e=!1),i=i||function(t){return t},e){var r=void 0;f["default"].forEachArray(t,function(e,a){e=i.call(n,e,a,t),a&&r===e||o.push(e),r=e})}else f["default"].forEachArray(t,function(e,r){e=i.call(n,e,r,t),f["default"].inArray(e,o)===-1&&o.push(e)});return o}function c(t){var e=[],i=a(t.map(function(t){return t.length}));return t.forEach(function(t){for(var n=0;n<i;n+=1)e[n]||(e[n]=[]),e[n].push(t[n])}),e}e.__esModule=!0;var h=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(u){o=!0,r=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=i(333),f=n(p);e["default"]={min:r,max:a,any:s,all:u,unique:l,pivot:c}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(u){o=!0,r=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=o(["\n            M",",","\n            V","\n        "],["\n            M",",","\n            V","\n        "]),u=i(332),l=n(u),c=i(334),h=n(c),p=i(333),f=n(p),d=i(330),y=n(d),g=700,m=1,_=.3,v=.2,T=1,b=1,x=1,E=function(){function t(){r(this,t)}return t.prototype.render=function(t,e){var i=e.groupBounds;return i?(this.paper=t,this.theme=e.theme,this.options=e.options,this.seriesDataModel=e.seriesDataModel,this.chartType=e.chartType,this.paper.setStart(),this.groupWhiskers=[],this.groupMedians=[],this.groupBoxes=this._renderBoxplots(i),this.groupBorders=this._renderBoxBorders(i),this.circleOverlay=this._renderCircleOverlay(),this.groupBounds=i,this.paper.setFinish()):null},t.prototype._renderCircleOverlay=function(){var t={left:0,top:0},e={"fill-opacity":0};return l["default"].renderCircle(this.paper,t,0,f["default"].extend({"stroke-width":0},e))},t.prototype._renderBox=function(t,e,i){if(t.width<0||t.height<0)return null;var n=l["default"].renderRect(this.paper,t,f["default"].extend({fill:e,stroke:"none"},i));return n},t.prototype._renderBoxes=function(t){var e=this,i=this.theme.colors,n=this.options.colorByPoint;return t.map(function(t,o){return t.map(function(t,r){if(!t)return null;var a=e.seriesDataModel.getSeriesItem(o,r),s=n?i[o]:i[r],u=void 0;return t.start&&(u=e._renderBox(t.start,s)),{rect:u,color:s,bound:t.end,item:a,groupIndex:o,index:r}})})},t.prototype._renderBoxplots=function(t){var e=this._renderBoxes(t);return this.groupWhiskers=this._renderWhiskers(t),this.groupMedians=this._renderMedianLines(t),this.groupOutliers=this._renderOutliers(t),e},t.prototype._renderWhisker=function(t,e,i){var n=this.paper,o=e.top-t.top,r=o>0?1:-1,a=t.left,u=t.width,c=u/4,p="M"+(a+c)+","+t.top+"H"+(a+3*c),f=h["default"].oneLineTrim(s,a+2*c,t.top,t.top+Math.abs(o)*r),d=l["default"].renderLine(n,p,i,T),y=l["default"].renderLine(n,f,i,x),g=[];return d.attr({opacity:0}),y.attr({opacity:0}),g.push(d),g.push(y),g},t.prototype._renderWhiskers=function(t){var e=this,i=this.theme.colors,n=this.options.colorByPoint,o=[];return t.forEach(function(t,r){var a=[];t.forEach(function(t,o){var s=n?i[r]:i[o];t&&(a=a.concat(e._renderWhisker(t.min,t.start,s)),a=a.concat(e._renderWhisker(t.max,t.end,s)))}),o.push(a)}),o},t.prototype._renderMedianLine=function(t){var e=t.width,i="M"+t.left+","+t.top+",H"+(t.left+e),n=l["default"].renderLine(this.paper,i,"#ffffff",b);return n.attr({opacity:0}),n},t.prototype._renderMedianLines=function(t){var e=this,i=[];return t.forEach(function(t){var n=[];t.forEach(function(t){t&&n.push(e._renderMedianLine(t.median))}),i.push(n)}),i},t.prototype._renderOutlier=function(t,e){var i=l["default"].renderCircle(this.paper,{left:t.left,top:t.top},3.5,{stroke:e,"stroke-width":2});return i.attr({opacity:0}),i},t.prototype._renderOutliers=function(t){var e=this,i=this.theme.colors,n=this.options.colorByPoint,o=[];return t.forEach(function(t,r){var a=[];t.forEach(function(t,o){var s=n?i[r]:i[o],u=[];t&&(t.outliers.length&&t.outliers.forEach(function(t){u.push(e._renderOutlier(t,s))}),a.push(u))}),o.push(a)}),o},t.prototype._makeRectPoints=function(t){return{leftTop:{left:Math.ceil(t.left),top:Math.ceil(t.top)},rightTop:{left:Math.ceil(t.left+t.width),top:Math.ceil(t.top)},rightBottom:{left:Math.ceil(t.left+t.width),top:Math.ceil(t.top+t.height)},leftBottom:{left:Math.ceil(t.left),top:Math.ceil(t.top+t.height)}}},t.prototype._renderBorderLines=function(t,e,i,n){var o=this,r=this._makeBorderLinesPaths(t,i,n),s={};return Object.entries(r).forEach(function(t){var i=a(t,2),n=i[0],r=i[1];s[n]=l["default"].renderLine(o.paper,r,e,1)}),s},t.prototype._renderBoxBorders=function(t){var e=this,i=this.theme.borderColor;if(!i)return null;var n=t.map(function(t,n){return t.map(function(t,o){if(!t)return null;var r=e.seriesDataModel.getSeriesItem(n,o);return e._renderBorderLines(t.start,i,e.chartType,r)})});return n},t.prototype._animateRect=function(t,e){t.animate({x:e.left,y:e.top,width:e.width,height:e.height},g,">")},t.prototype.animate=function(t){var e=this,i=y["default"].animation({opacity:1},g);l["default"].forEach2dArray(this.groupBoxes,function(t){t&&e._animateRect(t.rect,t.bound)}),l["default"].forEach2dArray(this.groupWhiskers,function(t){t.animate(i.delay(g))}),l["default"].forEach2dArray(this.groupMedians,function(t){t.animate(i.delay(g))}),l["default"].forEach2dArray(this.groupOutliers,function(t){t.forEach(function(t){t.animate(i.delay(g))})}),t&&(this.callbackTimeout=setTimeout(function(){t(),delete e.callbackTimeout},g))},t.prototype.showAnimation=function(t){f["default"].isNumber(t.outlierIndex)?this.showOutlierAnimation(t):this.showRectAnimation(t)},t.prototype.showRectAnimation=function(t){var e=this.groupBoxes[t.groupIndex][t.index];this.hoveredBar=e.rect,this.hoveredBar.attr({stroke:"#ffffff","stroke-width":4}),this.hoveredBar.node.setAttribute("filter","url(#shadow)")},t.prototype.showOutlierAnimation=function(t){var e=this.groupOutliers[t.groupIndex][t.index][t.outlierIndex].attr();this.circleOverlay.attr({r:e.r,cx:e.cx,cy:e.cy,fill:e.stroke,"fill-opacity":1,stroke:e.stroke,"stroke-width":4})},t.prototype.hideAnimation=function(){this.circleOverlay.attr({width:1,height:1,x:0,y:0,"fill-opacity":0,"stroke-width":2}),this.hoveredBar.attr({stroke:"none"}),this.hoveredBar.node.setAttribute("filter","none")},t.prototype._updateRectBound=function(t,e){t.attr({x:e.left,y:e.top,width:e.width,height:e.height})},t.prototype.resize=function(t){var e=t.dimension,i=t.groupBounds;this.groupBounds=i,this.paper.setSize(e.width,e.height),l["default"].forEach2dArray(this.groupBoxes,function(t,e,n){if(t){var o=i[e][n].end;t.bound=o,l["default"].updateRectBound(t.rect,o)}})},t.prototype._changeBordersColor=function(t,e){t.forEach(function(t){t.attr({stroke:e})})},t.prototype._changeBoxColor=function(t,e,i){var n=this.groupBoxes[t.groupIndex][t.index];if(n.rect.attr({stroke:e}),i){var o=this.groupBorders[t.groupIndex][t.index];this._changeBordersColor(o,i)}},t.prototype.selectSeries=function(t){var e=this.groupBoxes[t.groupIndex][t.index],i=y["default"].color(e.color),n=this.theme.selectionColor,o=l["default"].makeChangedLuminanceColor,r=n||o(i.hex,v),a=this.theme.borderColor;if(a){var s=y["default"].color(a);a=l["default"].makeChangedLuminanceColor(s.hex,v)}this._changeBoxColor(t,r,a)},t.prototype.unselectSeries=function(t){var e=this.groupBoxes[t.groupIndex][t.index],i=this.theme.borderColor;this._changeBoxColor(t,e.color,i);
},t.prototype.selectLegend=function(t){var e=f["default"].isNull(t);l["default"].forEach2dArray(this.groupBoxes,function(i,n,o){if(i){var r=e||t===o?m:_;i.rect.attr({"stroke-opacity":r})}}),l["default"].forEach2dArray(this.groupWhiskers,function(i,n,o){var r=e||t===o?m:_;i.attr({"stroke-opacity":r})}),l["default"].forEach2dArray(this.groupMedians,function(i,n,o){var r=e||t===o?m:_;i.attr({"stroke-opacity":r})})},t.prototype.renderSeriesLabel=function(t,e,i,n,o){var r={"font-size":n.fontSize,"font-family":n.fontFamily,"font-weight":n.fontWeight,fill:n.color,opacity:0,"text-anchor":o?"middle":"start"},a=t.set();return i.forEach(function(i,n){i.forEach(function(i,o){var s=e[n][o],u=l["default"].renderText(t,s.end,i.end,r);if(u.node.style.userSelect="none",u.node.style.cursor="default",u.node.setAttribute("filter","url(#glow)"),a.push(u),s.start){var c=l["default"].renderText(t,s.start,i.start,r);c.node.style.userSelect="none",c.node.style.cursor="default",c.node.setAttribute("filter","url(#glow)"),a.push(c)}})}),a},t}();e["default"]=E},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e,i,n){var o=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),r=t.rect(e.left,e.top,i.width,i.height);return r.id=n+"_rect",o.id=n,o.appendChild(r.node),t.defs.appendChild(o),r}e.__esModule=!0;var a=i(332),s=n(a),u=i(335),l=n(u),c=i(333),h=n(c),p=i(334),f=n(p),d=h["default"].browser,y=d.msie&&d.version<=8,g=700,m=700,_=1,v=.3,T=20,b=function(){function t(){o(this,t)}return t.prototype.render=function(t,e){var i=e.groupBounds,n=e.seriesDataModel;return i&&i.length?(this.paper=t,this.theme=e.theme,this.dimension=e.dimension,this.position=e.position,this.options=e.options,this.chartType=e.chartType,this.isVertical=e.isVertical,this.seriesDataModel=n,this.maxRangeCount=n.maxRangeCount,this.maxMarkerCount=n.maxMarkerCount,this._graphColors=[],this.rangeOpacities={},this.paper.setStart(),this._renderBounds(i),this.paper.setFinish()):null},t.prototype._getRangeOpacity=function(t){var e=this.maxRangeCount;return this.prevMaxRangeCount!==e&&this._updateOpacityStep(e),t<e&&!this.rangeOpacities[t]&&(this.rangeOpacities[t]=1-this.opacityStep*(t+1)),this.rangeOpacities[t]},t.prototype._updateOpacityStep=function(t){this.rangeOpacities={},this.opacityStep=Number(1/(t+1)).toFixed(2),this.prevMaxRangeCount=t},t.prototype._renderBounds=function(t){var e=this,i=this.theme.ranges,n=this.paper;this.groupBars=[],this.groupLines=[],t.forEach(function(t,o){var r=e.theme.colors[o],a=0,s=n.set(),u=n.set();t.forEach(function(t){var n=t.type;n===l["default"].BULLET_TYPE_ACTUAL?s.push(e._renderActual(t,r)):n===l["default"].BULLET_TYPE_RANGE?(s.push(e._renderRange(t,r,a,i[a])),a+=1):n===l["default"].BULLET_TYPE_MARKER&&u.push(e._renderMarker(t,r))}),e.groupBars.push(s),e.groupLines.push(u)},this)},t.prototype._renderActual=function(t,e){return t?this._renderBar(t,e):null},t.prototype._renderRange=function(t,e,i,n){var o=this._getRangeOpacity(i),r={opacity:o},a=e;return t?(n&&(a=n.color||a,r.opacity=n.opacity||o),this._renderBar(t,a,r)):null},t.prototype._renderBar=function(t,e,i){return t.width<0||t.height<0?null:s["default"].renderRect(this.paper,t,h["default"].extend({fill:e,stroke:"none"},i))},t.prototype._renderMarker=function(t,e){return t?this._renderLine(t,e):null},t.prototype._renderLine=function(t,e){var i=t.top,n=t.left,o=t.length,r=this.isVertical?"L"+(n+o)+","+i:"L"+n+","+(i+o),a="M"+n+","+(i+r);return s["default"].renderLine(this.paper,a,e,l["default"].BULLET_MARKER_STROKE_TICK)},t.prototype.animate=function(t,e){var i=this,n=this.paper,o=this.dimension,a=this.position,s=this._getClipRectId(),u=o.width-T,l=o.height-T,c={},h={},p=this.clipRect;this.isVertical?(c.width=u,c.height=0,h.height=l):(c.width=0,c.height=l,h.width=u),!y&&o&&(p?(p.attr({x:a.left,y:a.top}),p.attr(c)):(p=r(n,a,c,s),this.clipRect=p),e.forEach(function(t){"set"===t.type?t.forEach(function(t){t.node.setAttribute("clip-path","url(#"+s+")")}):t.node.setAttribute("clip-path","url(#"+s+")")}),p.animate(h,g,">",t)),t&&(this.callbackTimeout=setTimeout(function(){t(),delete i.callbackTimeout},m))},t.prototype.resize=function(t){var e=t.dimension,i=t.groupBounds,n=e.width,o=e.height;this.dimension=t.dimension,this.groupBounds=i,this.resizeClipRect(n,o),this.paper.setSize(n,o)},t.prototype.resizeClipRect=function(t,e){var i=this.paper.getById(this._getClipRectId()+"_rect");i&&i.attr({width:t,height:e})},t.prototype.setClipRectPosition=function(t){var e=this.paper.getById(this._getClipRectId()+"_rect");e.attr({x:t.left,y:t.top})},t.prototype._getClipRectId=function(){return this.clipRectId||(this.clipRectId=f["default"].generateClipRectId()),this.clipRectId},t.prototype._changeBordersColor=function(t,e){t.forEach(function(t){t.attr({stroke:e})})},t.prototype.selectLegend=function(t){var e=this,i=h["default"].isNull(t);this.groupBars.forEach(function(n,o){var r=i||t===o?_:v;e.groupBars[o].attr({"fill-opacity":r}),e.groupLabels[o].attr({opacity:r}),e.groupLabels[o].forEach(function(t){t.attr({opacity:r})})})},t.prototype.renderSeriesLabel=function(t,e,i,n){var o=this,r={"font-size":n.fontSize,"font-family":n.fontFamily,"font-weight":n.fontWeight,fill:n.color,opacity:0,"text-anchor":this.isVertical?"middle":"start"},a=t.set();return this.groupLabels=i.map(function(i,n){var s=t.set();return i.forEach(function(i,u){var l=o._renderLabel(t,e[n][u],r,i);s.push(l),a.push(l)}),s},this),a},t.prototype._renderLabel=function(t,e,i,n){var o=s["default"].renderText(t,e,n,i),r=o.node,a=r.style;return a.userSelect="none",a.cursor="default",r.setAttribute("filter","url(#glow)"),o},t.prototype.getGraphColors=function(){var t=this;return this._graphColors.length||(this._graphColors=this.groupBars.map(function(e,i){var n=[],o=t.groupLines[i].length;e.forEach(function(t){n.push(t.attrs.fill)});for(var r=n[n.length-1],a=0;a<=o;a+=1)n.push(r);return n})),this._graphColors},t}();e["default"]=b},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(341),u=n(s),l=i(332),c=n(l),h=i(333),p=n(h),f=1,d=.3,y=function(t){function e(){o(this,e);var i=r(this,t.call(this));return i.selectedLegendIndex=null,i.chartType="line",i.lineWidth=6,i}return a(e,t),e.prototype.render=function(t,e){var i=e.dimension,n=e.groupPositions,o=e.theme,r=e.options,a=e.position,s=o.colors,u=r.showDot?1:0,l=r.spline,c=this.lineWidth=p["default"].isNumber(r.pointWidth)?r.pointWidth:this.lineWidth,h=this.makeBorderStyle(o.dot.strokeColor,u,o.dot.strokeWidth),f=this.makeOutDotStyle(u,h),d=void 0;return d=l?this._getSplineLinesPath(n,r.connectNulls):this._getLinesPath(n,r.connectNulls),this.paper=t,this.theme=o,this.isSpline=l,this.dimension=i,this.position=a,t.setStart(),this.groupLines=this._renderLines(t,d,s,c),this.tooltipLine=this._renderTooltipLine(t,i.height),this.groupDots=this._renderDots(t,n,s,u),r.allowSelect&&(this.selectionDot=this._makeSelectionDot(t),this.selectionColor=o.selectionColor),this.colors=s,this.borderStyle=h,this.outDotStyle=f,this.groupPositions=n,this.groupPaths=d,this.dotOpacity=u,delete this.pivotGroupDots,t.raphael.svg&&this.appendShadowFilterToDefs(),t.setFinish()},e.prototype.appendShadowFilterToDefs=function(){var t=document.createElementNS("http://www.w3.org/2000/svg","filter"),e=document.createElementNS("http://www.w3.org/2000/svg","feOffset"),i=document.createElementNS("http://www.w3.org/2000/svg","feGaussianBlur"),n=document.createElementNS("http://www.w3.org/2000/svg","feBlend");t.setAttributeNS(null,"id","shadow"),t.setAttributeNS(null,"x","-50%"),t.setAttributeNS(null,"y","-50%"),t.setAttributeNS(null,"width","180%"),t.setAttributeNS(null,"height","180%"),e.setAttributeNS(null,"result","offOut"),e.setAttributeNS(null,"in","SourceAlpha"),e.setAttributeNS(null,"dx","0"),e.setAttributeNS(null,"dy","0"),i.setAttributeNS(null,"result","blurOut"),i.setAttributeNS(null,"in","offOut"),i.setAttributeNS(null,"stdDeviation","2"),n.setAttributeNS(null,"in","SourceGraphic"),n.setAttributeNS(null,"in2","blurOut"),n.setAttributeNS(null,"mode","normal"),t.appendChild(e),t.appendChild(i),t.appendChild(n),this.paper.defs.appendChild(t)},e.prototype._getLinesPath=function(t,e){var i=this;return t.map(function(t){return i._makeLinesPath(t,null,e)})},e.prototype._getSplineLinesPath=function(t,e){var i=this;return t.map(function(t){return i._makeSplineLinesPath(t,{connectNulls:e})})},e.prototype._renderLines=function(t,e,i,n){return e.map(function(e,o){var r=i[o]||"transparent",a=c["default"].renderLine(t,e.join(" "),r,n);return a.node.setAttribute("class","auto-shape-rendering"),a})},e.prototype.resize=function(t){var e=this,i=t.dimension,n=t.groupPositions;this.resizeClipRect(i.width,i.height),this.groupPositions=n,this.groupPaths=this.isSpline?this._getSplineLinesPath(n):this._getLinesPath(n),this.paper.setSize(i.width,i.height),this.tooltipLine.attr({top:i.height}),this.groupPaths.forEach(function(t,i){e.groupLines[i].attr({path:t.join(" ")}),e.groupDots[i].forEach(function(t,o){t.endDot&&e._moveDot(t.endDot.dot,n[i][o])})})},e.prototype.selectLegend=function(t){var e=this,i=p["default"].isNull(t);this.selectedLegendIndex&&this.selectedLegendIndex!==-1&&this.resetSeriesOrder(this.selectedLegendIndex),this.selectedLegendIndex=t,this.groupLines.forEach(function(n,o){var r=t===o,a=i||r?f:d,s=e.groupDots[o];n.attr({"stroke-opacity":a}),r&&e.moveSeriesToFront(n,s)}),i&&this.groupLines.forEach(function(t,i){e.moveSeriesToFront(t,e.groupDots[i])})},e.prototype.resetSeriesOrder=function(t){var e=t+1<this.groupLines.length?this.groupLines[t+1]:null;e&&(this.groupLines[t].insertBefore(e),this.groupDots[t].forEach(function(t){t&&t.endDot&&t.endDot.dot.insertBefore(e)}))},e.prototype.moveSeriesToFront=function(t,e){t.toFront(),e.forEach(function(t){t.endDot.dot.toFront()})},e.prototype.animateForAddingData=function(t,e,i,n){var o=this,r=t.options.spline,a=r?this._getSplineLinesPath(i):this._getLinesPath(i),s=0;i.length&&(n&&(s=1),this.groupLines.forEach(function(t,r){var u=o.groupDots[r],l=i[r];n&&o._removeFirstDot(u),u.forEach(function(t,i){var n=l[i+s];o._animateByPosition(t.endDot.dot,n,e)}),o._animateByPath(t,a[r],e)}))},e.prototype.renderSeriesLabel=function(t,e,i,n){var o={"font-size":n.fontSize,"font-family":n.fontFamily,"font-weight":n.fontWeight,fill:n.color,"text-anchor":"middle",opacity:0},r=t.set();return i.forEach(function(i,n){i.forEach(function(i,a){var s=e[n][a],u=c["default"].renderText(t,s.end,i.end,o);if(r.push(u),u.node.style.userSelect="none",u.node.style.cursor="default",u.node.setAttribute("filter","url(#glow)"),s.start){var l=c["default"].renderText(t,s.start,i.start,o);l.node.style.userSelect="none",l.node.style.cursor="default",l.node.setAttribute("filter","url(#glow)"),r.push(l)}})}),r},e}(u["default"]);e["default"]=y},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e,i,n){var o=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),r=t.rect(e.left-10,e.top-10,0,i.height);return r.id=n+"_rect",o.id=n,o.appendChild(r.node),t.defs.appendChild(o),r}e.__esModule=!0;var s=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(u){o=!0,r=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=i(332),l=n(u),c=i(334),h=n(c),p=i(342),f=n(p),d=i(337),y=n(d),g=i(333),m=n(g),_=m["default"].browser,v=_.msie&&_.version<=8,T=700,b=6,x=7,E=.3,A=300,D="over",S="out",M=function(){function t(){r(this,t)}return t.prototype._makeLinesPath=function(t,e,i){var n,r=[],a=!1;return e=e||"top",[].concat(t).forEach(function(t){var n=a&&!i?"M":"L";t?(r.push([n,t.left,t[e]]),a&&(a=!1)):a=!0}),r=(n=[]).concat.apply(n,o(r)),r.length>0&&(r[0]="M"),r},t.prototype._getAnchor=function(t,e,i,n){var o=(e.left-t.left)/2,r=(i.left-e.left)/2,a=void 0,s=void 0;n?(a=Math.atan((t.left-e.left)/Math.abs(t.top-e.top)),s=Math.atan((e.left-i.left)/Math.abs(i.top-e.top))):(a=Math.atan((e.left-t.left)/Math.abs(e.top-t.top)),s=Math.atan((i.left-e.left)/Math.abs(e.top-i.top))),a=t.top<e.top?Math.PI-a:a,s=i.top<e.top?Math.PI-s:s;var u=Math.PI/2-(a+s)%(2*Math.PI)/2,l=o*Math.sin(u+a),c=o*Math.cos(u+a),h=r*Math.sin(u+s),p=r*Math.cos(u+s),f={x1:e.left-l,y1:e.top+c,x2:e.left+h,y2:e.top+p};return n&&(f.y1=e.top-c,f.y2=e.top-p),f},t.prototype._getSplinePositionsGroups=function(t,e){var i=[],n=[];return t.forEach(function(o,r){var a=r===t.length-1;o&&n.push(o),(!o&&n.length>0&&!e||a)&&(i.push(n),n=[])}),i},t.prototype._getSplinePartialPaths=function(t,e){var i=this,n=[],o=void 0,r=void 0,a=void 0,u=void 0,l=void 0;return t.forEach(function(t){var c=s(t,1),h=c[0],p=h;r=t.length,a=p,o=t[r-1],u=t.slice(1).slice(0,r-2),l=u.map(function(n,o){var r=t[o+2],s=i._getAnchor(a,n,r,e);return a=n,Math.abs(s.y1-h.top)>Math.abs(h.top-n.top)&&(s.y1=n.top),Math.abs(s.y2-r.top)>Math.abs(r.top-n.top)&&(s.y2=n.top),h=n,[s.x1,s.y1,n.left,n.top,s.x2,s.y2]}),l.push([o.left,o.top,o.left,o.top]),l.unshift(["M",p.left,p.top,"C",p.left,p.top]),n.push(l)}),n},t.prototype._makeSplineLinesPath=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this._getSplinePositionsGroups(t,e.connectNulls),n=this._getSplinePartialPaths(i,e.isReverseDirection),o=[];return n.forEach(function(t){o=o.concat(t)}),e.isBeConnected&&(o[0]=o[0].slice(3)),o},t.prototype._renderTooltipLine=function(t,e){var i=l["default"].makeLinePath({left:10,top:e},{left:10,top:0});return l["default"].renderLine(t,i,"transparent",1)},t.prototype.appendShadowFilterToDefs=function(){var t=document.createElementNS("http://www.w3.org/2000/svg","filter"),e=document.createElementNS("http://www.w3.org/2000/svg","feOffset"),i=document.createElementNS("http://www.w3.org/2000/svg","feGaussianBlur"),n=document.createElementNS("http://www.w3.org/2000/svg","feBlend");t.setAttributeNS(null,"id","shadow"),t.setAttributeNS(null,"x","-50%"),t.setAttributeNS(null,"y","-50%"),t.setAttributeNS(null,"width","180%"),t.setAttributeNS(null,"height","180%"),e.setAttributeNS(null,"result","offOut"),e.setAttributeNS(null,"in","SourceAlpha"),e.setAttributeNS(null,"dx","0"),e.setAttributeNS(null,"dy","0"),i.setAttributeNS(null,"result","blurOut"),i.setAttributeNS(null,"in","offOut"),i.setAttributeNS(null,"stdDeviation","2"),n.setAttributeNS(null,"in","SourceGraphic"),n.setAttributeNS(null,"in2","blurOut"),n.setAttributeNS(null,"mode","normal"),t.appendChild(e),t.appendChild(i),t.appendChild(n),this.paper.defs.appendChild(t)},t.prototype.makeBorderStyle=function(t,e,i){var n={"stroke-width":i,"stroke-opacity":e};return t&&(n.stroke=t),n},t.prototype.makeOutDotStyle=function(t,e){var i={"fill-opacity":t,"stroke-opacity":t,r:b};return e&&m["default"].extend(i,e),i},t.prototype.renderDot=function(t,e,i,n){var o=this.theme&&this.theme.dot||{dot:{}},r=void 0;if(e){var a=t.circle(e.left,e.top,m["default"].isUndefined(o.radius)?b:o.radius),s={fill:o.fillColor||i,"fill-opacity":m["default"].isNumber(n)?n:o.fillOpacity,stroke:o.strokeColor||i,"stroke-opacity":m["default"].isNumber(n)?n:o.strokeOpacity,"stroke-width":o.strokeWidth};a.attr(s),r={dot:a,color:i}}return r},t.prototype._moveDotsToFront=function(t){l["default"].forEach2dArray(t,function(t){t.endDot.dot.toFront(),t.startDot&&t.startDot.dot.toFront()})},t.prototype._renderDots=function(t,e,i,n,o){var r=this,a=e.map(function(e,a){var s=i[a];return Object.values(e).map(function(e){var i={endDot:r.renderDot(t,e,s,n)};if(r.hasRangeData){var a=m["default"].extend({},e);a.top=a.startTop,i.startDot=r.renderDot(t,a,s,n)}return o&&(o.push(i.endDot.dot),i.startDot&&o.push(i.startDot.dot)),i})});return a},t.prototype._getCenter=function(t,e){return{left:(t.left+e.left)/2,top:(t.top+e.top)/2}},t.prototype._showDot=function(t,e){var i=this.theme.dot.hover,n={"fill-opacity":i.fillOpacity,stroke:i.strokeColor||t.color,"stroke-opacity":i.strokeOpacity,"stroke-width":i.strokeWidth,r:i.radius,filter:"url(#shadow)"};this._setPrevDotAttributes(e,t.dot),i.fillColor&&(n.fill=i.fillColor),t.dot.attr(n),t.dot.node&&t.dot.node.setAttribute("filter","url(#shadow)"),t.dot.toFront()},t.prototype._setPrevDotAttributes=function(t,e){this._prevDotAttributes||(this._prevDotAttributes={}),this._prevDotAttributes[t]=e.attr()},t.prototype._updateLineStrokeOpacity=function(t,e){var i=1,n=!m["default"].isNull(this.selectedLegendIndex);this.groupLines&&((t===D||n)&&(i="radial"===this.chartType&&this.isShowArea?0:E),t===S&&n&&(e=this.getLine(this.selectedLegendIndex)),this.groupLines.forEach(function(t){t.attr({"stroke-opacity":i})}),e.attr({"stroke-opacity":1}))},t.prototype.getLine=function(t){return this.groupLines?this.groupLines[t]:this.groupAreas[t]},t.prototype._updateAreaOpacity=function(t){this.groupAreas&&this.groupAreas.forEach(function(e){e.area.attr({"fill-opacity":t===D?E:1})})},t.prototype._updateLineStrokeWidth=function(t,e){var i={"stroke-width":e};t.attrs&&(i.stroke=t.attrs.stroke),t.attr(i)},t.prototype.showAnimation=function(t){var e=t.index,i=this.groupDots[e],n=this._findDotItem(i,t.groupIndex),o=this.groupLines?this.groupLines[e]:this.groupAreas[e],r=void 0,a=void 0;if(n){if("area"===this.chartType){var s=o;a=s.startLine,o=s.line,r=5,this._updateAreaOpacity(D)}else r=this.lineWidth;this._updateLineStrokeOpacity(D,o),this._updateLineStrokeWidth(o,r),a&&this._updateLineStrokeWidth(a,r),this._showDot(n.endDot,e),n.startDot&&this._showDot(n.startDot,e)}},t.prototype._findDotItem=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],i=f["default"].isRadialChart(this.chartType);return i&&t.length===e&&(e=0),t[e]},t.prototype._getPivotGroupDots=function(){return!this.pivotGroupDots&&this.groupDots&&(this.pivotGroupDots=y["default"].pivot(this.groupDots)),this.pivotGroupDots},t.prototype._showGroupDots=function(t){var e=this,i=this._getPivotGroupDots();i&&i[t]&&i[t].forEach(function(t,i){t.endDot&&e._showDot(t.endDot,i),t.startDot&&e._showDot(t.startDot,i)})},t.prototype.showGroupTooltipLine=function(t,e){var i=Math.max(t.position.left,11),n=l["default"].makeLinePath({left:i,top:e.position.top+t.dimension.height},{left:i,top:e.position.top});this.tooltipLine&&this.tooltipLine.attr({path:n,stroke:"#999","stroke-opacity":1})},t.prototype.showGroupAnimation=function(t){this._showGroupDots(t)},t.prototype._hideDot=function(t,e,i){var n=this._prevDotAttributes[e],o=this.outDotStyle;n&&!m["default"].isUndefined(i)&&(o=m["default"].extend({r:n.r,stroke:n.stroke,fill:n.fill,"stroke-opacity":n["stroke-opacity"],"stroke-width":n["stroke-width"],"fill-opacity":n["fill-opacity"]})),t.attr(o),t.node&&t.node.setAttribute("filter",""),this.resetSeriesOrder(e)},t.prototype.hideAnimation=function(t){var e=t.groupIndex,i=t.index,n=this.groupDots[i],o=this._findDotItem(n,e),r=void 0,a=void 0,s=void 0,u=this.dotOpacity;if(o){if(r=this.groupLines?this.groupLines[i]:this.groupAreas[i],"area"===this.chartType){a=this.lineWidth;var l=r;s=l.startLine,r=l.line,this._updateAreaOpacity(S)}else a=this.lineWidth;u&&!m["default"].isNull(this.selectedLegendIndex)&&this.selectedLegendIndex!==i&&(u=E),this._updateLineStrokeOpacity(S,r),this._updateLineStrokeWidth(r,a),s&&this._updateLineStrokeWidth(s,a),o&&(this._hideDot(o.endDot.dot,i,u),o.startDot&&this._hideDot(o.startDot.dot,i,u))}},t.prototype._hideGroupDots=function(t){var e=this,i=!m["default"].isNull(this.selectedLegendIndex),n=this.dotOpacity,o=this._getPivotGroupDots();o&&o[t]&&o[t].forEach(function(t,o){var r=n;r&&i&&e.selectedLegendIndex!==o&&(r=E),t.endDot&&e._hideDot(t.endDot.dot,o,r),t.startDot&&e._hideDot(t.startDot.dot,o,r)})},t.prototype.hideGroupTooltipLine=function(){this.tooltipLine.attr({"stroke-opacity":0})},t.prototype.hideGroupAnimation=function(t){this._hideGroupDots(t)},t.prototype._moveDot=function(t,e){var i={cx:e.left,cy:e.top};this.dotOpacity&&(i=m["default"].extend({"fill-opacity":this.dotOpacity},i,this.borderStyle)),t.attr(i)},t.prototype.animate=function(t,e){var i=this.paper,n=this.dimension,o=this.position,r=this._getClipRectId(),s=this.clipRect;!v&&n&&(s?s.attr({width:0,height:n.height}):(s=a(i,o,n,r),this.clipRect=s),e.forEach(function(t){t.node.setAttribute("clip-path","url(#"+r+")")}),s.animate({width:n.width},T,">",t))},t.prototype._makeSelectionDot=function(t){var e=t.circle(0,0,x);return e.attr({fill:"#ffffff","fill-opacity":0,"stroke-opacity":0,"stroke-width":2}),e},t.prototype.selectSeries=function(t){var e=this.groupDots[t.index][t.groupIndex],i=this.groupPositions[t.index][t.groupIndex];this.selectedItem=e,this.selectionDot.attr({cx:i.left,cy:i.top,"fill-opacity":.5,"stroke-opacity":1,stroke:this.selectionColor||e.endDot.color}),this.selectionStartDot&&this.selectionStartDot.attr({cx:i.left,cy:i.startTop,"fill-opacity":.5,"stroke-opacity":1,stroke:this.selectionColor||e.startDot.color})},t.prototype.unselectSeries=function(t){var e=this.groupDots[t.index][t.groupIndex];this.selectedItem===e&&this.selectionDot.attr({"fill-opacity":0,"stroke-opacity":0}),this.selectionStartDot&&this.selectionStartDot.attr({"fill-opacity":0,"stroke-opacity":0})},t.prototype.setSize=function(t,e){t=t||this.dimension.width,e=e||this.dimension.height,this.paper.setSize(t,e)},t.prototype._animateByPosition=function(t,e,i){var n={cx:e.left,cy:e.top};m["default"].isExisty(i)&&(n.transform="t-"+i+",0"),t.animate(n,A)},t.prototype._animateByPath=function(t,e,i){var n={path:e.join(" ")};m["default"].isExisty(i)&&(n.transform="t-"+i+",0"),t.animate(n,A)},t.prototype._removeFirstDot=function(t){var e=t.shift();e.endDot.dot.remove(),e.startDot&&e.startDot.dot.remove()},t.prototype.clear=function(){delete this.paper.dots,this.paper.clear()},t.prototype.resizeClipRect=function(t,e){var i=this.paper.getById(this._getClipRectId()+"_rect");i.attr({width:t,height:e})},t.prototype._getClipRectId=function(){return this.clipRectId||(this.clipRectId=h["default"].generateClipRectId()),this.clipRectId},t.prototype.resetSeriesOrder=function(){},t.prototype.moveSeriesToFront=function(){},t}();e["default"]=M},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=i(335),r=n(o),a=i(337),s=n(a),u={isBarChart:function(t){return t===r["default"].CHART_TYPE_BAR},isColumnChart:function(t){return t===r["default"].CHART_TYPE_COLUMN},isBarTypeChart:function(t){return u.isBarChart(t)||u.isColumnChart(t)},isColumnTypeChart:function(t,e){return u.isHeatmapChart(t)||u.isColumnChart(t)||u.isBoxplotChart(t)||u.isLineColumnComboChart(t,e)},isBoxplotChart:function(t){return t===r["default"].CHART_TYPE_BOXPLOT},isBulletChart:function(t){return t===r["default"].CHART_TYPE_BULLET},isRadialChart:function(t){return t===r["default"].CHART_TYPE_RADIAL},isDivergingChart:function(t,e){return this.isBarTypeChart(t)&&e},isNormalStackChart:function(t,e){var i=u.isAllowedStackOption(t),n=u.isNormalStack(e);return i&&n},isPercentStackChart:function(t,e){var i=u.isAllowedStackOption(t),n=u.isPercentStack(e);return i&&n},isComboChart:function(t){return t===r["default"].CHART_TYPE_COMBO},isLineColumnComboChart:function(t,e){var i=s["default"].all(e||[],function(t){return u.isLineChart(t)||u.isColumnChart(t)});return u.isComboChart(t)&&i},isPieDonutComboChart:function(t,e){var i=s["default"].all(e,function(t){return u.isPieChart(t)});return u.isComboChart(t)&&i},isLineChart:function(t){return t===r["default"].CHART_TYPE_LINE},isAreaChart:function(t){return t===r["default"].CHART_TYPE_AREA},isLineAreaComboChart:function(t,e){var i=s["default"].all(e||[],function(t){return u.isLineChart(t)||u.isAreaChart(t)});return u.isComboChart(t)&&i},hasLineChart:function(t,e){var i=s["default"].any(e||[],function(t){return u.isLineChart(t)});return u.isComboChart(t)&&i},isLineScatterComboChart:function(t,e){var i=s["default"].all(e||[],function(t){return u.isLineChart(t)||u.isScatterChart(t)});return u.isComboChart(t)&&i},isLineTypeChart:function(t,e){return u.isLineChart(t)||u.isAreaChart(t)||u.isLineAreaComboChart(t,e)},isBubbleChart:function(t){return t===r["default"].CHART_TYPE_BUBBLE},isScatterChart:function(t){return t===r["default"].CHART_TYPE_SCATTER},isHeatmapChart:function(t){return t===r["default"].CHART_TYPE_HEATMAP},isTreemapChart:function(t){return t===r["default"].CHART_TYPE_TREEMAP},isBoxTypeChart:function(t){return u.isHeatmapChart(t)||u.isTreemapChart(t)},isMapTypeChart:function(t){return this.isMapChart(t)||this.isHeatmapChart(t)||this.isTreemapChart(t)},isPieChart:function(t){return t&&t.indexOf(r["default"].CHART_TYPE_PIE)!==-1},isMapChart:function(t){return t===r["default"].CHART_TYPE_MAP},isCoordinateTypeChart:function(t){return u.isBubbleChart(t)||u.isScatterChart(t)},allowMinusPointRender:function(t){return u.isLineTypeChart(t)||u.isCoordinateTypeChart(t)||u.isBoxTypeChart(t)||u.isBulletChart(t)},isChartToDetectMouseEventOnSeries:function(t){return u.isPieChart(t)||u.isMapChart(t)||u.isCoordinateTypeChart(t)},isLabelAlignOuter:function(t){return t===r["default"].LABEL_ALIGN_OUTER},isShowLabel:function(t){return t.showLabel||t.showLegend},isShowOuterLabel:function(t){return u.isShowLabel(t)&&u.isLabelAlignOuter(t.labelAlign)},isLegendAlignLeft:function(t){return t===r["default"].LEGEND_ALIGN_LEFT},isLegendAlignTop:function(t){return t===r["default"].LEGEND_ALIGN_TOP},isLegendAlignBottom:function(t){return t===r["default"].LEGEND_ALIGN_BOTTOM},isHorizontalLegend:function(t){return u.isLegendAlignTop(t)||u.isLegendAlignBottom(t)},isVerticalLegend:function(t){return!u.isHorizontalLegend(t)},isAllowedStackOption:function(t){return u.isBarChart(t)||u.isColumnChart(t)||u.isAreaChart(t)},isNormalStack:function(t){return t===r["default"].NORMAL_STACK_TYPE},isPercentStack:function(t){return t===r["default"].PERCENT_STACK_TYPE},isValidStackOption:function(t){return t&&(u.isNormalStack(t)||u.isPercentStack(t))},isAllowRangeData:function(t){return u.isBarTypeChart(t)||u.isAreaChart(t)},isYAxisAlignCenter:function(t,e){return!t&&e===r["default"].YAXIS_ALIGN_CENTER},isMinusLimit:function(t){return t.min<=0&&t.max<=0},isAutoTickInterval:function(t){return t===r["default"].TICK_INTERVAL_AUTO},isValidLabelInterval:function(t,e){return t&&t>1&&!e},isDatetimeType:function(t){return t===r["default"].AXIS_TYPE_DATETIME},isSupportPublicShowTooptipAPI:function(t){return this.isBarChart(t)||this.isColumnChart(t)||this.isLineChart(t)||this.isAreaChart(t)||this.isBoxplotChart(t)},isSupportPublicHideTooptipAPI:function(t){return this.isBarChart(t)||this.isColumnChart(t)||this.isLineChart(t)||this.isAreaChart(t)||this.isBoxplotChart(t)}};e["default"]=u},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(u){o=!0,r=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=i(341),c=n(l),h=i(332),p=n(h),f=i(333),d=n(f),y=i(335),g=n(y),m=i(344),_=n(m),v=g["default"].GUIDE_AREACHART_AREAOPACITY_TYPE,T=g["default"].CLASS_NAME_SVG_AUTOSHAPE,b=1,x=.3,E=function(t){function e(){r(this,e);var i=a(this,t.call(this));return i.selectedLegendIndex=null,i.chartType="area",i.lineWidth=0,i}return s(e,t),e.prototype.render=function(t,e){var i=e.dimension,n=e.groupPositions,o=e.theme,r=void 0===o?{}:o,a=e.position,s=e.zeroTop,u=e.hasRangeData,l=e.options,c=r.dot,h=void 0===c?{}:c,p=r.colors,f=l.spline,y=l.allowSelect,g=l.connectNulls,m=l.pointWidth,_=l.showDot,v=l.areaOpacity,T=this._isAreaOpacityNumber(v)?v:1,b=_?1:0,x=this.makeBorderStyle(h.strokeColor,b,h.strokeWidth),E=this.makeOutDotStyle(b,x),A=this.lineWidth=d["default"].isNumber(m)?m:this.lineWidth;this.paper=t,this.theme=r,this.isSpline=f,this.dimension=i,this.position=a,this.zeroTop=s,this.hasRangeData=u,t.setStart(),this.groupPaths=this._getAreaChartPath(n,null,g),this.groupAreas=this._renderAreas(t,this.groupPaths,p,A,T),this.tooltipLine=this._renderTooltipLine(t,i.height),this.groupDots=this._renderDots(t,n,p,b),y&&(this.selectionDot=this._makeSelectionDot(t),this.selectionColor=r.selectionColor,this.hasRangeData&&(this.selectionStartDot=this._makeSelectionDot(t))),this.outDotStyle=E,this.groupPositions=n,this.dotOpacity=b,this.pivotGroupDots=null;var D=t.setFinish();return this._moveSeriesToFrontAll(),this.tooltipLine.toFront(),D},e.prototype._moveSeriesToFrontAll=function(){for(var t=this.groupPaths?this.groupPaths.length:0,e=0;e<t;e+=1)this.moveSeriesToFront(this.groupAreas[e],this.groupDots[e])},e.prototype._getAreaChartPath=function(t,e,i){return this.isSpline?this._makeSplineAreaChartPath(t,e):this._makeAreaChartPath(t,e,i)},e.prototype._renderAreas=function(t,e,i,n,o){i=i.slice(0,e.length),i.reverse(),e.reverse();var r=e.map(function(e,r){var a={},s=i[r]||"transparent",u=s,l=p["default"].renderArea(t,e.area.join(" "),{fill:s,opacity:o,stroke:s}),c=p["default"].renderLine(t,e.line.join(" "),u,n);return l.node.setAttribute("class",T),c.node.setAttribute("class",T),a.area=l,a.line=c,e.startLine&&(a.startLine=p["default"].renderLine(t,e.startLine.join(" "),u,0)),a});return r.reverse()},e.prototype._makeHeight=function(t,e){return Math.abs(t-e)},e.prototype._makeAreasPath=function(t,e){var i,n=[],r=t.length,a=[],s=[],l=[],c=!1;if(Object.entries(t).forEach(function(t){var e=u(t,2),i=e[0],o=e[1],a=void 0;o?(c?(a="M",c=!1):a="L",l.push([a,o.left,o.top]),s.unshift(["L",o.left,o.startTop])):(c=!0,s.push(["z"])),o&&parseInt(i,10)!==r-1||(n.push(l.concat(s)),l=[],s=[])}),n.forEach(function(t){a=a.concat(t)}),e!==!1){var h=t.length-1;a.splice(h+1,0,a[h],a[h+1])}return a=(i=[]).concat.apply(i,o(a)),a[0]="M",a},e.prototype._makeAreaChartPath=function(t,e,i){var n=this;return t.map(function(t){var o={area:n._makeAreasPath(t,e),line:n._makeLinesPath(t,null,i)};return n.hasRangeData&&(o.startLine=n._makeLinesPath(t,"startTop")),o})},e.prototype._makeSplineAreaChartPath=function(t,e){var i=this;return t.map(function(t){var n=t.concat().reverse().map(function(t){return{left:t.left,top:t.startTop
}}),o=i._makeSplineLinesPath(t),r=i._makeSplineLinesPath(n,{isReverseDirection:!0,isBeConnected:!0}),a=JSON.parse(JSON.stringify(o)),s=JSON.parse(JSON.stringify(r));if(e!==!1){var u=t[t.length-1],l=n[n.length-1];a.push(["K",u.left,u.top]),a.push(["L",u.left,u.startTop]),s.push(["K",l.left,l.top]),s.push(["L",l.left,l.top])}return{area:a.concat(s),line:o}})},e.prototype.resize=function(t){var e=this,i=t.dimension,n=t.groupPositions,o=t.zeroTop;this.resizeClipRect(i.width,i.height),this.zeroTop=o,this.groupPositions=n,this.groupPaths=this._getAreaChartPath(n),this.paper.setSize(i.width,i.height),this.tooltipLine.attr({top:i.height}),this.groupPaths.forEach(function(t,i){var o=e.groupAreas[i];o.area.attr({path:t.area.join(" ")}),o.line.attr({path:t.line.join(" ")}),o.startLine&&o.startLine.attr({path:t.startLine.join(" ")}),e.groupDots[i].forEach(function(t,o){var r=n[i][o];if(t.endDot&&e._moveDot(t.endDot.dot,r),t.startDot){var a=Object.assign({},r);a.top=a.startTop,e._moveDot(t.startDot.dot,a)}})})},e.prototype.selectLegend=function(t){var e=this,i=d["default"].isNull(t);this.selectedLegendIndex&&this.selectedLegendIndex!==-1&&this.resetSeriesOrder(this.selectedLegendIndex),this.selectedLegendIndex=t,this.groupAreas.forEach(function(n,o){var r=t===o,a=i||r?b:x,s=e.groupDots[o];n.area.attr({"fill-opacity":a}),n.line.attr({"stroke-opacity":a}),n.startLine&&n.startLine.attr({"stroke-opacity":a}),r&&e.moveSeriesToFront(n,s)})},e.prototype.resetSeriesOrder=function(t){var e=t+1<this.groupAreas.length?this.groupAreas[t+1]:null;if(e){var i=e.area;this.groupAreas[t].area.insertBefore(i),this.groupAreas[t].line.insertBefore(i),this.groupDots[t].forEach(function(t){t&&t.endDot&&t.endDot.dot.insertBefore(i)})}},e.prototype.moveSeriesToFront=function(t,e){t.line.toFront(),t.area.toFront(),t.startLine&&t.startLine.toFront(),e.forEach(function(t){t.endDot.dot.toFront(),t.startDot&&t.startDot.dot.toFront()})},e.prototype.animateForAddingData=function(t,e,i,n,o){var r=this,a=this._getAreaChartPath(i,!1),s=0;i.length&&(n&&(s=1),this.zeroTop=o,this.groupAreas.forEach(function(t,o){var u=r.groupDots[o],l=i[o],c=a[o];n&&r._removeFirstDot(u),u.forEach(function(t,i){var n=l[i+s];r._animateByPosition(t.endDot.dot,n,e),t.startDot&&r._animateByPosition(t.startDot.dot,{left:n.left,top:n.startTop},e)}),r._animateByPath(t.area,c.area,e),r._animateByPath(t.line,c.line,e),t.startLine&&r._animateByPath(t.startLine,c.startLine,e)}))},e.prototype.renderSeriesLabel=function(t,e,i,n){var o={"font-size":n.fontSize,"font-family":n.fontFamily,"font-weight":n.fontWeight,fill:n.color,"text-anchor":"middle",opacity:0},r=t.set();return i.forEach(function(i,n){i.forEach(function(i,a){var s=e[n][a],u=p["default"].renderText(t,s.end,i.end,o);if(r.push(u),u.node.style.userSelect="none",u.node.style.cursor="default",u.node.setAttribute("filter","url(#glow)"),s.start){var l=p["default"].renderText(t,s.start,i.start,o);l.node.style.userSelect="none",l.node.style.cursor="default",l.node.setAttribute("filter","url(#glow)"),r.push(l)}})}),r},e.prototype._isAreaOpacityNumber=function(t){var e=d["default"].isNumber(t);return e?(t<0||t>1)&&_["default"].print(v,"warn"):d["default"].isUndefined(t)||_["default"].print(v,"error"),e},e}(c["default"]);e["default"]=E},function(t,e){"use strict";e.__esModule=!0,e["default"]={print:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log";window.console&&window.console[e](t)}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(u){o=!0,r=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=i(332),s=n(a),u=i(333),l=n(u),c=i(330),h=n(c),p=180,f=360,d=.01,y=Math.PI/p,g=700,m=1,_=.3,v=.2,T="overlay",b=20,x=function(){function t(){o(this,t)}return t.prototype.render=function(t,e,i){var n=t.set();this.paper=t;var o=r(e.options.radiusRange,1);return this.holeRatio=o[0],this.chartBackground=e.chartBackground,this.chartType=e.chartType,this.callbacks=i,this.selectionColor=e.theme.selectionColor,this.circleBound=e.circleBound,this.sectorName="sector_"+this.chartType,this._setSectorAttr(),this.sectorInfos=this._renderPie(e.sectorData,e.theme.colors,e.additionalIndex,n),this.overlay=this._renderOverlay(),this.labelInfos={value:[],legend:[]},this.prevPosition=null,this.prevHoverSector=null,n},t.prototype.clear=function(){this.paper.clear()},t.prototype._makeSectorPath=function(t,e,i,n,o){var r=n*y,a=o*y,s=t+i*Math.sin(r),u=e-i*Math.cos(r),l=t+i*Math.sin(a),c=e-i*Math.cos(a),h=o-n>p?1:0,f=["M",t,e,"L",s,u,"A",i,i,0,h,1,l,c,"Z"];return{path:f}},t.prototype._makeDonutSectorPath=function(t,e,i,n,o,r){var a=n*y,s=o*y,u=r||i*this.holeRatio,l=t+i*Math.sin(a),c=e-i*Math.cos(a),h=t+u*Math.sin(a),f=e-u*Math.cos(a),d=t+i*Math.sin(s),g=e-i*Math.cos(s),m=t+u*Math.sin(s),_=e-u*Math.cos(s),v=o-n>p?1:0,T=["M",l,c,"A",i,i,0,v,1,d,g,"L",m,_,"A",u,u,0,v,0,h,f,"Z"];return{path:T}},t.prototype._setSectorAttr=function(){var t=void 0;this.paper.customAttributes[this.sectorName]||(t=this.holeRatio?this._makeDonutSectorPath:this._makeSectorPath,this.paper.customAttributes[this.sectorName]=t.bind(this))},t.prototype._renderOverlay=function(){var t={paper:this.paper,circleBound:{cx:0,cy:0,r:0},angles:{startAngle:0,endAngle:0},attrs:{fill:"none",opacity:0,stroke:this.chartBackground.color,"stroke-width":1}},e=this._renderSector(t);return e.node.setAttribute("class","auto-shape-rendering"),e.data("id",T),e.data("chartType",this.chartType),e},t.prototype._renderSector=function(t){var e=t.circleBound,i=t.angles,n=t.attrs;return n[this.sectorName]=[e.cx,e.cy,e.r,i.startAngle,i.endAngle],t.paper.path().attr(n)},t.prototype._renderPie=function(t,e,i,n){var o=this,r=this.circleBound,a=this.chartBackground,s=[];return t.forEach(function(t,u){var l=t.ratio,c=e[u],h=o._renderSector({paper:o.paper,circleBound:r,angles:t.angles.start,attrs:{fill:a.color,stroke:a.color,"stroke-width":0}});h.node.setAttribute("class","auto-shape-rendering"),h.data("index",u),h.data("legendIndex",u+i),h.data("chartType",o.chartType),s.push({sector:h,color:c,angles:t.angles.end,ratio:l}),n.push(h)}),s},t.prototype._showOverlay=function(t,e){var i=this.overlay,n=this.sectorInfos[t],o=n.angles.startAngle,r=n.angles.endAngle,a=this.circleBound,s={fill:"#fff",opacity:1,"stroke-width":7,"stroke-color":"#fff","stroke-miterlimit":15};s[this.sectorName]=[a.cx,a.cy,a.r,o,r,a.r*this.holeRatio],i.attr(s),i.data("index",t),i.data("legendIndex",e),i.node.setAttribute("filter","url(#shadow)"),this._indexingOverlapElement([i,n.sector,this.labelInfos.legend[t],this.labelInfos.value[t]])},t.prototype._indexingOverlapElement=function(t){t.forEach(function(t){t&&t.toFront()})},t.prototype._hideOverlay=function(){var t=this.overlay,e={fill:"none",opacity:0};t.attr(e),this._indexingOverlapElement(this.labelInfos.legend),this._indexingOverlapElement(this.labelInfos.value)},t.prototype.animate=function(t){var e=this.sectorName,i=this.circleBound,n=[i.cx,i.cy,i.r],o=0;this.sectorInfos.forEach(function(t){var i=t.angles,r={fill:t.color},a=g*t.ratio;0===i.startAngle&&i.endAngle===f&&(i.endAngle=f-d),r[e]=n.concat([i.startAngle,i.endAngle]);var s=h["default"].animation(r,a,">");t.sector.animate(s.delay(o)),o+=a}),t&&setTimeout(t,o)},t.prototype.resize=function(t){var e=t.dimension,i=t.circleBound;this.circleBound=i,this.paper.setSize(e.width,e.height)},t.prototype.findSectorInfo=function(t){var e=this.paper&&this.paper.getElementByPoint(t.left,t.top),i=null;return e&&(i={legendIndex:l["default"].isExisty(e.data("legendIndex"))?e.data("legendIndex"):-1,index:l["default"].isExisty(e.data("index"))?e.data("index"):-1,chartType:e.data("chartType")}),i},t.prototype._isChangedPosition=function(t,e){return!t||t.left!==e.left||t.top!==e.top},t.prototype._showTooltip=function(t,e){var i=[{},0,t.data("index"),{left:e.left-b,top:e.top-b}];this.callbacks.showTooltip.apply(null,i)},t.prototype._isValidSector=function(t){return t&&t.data("chartType")===this.chartType},t.prototype.moveMouseOnSeries=function(t){var e=this.paper&&this.paper.getElementByPoint(t.left,t.top);this._isValidSector(e)?(this.prevHoverSector!==e&&(this._showOverlay(e.data("index"),e.data("legendIndex")),this.prevHoverSector=e),this._isChangedPosition(this.prevPosition,t)&&this._showTooltip(e,t)):this.prevHoverSector&&(this._hideOverlay(),this.callbacks.hideTooltip(),this.prevHoverSector=null),this.prevPosition=t},t.prototype.selectSeries=function(t){var e=this.sectorInfos[t.index];if(e){var i=h["default"].color(e.color),n=s["default"].makeChangedLuminanceColor(i.hex,v),o=this.selectionColor||n;e.sector.attr({fill:o})}},t.prototype.unselectSeries=function(t){var e=this.sectorInfos[t.index];e&&e.sector.attr({fill:e.color})},t.prototype.selectLegend=function(t){var e=l["default"].isNull(t);this.sectorInfos.forEach(function(i,n){var o=e||t===n?m:_;i.sector.attr({"fill-opacity":o})})},t.prototype.getRenderedLabelWidth=function(t,e){return s["default"].getRenderedTextSize(t,e.fontSize,e.fontFamily).width},t.prototype.getRenderedLabelHeight=function(t,e){return s["default"].getRenderedTextSize(t,e.fontSize,e.fontFamily).height},t.prototype.renderLabels=function(t){var e=this,i=t.theme,n={"font-size":i.fontSize,"font-family":t.fontFamily?t.fontFamily:t.theme.fontFamily,"font-weight":i.fontWeight,"text-anchor":"middle",fill:i.color||"#fff",opacity:0};t.positions.forEach(function(i,o){var r=void 0;t.colors&&(n.fill=t.colors[o]),i&&(r=s["default"].renderText(t.paper,i,t.labels[o],n),r.node.style.userSelect="none",r.node.style.cursor="default",r.node.setAttribute("class","auto-shape-rendering")),e.labelInfos[t.dataType].push(r),t.labelSet.push(r)},this),this.labelSet||(this.labelSet=t.labelSet)},t}();e["default"]=x},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(341),u=n(s),l=i(332),c=n(l),h=i(333),p=n(h),f=1,d=.3,y=6,g=function(t){function e(){o(this,e);var i=r(this,t.call(this));return i.selectedLegendIndex=null,i.chartType="radial",i.lineWidth=y,i}return a(e,t),e.prototype.render=function(t,e){var i=e.dimension,n=e.groupPositions,o=e.theme,r=o.colors,a=e.options.showDot?1:0,s=e.options,u=s.isShowArea,l=s.pointWidth,c=this._getLinesPath(n),h=this.makeBorderStyle(o.strokeColor,a,o.strokeWidth),p=this.makeOutDotStyle(a,h),f=t.set(),d=this.lineWidth=l?l:this.lineWidth,y=n.map(function(t){return t.pop(),t});return this.paper=t,this.theme=o,this.dimension=i,this.position=e.position,u&&(this.groupAreas=this._renderArea(t,c,r,f)),this.groupLines=this._renderLines(t,c,r,d,f),this.groupDots=this._renderDots(t,y,r,a,f),e.options.allowSelect&&(this.selectionDot=this._makeSelectionDot(t),this.selectionColor=o.selectionColor),this.colors=r,this.borderStyle=h,this.outDotStyle=p,this.groupPositions=n,this.groupPaths=c,this.dotOpacity=a,this.isShowArea=u,f},e.prototype._getLinesPath=function(t){var e=this;return t.map(function(t){return e._makeLinesPath(t)})},e.prototype._renderLines=function(t,e,i,n,o){return e.map(function(e,r){var a=i[r]||"transparent",s=c["default"].renderLine(t,e.join(" "),a,n);return o.push(s),s})},e.prototype._renderArea=function(t,e,i,n){var o=this;return e.map(function(e,r){var a=i[r]||"transparent",s=c["default"].renderArea(t,e,{fill:a,opacity:.4,"stroke-width":o.lineWidth,stroke:a});return n.push(s),s},this)},e.prototype.resize=function(t){var e=this,i=t.dimension,n=t.groupPositions;this.groupPositions=n,this.groupPaths=this._getLinesPath(n),this.paper.setSize(i.width,i.height),this.groupPaths.forEach(function(t,i){e.groupLines[i].attr({path:t.join(" ")}),e.groupAreas[i].attr({path:t.join(" ")}),e.groupDots[i].forEach(function(t,o){e._moveDot(t.endDot.dot,n[i][o])})})},e.prototype.selectLegend=function(t){var e=p["default"].isNull(t);this.selectedLegendIndex=t,this.groupLines.forEach(function(i,n){var o=e||t===n?f:d;i.attr({"stroke-opacity":o})})},e}(u["default"]);e["default"]=g},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=i(332),a=n(r),s=i(333),u=n(s),l=i(330),c=n(l),h=700,p=.8,f=1,d=.8,y=.3,g=.2,m=2,_=20,v=function(){function t(){o(this,t)}return t.prototype.render=function(t,e,i){var n=t.set();return this.paper=t,this.theme=e.theme,this.seriesDataModel=e.seriesDataModel,this.groupBounds=e.groupBounds,this.callbacks=i,this.overlay=this._renderOverlay(),this.groupCircleInfos=this._renderCircles(n),this.prevCircle=null,this.prevOverCircle=null,this.animationTimeoutId=null,this.selectedLegend=null,this.paper.raphael.svg&&this.appendShadowFilterToDefs(),n},t.prototype._renderOverlay=function(){var t={left:0,top:0},e={fill:"none",stroke:"#fff","stroke-opacity":f,"stroke-width":2},i=a["default"].renderCircle(this.paper,t,0,e);return i},t.prototype._renderCircles=function(t){var e=this,i=this.theme.colors;return this.groupBounds.map(function(n,o){return n.map(function(n,r){var s=null;if(n){var u=i[r],l=a["default"].renderCircle(e.paper,n,0,{fill:u,opacity:0,stroke:"none"});t.push(l),l.data("groupIndex",o),l.data("index",r),s={circle:l,color:u,bound:n}}return s})})},t.prototype._animateCircle=function(t,e){t.animate({r:e,opacity:p},h,">")},t.prototype.animate=function(){var t=this;a["default"].forEach2dArray(this.groupCircleInfos,function(e){e&&t._animateCircle(e.circle,e.bound.radius)})},t.prototype._updatePosition=function(t,e){t.attr({cx:e.left,cy:e.top,r:e.radius})},t.prototype.resize=function(t){var e=this,i=t.dimension,n=t.groupBounds;this.groupBounds=n,this.paper.setSize(i.width,i.height),a["default"].forEach2dArray(this.groupCircleInfos,function(t,i,o){var r=n[i][o];t&&(t.bound=r,e._updatePosition(t.circle,r))})},t.prototype.findIndexes=function(t){var e=this.paper.getElementByPoint(t.left,t.top),i=null;return e&&(i={index:e.data("index"),groupIndex:e.data("groupIndex")}),i},t.prototype.appendShadowFilterToDefs=function(){var t=document.createElementNS("http://www.w3.org/2000/svg","filter"),e=document.createElementNS("http://www.w3.org/2000/svg","feOffset"),i=document.createElementNS("http://www.w3.org/2000/svg","feGaussianBlur"),n=document.createElementNS("http://www.w3.org/2000/svg","feBlend");t.setAttributeNS(null,"id","shadow"),t.setAttributeNS(null,"x","-50%"),t.setAttributeNS(null,"y","-50%"),t.setAttributeNS(null,"width","180%"),t.setAttributeNS(null,"height","180%"),e.setAttributeNS(null,"result","offOut"),e.setAttributeNS(null,"in","SourceAlpha"),e.setAttributeNS(null,"dx","0"),e.setAttributeNS(null,"dy","0"),i.setAttributeNS(null,"result","blurOut"),i.setAttributeNS(null,"in","offOut"),i.setAttributeNS(null,"stdDeviation","2"),n.setAttributeNS(null,"in","SourceGraphic"),n.setAttributeNS(null,"in2","blurOut"),n.setAttributeNS(null,"mode","normal"),t.appendChild(e),t.appendChild(i),t.appendChild(n),this.paper.defs.appendChild(t)},t.prototype._isChangedPosition=function(t,e){return!t||t.left!==e.left||t.top!==e.top},t.prototype.showAnimation=function(t){var e=this.groupCircleInfos[t.groupIndex][t.index],i=e.bound;this.circle=e.circle,this.overlay.attr({fill:e.color,cx:i.left,cy:i.top,r:i.radius+m,stroke:"#fff",opacity:1}),this.circle.attr({opacity:1}),this.overlay.node.setAttribute("filter","url(#shadow)"),this.overlay.toFront(),this.circle.toFront()},t.prototype.hideAnimation=function(t){var e=y;this.overlay.attr({cx:0,cy:0,r:0,opacity:0}),(u["default"].isNull(this.selectedLegend)||t.index===this.selectedLegend)&&(e=d),this.circle.attr({opacity:e})},t.prototype._findCircle=function(t){for(var e=[],i=this.paper,n=void 0;u["default"].isUndefined(n);){var o=i.getElementByPoint(t.left,t.top);o?o.attrs.opacity>y?n=o:(e.push(o),o.hide()):n=null}return n||(n=e[0]),e.forEach(function(t){t.show()}),n},t.prototype.moveMouseOnSeries=function(t){var e=this._findCircle(t);if(e&&u["default"].isExisty(e.data("groupIndex"))){var i=e.data("groupIndex"),n=e.data("index"),o=[{},i,n,{left:t.left-_,top:t.top-_}];this._isChangedPosition(this.prevPosition,t)&&(this.callbacks.showTooltip.apply(null,o),this.prevOverCircle=e)}else this.prevOverCircle&&(this.callbacks.hideTooltip(),this.prevOverCircle=null);this.prevPosition=t},t.prototype.selectSeries=function(t){var e=t.groupIndex,i=t.index,n=this.groupCircleInfos[e][i],o=c["default"].color(n.color),r=this.theme.selectionColor,s=r||a["default"].makeChangedLuminanceColor(o.hex,g);n.circle.attr({fill:s})},t.prototype.unselectSeries=function(t){var e=t.groupIndex,i=t.index,n=this.groupCircleInfos[e][i];n.circle.attr({fill:n.color})},t.prototype.selectLegend=function(t){var e=u["default"].isNull(t);this.selectedLegend=t,a["default"].forEach2dArray(this.groupCircleInfos,function(i,n,o){if(i){var r=e||t===o?d:y;i.circle.attr({opacity:r})}})},t}();e["default"]=v},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=i(332),a=n(r),s=i(333),u=n(s),l=i(342),c=n(l),h=100,p=0,f=4,d=function(){function t(){o(this,t)}return t.prototype.render=function(t,e){var i=t.set();return this.paper=t,this.chartType=e.chartType,this.theme=e.theme||{},this.colorSpectrum=e.colorSpectrum,this.chartBackground=e.chartBackground,this.zoomable=e.zoomable,this.useColorValue=e.options.useColorValue,this.borderColor=this.theme.borderColor||"none",this.borderWidth=this.theme.borderWidth,this.groupBounds=e.groupBounds,this.boundMap=e.boundMap,this._bindGetBoundFunction(),this._bindGetColorFunction(),this.seriesDataModel=e.seriesDataModel,this.boxesSet=this._renderBoxes(e.seriesDataModel,e.startDepth,!!e.isPivot,i),this.rectOverlay=this._renderRectOverlay(),i},t.prototype._renderRectOverlay=function(){var t={width:1,height:1,left:0,top:0},e={"fill-opacity":0},i=a["default"].renderRect(this.paper,t,Object.assign({"stroke-width":0},e));return i.node.setAttribute("filter","url(#shadow)"),i},t.prototype._bindGetBoundFunction=function(){this.boundMap?this._getBound=this._getBoundFromBoundMap:this._getBound=this._getBoundFromGroupBounds},t.prototype._bindGetColorFunction=function(){this.colorSpectrum?this._getColor=this._getColorFromSpectrum:this._getColor=this._getColorFromColors},t.prototype._getBoundFromGroupBounds=function(t){return this.groupBounds[t.groupIndex][t.index].end},t.prototype._getBoundFromBoundMap=function(t){return this.boundMap[t.id]},t.prototype._getColorFromSpectrum=function(t,e){var i=void 0;return i=t.hasChild&&t.depth===e?"none":this.colorSpectrum.getColor(t.colorRatio||t.ratio)||this.chartBackground},t.prototype._getColorFromColors=function(t,e){return t.depth===e?this.theme.colors[t.group]:"#000"},t.prototype._renderRect=function(t,e,i,n){return a["default"].renderRect(this.paper,t,{fill:e,stroke:this.borderColor,"stroke-width":i,"fill-opacity":n})},t.prototype._getStrokeWidth=function(t){var e=void 0;return e=this.borderWidth?this.borderWidth:t?f:p},t.prototype._renderBoxes=function(t,e,i,n){var o=this,r=c["default"].isTreemapChart(this.chartType);return t.map(function(t,i){if(r&&!o.colorSpectrum&&t.getSeriesItemCount()){var a=t.getSeriesItem(0);o._setTreeFillOpacity({id:a.parent},e)}return t.map(function(t,r){var a=null,s=t.depth,u=o.colorSpectrum?0:o._getStrokeWidth(s===e),l=o.colorSpectrum?1:t.fillOpacity;t.groupIndex=i,t.index=r;var c=o._getBound(t);if(c){var h=o._getColor(t,e);a={rect:o._renderRect(c,h,u,l),seriesItem:t,color:h},n&&n.push(a.rect)}return a})},i)},t.prototype._setTreeFillOpacity=function(t,e){var i=this,n=this.seriesDataModel.findSeriesItemsByParent(t.id);n.forEach(function(n,o){var r=n.depth;r===e?n.fillOpacity=1:r===e+1?n.fillOpacity=.05*o:r<e?n.fillOpacity=0:n.fillOpacity=t.fillOpacity+.05*o,n.hasChild&&i._setTreeFillOpacity({id:n.id,fillOpacity:n.fillOpacity},e)})},t.prototype._animateChangingColor=function(t,e,i,n,o){var r={"fill-opacity":u["default"].isExisty(i)?i:1,stroke:n,"stroke-width":o};e&&(r.fill=e),t.animate(r,h,">")},t.prototype.showAnimation=function(t){var e=this.boxesSet[t.groupIndex][t.index];if(e){var i=e.rect.node,n=e.color;"treemap"!==this.chartType||this.zoomable||this.useColorValue||(n=this.theme.colors[t.index]),this.rectOverlay.attr({x:i.getAttribute("x"),y:i.getAttribute("y"),width:i.getAttribute("width"),height:i.getAttribute("height"),fill:n,"fill-opacity":1,stroke:"#ffffff","stroke-width":4,"stroke-opacity":1}),this.rectOverlay.toFront(),this.labelSet&&this.labelSet.toFront()}},t.prototype.hideAnimation=function(t){var e=this.boxesSet[t.groupIndex][t.index];e&&this.rectOverlay.attr({width:1,height:1,x:0,y:0,"fill-opacity":0,"stroke-opacity":0})},t.prototype.resize=function(t){var e=this,i=t.dimension;this.boundMap=t.boundMap,this.groupBounds=t.groupBounds,this.paper.setSize(i.width,i.height),a["default"].forEach2dArray(this.boxesSet,function(t,i,n){if(t){var o=e._getBound(t.seriesItem,i,n);o&&a["default"].updateRectBound(t.rect,o)}})},t.prototype.renderSeriesLabel=function(t,e,i,n){var o=t.set(),r={"font-size":n.fontSize,"font-family":n.fontFamily,"font-weight":n.fontWeight,fill:"#ffffff",opacity:0};return i.forEach(function(i,n){i.forEach(function(i,s){var u=a["default"].renderText(t,e[n][s].end,i,r);u.node.style.userSelect="none",u.node.style.cursor="default",o.push(u)})}),this.labelSet=o,o},t.prototype.renderSeriesLabelForTreemap=function(t,e,i,n){var o=t.set(),r={"font-size":n.fontSize,"font-family":n.fontFamily,"font-weight":n.fontWeight,fill:n.color,opacity:0};return i.forEach(function(i,n){if(e[n]){var s=a["default"].renderText(t,e[n],i,r);s.node.style.userSelect="none",s.node.style.cursor="default",o.push(s)}}),this.labelSet=o,o},t}();e["default"]=d},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e,i){var n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.id=i,e.forEach(function(t){p["default"].append(n,t.node)}),t.canvas.appendChild(n),n}e.__esModule=!0;var s=o(["\n                  s",",",",0,0\n                  t",",","\n                "],["\n                  s",",",",0,0\n                  t",",","\n                "]),u=o(["\n                s",",",",0,0\n                t",",","\n            "],["\n                s",",",",0,0\n                t",",","\n            "]),l=i(332),c=n(l),h=i(336),p=n(h),f=i(334),d=n(f),y=i(333),g=n(y),m=g["default"].browser,_=m.msie&&m.version<=8,v="gray",T=100,b="tui-chart-series-group",x="#eee",E=function(){function t(){r(this,t)}return t.prototype.render=function(t,e){var i=e.mapModel.getMapDimension();this.ratio=this._getDimensionRatio(e.layout.dimension,i),this.dimension=e.layout.dimension,this.position=e.layout.position,this.paper=t,this.sectorSet=t.set(),this.sectors=this._renderMap(e,this.ratio),_||(this.g=a(t,this.sectorSet,b)),this.overColor=e.theme.overColor},t.prototype._getDimensionRatio=function(t,e){return Math.min(t.height/e.height,t.width/e.width)},t.prototype._renderMap=function(t,e){var i=this.sectorSet,n=this.paper,o=t.layout.position,r=t.colorSpectrum;return t.mapModel.getMapData().map(function(t,a){var u=t.ratio,l=t.path,h=u?r.getColor(u):x,p=c["default"].renderArea(n,l,{fill:h,opacity:1,stroke:v,"stroke-width":.2,"stroke-opacity":1,transform:d["default"].oneLineTrim(s,e,e,o.left/e,o.top/e)});return p.data("index",a),i.push(p),{sector:p,color:h,ratio:u}})},t.prototype.findSectorIndex=function(t){var e=this.paper.getElementByPoint(t.left,t.top),i=e&&e.data("index"),n=!g["default"].isUndefined(i)&&this.sectors[i];return n&&!g["default"].isUndefined(n.ratio)?i:null},t.prototype.changeColor=function(t){var e=this.sectors[t],i={stroke:"#ffffff","stroke-width":4};this.overColor&&(i.fill=this.overColor),e.sector.animate(i,T,">"),e.sector.node.setAttribute("filter","url(#shadow)"),e.sector.toFront()},t.prototype.restoreColor=function(t){var e=this.sectors[t];e.sector.animate({fill:e.color,stroke:v,"stroke-width":.2},T,">"),e.sector.node.setAttribute("filter","none")},t.prototype.scaleMapPaths=function(t,e,i,n,o){var r=this.g.transform.baseVal,a=this.paper.canvas.createSVGTransform(),s=this.paper.canvas.createSVGMatrix(),u=this.paper.raphael.matrix(),l=r.numberOfItems?r.getItem(0).matrix:{a:1,b:0,c:0,d:1,e:0,f:0},c=o.width-this.dimension.width,h=o.height-this.dimension.height,p=l.e/l.a,f=l.f/l.d,d=-c/l.a,y=-h/l.d;u.scale(t,t,e.left*i-p*t,e.top*i-f*t);var g=u.e/u.a+p,m=u.f/u.d+f;g>=0?u.e=-p*u.a:g<d&&(u.e=d-p),m>=0?u.f=-f*u.a:m<y&&(u.f=y-f),s.a=u.a,s.b=u.b,s.c=u.c,s.d=u.d,s.e=u.e,s.f=u.f,a.setMatrix(s),r.appendItem(a),r.initialize(r.consolidate())},t.prototype.moveMapPaths=function(t,e){var i=this.paper.canvas.createSVGMatrix(),n=this.paper.raphael.matrix(),o=this.g.transform.baseVal,r=this.paper.canvas.createSVGTransform(),a=e.width-this.dimension.width,s=e.height-this.dimension.height,u=o.numberOfItems?o.getItem(0).matrix:{a:1,b:0,c:0,d:1,e:0,f:0};n.translate(t.x,t.y),this._translateXForRaphaelMatrix({raphaelMatrix:n,transformMatrix:u,maxRight:a}),this._translateYForRaphaelMatrix({raphaelMatrix:n,transformMatrix:u,maxTop:s}),i.a=n.a,i.b=n.b,i.c=n.c,i.d=n.d,i.e=n.e,i.f=n.f,r.setMatrix(i),o.appendItem(r),o.initialize(o.consolidate())},t.prototype._translateXForRaphaelMatrix=function(t){var e=t.raphaelMatrix,i=t.transformMatrix,n=t.maxRight,o=e.e/e.a,r=o+i.e/i.a;r>=0&&o>0?e.e=0:r<0&&r<-n/i.a&&o<0&&(e.e=0)},t.prototype._translateYForRaphaelMatrix=function(t){var e=t.raphaelMatrix,i=t.transformMatrix,n=t.maxTop,o=e.f/e.d,r=o+i.f/i.d;r>=0&&o>0?e.f=0:r<0&&r<-n/i.d&&o<0&&(e.f=0)},t.prototype.renderSeriesLabels=function(t,e,i){var n={"font-size":i.fontSize,"font-family":i.fontFamily,"font-weight":i.fontWeight,fill:i.color,"text-anchor":"middle",opacity:0,transform:d["default"].oneLineTrim(u,this.ratio,this.ratio,this.position.left/this.ratio,this.position.top/this.ratio)},o=t.set();return e.forEach(function(e){var i=e.position,r=c["default"].renderText(t,i,e.name||e.code,n);o.push(r),r.node.style.userSelect="none",r.node.style.cursor="default",r.node.setAttribute("filter","url(#glow)"),_||self.g.appendChild(r.node)}),o},t}();e["default"]=E},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(){return l["default"].LEGEND_ICON_WIDTH+l["default"].LEGEND_LABEL_LEFT_PADDING}e.__esModule=!0;var s=o(["\n            M","\n            ,","\n            l","\n            ,","\n            l","\n            ,-","\n        "],["\n            M","\n            ,","\n            l","\n            ,","\n            l","\n            ,-","\n        "]),u=i(335),l=n(u),c=i(332),h=n(c),p=i(337),f=n(p),d=i(334),y=n(d),g=i(351),m=n(g),_=i(333),v=n(_),T=.5,b=8,x=10,E=x/2,A=3,D=function(){function t(){r(this,t),this._checkBoxWidth=0,this._checkBoxHeight=0,this._legendItemHeight=0,this._currentPageCount=1,this._showCheckbox=!0}return t.prototype._renderLegendItems=function(t){var e=this,i=l["default"].LEGEND_LABEL_LEFT_PADDING,n=Object.assign({},this.basePosition);t.forEach(function(t,o){var r=t.iconType,a=t.index,s=t.isUnselected,u=t.labelHeight,c=t.checkbox,h=t.colorByPoint?"#aaa":t.theme.color,p=n.left+e._calculateSingleLegendWidth(a,r),f=p>=e.paper.width;e.isHorizontal&&f&&(n.top+=e._legendItemHeight+l["default"].LABEL_PADDING_TOP,n.left=e.basePosition.left),e._showCheckbox&&(e._renderCheckbox(n,{isChecked:c.checked,legendIndex:a,legendSet:e.legendSet}),n.left+=e._checkBoxWidth+i),e._renderIcon(n,{legendColor:h,iconType:r,labelHeight:u,isUnselected:s,legendIndex:a,legendSet:e.legendSet}),n.left+=l["default"].LEGEND_ICON_WIDTH+i,e._renderLabel(n,{labelText:t.label,labelHeight:u,isUnselected:s,legendIndex:a,legendSet:e.legendSet}),e.isHorizontal?n.left+=e.labelWidths[o]+l["default"].LEGEND_H_LABEL_RIGHT_PADDING:(n.left=e.basePosition.left,n.top+=e._legendItemHeight+l["default"].LINE_MARGIN_TOP)})},t.prototype._getLegendData=function(t,e){var i=this.basePosition.top,n=this.dimension.height,o=this.paper.height,r=t;if(!this.isHorizontal&&n+2*i>o){this._legendItemHeight=Math.max(t[0].labelHeight,l["default"].LEGEND_CHECKBOX_SIZE);var a=o-2*i,s=this._legendItemHeight+l["default"].LINE_MARGIN_TOP,u=Math.floor(a/s);r=t.slice((e-1)*u,e*u)}return r},t.prototype.render=function(t){if(this.eventBus=t.eventBus,this.paper=t.paper,this.dimension=t.dimension,this.legendSet=this.paper.set(),this.labelWidths=t.labelWidths,this.labelTheme=t.labelTheme,this.basePosition=t.position,this.isHorizontal=t.isHorizontal,this.originalLegendData=t.legendData,this.originalLegendData.length){this._showCheckbox=v["default"].isExisty(t.legendData[0].checkbox),this._setComponentDimensionsBaseOnLabelHeight(t.legendData[0].labelHeight);var e=this._getLegendData(t.legendData,this._currentPageCount);if(this._renderLegendItems(e),!this.isHorizontal&&e&&e.length<t.legendData.length){var i=this.paper.height-2*this.basePosition.top;this.availablePageCount=Math.ceil(t.dimension.height/i),this._renderPaginationArea(this.basePosition,{width:t.dimension.width,height:i})}}return this.legendSet},t.prototype._paginateLegendAreaTo=function(t){var e=this._currentPageCount;this._removeLegendItems(),"next"===t?e+=1:e-=1,this._renderLegendItems(this._getLegendData(this.originalLegendData,e))},t.prototype._removeLegendItems=function(){this.legendSet.forEach(function(t){var e=t.events||[];e.forEach(function(t){t.unbind()}),t.remove()})},t.prototype._renderPaginationArea=function(t,e){var i=this,n=l["default"].LEGEND_PAGINATION_BUTTON_WIDTH,o=l["default"].LEGEND_PAGINATION_BUTTON_PADDING_RIGHT,r=l["default"].LEGEND_AREA_V_PADDING,a=l["default"].LEGEND_AREA_H_PADDING,s=t.top+e.height-r,u=t.left-a,c=u+a,p=m["default"].sum([c,o,n]),f=["M",p+5,",",s+A+4,"L",p+E+5,",",s+b+4,"L",p+x+5,",",s+A+4].join(""),d=["M",c+5,",",s+b+4,"L",c+E+5,",",s+A+4,"L",c+x+5,",",s+b+4].join(""),y=this._renderPaginationRect({top:s,left:c}),g=h["default"].renderLine(this.paper,d,"#555",2),_=this._renderPaginationRect({top:s,left:p}),v=h["default"].renderLine(this.paper,f,"#555",2),T=this.paper.set(),D=this.paper.set();y.className="tui-chart-icon",T.push(y),T.push(g),_.className="tui-chart-icon",D.push(_),D.push(v),T.click(function(){i._currentPageCount>1&&(i._paginateLegendAreaTo("previous"),i._currentPageCount-=1)}),D.click(function(){i._currentPageCount<i.availablePageCount&&(i._paginateLegendAreaTo("next"),i._currentPageCount+=1)})},t.prototype._renderPaginationRect=function(t){var e=l["default"].LEGEND_PAGINATION_BUTTON_WIDTH,i={left:t.left,top:t.top,width:e,height:e},n=h["default"].renderRect(this.paper,i,{fill:"#f4f4f4",rx:"1px",ry:"1px",stroke:"none"});return n},t.prototype.makeLabelWidths=function(t,e,i){return v["default"].map(t,function(t){var n=h["default"].getRenderedTextSize(t.label,e.fontSize,e.fontFamily).width;
return i&&n>i&&(n=i),n+l["default"].LEGEND_LABEL_LEFT_PADDING})},t.prototype.getRenderedLabelHeight=function(t,e){return h["default"].getRenderedTextSize(t,e.fontSize,e.fontFamily).height},t.prototype._renderLabel=function(t,e){var i=this.eventBus,n=this.labelTheme,o={left:t.left,top:t.top+this._legendItemHeight/2},r={fill:n.color,"font-size":n.fontSize,"font-family":n.fontFamily,"font-weight":n.fontWeight,opacity:e.isUnselected?T:1,"text-anchor":"start"},a=h["default"].renderText(this.paper,o,e.labelText,r);a.data("index",e.legendIndex),a.node.style.userSelect="none",a.node.style.cursor="pointer",e.legendSet.push(a),a.click(function(){i.fire("labelClicked",e.legendIndex)})},t.prototype._renderCheckbox=function(t,e){var i=this,n=t.left,o=t.top+(this._legendItemHeight-this._checkBoxHeight)/2,r=this._checkBoxWidth/3,a=this._checkBoxWidth/5.7,u=y["default"].oneLineTrim(s,.25*this._checkBoxWidth+n,.5*this._checkBoxHeight+o,a,a,r,r),l=this.paper.set(),c=this.paper.rect(n,o,this._checkBoxWidth,this._checkBoxHeight,0).attr({fill:"#fff",stroke:"#aaa","stroke-width":1});if(c.node.setAttribute("class","auto-shape-rendering"),l.push(c),e.isChecked){var h=this.paper.path(u).attr({stroke:"#555","stroke-width":2});h.node.setAttribute("class","auto-shape-rendering"),l.push(h)}l.data("index",e.legendIndex),l.click(function(){i.eventBus.fire("checkboxClicked",e.legendIndex)}),l.forEach(function(t){e.legendSet.push(t)})},t.prototype._renderIcon=function(t,e){var i=this,n=void 0;this.paper.setStart(),"line"!==e.iconType&&"radial"!==e.iconType||!this.paper.canvas.transform?n=h["default"].renderRect(this.paper,{left:t.left,top:t.top+(l["default"].LEGEND_CHECKBOX_SIZE-l["default"].LEGEND_ICON_HEIGHT)/2,width:l["default"].LEGEND_ICON_WIDTH,height:l["default"].LEGEND_ICON_HEIGHT},{"stroke-width":0,fill:e.legendColor,opacity:e.isUnselected?T:1}):(n=this.paper.path(l["default"].LEGEND_LINE_ICON_PATH),n.attr({stroke:e.legendColor,"stroke-width":2,"stroke-opacity":e.isUnselected?T:1}),n.translate(t.left,t.top)),n.data("icon",e.iconType),n.data("index",e.legendIndex),n.click(function(){i.eventBus.fire("labelClicked",e.legendIndex)}),e.legendSet.push(n)},t.prototype.selectLegend=function(t,e){e.forEach(function(e){var i=e.data("index"),n="line"===e.data("icon")?"stroke-opacity":"opacity";v["default"].isNull(i)||v["default"].isUndefined(i)?e.attr(n,1):v["default"].isUndefined(i)||(v["default"].isNumber(t)&&i!==t?e.attr(n,T):e.attr(n,1))})},t.prototype._getCheckboxWidth=function(){return this._showCheckbox?this._checkBoxWidth+l["default"].LEGEND_LABEL_LEFT_PADDING:0},t.prototype._getLabelWidth=function(t){var e=void 0;return e=t?this.labelWidths[t]||0:f["default"].max(this.labelWidths)},t.prototype._calculateLegendWidth=function(){return this._calculateSingleLegendWidth()},t.prototype._calculateSingleLegendWidth=function(t){return l["default"].LEGEND_AREA_H_PADDING+this._getCheckboxWidth()+a()+this._getLabelWidth(t)+l["default"].LEGEND_AREA_H_PADDING},t.prototype._setComponentDimensionsBaseOnLabelHeight=function(t){this._legendItemHeight=Math.max(t,l["default"].LEGEND_CHECKBOX_SIZE),this._checkBoxWidth=this._checkBoxHeight=l["default"].LEGEND_CHECKBOX_SIZE},t}();e["default"]=D},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=i(333),r=n(o),a=i(337),s=n(a),u=100,l={calculateLimit:function(t,e){var i={},n=0;t<0&&(n=t,e-=t,t=0);var o=(e-t)/20;return i.max=e+o+n,e/6>t?i.min=n:i.min=t-o+n,i},makeTickPixelPositions:function(t,e,i,n){var o=[];return i=i||0,e>0&&(o=r["default"].range(0,e).map(function(n){var o=0===n?0:n/(e-1);return o*t+i}),o[o.length-1]-=1),n&&o.push(n),o},makeLabelsFromLimit:function(t,e){var i=l.findMultipleNum(e),n=Math.round(t.min*i),o=Math.round(t.max*i),a=r["default"].range(n,o+1,e*i);return a.map(function(t){return t/i})},calculateStepFromLimit:function(t,e){return l.divide(l.subtract(t.max,t.min),e-1)},sumPlusValues:function(t){var e=r["default"].filter(t,function(t){return t>0});return l.sum(e)},sumMinusValues:function(t){var e=r["default"].filter(t,function(t){return t<0});return l.sum(e)},makePercentageValue:function(t,e){return t/e*u},calculateRatio:function(t,e,i,n){return e?(t-i)/e*n:0}},c=function(t){var e=String(t).split(".");return 2===e.length?e[1].length:0},h=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=e.map(function(t){return l.getDecimalLength(t)}),o=s["default"].max(n);return Math.pow(10,o)},p=function(t,e){var i=l.findMultipleNum(e),n=void 0;return n=1===i?t%e:t*i%(e*i)/i},f=function(t,e){var i=l.findMultipleNum(t,e);return(t*i+e*i)/i},d=function(t,e){var i=l.findMultipleNum(t,e);return(t*i-e*i)/i},y=function(t,e){var i=l.findMultipleNum(t,e);return t*i*(e*i)/(i*i)},g=function(t,e){var i=l.findMultipleNum(t,e);return t*i/(e*i)},m=function(t){var e=t.slice();return e.unshift(0),e.reduce(function(t,e){return l.add(parseFloat(t),parseFloat(e))})},_=function(t){for(var e,i=[],n=2;n*n<=t;n+=1)t%n===0&&(e=t/n,i.push(n),e!==n&&i.push(e));return i.sort(function(t,e){return t-e}),i};l.getDecimalLength=c,l.findMultipleNum=h,l.mod=p,l.add=f,l.subtract=d,l.multiply=y,l.divide=g,l.divisors=_,l.sum=m,e["default"]=l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(u){o=!0,r=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=i(332),s=n(a),u=i(335),l=n(u),c=i(334),h=n(c),p=i(342),f=n(p),d=i(351),y=n(d),g=360,m=270,_=2.5,v=function(){function t(){o(this,t),this.verticalRightBasePath=["M",-4,0,"L",-8,2.5,"L",-8,12.5,"L",-28,12.5,"L",-28,-12.5,"L",-8,-12.5,"L",-8,-2.5],this.verticalLeftBasePath=["M",10,0,"L",14,2.5,"L",14,12.5,"L",34,12.5,"L",34,-12.5,"L",14,-12.5,"L",14,-2.5],this.horizontalTopBasePath=["M",0,10,"L",2.5,14,"L",12.5,14,"L",12.5,34,"L",-12.5,34,"L",-12.5,14,"L",-2.5,14],this.horizontalBottomBasePath=["M",0,-4,"L",2.5,-8,"L",12.5,-8,"L",12.5,-28,"L",-12.5,-28,"L",-12.5,-8,"L",-2.5,-8]}return t.prototype.render=function(t){var e=t.layout,i=t.align,n=t.legendSet,o=t.theme,a=t.labels,s=f["default"].isHorizontalLegend(i),u=r(a,1),c=u[0],p=a[a.length-1],d=h["default"].getRenderedLabelsMaxWidth([c,p]),y=h["default"].getRenderedLabelHeight(c,o),g=f["default"].isBoxTypeChart(this.chartType),m=e.position;this.layout=e,this.isHorizontal=s,this.isLeftLegend=f["default"].isLegendAlignLeft(i),this.isTopLegend=f["default"].isLegendAlignTop(i),this.theme=o,this.paper=t.paper,this.legendSet=t.legendSet,this.colorSpectrum=t.colorSpectrum,f["default"].isLegendAlignTop(i)?m.top+=l["default"].MAP_LEGEND_AREA_PADDING_WIDE+y+2*l["default"].MAP_LEGEND_LABEL_PADDING:f["default"].isLegendAlignBottom(i)?(m.top+=this._calculateHorizontalLegendTooltipHeight(a,o)+l["default"].MAP_LEGEND_PADDING_BTW_GRAPH_AND_WEDGE,g?m.top-=l["default"].MAP_LEGEND_TOOLTIP_VERTICAL_PADDING:m.top+=l["default"].MAP_LEGEND_AREA_PADDING_WIDE):f["default"].isLegendAlignLeft(i)?m.left+=d+l["default"].MAP_LEGEND_LABEL_PADDING:m.left=e.position.right-d-l["default"].MAP_LEGEND_LABEL_PADDING-l["default"].MAP_LEGEND_GRAPH_SIZE;var _=this._renderGradientBar(this.paper,e,this.colorSpectrum,s);n.push(_),this.wedge=this._renderWedge(this.paper,m),this.wedgeText=this._renderWedgeText(this.paper,m,o),n.push(this.wedge),this.gradientBar=_},t.prototype.renderTickLabels=function(t,e,i,n,o){var a=this,u=this.theme,c={"font-size":u.fontSize,"font-family":u.fontFamily,"font-weight":u.fontWeight,fill:"#000"},p=r(i,1),d=p[0],y=i[i.length-1],g=h["default"].getRenderedLabelsMaxWidth([d,y]),m=h["default"].getRenderedLabelHeight(d,u);i.forEach(function(i,r){var u=e.step*r,h=Object.assign({},e.position);f["default"].isHorizontalLegend(n)?(h.left+=u,a.isTopLegend?h.top-=m/2:h.top+=m/2):(h.top+=u,a.isLeftLegend?(c["text-anchor"]="end",h.left=l["default"].CHART_PADDING+g):c["text-anchor"]="start"),o.push(s["default"].renderText(t,h,i,c))},this)},t.prototype._renderGradientBar=function(t,e,i,n){var o=void 0,r=void 0,a=void 0;n?(o=e.dimension.width,r=l["default"].MAP_LEGEND_GRAPH_SIZE,a=g,this._makeWedghPath=this._makeHorizontalWedgePath):(o=l["default"].MAP_LEGEND_GRAPH_SIZE,r=e.dimension.height,a=m,this._makeWedghPath=this._makeVerticalWedgePath);var u={left:e.position.left,top:e.position.top,width:o,height:r};return s["default"].renderRect(t,u,{fill:a+"-"+i.start+"-"+i.end,stroke:"none"})},t.prototype._renderWedgeText=function(t,e,i){return this.isLeftLegend&&(e.left+=l["default"].MAP_LEGEND_WEDGE_SIZE+l["default"].MAP_LEGEND_TOOLTIP_HORIZONTAL_PADDING),s["default"].renderText(t,e,"",{"font-size":i.fontSize,"font-family":i.fontFamily,"font-weight":i.fontWeight,fill:i.color})},t.prototype._renderWedge=function(t,e){return t.path(this.verticalBasePath).attr({fill:"gray",stroke:"white","stroke-opacity":.2,opacity:0,transform:"t"+e.left+","+e.top})},t.prototype._makeVerticalWedgePath=function(t,e){var i=this.isLeftLegend,n=this.verticalBasePath=i?this.verticalLeftBasePath:this.verticalRightBasePath,o=l["default"].MAP_LEGEND_TOOLTIP_HORIZONTAL_PADDING,r=l["default"].MAP_LEGEND_TOOLTIP_VERTICAL_PADDING,a=e.width,s=e.height;return n[2]=t,n[5]=t+_,n[8]=n[11]=t+s/2+r,n[14]=n[17]=t-s/2-r,n[20]=t-_,i?n[10]=n[13]=n[4]+a+2*o:n[10]=n[13]=n[4]-a-2*o,n},t.prototype._makeHorizontalWedgePath=function(t,e){var i=this.horiziontalBaseBath=this.isTopLegend?this.horizontalTopBasePath:this.horizontalBottomBasePath,n=l["default"].MAP_LEGEND_TOOLTIP_HORIZONTAL_PADDING,o=l["default"].MAP_LEGEND_TOOLTIP_VERTICAL_PADDING,r=e.width,a=e.height;return i[1]=t,i[4]=t+_,i[7]=i[10]=t+r/2+n,i[13]=i[16]=t-r/2-n,i[19]=t-_,this.isTopLegend?i[11]=i[14]=i[5]+a+2*o:i[11]=i[14]=i[5]-a-2*o,i},t.prototype.showWedge=function(t,e){var i=this.theme,n=s["default"].getRenderedTextSize(e,i.fontSize,i.fontFamily),o=this.isHorizontal?this.layout.dimension.width:this.layout.dimension.height,r=this._makeWedghPath(o*t,n);this.wedge.attr({path:r,opacity:1,fill:this.colorSpectrum.getColor(t)});var a=this.wedge.getBBox(),u=y["default"].sum([a.y,l["default"].MAP_LEGEND_TOOLTIP_VERTICAL_PADDING,n.height/2]),c=y["default"].sum([a.x,l["default"].MAP_LEGEND_TOOLTIP_HORIZONTAL_PADDING,n.width/2]);this.isLeftLegend&&(c+=l["default"].MAP_LEGEND_WEDGE_SIZE),this.isTopLegend&&(u+=l["default"].MAP_LEGEND_WEDGE_SIZE),this.wedgeText.attr({x:c,y:u,text:e,opacity:1}),this.wedge.toFront(),this.wedgeText.toFront()},t.prototype.hideWedge=function(){this.wedge.attr({opacity:0}),this.wedgeText.attr({opacity:0})},t.prototype.removeLocationURLFromFillAttribute=function(){var t=this.gradientBar,e=t.node.getAttribute("fill"),i=/url\('?([^#]+)#[^#]+'?\)/,n=i.exec(e),o=r(n,2);this.locationURL=o[1],t.node.setAttribute("fill",e.replace(this.locationURL,""))},t.prototype.restoreLocationURLToFillAttribute=function(){var t=this.gradientBar,e=t.node.getAttribute("fill");t.node.setAttribute("fill",e.replace("#",this.locationURL+"#"))},t.prototype._calculateHorizontalLegendTooltipHeight=function(t,e){var i=t.length?t[t.length-1]:"",n=h["default"].getRenderedLabelHeight(i,e);return y["default"].sum([2*l["default"].MAP_LEGEND_TOOLTIP_VERTICAL_PADDING,n,l["default"].MAP_LEGEND_WEDGE_SIZE])},t.prototype._calculateVerticalLegendTooltipWidth=function(t,e){var i=t.length?t[t.length-1]:"",n=h["default"].getRenderedLabelWidth(i,e);return y["default"].sum([2*l["default"].MAP_LEGEND_TOOLTIP_HORIZONTAL_PADDING,n,l["default"].MAP_LEGEND_WEDGE_SIZE])},t}();e["default"]=v},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=i(332),a=n(r),s=function(){function t(){o(this,t)}return t.prototype.render=function(t,e,i,n,o){var r=e.position.left+e.dimension.width/2,s=t.set();return n.forEach(function(n,u){var l=i*n,c=e.position.top+e.dimension.height-l,h=a["default"].renderCircle(t,{left:r,top:c},l,{fill:"none",opacity:1,stroke:"#888","stroke-width":1});s.push(h),s.push(a["default"].renderText(t,{left:r,top:c-l-5},o[u]))}),s},t}();e["default"]=s},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=i(332),a=n(r),s=i(335),u=n(s),l=function(){function t(){o(this,t)}return t.prototype.render=function(t){var e=t.paper,i=t.titleText,n=t.offset,o=t.theme,r=t.align,s=void 0===r?u["default"].TITLE_ALIGN_LEFT:r,l=t.chartTitleAreaWidth,c=o.fontSize,h=o.fontFamily,p=a["default"].getRenderedTextSize(i,c,h),f=e.set(),d=this.getTitlePosition(p,s,l,n),y={left:"start",right:"end",center:"middle"};return f.push(a["default"].renderText(e,d,i,{"font-family":o.fontFamily,"font-size":o.fontSize,"font-weight":o.fontWeight,fill:o.color,"text-anchor":y[s]})),f},t.prototype.getTitlePosition=function(t,e,i,n){var o=void 0;o=e===u["default"].TITLE_ALIGN_CENTER?i/2:e===u["default"].TITLE_ALIGN_RIGHT?i:u["default"].CHART_PADDING;var r={left:o,top:u["default"].CHART_PADDING+t.height/2};return n&&(n.x?r.left+=n.x:n.y&&(r.top+=n.y)),r},t.prototype.resize=function(t,e){e.attr({left:u["default"].CHART_PADDING})},t}();e["default"]=l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){var i=l["default"].getRenderedTextSize(t,e.fontSize,e.fontFamily);return i.height}function a(t,e){var i=l["default"].getRenderedTextSize(t,e.fontSize,e.fontFamily);return i.width}function s(t,e){e&&(e.x&&(t.left+=e.x),e.y&&(t.top+=e.y))}e.__esModule=!0;var u=i(332),l=n(u),c=i(335),h=n(c),p=h["default"].Y_AXIS_TITLE_PADDING,f=h["default"].AXIS_BACKGROUND_RIGHT_PADDING,d=function(){function t(){o(this,t),this.ticks=[]}return t.prototype.renderBackground=function(t,e,i,n){var o=n&&n.background||{},r=o.color,a=void 0===r?"#fff":r,s=o.opacity,u=void 0===s?1:s;return l["default"].renderRect(t,{left:0,top:e.top,width:i.width+e.left-f,height:i.height},{fill:a,opacity:u,"stroke-width":0})},t.prototype.renderTitle=function(t,e){var i=e.theme,n=e.rotationInfo,o=i.fontFamily,r=i.fontSize,a=i.fontWeight,s=i.color,u=this.getRenderTitleAnchor(n),c={"dominant-baseline":"auto","font-family":o,"font-size":r,"font-weight":a,fill:s,transform:"none","text-anchor":u},h=this.calculatePosition(t,e),p=l["default"].renderText(t,h,e.text,c);p.node.style.userSelect="none",p.node.style.cursor="default",e.set.push(p)},t.prototype.getRenderTitleAnchor=function(t){var e="middle";return t.isPositionRight?e="end":t.isVertical&&!t.isCenter&&(e="start"),e},t.prototype.renderLabel=function(t){var e=t.positionTopAndLeft,i=t.labelText,n=t.paper,o=t.theme,r=t.isVertical,a=t.isCenter,s={"dominant-baseline":"central","font-family":o.fontFamily,"font-size":o.fontSize,"font-weight":o.fontWeight,fill:o.color};t.isPositionRight?s["text-anchor"]="end":r&&!a?s["text-anchor"]="start":s["text-anchor"]="middle";var u=l["default"].renderText(n,e,i,s);u.node.style.userSelect="none",u.node.style.cursor="default",t.set.push(u),this.ticks.push(u)},t.prototype.renderRotatedLabel=function(t){var e=t.positionTopAndLeft,i=t.labelText,n=t.paper,o=t.theme,r=l["default"].renderText(n,e,i,{"dominant-baseline":"central","font-family":o.fontFamily,"font-size":o.fontSize,"font-weight":o.fontWeight,fill:o.color,"text-anchor":"end",transform:"r"+-t.degree+","+e.left+","+e.top});r.node.style.userSelect="none",r.node.style.cursor="arrow",t.set.push(r),this.ticks.push(r)},t.prototype.renderTicks=function(t){var e=this,i=t.paper,n=t.positions,o=t.additionalSize,r=t.isVertical,a=t.isCenter,s=t.isDivided,u=t.isPositionRight,l=t.tickColor,c=t.layout,h=c.position.left+c.dimension.width,p=c.position.top,f=c.position.left,d=s?t.otherSideDimension.width:0,y=function(t){var e=r?"height":"width";return t>c.dimension[e]+d},g=void 0;n.forEach(function(n){var s="M";n+=o,y(n)||(r?a?(s+=f+","+(p+n),s+="H"+(f+5),s+="M"+h+","+(p+n),s+="H"+(h-5)):u?(s+=f+","+(p+n),s+="H"+(f+5)):(s+=h+","+(p+n),s+="H"+(h-5)):(s+=f+n+","+p,s+="V"+(p+5)),isNaN(n)||(g=i.path(s).attr({stroke:l,opacity:.5}),t.set.push(g),e.ticks.push(g)))})},t.prototype.renderStandardLine=function(t){var e=t.areaSize,i=t.layout,n=i.position,o=i.dimension,r=t.paper,a=t.isVertical,s=n.left,u=Math.abs(t.axisLimit.min),l=Math.abs(t.axisLimit.max),c=1-l/(u+l),h="M",p=n.top,f=s+o.width;if(a){var d=p;f+=t.seriesDimension.width*c,h+=f+","+d;var y=p+e;h+="V"+y}else{h+=s,p-=t.seriesDimension.height*c,h+=","+p+"H";var g=s+e;h+=g}t.set.push(r.path(h).attr({"stroke-width":1,opacity:.5}))},t.prototype.renderTickLine=function(t){var e=t.areaSize,i=t.paper,n=t.layout,o=n.position,r=o.top,a=o.left,s=n.dimension,u=t.isNegativeStandard,l=t.isNotDividedXAxis,c=t.additionalSize,h=t.isPositionRight,p=t.isCenter,f=t.isVertical,d=t.tickColor,y=t.seriesDimension,g=e,m=s.height+r,_=a+s.width,v="M",T=void 0,b=void 0;h?(v+=a+","+r,v+="V"+m):f?(T=r,u&&(_+=y.width/2),v+=_+","+T,p?(v+="V"+m,v+="M"+a+","+T,v+="V"+m):(b=r+g,v+="V"+b)):v=this._makeNormalTickPath(v,{isNotDividedXAxis:l,baseTop:r,baseLeft:a,additionalSize:c,isNegativeStandard:u,seriesDimension:y,lineSize:g}),t.set.push(i.path(v).attr({"stroke-width":1,stroke:d,opacity:.5}))},t.prototype._makeNormalTickPath=function(t,e){t+=e.isNotDividedXAxis?e.baseLeft:e.baseLeft+e.additionalSize,e.isNegativeStandard&&(e.baseTop-=e.seriesDimension.height/2),t+=","+e.baseTop+"H";var i=e.baseLeft+e.lineSize;return e.isNotDividedXAxis||(i+=e.additionalSize),t+=i},t.prototype.animateForAddingData=function(t){this.ticks.forEach(function(e){e.animate({transform:"t-"+t+",0"},300)})},t.prototype.calculatePosition=function(t,e){var i=e.rotationInfo,n=e.text,o=e.theme,u=e.additionalWidth,l=e.otherSideDimension,c=e.areaSize,h=e.tickCount,f=e.layout,d=r(n,o),y=a(n,o),g=f.dimension.height,m=f.dimension.width,_=f.position.top,v=f.position.left+u,T=y/2-l.width,b={top:_+g-d/2,left:v+(T<0?0:T)};return i.isVertical?i.isCenter?(b.top+=d/2,b.left=v+m/2):i.isDiverging||(b.top=_-d/2-p):i.isVertical||(i.isDiverging&&i.isYAxisCenter?b.left=v+c/2:i.isDiverging&&!i.isYAxisCenter?b.left=v+m/2:i.isColumnType&&(b.left=v+m/(h-1)/2)),i.isPositionRight&&(b.left+=m),i.isCenter||s(b,e.offset),b},t}();e["default"]=d},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(u){o=!0,r=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=i(332),s=n(a),u=i(337),l=n(u),c=8,h=3,p=function(){function t(){o(this,t)}return t.prototype.render=function(t){var e=t.paper.set();return this.paper=t.paper,this.layout=t.layout,this.plotPositions=t.plotPositions,this.theme=t.theme,this.options=t.options,this.labelData=t.labelData,this._renderPlot(e),this._renderLabels(e),e.toBack(),this.paper.pushDownBackgroundToBottom(),e},t.prototype._renderPlot=function(t){"circle"===this.options.type?this._renderCirclePlot(t):this._renderSpiderwebPlot(t),this._renderCategoryDots(t)},t.prototype._renderSpiderwebPlot=function(t){var e=this._getLinesPath(this.plotPositions);this._renderLines(e,this.theme.lineColor,t)},t.prototype._renderCirclePlot=function(t){for(var e=this.plotPositions,i=r(e,1),n=r(i[0],1),o=n[0],a=this.theme.lineColor,u=1;u<e.length;u+=1){var l=r(e[u],1),c=l[0],h=o.top-c.top;t.push(s["default"].renderCircle(this.paper,o,h,{stroke:a,"stroke-opacity":.05}))}},t.prototype._renderCategoryDots=function(t){var e=this,i=this._makePlotDotBounds(l["default"].pivot(this.plotPositions));i.forEach(function(i){var n=s["default"].renderRect(e.paper,i,{fill:"#000000","fill-opacity":.5,"stroke-width":0});t.push(n)},this)},t.prototype._makePlotDotBounds=function(t){var e=t.map(function(t){var e=t[t.length-1],i={top:e.top-2,left:e.left-2,width:4,height:4};return i});return e.pop(),e},t.prototype._renderLabels=function(t){var e=this.paper,i=this.theme,n=this.labelData,o={fill:i.lineColor,"font-size":i.label.fontSize,"font-family":i.label.fontFamily,"text-anchor":"end","font-weight":"100","dominant-baseline":"middle"};n.category.forEach(function(i){var n=Object.assign({},o,{"text-anchor":i.position.anchor,fill:"#333333"}),r=s["default"].renderText(e,i.position,i.text,n);r.node.style.userSelect="none",r.node.style.cursor="default",t.push(r)}),n.step.forEach(function(i){var n=s["default"].renderText(e,i.position,i.text,o);i.position.top-=c,i.position.left-=h,n.node.style.userSelect="none",n.node.style.cursor="default",t.push(n)})},t.prototype._renderLines=function(t,e,i){var n=this.paper;return t.map(function(t){var o=s["default"].renderLine(n,t.join(" "),e,1);return o.node.setAttribute("stroke-opacity",.05),i.push(o),o})},t.prototype._getLinesPath=function(t){var e=this;return t.map(function(t){return e._makeLinesPath(t)})},t.prototype._makeLinesPath=function(t,e,i){var n=[],o=!1;return e=e||"top",t.forEach(function(t){var r=o&&!i?"M":"L";t?(n.push([r,t.left,t[e]]),o&&(o=!1)):o=!0}),n=Array.prototype.concat.apply([],n),n[0]="M",n},t}();e["default"]=p},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments[2],n=arguments[3];if(e.table&&(e=k["default"].makeDataWithTable(e.table)),e.series||(e.series=[]),e=R["default"].deepCopy(e),"combo"!==n){var o=e.series;e.series={},e.series[n]=o}i=i?R["default"].deepCopy(i):{},i.chartType=n,i.theme=i.theme||E["default"].DEFAULT_THEME_NAME;var r=C["default"].get(i.theme,n,e.series),a=D["default"].get(i.chartType,e,r,i);return a.render(t),a.animateChart(),a}function r(t,e,i){return o(t,e,i,E["default"].CHART_TYPE_BAR)}function a(t,e,i){return o(t,e,i,E["default"].CHART_TYPE_COLUMN)}function s(t,e,i){return o(t,e,i,E["default"].CHART_TYPE_LINE)}function u(t,e,i){return o(t,e,i,E["default"].CHART_TYPE_AREA)}function l(t,e,i){return o(t,e,i,E["default"].CHART_TYPE_BUBBLE)}function c(t,e,i){return o(t,e,i,E["default"].CHART_TYPE_SCATTER)}function h(t,e,i){return o(t,e,i,E["default"].CHART_TYPE_HEATMAP)}function p(t,e,i){return o(t,e,i,E["default"].CHART_TYPE_TREEMAP)}function f(t,e,i){return o(t,e,i,E["default"].CHART_TYPE_COMBO)}function d(t,e,i){return o(t,e,i,E["default"].CHART_TYPE_PIE)}function y(t,e,i){return o(t,e,i,E["default"].CHART_TYPE_MAP)}function g(t,e,i){return o(t,e,i,E["default"].CHART_TYPE_RADIAL)}function m(t,e,i){return o(t,e,i,E["default"].CHART_TYPE_BOXPLOT)}function _(t,e,i){return o(t,e,i,E["default"].CHART_TYPE_BULLET)}function v(t,e){C["default"].register(t,e)}function T(t,e){P["default"].register(t,e)}function b(t,e,i){M["default"].register(t,e),N["default"].addRendererType(t,i)}var x=i(335),E=n(x),A=i(358),D=n(A),S=i(360),M=n(S),L=i(361),C=n(L),w=i(363),P=n(w),O=i(364),R=n(O),I=i(365),k=n(I),B=i(366),N=n(B);i(367),i(368),i(473),t.exports={barChart:r,columnChart:a,lineChart:s,areaChart:u,bubbleChart:l,scatterChart:c,heatmapChart:h,treemapChart:p,comboChart:f,pieChart:d,mapChart:y,radialChart:g,boxplotChart:m,bulletChart:_,registerTheme:v,registerMap:T,registerPlugin:b}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=i(335),r=n(o),a=i(359),s=n(a),u=i(342),l=n(u),c={};e["default"]={_findKey:function(t,e){var i=null;if(l["default"].isComboChart(t)){var n=s["default"].getChartTypeMap(e);n[r["default"].CHART_TYPE_COLUMN]&&n[r["default"].CHART_TYPE_LINE]?i=r["default"].CHART_TYPE_COLUMN_LINE_COMBO:n[r["default"].CHART_TYPE_LINE]&&n[r["default"].CHART_TYPE_SCATTER]?i=r["default"].CHART_TYPE_LINE_SCATTER_COMBO:n[r["default"].CHART_TYPE_AREA]&&n[r["default"].CHART_TYPE_LINE]?i=r["default"].CHART_TYPE_LINE_AREA_COMBO:n[r["default"].CHART_TYPE_PIE]&&(i=r["default"].CHART_TYPE_PIE_DONUT_COMBO)}else i=t;return i},get:function(t,e,i,n){var o=this._findKey(t,e),r=c[o];if(!r)throw new Error("Not exist "+t+" chart.");return new r(e,i,n)},register:function(t,e){c[t]=e}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(u){o=!0,r=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=i(335),a=n(r),s=i(342),u=n(s),l=i(337),c=n(l),h=i(333),p=n(h);e["default"]={pickStacks:function(t,e){var i=t.map(function(t){return t.stack}),n=c["default"].unique(i);e&&(n=n.slice(0,2));var o=n.filter(function(t){return!!t});return o.length<n.length&&o.push(a["default"].DEFAULT_STACK),o},_sortSeriesData:function(t,e){var i=[];return e||(e=this.pickStacks(t)),e.forEach(function(e){var n=t.filter(function(t){return(t.stack||a["default"].DEFAULT_STACK)===e});i=i.concat(n)}),i},removeSeriesStack:function(t){Object.values(t).forEach(function(t){delete t.stack})},findChartType:function(t,e){var i=void 0;return t&&(i=t[e]),i||e},getChartTypeMap:function(t){var e=this,i={};return p["default"].isObject(t.series)&&p["default"].forEach(t.series,function(n,o){i[e.findChartType(t.seriesAlias,o)]=!0}),i},_createMinusValues:function(t){return t.map(function(t){return t<0?0:-t})},_createPlusValues:function(t){return t.map(function(t){return t<0?0:t})},_makeNormalDivergingRawSeriesData:function(t){return t.length=Math.min(t.length,2),t[0].data=this._createMinusValues(t[0].data),t[1]&&(t[1].data=this._createPlusValues(t[1].data)),t},_makeRawSeriesDataForStackedDiverging:function(t){var e=this,i=this.pickStacks(t,!0),n=[],r=o(i,2),s=r[0],u=r[1];return t=this._sortSeriesData(t,i),t.forEach(function(t){var i=t.stack||a["default"].DEFAULT_STACK;i===s?(t.data=e._createMinusValues(t.data),n.push(t)):i===u&&(t.data=e._createPlusValues(t.data),n.push(t))}),n},_makeRawSeriesDataForDiverging:function(t,e){return t=u["default"].isValidStackOption(e)?this._makeRawSeriesDataForStackedDiverging(t):this._makeNormalDivergingRawSeriesData(t)},updateRawSeriesDataByOptions:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u["default"].isValidStackOption(i.stackType)&&Object.keys(t.series).forEach(function(i){t.series[i]=e._sortSeriesData(t.series[i])}),i.diverging&&Object.entries(t.series).forEach(function(n){var r=o(n,2),a=r[0],s=r[1];t.series[a]=e._makeRawSeriesDataForDiverging(s,i.stackType)})},appendOutliersToSeriesData:function(t){var e=t.series.boxplot;e.forEach(function(t){var e=t.outliers;e&&e.length&&e.forEach(function(e){t.data[e[0]].push(e[1])})})},filterCheckedRawData:function(t,e){var i=JSON.parse(JSON.stringify(t));if(e&&Object.entries(i.series).forEach(function(t){var n=o(t,2),r=n[0],a=n[1];e[r]?e[r].length&&(i.series[r]=a.filter(function(t,i){return e[r][i]})):i.series[r]=[]}),i.series.bullet){var n=[];e.bullet.forEach(function(e,i){e&&n.push(t.categories[i])}),i.categories=n}return i},_makeRawSeriesDataForBulletChart:function(t){var e=t.series.bullet,i=void 0===e?[]:e;t.categories=t.categories||[],t.categories=i.map(function(t){return t.name||""})}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=i(335),r=n(o),a={};e["default"]={get:function(t,e){var i=a[t||r["default"].DEFAULT_PLUGIN];if(!i)throw new Error("Not exist "+t+" plugin.");var n=i[e];if(!n)throw new Error("Not exist "+e+" chart renderer.");var o=new n;return o},register:function(t,e){a[t]=e}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(u){o=!0,r=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=i(335),a=n(r),s=i(342),u=n(s),l=i(362),c=n(l),h=i(333),p=n(h),f={};e["default"]={register:function(t,e){e=JSON.parse(JSON.stringify(e)),f[t]=e},_pickSeriesNames:function(t,e){var i=[];return u["default"].isComboChart(t)?Object.keys(e).forEach(function(t){i.push(t)}):i.push(t),i},_overwriteTheme:function(t,e){var i=this;Object.entries(e).forEach(function(n){var r=o(n,2),a=r[0],s=r[1],u=t[a];(u||0===u)&&(p["default"].isArray(u)?e[a]=u.slice():p["default"].isObject(u)?i._overwriteTheme(u,s):e[a]=u)})},_pickValidTheme:function(t,e){var i={};return a["default"].THEME_PROPS_MAP[e].forEach(function(e){p["default"].isExisty(t[e])&&(i[e]=t[e])}),i},_createComponentThemeWithSeriesName:function(t,e,i,n){var o=this,r={};return e=e||{},t.forEach(function(t){var a=e[t]||o._pickValidTheme(e,n);p["default"].keys(a).length?(r[t]=JSON.parse(JSON.stringify(c["default"][n])),o._overwriteTheme(a,r[t])):r[t]=JSON.parse(JSON.stringify(i))}),r},_makeEachSeriesColors:function(t,e,i){for(var n=[],o=t.length,r=i||0,a=0;a<e;a+=1)n.push(t[r]),r+=1,r>=o&&(r=0);return n},_setSeriesColors:function(t,e,i,n){var o=this,r=void 0,a=void 0,s=void 0,u=0;i=i||{},t.forEach(function(t){i[t]?(r=i[t].colors,s=!0):(r=i.colors||c["default"].series.colors,s=!1),a=o._getSeriesThemeColorCount(n[t]),e[t].colors=o._makeEachSeriesColors(r,a,!s&&u),s||(u=(a+u)%r.length)})},_getSeriesThemeColorCount:function(t){var e=0;return t&&t.length&&(e=t.colorLength?t.colorLength:t.length),e},_initTheme:function(t,e,i,n){var o=void 0;return t!==a["default"].DEFAULT_THEME_NAME?(o=JSON.parse(JSON.stringify(c["default"])),this._overwriteTheme(e,o)):o=JSON.parse(JSON.stringify(e)),o.yAxis=this._createComponentThemeWithSeriesName(i,e.yAxis,o.yAxis,"yAxis"),o.series=this._createComponentThemeWithSeriesName(i,e.series,o.series,"series"),this._setSeriesColors(i,o.series,e.series,n),o},_createTargetThemesForFontInherit:function(t){var e=[t.title,t.xAxis.title,t.xAxis.label,t.legend.label,t.plot.label];return p["default"].forEach(t.yAxis,function(t){e.push(t.title,t.label)}),p["default"].forEach(t.series,function(t){e.push(t.label)}),e},_inheritThemeFont:function(t){var e=this._createTargetThemesForFontInherit(t),i=t.chart.fontFamily;e.forEach(function(t){t.fontFamily||(t.fontFamily=i)})},_copySeriesColorTheme:function(t,e,i){e[i]={colors:t.colors,borderColor:t.borderColor,selectionColor:t.selectionColor}},_copySeriesColorThemeToOther:function(t){var e=this;p["default"].forEach(t.series,function(i,n){e._copySeriesColorTheme(i,t.legend,n),e._copySeriesColorTheme(i,t.tooltip,n)})},get:function(t,e,i){var n=f[t];if(!n)throw new Error("Not exist "+t+" theme.");var o=this._pickSeriesNames(e,i),r=this._initTheme(t,n,o,i);return this._inheritThemeFont(r,o),this._copySeriesColorThemeToOther(r),r}}},function(t,e){"use strict";e.__esModule=!0;var i="#000000",n="#ffffff",o="lighter",r="Arial",a="",s={tickColor:i,title:{fontSize:11,fontFamily:r,color:"#bbbbbb",fontWeight:"bold"},label:{fontSize:11,fontFamily:r,color:"#333",fontWeight:"normal"}};e["default"]={chart:{background:{color:n,opacity:1},fontFamily:r},title:{fontSize:18,fontFamily:r,color:i,fontWeight:o},yAxis:s,xAxis:s,plot:{lineColor:"#000000",background:"#ffffff",label:{fontSize:11,
fontFamily:r,color:"#888"}},series:{label:{fontSize:11,fontFamily:r,color:i,fontWeight:o},colors:["#00a9ff","#ffb840","#ff5a46","#00bd9f","#785fff","#f28b8c","#989486","#516f7d","#29dbe3","#dddddd"],borderColor:a,borderWidth:a,selectionColor:a,startColor:"#FFE98A",endColor:"#D74177",overColor:a,dot:{fillColor:a,fillOpacity:1,strokeColor:a,strokeOpacity:a,strokeWidth:0,radius:6,hover:{fillColor:a,fillOpacity:1,strokeColor:"#fff",strokeOpacity:1,strokeWidth:4,radius:6}},ranges:[]},legend:{label:{fontSize:11,fontFamily:r,color:"#333",fontWeight:o}},tooltip:{},chartExportMenu:{backgroundColor:"#fff",borderRadius:0,borderWidth:1,color:"#000"}}},function(t,e){"use strict";e.__esModule=!0;var i={};e["default"]={get:function(t){var e=i[t];if(!e)throw new Error("Not exist "+t+" map.");return e},register:function(t,e){i[t]=e}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(u){o=!0,r=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=i(333),a=n(r),s=function u(t){var e=void 0;return a["default"].isArray(t)?(e=[],t.forEach(function(t,i){e[i]=u(t)})):a["default"].isFunction(t)||a["default"].isDate(t)?e=t:a["default"].isObject(t)?(e={},Object.entries(t).forEach(function(t){var i=o(t,2),n=i[0],r=i[1];e[n]=u(r)})):e=t,e};e["default"]={deepCopy:s}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=void 0;return t.length>0&&(e={},e.categories=[],e.series=[],e.categories=t.shift().slice(1),t.forEach(function(t){var i={name:t[0],data:t.slice(1)};e.series.push(i)})),e}function r(t){var e=[];if(t){var i=[],n=c["default"].toArray(t.getElementsByTagName("TR"));c["default"].forEach(n,function(t,e){var n=0===e?"TH":"TD",o=c["default"].toArray(t.getElementsByTagName(n)),r=c["default"].pluck(o,"innerText");i.push(r)}),i[0].length<i[1].length&&i[0].unshift(""),e=u["default"].pivot(i)}return e}function a(t){var e=void 0;t.element&&"TABLE"===t.element.tagName?e=t.element:t.elementId&&(e=document.getElementById(t.elementId));var i=o(r(e));return i}e.__esModule=!0;var s=i(337),u=n(s),l=i(333),c=n(l);e["default"]={makeDataWithTable:a}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=i(336),a=n(r),s=i(333),u=n(s),l={DOM:function(t){var e=a["default"].create("DIV");return a["default"].append(t,e),e}},c=function(){function t(){o(this,t)}return t.prototype.initDimension=function(t){this.dimension=t},t.prototype.getPaper=function(t,e){var i=this[e+"Paper"],n=u["default"].isExisty(t)&&i&&a["default"].findParentByClass(i.canvas,"tui-chart")!==t;return i&&!n||(i=l[e].call(this,t,this.dimension),"DOM"!==e&&(this[e+"Paper"]=i)),i},t.addRendererType=function(t,e){l[t]=e},t}();e["default"]=c},function(module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};window.JSON||(window.JSON={parse:function parse(sJSON){return eval("("+sJSON+")")},stringify:function(){var t=Object.prototype.toString,e=Array.isArray||function(e){return"[object Array]"===t.call(e)},i={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},n=function(t){return i[t]||"\\u"+(t.charCodeAt(0)+65536).toString(16).substr(1)},o=/[\\"\u0000-\u001F\u2028\u2029]/g;return function r(i){if(null==i)return"null";if("number"==typeof i)return isFinite(i)?i.toString():"null";if("boolean"==typeof i)return i.toString();if("object"===("undefined"==typeof i?"undefined":_typeof(i))){if("function"==typeof i.toJSON)return r(i.toJSON());if(e(i)){for(var a="[",s=0;s<i.length;s++)a+=(s?", ":"")+r(i[s]);return a+"]"}if("[object Object]"===t.call(i)){var u=[];for(var l in i)i.hasOwnProperty(l)&&u.push(r(l)+": "+r(i[l]));return"{"+u.join(", ")+"}"}}return'"'+i.toString().replace(o,n)+'"'}}()}),"function"!=typeof Object.create&&(Object.create=function(t){var e=function(){};return function(i,n){if(i!==Object(i)&&null!==i)throw TypeError("Argument must be an object, or null");e.prototype=i||{},n!==t&&Object.defineProperties(e.prototype,n);var o=new e;return e.prototype=null,null===i&&(o.__proto__=null),o}}()),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),function(){for(var t=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var i=(new Date).getTime(),n=Math.max(0,16-(i-t)),o=window.setTimeout(function(){e(i+n)},n);return t=i+n,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var o=i(335),r=n(o),a=i(358),s=n(a),u=i(369),l=n(u),c=i(451),h=n(c),p=i(452),f=n(p),d=i(454),y=n(d),g=i(455),m=n(g),_=i(457),v=n(_),T=i(458),b=n(T),x=i(459),E=n(x),A=i(460),D=n(A),S=i(461),M=n(S),L=i(462),C=n(L),w=i(463),P=n(w),O=i(466),R=n(O),I=i(467),k=n(I),B=i(470),N=n(B),F=i(471),G=n(F),H=i(472),V=n(H);s["default"].register(r["default"].CHART_TYPE_BAR,l["default"]),s["default"].register(r["default"].CHART_TYPE_COLUMN,h["default"]),s["default"].register(r["default"].CHART_TYPE_LINE,f["default"]),s["default"].register(r["default"].CHART_TYPE_AREA,y["default"]),s["default"].register(r["default"].CHART_TYPE_COLUMN_LINE_COMBO,m["default"]),s["default"].register(r["default"].CHART_TYPE_LINE_SCATTER_COMBO,v["default"]),s["default"].register(r["default"].CHART_TYPE_LINE_AREA_COMBO,b["default"]),s["default"].register(r["default"].CHART_TYPE_PIE_DONUT_COMBO,E["default"]),s["default"].register(r["default"].CHART_TYPE_PIE,D["default"]),s["default"].register(r["default"].CHART_TYPE_BUBBLE,M["default"]),s["default"].register(r["default"].CHART_TYPE_SCATTER,C["default"]),s["default"].register(r["default"].CHART_TYPE_HEATMAP,P["default"]),s["default"].register(r["default"].CHART_TYPE_TREEMAP,R["default"]),s["default"].register(r["default"].CHART_TYPE_MAP,k["default"]),s["default"].register(r["default"].CHART_TYPE_RADIAL,N["default"]),s["default"].register(r["default"].CHART_TYPE_BOXPLOT,G["default"]),s["default"].register(r["default"].CHART_TYPE_BULLET,V["default"])},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(370),u=n(s),l=i(335),c=n(l),h=i(359),p=n(h),f=i(342),d=n(f),y=function(t){function e(i,n,a){o(this,e),p["default"].updateRawSeriesDataByOptions(i,a.series);var s=r(this,t.call(this,{rawData:i,theme:n,options:a,hasAxes:!0}));return s.className="tui-bar-chart",s._updateOptionsRelatedDiverging(),s}return a(e,t),e.prototype._updateOptionsRelatedDiverging=function(){var t=this.options;if(t.series=t.series||{},t.series.diverging){t.yAxis=t.yAxis||{},t.xAxis=t.xAxis||{},t.plot=t.plot||{},t.series.stackType=t.series.stackType||c["default"].NORMAL_STACK_TYPE;var e=d["default"].isYAxisAlignCenter(this.hasRightYAxis,t.yAxis.align);t.yAxis.isCenter=e,t.xAxis.divided=e,t.series.divided=e,t.plot.divided=e}},e.prototype.addComponents=function(){this.componentManager.register("title","title"),this.componentManager.register("plot","plot"),this.componentManager.register("legend","legend"),this.componentManager.register("barSeries","barSeries"),this.componentManager.register("yAxis","axis"),this.componentManager.register("xAxis","axis"),this.hasRightYAxis&&this.componentManager.register("rightYAxis","axis"),this.componentManager.register("chartExportMenu","chartExportMenu"),this.componentManager.register("tooltip","tooltip"),this.componentManager.register("mouseEventDetector","mouseEventDetector")},e.prototype.getScaleOption=function(){return{xAxis:!0}},e.prototype.onChangeCheckedLegends=function(t){var e=void 0;this.hasRightYAxis&&(e={optionChartTypes:["bar","bar"]}),u["default"].prototype.onChangeCheckedLegends.call(this,t,null,e)},e.prototype.addDataRatios=function(t){var e=this.options.series,i=void 0===e?{}:e,n=this.chartType,o=i[n]||i,r=o.stackType;this.dataProcessor.addDataRatios(t[n],r,n)},e}(u["default"]);e["default"]=y},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=i(335),a=n(r),s=i(371),u=n(s),l=i(428),c=n(l),h=i(359),p=n(h),f=i(336),d=n(f),y=i(334),g=n(y),m=i(364),_=n(m),v=i(439),T=n(v),b=i(342),x=n(b),E=i(333),A=n(E),D=function(){function t(e){o(this,t),this.theme=e.theme,e.seriesTypes&&(this.seriesTypes=e.seriesTypes),e.chartTypes&&(this.chartTypes=e.chartTypes),this._initializeOptions(e.options),this.chartType=this.options.chartType,this.hasAxes=e.hasAxes,this.isVertical=!!e.isVertical,this.dataProcessor=this._createDataProcessor(e),this.eventBus=new A["default"].CustomEvents,this.prevXAxisData=null,this.componentManager=this._createComponentManager(),this.hasRightYAxis=A["default"].isArray(this.options.yAxis)&&this.options.yAxis.length>1,this.addComponents(),this._attachToEventBus(),this.options.usageStatistics&&this._sendHostName()}return t.prototype._sendHostName=function(){var t=location,e=t.hostname;A["default"].imagePing("https://www.google-analytics.com/collect",{v:1,t:"event",tid:"UA-115377265-9",cid:e,dp:e,dh:"chart"})},t.prototype._attachToEventBus=function(){this.eventBus.on("changeCheckedLegends",this.onChangeCheckedLegends,this),this.onZoom&&this.eventBus.on({zoom:this.onZoom,resetZoom:this.onResetZoom},this)},t.prototype._setOffsetProperty=function(t,e,i){A["default"].isExisty(t[e])&&(t.offset=t.offset||{},t.offset[i]=t[e],delete t[e])},t.prototype._initializeOffset=function(t){t&&(this._setOffsetProperty(t,"offsetX","x"),this._setOffsetProperty(t,"offsetY","y"))},t.prototype._initializeTitleOptions=function(t){var e=this;if(t){var i=A["default"].isArray(t)?t:[t];i.forEach(function(t){var i=t.title;A["default"].isString(i)&&(t.title={text:i}),e._initializeOffset(t.title)})}},t.prototype._initializeTooltipOptions=function(t){t.grouped=!!t.grouped,this._initializeOffset(t),delete t.position},t.prototype._initializeOptions=function(t){var e=_["default"].deepCopy(t),i={chartTypes:this.charTypes,xAxis:{},series:{},tooltip:{},usageStatistics:!0,chartExportMenu:Object.assign({visible:!0},e.chartExportMenu),legend:Object.assign({visible:!0},e.legend)};delete e.chartExportMenu,delete e.legend,Object.assign(t,i,e),this._initializeTitleOptions(t.chart),this._initializeTitleOptions(t.xAxis),this._initializeTitleOptions(t.yAxis),this._initializeTooltipOptions(t.tooltip),this.options=t},t.prototype._createDataProcessor=function(t){var e=t.DataProcessor||c["default"],i=new e(t.rawData,this.chartType,t.options,this.seriesTypes);return i},t.prototype._createComponentManager=function(){return new u["default"]({options:this.options,theme:this.theme,dataProcessor:this.dataProcessor,hasAxes:this.hasAxes,eventBus:this.eventBus,isVertical:this.isVertical,seriesTypes:this.seriesTypes||[this.chartType]})},t.prototype.addComponents=function(){},t.prototype.getScaleOption=function(){},t.prototype._buildBoundsAndScaleData=function(t,e){return T["default"].build(this.dataProcessor,this.componentManager,{chartType:this.chartType,seriesTypes:this.seriesTypes,options:this.options,theme:this.theme,hasAxes:this.hasAxes,scaleOption:this.getScaleOption(),isVertical:this.isVertical,hasRightYAxis:this.hasRightYAxis,addedDataCount:this._dynamicDataHelper?this._dynamicDataHelper.addedDataCount:null,prevXAxisData:t,addingDataMode:e})},t.prototype.addDataRatios=function(){},t.prototype.readyForRender=function(t){var e=this._buildBoundsAndScaleData(this.prevXAxisData,t);return e.axisDataMap.xAxis&&(this.prevXAxisData=e.axisDataMap.xAxis),this.addDataRatios(e.limitMap),e},t.prototype.render=function(t){var e=d["default"].create("DIV","tui-chart "+this.className),i=this.componentManager,n=this.dataProcessor,o=n.getLegendVisibility(),r=p["default"].filterCheckedRawData(n.rawData,o),s=i.drawingToolPicker.getPaper(e,a["default"].COMPONENT_TYPE_RAPHAEL);this.dataProcessor.initData(r),s.changeChartBackgroundColor(this.theme.chart.background.color),s.changeChartBackgroundOpacity(this.theme.chart.background.opacity),g["default"].renderFontFamily(e,this.theme.chart.fontFamily),d["default"].append(t,e);var u=this.readyForRender();g["default"].renderDimension(e,u.dimensionMap.chart),i.render("render",u,{checkedLegends:o},e),this.chartContainer=e,this.paper=s},t.prototype.rerender=function(t,e){var i=this.dataProcessor;e||(e=p["default"].filterCheckedRawData(i.getZoomedRawData(),t)),this.dataProcessor.initData(e);var n=this.readyForRender();this.componentManager.render("rerender",n,{checkedLegends:t},this.chartContainer)},t.prototype.onChangeCheckedLegends=function(t,e,i){this.rerender(t,e,i)},t.prototype.animateChart=function(){this.componentManager.execute("animateComponent")},t.prototype.on=function(t,e){a["default"].PUBLIC_EVENT_MAP[t]&&this.eventBus.on(a["default"].PUBLIC_EVENT_PREFIX+t,e)},t.prototype.off=function(t,e){a["default"].PUBLIC_EVENT_MAP[t]&&this.eventBus.off(a["default"].PUBLIC_EVENT_PREFIX+t,e)},t.prototype._updateChartDimension=function(t){var e=!1,i=this.options;return i.chart=i.chart||{},t.width&&t.width>0&&i.chart.width!==t.width&&(i.chart.width=t.width,e=!0),t.height&&t.height>0&&i.chart.height!==t.height&&(i.chart.height=t.height,e=!0),e},t.prototype.resize=function(t){var e=this.dataProcessor,i=e.getLegendVisibility();if(t){var n=this._updateChartDimension(t);if(n){var o=this.readyForRender(),r=o.dimensionMap.chart;g["default"].renderDimension(this.chartContainer,r),this.paper.resizeBackground(r.width,r.height),this.componentManager.render("resize",o,{checkedLegends:i})}}},t.prototype.setTooltipAlign=function(t){this.componentManager.get("tooltip").setAlign(t)},t.prototype.setTooltipOffset=function(t){this.componentManager.get("tooltip").setOffset(t)},t.prototype.setTooltipPosition=function(t){this.componentManager.get("tooltip").setPosition(t)},t.prototype.resetTooltipAlign=function(){this.componentManager.get("tooltip").resetAlign()},t.prototype.resetTooltipOffset=function(){this.componentManager.get("tooltip").resetOffset()},t.prototype.resetTooltipPosition=function(){this.resetTooltipOffset()},t.prototype.showSeriesLabel=function(){var t=this.componentManager.where({componentType:"series"});t.forEach(function(t){t.showLabel()})},t.prototype.hideSeriesLabel=function(){var t=this.componentManager.where({componentType:"series"});t.forEach(function(t){t.hideLabel()})},t.prototype.addData=function(){},t.prototype.addPlotLine=function(){},t.prototype.addPlotBand=function(){},t.prototype.removePlotLine=function(){},t.prototype.removePlotBand=function(){},t.prototype._getSeriesData=function(t,e,i){var n={index:t,seriesIndex:e,outlierIndex:i};return e<0?null:this.componentManager.get("mouseEventDetector").findDataByIndexes(n)},t.prototype._findSeriesIndexByLabel=function(t,e){for(var i=this.dataProcessor.getLegendLabels(t),n=i?i.length:0,o=-1,r=0;r<n;r+=1)if(i[r]===e){o=r;break}return o},t.prototype._findDataByIndexes=function(t,e){return this.componentManager.get("mouseEventDetector").findDataByIndexes(t,e)},t.prototype.showTooltip=function(t){var e=void 0,i=void 0;if(x["default"].isSupportPublicShowTooptipAPI(this.chartType)){var n=this.options.tooltip&&this.options.tooltip.grouped,o=this.componentManager.get("mouseEventDetector");n?i={indexes:{groupIndex:t.index}}:(e=this._findSeriesIndexByLabel(t.chartType,t.legend),i=this._getSeriesData(t.index,e,t.outlierIndex)),i?(i.silent=!0,o._showTooltip(i)):this.hideTooltip()}},t.prototype.hideTooltip=function(){if(x["default"].isSupportPublicShowTooptipAPI(this.chartType)){var t=this.options.tooltip&&this.options.tooltip.grouped,e=this.componentManager.get("mouseEventDetector");(t&&e.prevIndex>=0||!t&&e.prevFoundData)&&e._hideTooltip({silent:!0})}},t}();e["default"]=D},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(u){o=!0,r=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=i(335),s=n(a),u=i(336),l=n(u),c=i(372),h=n(c),p=i(373),f=n(p),d=i(374),y=n(d),g=i(375),m=n(g),_=i(377),v=n(_),T=i(366),b=n(T),x=i(383),E=n(x),A=i(385),D=n(A),S=i(386),M=n(S),L=i(387),C=n(L),w=i(393),P=n(w),O=i(395),R=n(O),I=i(396),k=n(I),B=i(400),N=n(B),F=i(407),G=n(F),H=i(411),V=n(H),j=i(412),z=n(j),W=i(414),Y=n(W),U=i(415),X=n(U),Z=i(416),K=n(Z),q=i(418),J=n(q),Q=i(419),$=n(Q),tt=i(420),et=n(tt),it=i(421),nt=n(it),ot=i(422),rt=n(ot),at=i(424),st=n(at),ut=i(425),lt=n(ut),ct=i(426),ht=n(ct),pt=i(333),ft=n(pt),dt={axis:h["default"],plot:f["default"],radialPlot:m["default"],legend:E["default"],spectrumLegend:D["default"],circleLegend:M["default"],tooltip:C["default"],groupTooltip:P["default"],mapChartTooltip:R["default"],mapChartEventDetector:k["default"],mouseEventDetector:N["default"],barSeries:G["default"],columnSeries:V["default"],lineSeries:z["default"],radialSeries:Y["default"],areaSeries:X["default"],bubbleSeries:K["default"],scatterSeries:J["default"],mapSeries:$["default"],pieSeries:et["default"],heatmapSeries:nt["default"],treemapSeries:rt["default"],boxplotSeries:st["default"],bulletSeries:lt["default"],zoom:ht["default"],chartExportMenu:v["default"],title:y["default"]},yt=function(){function t(e){o(this,t);var i=e.options.chart,n=ft["default"].pick(i,"width")||s["default"].CHART_DEFAULT_WIDTH,r=ft["default"].pick(i,"height")||s["default"].CHART_DEFAULT_HEIGHT;this.components=[],this.componentMap={},this.theme=e.theme||{},this.options=e.options||{},this.dataProcessor=e.dataProcessor,this.hasAxes=e.hasAxes,this.isVertical=e.isVertical,this.eventBus=e.eventBus,this.drawingToolPicker=new b["default"],this.drawingToolPicker.initDimension({width:n,height:r}),this.seriesTypes=e.seriesTypes}return t.prototype._makeComponentOptions=function(t,e,i,n){return t=t||this.options[e],t=ft["default"].isArray(t)?t[n]:t||{}},t.prototype.register=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=void 0,o=i.index||0,r=dt[e],a=r.componentType;i.name=t,i.chartTheme=this.theme,i.chartOptions=this.options,i.seriesTypes=this.seriesTypes,n="axis"===a?t:a,i.theme=this.theme[n],i.options=this.options[n],i.theme||"rightYAxis"!==n||(i.theme=this.theme.yAxis),i.options||"rightYAxis"!==n||(i.options=this.options.yAxis),"series"===n&&this.seriesTypes.forEach(function(e){return 0!==t.indexOf(e)||(i.options=i.options[e]||i.options,i.theme=i.theme[e],ft["default"].isArray(i.options)&&(i.options=i.options[o]||{}),!1)}),i.dataProcessor=this.dataProcessor,i.hasAxes=this.hasAxes,i.isVertical=this.isVertical,i.eventBus=this.eventBus,i.alternativeModel=this.alternativeModel;var s=r(i);s&&(s.componentName=t,s.componentType=a,this.components.push(s),this.componentMap[t]=s)},t.prototype._makeDataForRendering=function(t,e,i,n,o){var r=Object.assign({paper:i},o);return n&&(Object.assign(r,n),r.layout={dimension:r.dimensionMap[t]||r.dimensionMap[e],position:r.positionMap[t]||r.positionMap[e]}),r},t.prototype.render=function(t,e,i,n){var o=this,r=this.components.map(function(r){var a=null;if(r[t]){var s=r.componentName,u=r.componentType,l=o.drawingToolPicker.getPaper(n,r.drawingType),c=o._makeDataForRendering(s,u,l,e,i),h=r[t](c);h&&!h.paper&&(a=h)}return a});n&&l["default"].append(n,r)},t.prototype.where=function(t){return this.components.filter(function(e){var i=!0;return Object.entries(t).forEach(function(t){var n=r(t,2),o=n[0],a=n[1];return e[o]!==a&&(i=!1),i}),i})},t.prototype.execute=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];this.components.forEach(function(e){e[t]&&e[t].apply(e,i)})},t.prototype.get=function(t){return this.componentMap[t]},t.prototype.has=function(t){return!!this.get(t)},t}();e["default"]=yt},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){var e=t.chartOptions,i=t.name,n=t.theme,o=t.seriesTypes,r=e.chartType,a=e.series;return t.isYAxis="yAxis"===i||"rightYAxis"===i,t.shifting=a.shifting,"combo"===r?t.isYAxis?t.theme=n[o[0]]:"rightYAxis"===i&&(t.componentType="yAxis",t.theme=n[o[1]],t.index=1):t.isYAxis?t.theme=n[r]:t.theme=n,new b(t)}e.__esModule=!0,e["default"]=r;var a=i(335),s=n(a),u=i(342),l=n(u),c=i(351),h=n(c),p=i(360),f=n(p),d=i(334),y=n(d),g=i(333),m=n(g),_=s["default"].AXIS_EDGE_RATIO,v=s["default"].X_AXIS_LABEL_PADDING,T=s["default"].COMPONENT_TYPE_RAPHAEL,b=function(){function t(e){o(this,t),this.className="tui-chart-axis-area",this.dataProcessor=e.dataProcessor,this.options=e.options||{},this.theme=m["default"].extend({},e.theme,{background:e.chartTheme.chart.background}),this.isLabelAxis=!1,this.isYAxis=e.isYAxis,this.shifting=e.shifting,this.data={},this.layout=null,this.dimensionMap=null,this.axisDataMap=null,this.graphRenderer=f["default"].get(T,"axis"),this.drawingType=T,this.paperAdditionalWidth=0,this.paperAdditionalHeight=0,this._elBg=null,this.isRightYAxis="rightYAxis"===e.name}return t.prototype._renderBackground=function(){var t=Object.assign({},this.layout.dimension),e=Object.assign({},this.layout.position);this._elBg&&this._elBg.remove(),this._elBg=this.graphRenderer.renderBackground(this.paper,e,t,this.theme.background)},t.prototype._renderChildContainers=function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=this.isYAxis&&this.data.aligned,r=this.limitMap[this.dataProcessor.chartType],a=!this.data.limit&&r&&r.min<0,s=l["default"].isBarTypeChart(this.dataProcessor.chartType),u=this.dataProcessor.getOption("series")||{},c=u.diverging;this.isYAxis&&!this.data.isPositionRight&&!this.options.isCenter&&this.shifting&&this._renderBackground(),this._renderTitleArea(t,n),this.options.showLabel!==!1&&this._renderLabelArea(t,e,i,n),o||this._renderTickArea(t,e,n),a&&s&&!c&&this._renderNegativeStandardsLine(t,n,this.dimensionMap.series,r)},t.prototype._renderDividedAxis=function(t){var e=t.width,i=this.data,n=i.tickCount,o=i.labels,r=Math.round(e/2),a=e-r-1,s=parseInt(n/2,10)+1,u=o.slice(0,s),l=o.slice(s-1,n),c=r/s,h=r+this.dimensionMap.yAxis.width-1;this.paperAdditionalWidth=c,this._renderChildContainers(r,s,u,0),this._renderChildContainers(a+1,s,l,h)},t.prototype._renderNotDividedAxis=function(t){var e=t.width,i=t.height,n=this.data,o=n.positionRatio,r=n.tickCount,a=n.labels,s=this.isYAxis,u=s?i:e,l=0;o&&(l=u*o),this._renderChildContainers(u,r,a,l)},t.prototype._renderAxisArea=function(){var t=this.layout.dimension,e=this.data.isLabelAxis,i=this.options,n=i.divided,o=i.isCenter,r=t.width;this.isLabelAxis=e,n?(this.containerWidth=r+this.dimensionMap.yAxis.width,this._renderDividedAxis(t),r=this.containerWidth):(r+=o?1:0,this._renderNotDividedAxis(t))},t.prototype._setDataForRendering=function(t){var e=t.layout,i=t.dimensionMap,n=t.limitMap,o=t.axisDataMap;this.layout=e,this.dimensionMap=i,this.limitMap=n,this.data=o[this.componentName],this.options=this.data.options},t.prototype.render=function(t){var e=t.paper;this.paper=e,this.axisSet=e.set(),this._setDataForRendering(t),this._renderAxisArea()},t.prototype.rerender=function(t){this.axisSet.remove(),this.render(t)},t.prototype.resize=function(t){this.rerender(t)},t.prototype.zoom=function(t){this.rerender(t)},t.prototype._getOtherSideDimension=function(){return this.dimensionMap[this.isYAxis?"xAxis":"yAxis"]},t.prototype._renderTitleArea=function(t,e){var i=this.options.title,n=void 0===i?{}:i,o=this.dataProcessor.getOption("yAxis"),r=this.dataProcessor.getOption("series")||{};n.text&&this.graphRenderer.renderTitle(this.paper,{text:n.text,offset:n.offset,theme:this.theme.title,rotationInfo:{isVertical:this.isYAxis,isPositionRight:this.data.isPositionRight,isCenter:this.options.isCenter,isColumnType:l["default"].isColumnTypeChart(this.dataProcessor.chartType,this.dataProcessor.seriesTypes),isDiverging:r.diverging,isYAxisCenter:o&&"center"===o.align},layout:this.layout,areaSize:t,additionalWidth:e,otherSideDimension:this._getOtherSideDimension(),tickCount:this.data.tickCount,set:this.axisSet})},t.prototype._renderTickLine=function(t,e,i){this.graphRenderer.renderTickLine({areaSize:t,additionalSize:i,additionalWidth:this.paperAdditionalWidth,additionalHeight:this.paperAdditionalHeight,isPositionRight:this.data.isPositionRight,isCenter:this.data.options.isCenter,isNotDividedXAxis:e,isVertical:this.isYAxis,tickColor:this.theme.tickColor,layout:this.layout,paper:this.paper,set:this.axisSet})},t.prototype._renderTicks=function(t,e,i,n){var o=this.theme.tickColor,r=this.data,a=r.remainLastBlockInterval,s=r.sizeRatio,u=void 0===s?1:s,l=r.tickCount,c=r.isPositionRight,p=a?t:0,f=this.isYAxis,d=this.data.options,y=d.isCenter,g=d.divided,m=h["default"].makeTickPixelPositions(t*u,e,0,p),_=this.paperAdditionalHeight+1,v=this.paperAdditionalWidth,T=p?l+1:l;m.length=T,this.graphRenderer.renderTicks({paper:this.paper,layout:this.layout,positions:m,isVertical:f,isCenter:y,isDivided:g,additionalSize:n,additionalWidth:v,additionalHeight:_,otherSideDimension:this._getOtherSideDimension(),isPositionRight:c,tickColor:o,set:this.axisSet})},t.prototype._renderNegativeStandardsLine=function(t,e,i,n){this.graphRenderer.renderStandardLine({areaSize:t,isVertical:this.isYAxis,layout:this.layout,paper:this.paper,set:this.axisSet,seriesDimension:i,axisLimit:n})},t.prototype._renderTickArea=function(t,e,i){var n=!this.isYAxis&&!this.options.divided;this._renderTickLine(t,n,i||0),this._renderTicks(t,e,n,i||0)},t.prototype._renderLabelArea=function(t,e,i,n){var o=this.data,r=o.sizeRatio,a=void 0===r?1:r,s=o.remainLastBlockInterval,u=s?t:0,l=h["default"].makeTickPixelPositions(t*a,e,0,u),c=l[1]-l[0];this._renderLabels(l,i,c,n||0)},t.prototype._renderRotationLabels=function(t,e,i,n){var o=this,r=this.graphRenderer,a=this.isYAxis,s=this.theme.label,u=this.data.degree,l=i/2,c=i/_,h=this.layout.position,p=h.top,f=h.left,d=p+v,y=f,g=this.options.labelMargin||0;t.forEach(function(t,h){var p=t+(n||0),f={};a?(f.top=p+l,f.left=i+g):(f.top=d+g,f.left=y+p+c),r.renderRotatedLabel({degree:u,labelText:e[h],paper:o.paper,positionTopAndLeft:f,set:o.axisSet,theme:s})},this)},t.prototype._renderNormalLabels=function(t,e,i,n){var o=this,r=this.graphRenderer,a=this.isYAxis,s=this.isLabelAxis,u=this.dataProcessor,c=this.layout,h=this.data.isPositionRight,p=this.theme.label,f=this.options,d=f.labelMargin,g=void 0===d?0:d,m=f.pointOnColumn,_=f.isCenter,v=l["default"].isLineTypeChart(u.chartType,u.seriesTypes),T=v&&m,b=l["default"].isAutoTickInterval(this.options.tickInterval);t.forEach(function(u,l){var f=u+n,d=i/2,m=o._isOverLapXAxisLabel(e[l],u,t[l+1]),x={};f<0||!a&&b&&m||(x=a?o._getYAxisLabelPosition(c,{labelPosition:f,isCategoryLabel:s,halfLabelDistance:d,isPositionRight:h}):o._getXAxisLabelPosition(c,{labelMargin:g,labelHeight:y["default"].getRenderedLabelsMaxHeight(e,p),labelPosition:f,isCategoryLabel:s,isLineTypeChart:v,isPointOnColumn:T,halfLabelDistance:d}),x.top=Math.round(x.top),x.left=Math.round(x.left),r.renderLabel({isPositionRight:h,isVertical:a,isCenter:_,labelSize:i,labelText:e[l],paper:o.paper,positionTopAndLeft:x,set:o.axisSet,theme:p}))},this)},t.prototype._isOverLapXAxisLabel=function(t,e,i){var n=y["default"].getRenderedLabelWidth(t);return!m["default"].isUndefined(i)&&i-e<n},t.prototype._getYAxisLabelPosition=function(t,e){var i=void 0,n=e.labelPosition;return e.isCategoryLabel?n+=e.halfLabelDistance+t.position.top:n=t.dimension.height+t.position.top-n,i=e.isPositionRight?t.position.left+t.dimension.width:this.options.isCenter?t.position.left+t.dimension.width/2:t.position.left,{top:n,left:i}},t.prototype._getXAxisLabelPosition=function(t,e){var i=h["default"].sum([t.position.top,v,e.labelMargin,e.labelHeight/2]),n=e.labelPosition+t.position.left;return e.isCategoryLabel&&(e.isLineTypeChart&&!e.isPointOnColumn||(n+=e.halfLabelDistance)),{top:i,left:n}},t.prototype._renderLabels=function(t,e,i,n){var o=this.options,r=o.rotateLabel,a=o.prefix,s=o.suffix,u=this.data,l=u.degree,c=u.multilineLabels,h=!this.isYAxis&&this.isLabelAxis&&r===!1,p="xAxis"===this.componentName&&l,f=void 0;f=h?c:e,f.length&&(t.length=f.length),f=y["default"].addPrefixSuffix(f,a,s),p?this._renderRotationLabels(t,f,i,n):this._renderNormalLabels(t,f,i,n)},t.prototype.animateForAddingData=function(t){this.isYAxis||this.graphRenderer.animateForAddingData(t.tickSize)},t}();r.componentType="axis",r.Axis=b},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){return t.start-e.start}function a(t){var e=t.seriesTypes,i=t.chartOptions,n=i.chartType,o=i.xAxis.type;return t.chartType=n,t.chartTypes=e,t.xAxisTypeOption=o,new g(t)}e.__esModule=!0;var s=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(u){o=!0,r=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e["default"]=a;var u=i(335),l=n(u),c=i(342),h=n(c),p=i(351),f=n(p),d=i(333),y=n(d),g=function(){function t(e){o(this,t),this.className="tui-chart-plot-area",this.dataProcessor=e.dataProcessor,this.options=e.options||{},this.options.showLine=!!y["default"].isUndefined(this.options.showLine)||this.options.showLine,this.options.lines=this.options.lines||[],this.options.bands=this.options.bands||[],this.xAxisTypeOption=e.xAxisTypeOption,this.theme=e.theme||{},this.chartType=e.chartType,this.chartTypes=e.chartTypes,this.layout=null,this.axisDataMap=null,this.drawingType=l["default"].COMPONENT_TYPE_RAPHAEL}return t.prototype._renderPlotArea=function(t){var e=this.layout.dimension;h["default"].isLineTypeChart(this.chartType,this.chartTypes)&&this._renderOptionalLines(t,e),this.options.showLine&&this._renderPlotLines(t,e)},t.prototype._setDataForRendering=function(t){t&&(this.layout=t.layout,this.dimensionMap=t.dimensionMap,this.axisDataMap=t.axisDataMap,this.paper=t.paper)},t.prototype.render=function(t){var e=t&&t.paper||this.paper;this.plotSet=e.set(),this.additionalPlotSet=e.set(),
this._setDataForRendering(t),this._renderPlotArea(this.paper),this.additionalPlotSet.toBack(),this.plotSet.toBack(),e.pushDownBackgroundToBottom()},t.prototype.rerender=function(t){this.additionalPlotSet.remove(),this.plotSet.remove(),this.render(t)},t.prototype.resize=function(t){this.rerender(t)},t.prototype.zoom=function(t){this.rerender(t)},t.prototype._makeVerticalLineTemplateParams=function(t){return y["default"].extend({className:"vertical",positionType:"left",width:"1px"},t)},t.prototype._makeHorizontalLineTemplateParams=function(t){return y["default"].extend({className:"horizontal",positionType:"bottom",height:"1px"},t)},t.prototype._renderLine=function(t,e){var i=this.layout,n=i.position.top,o=i.dimension.height,r="M"+t+","+n+"V"+(n+o),a=this.paper.path(r);return a.attr({opacity:e.opacity||1,stroke:e.color}),this.additionalPlotSet.push(a),a},t.prototype._renderBand=function(t,e,i){var n=this.layout,o=n.position,r=n.dimension,a=r.width-t+o.left,s=e<0?a:e,u=this.paper.rect(t,o.top,s,r.height);return u.attr({fill:i.color,opacity:i.opacity||1,stroke:i.color}),this.additionalPlotSet.push(u),u},t.prototype._createOptionalLineValueRange=function(t){var e=t.range||[t.value];return h["default"].isDatetimeType(this.xAxisTypeOption)&&(e=e.map(function(t){var e=new Date(t);return e.getTime()||t})),e},t.prototype._createOptionalLinePosition=function(t,e,i){var n=t.dataMin,o=t.distance,r=(i-n)/o,a=r*e;return 1===r&&(a-=1),a<0&&(a=null),a},t.prototype._createOptionalLinePositionWhenLabelAxis=function(t,e){var i=this.dataProcessor,n=i.findCategoryIndex(e),o=null,r=void 0;return y["default"].isNull(n)||(r=0===n?0:n/(i.getCategoryCount()-1),o=r*t),1===r&&(o-=1),o},t.prototype._createOptionalLinePositionMap=function(t,e,i){var n=this.dataProcessor.getCategories(),o=this._createOptionalLineValueRange(t),r=void 0,a=void 0;return e.isLabelAxis?(r=this._createOptionalLinePositionWhenLabelAxis(i,o[0]),a=this._createOptionalLinePositionWhenLabelAxis(i,o[1])):(r=this._createOptionalLinePosition(e,i,o[0]),a=o[1]&&this._createOptionalLinePosition(e,i,o[1])),y["default"].isNull(r)&&(r=this._isBeforeVisibleCategories(o[0],n[0])?0:-1),y["default"].isNull(a)&&(a=this._isAfterVisibleCatgories(o[1],n[n.length-1])?i:-1),{start:r,end:a}},t.prototype._isBeforeVisibleCategories=function(t,e){var i=this.dataProcessor;if(!y["default"].isExisty(t))return!1;if(h["default"].isDatetimeType(this.xAxisTypeOption))return t<e;var n=i.findAbsoluteCategoryIndex(t),o=i.findAbsoluteCategoryIndex(e);return n>=0&&n<o},t.prototype._isAfterVisibleCatgories=function(t,e){var i=this.dataProcessor;if(!y["default"].isExisty(t))return!1;if(h["default"].isDatetimeType(this.xAxisTypeOption))return t>e;var n=i.findAbsoluteCategoryIndex(t),o=i.findAbsoluteCategoryIndex(e);return n>=0&&n>o},t.prototype._renderOptionalLine=function(t,e,i,n){var o=this._createOptionalLinePositionMap(n,t,e),r=void 0;return o.start>=0&&o.start<=e&&(i.width=1,i.color=n.color||"transparent",i.opacity=n.opacity,r=this._renderLine(o.start+this.layout.position.left,i)),r},t.prototype._makeOptionalBand=function(t,e,i,n){var o=this,a=n.range;a&&a.length&&this._makeRangeTo2DArray(n);var s=n.range.map(function(i){return o._createOptionalLinePositionMap({range:i},t,e)});return n.mergeOverlappingRanges&&(s.sort(r),s=this._mergeOverlappingPositionMaps(s)),s.map(function(t){var r=t.start>=0&&t.start<=e,a=void 0;if(r&&t.end>=0){i.color=n.color||"transparent",i.opacity=n.opacity;var s=t.end-t.start;a=o._renderBand(t.start+o.layout.position.left,s,i)}return a},this)},t.prototype._makeOptionalLines=function(t,e){var i=e.width,n=e.height,o=this.axisDataMap.xAxis,r=this._makeVerticalLineTemplateParams({height:n+"px"}),a=this._renderOptionalLine.bind(this,o,i,r);return t.map(a)},t.prototype._makeOptionalBands=function(t,e){var i=e.width,n=e.height,o=this.axisDataMap.xAxis,r=this._makeVerticalLineTemplateParams({height:n+"px"}),a=this._makeOptionalBand.bind(this,o,i,r);return t.map(a)},t.prototype._renderOptionalLines=function(t,e){this.optionalBands=this._makeOptionalBands(this.options.bands,e),this.optionalLines=this._makeOptionalLines(this.options.lines,e)},t.prototype._renderVerticalLines=function(t){var e=this,i=t.width,n=this._makeHorizontalPositions(i),o=this.layout,r=this.theme.lineColor,a=o.position,s=a.top,u=a.left;n.forEach(function(t){var i="M"+(t+u)+","+s+"V"+(s+o.dimension.height),n=e.paper.path(i);n.attr({stroke:r,"stroke-width":1,"stroke-opacity":.05}),e.plotSet.push(n)})},t.prototype._renderHorizontalLines=function(t){var e=this,i=t.height,n=this._makeVerticalPositions(i),o=this.layout,r=this.theme.lineColor,a=o.position,s=a.left,u=a.top,l=n[1]-n[0];n.forEach(function(t,i){var n="M"+s+","+(l*i+u)+"H"+(s+o.dimension.width),a=e.paper.path(n);a.attr({stroke:r,"stroke-width":1,"stroke-opacity":.05}),e.plotSet.push(a)})},t.prototype._renderPlotLines=function(t,e){this.options.hideLine||(this._renderVerticalLines(e),this._renderHorizontalLines(e))},t.prototype._makeVerticalPositions=function(t){var e=this.axisDataMap,i=e.yAxis||e.rightYAxis,n=f["default"].makeTickPixelPositions(t,i.validTickCount);return n.shift(),n},t.prototype._makeDividedPlotPositions=function(t,e){var i=this.dimensionMap.yAxis.width;e=parseInt(e/2,10)+1,t-=i;var n=Math.round(t/2),o=t-n,r=f["default"].makeTickPixelPositions(n,e),a=f["default"].makeTickPixelPositions(o,e,n+i);return r.pop(),a.shift(),r.concat(a)},t.prototype._makeHorizontalPositions=function(t){var e=this.axisDataMap.xAxis.validTickCount,i=void 0;return this.options.divided?i=this._makeDividedPlotPositions(t,e):(i=f["default"].makeTickPixelPositions(t,e),i.shift()),i},t.prototype.addPlotLine=function(t){this.options.lines.push(t),this.rerender()},t.prototype.addPlotBand=function(t){this.options.bands.push(t),this.rerender()},t.prototype.removePlotLine=function(t){this.options.lines=this.options.lines.filter(function(e){return e.id!==t}),this.rerender()},t.prototype.removePlotBand=function(t){this.options.bands=this.options.bands.filter(function(e){return e.id!==t}),this.rerender()},t.prototype.animateForAddingData=function(t){var e=this,i=this.options.lines,n=this.options.bands;this.dataProcessor.isCoordinateType()||t.shifting&&(this._animateItemForAddingData(this.optionalLines,t,function(t){i.splice(t,1)}),this.optionalBands.forEach(function(i,o){e._animateItemForAddingData(i,t,function(t){n[o].range.splice(t,1)})}))},t.prototype._animateItemForAddingData=function(t,e,i){var n=this;t.forEach(function(t,o){var r=t.getBBox();r.x-e.tickSize<n.layout.position.left?t.animate({transform:"T-"+e.tickSize+",0",opacity:0},300,"linear",function(){i(o),t.remove()}):t.animate({transform:"T-"+e.tickSize+",0"},300)})},t.prototype._makeRangeTo2DArray=function(t){var e=t.range,i=e&&y["default"].isArray(e)&&(0===e.length||!y["default"].isArray(e[0]));i&&(t.range=[e])},t.prototype._mergeOverlappingPositionMaps=function(t){var e=t.length,i=void 0,n=void 0;if(e){i=[t[0]];var o=i,r=s(o,1);n=r[0]}for(var a=1;a<e;a+=1){var u=t[a];u.start<=n.end?n.end=Math.max(u.end,n.end):(i.push(u),n=u)}return i},t}();a.componentType="plot",a.Plot=g},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){var e=t.chartOptions.chart||{title:{}},i=null;return e.title&&e.title.text&&(t.text=e.title.text,t.offset=e.title.offset,t.align=e.title.align,i=new c(t)),i}e.__esModule=!0,e["default"]=r;var a=i(335),s=n(a),u=i(360),l=n(u),c=function(){function t(e){o(this,t),this.theme=e.theme||{},this.titleText=e.text,this.offset=e.offset,this.align=e.align,this.graphRenderer=l["default"].get(s["default"].COMPONENT_TYPE_RAPHAEL,"title"),this.drawingType=s["default"].COMPONENT_TYPE_RAPHAEL}return t.prototype.render=function(t){this.titleSet=this._renderTitleArea(t)},t.prototype.resize=function(t){var e=t.dimensionMap,i=e.legend?e.legend.width:0,n=e.series.width+i;this.graphRenderer.resize(n,this.titleSet)},t.prototype.rerender=function(t){this.titleSet.remove(),this.render(t)},t.prototype._renderTitleArea=function(t){var e=t.paper,i=t.dimensionMap,n=this._calculateForTitleAreaWidth(i);return this.graphRenderer.render({paper:e,titleText:this.titleText,offset:this.offset,theme:this.theme,align:this.align,chartTitleAreaWidth:n})},t.prototype._calculateForTitleAreaWidth=function(t){var e=t.chartExportMenu,i=t.chart,n=e?2*e.width:0;return i.width-n},t}();r.componentType="title",r.Title=c},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){for(var e=t.width,i=t.height,n=t.centerX,o=t.centerY,r=t.angleStepCount,a=t.stepCount,s=Math.min(e,i)/2,u=360/r,c=[],h=s/(a-1),p=0;p<a;p+=1){for(var f=[],d=o+h*p,y=0;y<r;y+=1){var g=l["default"].rotatePointAroundOrigin(n,o,n,d,u*y);f.push({left:g.x,top:i-g.y})}f.push(f[0]),c[p]=f}return c}function a(t){for(var e=t.width,i=t.height,n=t.centerX,o=t.centerY,r=t.angleStepCount,a=Math.min(i,e)/2,s=360/r,u=[],c=o+a,h=0;h<r;h+=1){var p=360-s*h,f=l["default"].rotatePointAroundOrigin(n,o,n,c,p),d=void 0;d=p>0&&p<180?"end":p>180&&p<360?"start":"middle",u.push({left:f.x,top:i-f.y,anchor:d})}return u}function s(t){return new x(t)}e.__esModule=!0,e["default"]=s;var u=i(376),l=n(u),c=i(351),h=n(c),p=i(335),f=n(p),d=i(360),y=n(d),g=i(333),m=n(g),_=f["default"].COMPONENT_TYPE_RAPHAEL,v=f["default"].RADIAL_PLOT_PADDING,T=f["default"].RADIAL_MARGIN_FOR_CATEGORY,b=f["default"].RADIAL_CATEGORY_PADDING,x=function(){function t(e){o(this,t),this.className="tui-chart-plot-area",this.options=m["default"].extend({type:"spiderweb"},e.options),this.theme=e.theme||{},this.graphRenderer=y["default"].get(_,"radialPlot"),this.drawingType=_}return t.prototype._renderPlotArea=function(t,e,i,n){var o={paper:t,layout:e,plotPositions:i,labelData:n,theme:this.theme,options:this.options};return this.graphRenderer.render(o)},t.prototype._makePositions=function(t,e){var i=e.dimension,n=e.position,o=n.left,a=n.top,s=i.width,u=i.height;s=s-v-T,u=u-v-T;var l=h["default"].sum([s/2,v/2,T/2,o]),c=u/2-v/2-T/2-a,p=t.yAxis.tickCount,f=t.xAxis.labels.length;return r({width:s,height:u,centerX:l,centerY:c,angleStepCount:f,stepCount:p})},t.prototype._makeCategoryPositions=function(t,e){var i=e.dimension,n=e.position,o=n.left,r=n.top,s=i.width,u=i.height;s=s-v-b,u=u-v-b;var l=h["default"].sum([s/2,v/2,b/2,o]),c=u/2-v/2-b/2-r,p=t.xAxis.labels.length;return a({width:s,height:u,centerX:l,centerY:c,angleStepCount:p})},t.prototype._makeLabelData=function(t,e,i){for(var n=t.xAxis.labels,o=t.yAxis.labels,r=this._makeCategoryPositions(t,e),a=[],s=[],u=0;u<n.length;u+=1)a.push({text:n[u],position:r[u]});for(var l=0;l<o.length-1;l+=1)s.push({text:o[l],position:i[l][0]});return{category:a,step:s}},t.prototype.render=function(t){var e=t.axisDataMap,i=t.layout,n=t.paper,o=this._makePositions(e,i),r=this._makeLabelData(e,i,o);this.plotSet=this._renderPlotArea(n,i,o,r)},t.prototype.rerender=function(t){this.plotSet.remove(),this.render(t)},t.prototype.resize=function(t){this.rerender(t)},t}();s.componentType="plot",s.RadialPlot=x},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,i,n,o){var r=o*(Math.PI/180),a=(i-t)*Math.cos(r)-(n-e)*Math.sin(r),s=(i-t)*Math.sin(r)+(n-e)*Math.cos(r);return a+=t,s+=e,{x:a,y:s}}function r(t,e){return Math.cos(t*c["default"].RAD)*e}function a(t,e){return Math.sin(t*c["default"].RAD)*e}function s(t,e,i){var n=r(t,e/2),o=r(c["default"].ANGLE_90-t,i/2);return 2*(n+o)}function u(t,e,i){var n=a(t,e/2),o=a(c["default"].ANGLE_90-t,i/2);return 2*(n+o)}e.__esModule=!0;var l=i(335),c=n(l);e["default"]={rotatePointAroundOrigin:o,calculateAdjacent:r,calculateRotatedHeight:u,calculateRotatedWidth:s,calculateOpposite:a}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){var e=t.options.visible,i=t.chartOptions.chart,n=void 0===i?{}:i,o=t.chartOptions.chartExportMenu,r=null;return n.title&&(t.chartTitle=n.title.text),o&&o.filename&&(t.exportFilename=o.filename),e&&(r=new M(t)),r}e.__esModule=!0;var a=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(u){o=!0,r=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e["default"]=r;var s=i(335),u=n(s),l=i(378),c=n(l),h=i(336),p=n(h),f=i(382),d=n(f),y=i(342),g=n(y),m=i(334),_=n(m),v=["xls","csv","png","jpeg"],T="menu-opened",b=u["default"].CLASS_NAME_CHART_EXPORT_MENU_BUTTON,x=u["default"].CLASS_NAME_CHART_EXPORT_MENU,E=u["default"].CLASS_NAME_CHART_EXPORT_MENU_HEAD,A=u["default"].CLASS_NAME_CHART_EXPORT_MENU_BODY,D=u["default"].CLASS_NAME_CHART_EXPORT_MENU_ITEM,S=u["default"].COMPONENT_TYPE_DOM,M=function(){function t(e){o(this,t),this.className="tui-chart-chartExportMenu-area",this.dataProcessor=e.dataProcessor,this.chartTitle=e.chartTitle||"tui-chart",this.exportFilename=e.exportFilename||this.chartTitle,this.chartType=e.chartType,this.layout=null,this.chartExportMenuContainer=null,this.chartExportMenu=null,this.options=e.options,this.eventBus=e.eventBus,this.drawingType=S,this.theme=e.theme||null}return t.prototype._createChartExportMenuButton=function(){var t=p["default"].create("div",b);return this.options.buttonClass&&p["default"].addClass(t,this.options.buttonClass),t},t.prototype._renderChartExportMenuArea=function(t){var e=this._createChartExportMenuButton(),i=this.layout.dimension;t.appendChild(e),_["default"].renderDimension(t,i),_["default"].renderPosition(t,this.layout.position)},t.prototype._renderChartExportMenu=function(t){var e=this.dataProcessor.seriesDataModelMap,i=this.isDataDownloadAvailable(e),n=c["default"].isDownloadSupported,o=c["default"].isImageExtension,r=c["default"].isImageDownloadAvailable,a=p["default"].create("ul",x),s=p["default"].create("li",E),u=p["default"].create("li",A),l=a.style,h=this.theme,f=h.borderWidth,d=h.borderRadius,y=h.backgroundColor,g=h.color,m=[];n&&(i||r)?m=v.map(function(t){var e=void 0;return(!o(t)&&i||o(t)&&r)&&(e=p["default"].create("li",D),e.id=t,e.innerHTML=t),e}):(l.width="200px",m[0]=p["default"].create("li",D),m[0].innerHTML="Browser does not support client-side download."),this.theme&&(f&&(l.borderWidth=f),d&&(l.borderRadius=d),y&&(l.backgroundColor=y),g&&(l.color=g)),this.options.menuClass&&p["default"].addClass(a,this.options.menuClass),s.innerHTML="Export to",p["default"].append(u,m),p["default"].append(a,s),p["default"].append(a,u),this.chartExportMenu=a,p["default"].append(t,a)},t.prototype._setDataForRendering=function(t){t&&(this.layout=t.layout,this.dimensionMap=t.dimensionMap,this.axisDataMap=t.axisDataMap)},t.prototype.render=function(t){var e=null;return c["default"].isDownloadSupported&&(e=this.container=t.paper,p["default"].addClass(e,this.className),this._setDataForRendering(t),this._renderChartExportMenuArea(e),this._renderChartExportMenu(e),this.chartExportMenuContainer=e,this._attachEvent()),e},t.prototype.rerender=function(){this._hideChartExportMenu()},t.prototype.resize=function(){},t.prototype._showChartExportMenu=function(){p["default"].addClass(this.chartExportMenuContainer,T),this.chartExportMenu.style.display="block"},t.prototype._hideChartExportMenu=function(){this.chartExportMenuContainer&&(p["default"].removeClass(this.chartExportMenuContainer,T),this.chartExportMenu.style.display="none")},t.prototype._onClick=function(t){var e=t.target||t.srcElement,i=this.container.parentNode.getElementsByTagName("svg"),n=a(i,1),o=n[0];p["default"].hasClass(e,D)?(e.id&&(this.eventBus.fire("beforeImageDownload"),c["default"].exportChart(this.exportFilename,e.id,this.dataProcessor.rawData,o,this.options),this.eventBus.fire("afterImageDownload")),this._hideChartExportMenu()):p["default"].hasClass(e,b)&&this.chartExportMenuContainer===e.parentNode&&!p["default"].hasClass(this.chartExportMenuContainer,T)?this._showChartExportMenu():this._hideChartExportMenu()},t.prototype.isDataDownloadAvailable=function(t){var e=!0;return g["default"].isTreemapChart(this.chartType)?e=!1:Object.values(t).forEach(function(t){return t.isCoordinateType&&(e=!1),!1}),e},t.prototype._attachEvent=function(){d["default"].on(this.chartExportMenuContainer.parentNode,"click",this._onClick,this)},t.prototype._detachEvent=function(){d["default"].off(this.chartExportMenuContainer.parentNode,"click",this._onClick)},t}();r.componentType="chartExportMenu"},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){return u["default"].any(p["default"].getExtensions(),function(e){return t===e})}function r(t){return u["default"].any(c["default"].getExtensions(),function(e){return t===e})}function a(t,e,i,n,a){var s=a&&a[e]?a[e]:{};o(e)?p["default"].downloadImage(t,e,n):r(e)&&c["default"].downloadData(t,e,i,s)}e.__esModule=!0;var s=i(337),u=n(s),l=i(379),c=n(l),h=i(381),p=n(h),f=i(333),d=n(f),y=d["default"].browser,g=d["default"].isExisty,m=d["default"].isString,_=y.msie&&(10===y.version||11===y.version),v=!_||_&&document.createElement("canvas").getContext("2d").drawSvg,T=g(document.createElement("a").download),b=window.Blob&&window.navigator.msSaveOrOpenBlob;e["default"]={exportChart:a,isDownloadSupported:T||b,isImageDownloadAvailable:v,isImageExtension:o,addExtension:function(t,e){var i=e&&m(e),n=void 0,o=void 0;"data"===t?n=c["default"]:"image"===t&&(n=p["default"]),n&&i&&(o=n.getExtensions(),o.push(e))}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function r(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function a(t){var e=[],i=t.categories&&A["default"].isExisty(t.categories.x),n=t.series&&A["default"].isExisty(t.series.bullet),o=!1;if(t){var a=void 0;if(i?o=p(t):n?o=c(t):t.categories&&(a=t.categories),o)return o;e.push([""].concat(a)),Object.values(t.series||{}).forEach(function(t){t.forEach(function(t){var i=A["default"].isArray(t.data)?t.data:[t.data];e.push([t.name].concat(r(i)))})})}return e}function s(t,e){for(var i=["",T["default"].BULLET_TYPE_ACTUAL],n=0;n<t;n+=1)i.push(T["default"].BULLET_TYPE_RANGE+n);for(var o=0;o<e;o+=1)i.push(T["default"].BULLET_TYPE_MARKER+o);return i}function u(t,e){for(var i=[],n=0;n<e;n+=1){var o="";if(t&&t[n]){var r=t[n].length>0?t[n][0]:"",a=t[n].length>1?t[n][1]:"";o=r+"~"+a}i.push(o)}return i}function l(t,e){for(var i=[],n=0;n<e;n+=1){var o=t&&t[n]?t[n]:"";i.push(o)}return i}function c(t){var e=[],i=h(t.series.bullet),n=i.maxRangeCount,o=i.maxMarkerCount;return e.push(s(n,o)),A["default"].forEach(t.series.bullet,function(t){var i=u(t.ranges,n),a=l(t.markers,o),s=[t.name,t.data].concat(r(i),r(a));e.push(s)}),e}function h(t){var e=0,i=0;return A["default"].forEach(t,function(t){e=Math.max(e,t.ranges.length),i=Math.max(i,t.markers.length)}),{maxRangeCount:e,maxMarkerCount:i}}function p(t){var e=[];return e.push([""].concat(r(t.categories.x))),A["default"].forEach(t.series,function(i){A["default"].forEach(i,function(i,n){var o=[t.categories.y[n]].concat(r(i));e.push(o)})}),e}function f(t){var e="<table>";return A["default"].forEach(t,function(t,i){var n=0===i?"th":"td";e+="<tr>",A["default"].forEach(t,function(t,o){var r=0!==i||0===o?' class="number"':"",a="<"+n+r+">"+t+"</"+n+">";e+=a}),e+="</tr>"}),e+="</table>"}function d(t){var e=x["default"].oneLineTrim(g,f(t));return e}function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.lineDelimiter,n=void 0===i?"\n":i,o=e.itemDelimiter,r=void 0===o?",":o,a=t.length-1,s="";return A["default"].forEachArray(t,function(t,e){var i=t.length-1;A["default"].forEachArray(t,function(t,e){var n=A["default"].isNumber(t)?t:'"'+t+'"';s+=n,e<i&&(s+=r)}),e<a&&(s+=n)}),s}e.__esModule=!0;var g=o(['<html xmlns:o="urn:schemas-microsoft-com:office:office" \n        xmlns:x="urn:schemas-microsoft-com:office:excel" \n        xmlns="http://www.w3.org/TR/REC-html40">\n        <head>\n            <!--[if gte mso 9]>\n                <xml>\n                    <x:ExcelWorkbook>\n                        <x:ExcelWorksheets>\n                            <x:ExcelWorksheet>\n                                <x:Name>Ark1</x:Name>\n                                <x:WorksheetOptions>\n                                    <x:DisplayGridlines/>\n                                </x:WorksheetOptions>\n                            </x:ExcelWorksheet>\n                        </x:ExcelWorksheets>\n                        </x:ExcelWorkbook>\n                </xml>\n            <![endif]-->\n            <meta name=ProgId content=Excel.Sheet>\n            <meta charset=UTF-8>\n        </head>\n        <body>\n            ',"\n        </body>\n        </html>"],['<html xmlns:o="urn:schemas-microsoft-com:office:office" \n        xmlns:x="urn:schemas-microsoft-com:office:excel" \n        xmlns="http://www.w3.org/TR/REC-html40">\n        <head>\n            <!--[if gte mso 9]>\n                <xml>\n                    <x:ExcelWorkbook>\n                        <x:ExcelWorksheets>\n                            <x:ExcelWorksheet>\n                                <x:Name>Ark1</x:Name>\n                                <x:WorksheetOptions>\n                                    <x:DisplayGridlines/>\n                                </x:WorksheetOptions>\n                            </x:ExcelWorksheet>\n                        </x:ExcelWorksheets>\n                        </x:ExcelWorkbook>\n                </xml>\n            <![endif]-->\n            <meta name=ProgId content=Excel.Sheet>\n            <meta charset=UTF-8>\n        </head>\n        <body>\n            ',"\n        </body>\n        </html>"]),m=i(380),_=n(m),v=i(335),T=n(v),b=i(334),x=n(b),E=i(333),A=n(E),D={xls:"data:application/vnd.ms-excel;base64,",csv:"data:text/csv;charset=utf-8,%EF%BB%BF"},S={xls:d,csv:y},M=[].concat(r(T["default"].DATA_EXTENSIONS)),L={downloadData:function(t,e,i,n){var o=a(i),r=D[e].replace(/(data:|;base64,|,%EF%BB%BF)/g,""),s=S[e](o,n);this._isNeedDataEncodeing()&&("csv"!==e&&(s=window.btoa(unescape(encodeURIComponent(s)))),s=D[e]+s),_["default"].execDownload(t,e,s,r)},_isNeedDataEncodeing:function(){var t=A["default"].isExisty(document.createElement("a").download),e=window.Blob&&window.navigator.msSaveOrOpenBlob;return!(e||!t)},getExtensions:function(){return M}};Object.assign(L,{_makeCsvBodyWithRawData:y,_makeXlsBodyWithRawData:d,_get2DArrayFromRawData:a,_get2DArrayFromBulletRawData:c,_get2DArrayFromHeatmapRawData:p,_makeTCellsFromBulletRanges:u,_makeTCellsFromBulletMarkers:l,_makeTHeadForBullet:s}),e["default"]=L},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(){var t=h["default"].isExisty(document.createElement("a").download),e=window.Blob&&window.navigator.msSaveOrOpenBlob,i=void 0;return e?i="msSaveOrOpenBlob":t&&(i="downloadAttribute"),i}function r(t){for(var e=t.substr(0,t.indexOf(";base64,")).substr(t.indexOf(":")+1),i=1024,n=atob(t.substr(t.indexOf(",")+1)),o=[],r=0;r<n.length;r+=i){for(var a=n.slice(r,r+i),s=new Array(a.length),u=0;u<a.length;u+=1)s[u]=a.charCodeAt(u);var l=new window.Uint8Array(s);o.push(l)}var c=new Blob(o,{type:e});return c}function a(t){return f["default"].any(y["default"].IMAGE_EXTENSIONS,function(e){return t===e})}function s(t,e,i,n){var o=a(e)?r(i):new Blob([i],{type:n});window.navigator.msSaveOrOpenBlob(o,t+"."+e)}function u(t,e,i){if(i){var n=document.createElement("a");n.href=i,n.target="_blank",n.download=t+"."+e,document.body.appendChild(n),n.click(),n.remove()}}function l(t,e,i,n){var r=o();r&&h["default"].isString(i)&&g[r](t,e,i,n)}e.__esModule=!0;var c=i(333),h=n(c),p=i(337),f=n(p),d=i(335),y=n(d),g={downloadAttribute:u,msSaveOrOpenBlob:s};e["default"]={execDownload:l}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function r(t){var e=t.parentNode,i=document.createElement("DIV");i.appendChild(t);var n=i.innerHTML;return e.appendChild(t),i=null,e=null,n}function a(t,e,i,n){var o=t.getContext("2d");y&&(e=e.replace(/xmlns:NS1=""/,""),e=e.replace(/NS1:xmlns:xlink="http:\/\/www\.w3\.org\/1999\/xlink"/,""),e=e.replace(/xmlns="http:\/\/www\.w3\.org\/2000\/svg"/,""),e=e.replace(/xmlns:xlink="http:\/\/www\.w3\.org\/1999\/xlink"/,"")),o.drawSvg(e,0,0),l["default"].execDownload(i,n,t.toDataURL("image/"+n,1))}function s(t,e,i,n){var o=t.getContext("2d"),r=new Blob([e],{type:"image/svg+xml"}),a=g.createObjectURL(r),s=new Image;s.onload=function(){o.drawImage(s,0,0,t.width,t.height),l["default"].execDownload(i,n,t.toDataURL("image/"+n,1)),g.revokeObjectURL(a)},s.src=a}e.__esModule=!0;var u=i(380),l=n(u),c=i(335),h=n(c),p=i(333),f=n(p),d=f["default"].browser,y=d.msie&&(10===d.version||11===d.version),g=window.URL||window.webkitURL||window,m=[].concat(o(h["default"].IMAGE_EXTENSIONS));e["default"]={downloadImage:function(t,e,i){var n=void 0;if("svg"===i.tagName){var o=i.parentNode,u=r(i);n=document.createElement("canvas"),n.width=o.offsetWidth,n.height=o.offsetHeight,y?a(n,u,t,e):s(n,u,t,e)}else"canvas"===i.tagName&&(n=i,l["default"].execDownload(t,e,n.toDataURL("image/"+e,1)))},getExtensions:function(){return m}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=i(333),r=n(o),a={},s={_attachEvent:function(t,e,i,n){var o=void 0;o=n?i.bind(n):i,a[e+i]=o,t.attachEvent("on"+e,o)},_addEventListener:function(t,e,i,n){var o=void 0;o=n?r["default"].bind(i,n):i,a[e+i]=o,t.addEventListener(e,o)},_bindEvent:function(t,e,i,n){var o=void 0;"addEventListener"in t?o=this._addEventListener:"attachEvent"in t&&(o=this._attachEvent),s._bindEvent=o,o(t,e,i,n)},on:function(t,e,i,n){var o={};r["default"].isString(e)?o[e]=i:(o=e,n=i),r["default"].forEach(o,function(e,i){s._bindEvent(t,i,e,n)})},_detachEvent:function(t,e,i){a[e+i]&&(t.detachEvent("on"+e,a[e+i]),delete a[e+i])},_removeEventListener:function(t,e,i){t.removeEventListener(e,a[e+i]),delete a[e+i]},_unbindEvent:function(t,e,i){var n=void 0;"removeEventListener"in t?n=s._removeEventListener:"detachEvent"in t&&(n=s._detachEvent),s._unbindEvent=n,n(t,e,i)},off:function(t,e,i){var n={};r["default"].isString(e)?n[e]=i:n=e,r["default"].forEach(n,function(e,i){s._unbindEvent(t,i,e)})}};e["default"]=s},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){var e=t.options,i=t.dataProcessor.seriesTypes,n=t.chartOptions.chartType,o=!!m["default"].isUndefined(e.visible)||e.visible,r=null;return o&&(t.seriesTypes=i,t.chartType=n,r=new x(t)),r}e.__esModule=!0,e["default"]=r;var a=i(335),s=n(a),u=i(384),l=n(u),c=i(360),h=n(c),p=i(342),f=n(p),d=i(332),y=n(d),g=i(333),m=n(g),_=s["default"].LEGEND_ICON_HEIGHT,v=s["default"].LINE_MARGIN_TOP,T=s["default"].LEGEND_AREA_H_PADDING,b=s["default"].PUBLIC_EVENT_PREFIX,x=function(){function t(e){o(this,t),this.theme=e.theme,this.options=e.options||{},this.chartType=e.chartType,this.seriesTypes=e.seriesTypes||[this.chartType],this.eventBus=e.eventBus,this.className="tui-chart-legend-area",this.dataProcessor=e.dataProcessor,this.legendModel=new l["default"]({theme:this.theme,labels:e.dataProcessor.getLegendLabels(),legendData:e.dataProcessor.getLegendData(),seriesTypes:this.seriesTypes,chartType:this.chartType}),this.layout=null,this.graphRenderer=h["default"].get(s["default"].COMPONENT_TYPE_RAPHAEL,"legend"),this.paper=null,this.drawingType=s["default"].COMPONENT_TYPE_RAPHAEL}return t.prototype._setDataForRendering=function(t){t&&(this.layout=t.layout,this.paper=t.paper)},t.prototype._render=function(t){this._setDataForRendering(t),this.legendSet=this._renderLegendArea(t.paper)},t.prototype.render=function(t){this._render(t),this._listenEvents()},t.prototype.rerender=function(t){this.legendSet.remove(),this._render(t)},t.prototype.resize=function(t){this.rerender(t)},t.prototype._getLegendRenderingData=function(t,e,i){var n=this,o=this.options.maxWidth,r=(f["default"].isBarTypeChart(this.chartType)||f["default"].isBoxplotChart(this.chartType))&&this.dataProcessor.options.series.colorByPoint;return t.map(function(t,a){var s=n.options.showCheckbox===!1?null:{checked:n.legendModel.isCheckedIndex(a)},u=t.label;return o&&(u=y["default"].getEllipsisText(u,o,n.theme.label)),{checkbox:s,iconType:t.chartType||"rect",colorByPoint:r,index:a,theme:t.theme,label:u,labelHeight:e,labelWidth:i[a],isUnselected:n.legendModel.isUnselectedIndex(a)}})},t.prototype._renderLegendArea=function(t){var e=this.legendModel.getData(),i=this.graphRenderer,n=f["default"].isHorizontalLegend(this.options.align),o=this.layout.position,r=i.makeLabelWidths(e,this.theme.label,this.options.maxWidth),a=e[0]?e[0].theme:{},s=i.getRenderedLabelHeight("DEFAULT_TEXT",a)-1,u=r.length,l=Math.max(_,s),c=(v+l)*(n?1:u),h=o.top,p=o.left;return f["default"].isLegendAlignLeft(this.options.align)||(p+=T),i.render({paper:t,legendData:this._getLegendRenderingData(e,s,r),isHorizontal:n,position:{left:p,top:h},dimension:{height:c,width:this.layout.dimension.width},labelTheme:this.theme.label,labelWidths:r,eventBus:this.eventBus})},t.prototype._fireChangeCheckedLegendsEvent=function(){this.eventBus.fire("changeCheckedLegends",this.legendModel.getCheckedIndexes())},t.prototype._fireSelectLegendEvent=function(t){var e=this.legendModel.getSelectedIndex(),i=m["default"].isNull(e)?e:t.seriesIndex;this.eventBus.fire("selectLegend",t.chartType,i)},t.prototype._fireSelectLegendPublicEvent=function(t){var e=t.label,i=t.index,n=t.chartType;this.eventBus.fire(b+"selectLegend",{legend:e,chartType:n,index:i})},t.prototype._selectLegend=function(t){var e=this.legendModel.getDatum(t);this.legendModel.toggleSelectedIndex(t),m["default"].isNull(this.legendModel.getSelectedIndex())||this.legendModel.isCheckedSelectedIndex()||(this.legendModel.checkSelectedIndex(),this._fireChangeCheckedLegendsEvent()),this.dataProcessor.selectLegendIndex=this.legendModel.getSelectedIndex(),this.graphRenderer.selectLegend(this.dataProcessor.selectLegendIndex,this.legendSet),this._fireSelectLegendEvent(e),this._fireSelectLegendPublicEvent(e)},t.prototype._getCheckedIndexes=function(){var t=[];return this.legendModel.checkedWholeIndexes.forEach(function(e,i){e&&t.push(i)}),t},t.prototype._checkLegend=function(){var t=this.legendModel.getSelectedDatum();this.legendModel.isCheckedSelectedIndex()||this.legendModel.updateSelectedIndex(null),this._fireChangeCheckedLegendsEvent(),t&&this._fireSelectLegendEvent(t)},t.prototype._checkboxClick=function(t){this.legendModel.toggleCheckedIndex(t);var e=this._getCheckedIndexes();e.length>0?(this.legendModel.updateCheckedLegendsWith(e),this._checkLegend()):this.legendModel.toggleCheckedIndex(t)},t.prototype._labelClick=function(t){this._selectLegend(t)},t.prototype._listenEvents=function(){this.eventBus.on("checkboxClicked",this._checkboxClick,this),this.eventBus.on("labelClicked",this._labelClick,this)},t}();m["default"].CustomEvents.mixin(x),r.componentType="legend",r.Legend=x},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=i(333),s=n(a),u=function(){function t(e){r(this,t),this.theme=e.theme,this.labels=e.labels,
this.legendData=e.legendData,this.seriesTypes=e.seriesTypes||[],this.chartType=e.chartType,this.data=null,this.selectedIndex=null,this.checkedIndexesMap={},this.checkedWholeIndexes=[],this._setData(),this._initCheckedIndexes()}return t.prototype._initCheckedIndexes=function(){var t=this,e=[];this.legendData.forEach(function(i,n){var o=i.visible;o&&e.push(n),t.checkedWholeIndexes[n]=o}),this.updateCheckedLegendsWith(e)},t.prototype._setThemeToLegendData=function(t,e,i){var n=e.colors,o=e.borderColor,r=0;t.forEach(function(t,e){var a={color:n[e]};o&&(a.borderColor=o),t.theme=a,t.index=e,i&&s["default"].isUndefined(i[e])?t.seriesIndex=-1:(t.seriesIndex=r,r+=1)})},t.prototype._setData=function(){var t=this,e=this.theme,i=this.chartType,n=this.seriesTypes,r=this.legendData,a=this.checkedIndexesMap,s=void 0;if(!n||n.length<2)this._setThemeToLegendData(r,e[i],a[i]),s=r;else{var u,l=0,c=n.map(function(i){var n=t.labels[i].length,o=l+n,s=r.slice(l,o),u=a[i];return l=o,t._setThemeToLegendData(s,e[i],u),s});s=(u=[]).concat.apply(u,o(c))}this.data=s},t.prototype.getData=function(){return this.data},t.prototype.getDatum=function(t){return this.data[t]},t.prototype.getDatumByLabel=function(t){var e=null;return this.data.forEach(function(i){return i.label===t&&(e=i),!e}),e},t.prototype.getSelectedDatum=function(){return this.getDatum(this.selectedIndex)},t.prototype.updateSelectedIndex=function(t){this.selectedIndex=t},t.prototype.toggleSelectedIndex=function(t){var e=void 0;e=this.selectedIndex===t?null:t,this.updateSelectedIndex(e)},t.prototype.getSelectedIndex=function(){return this.selectedIndex},t.prototype.isUnselectedIndex=function(t){return!s["default"].isNull(this.selectedIndex)&&this.selectedIndex!==t},t.prototype.isCheckedSelectedIndex=function(){return this.isCheckedIndex(this.selectedIndex)},t.prototype.toggleCheckedIndex=function(t){this.checkedWholeIndexes[t]=!this.checkedWholeIndexes[t]},t.prototype._updateCheckedIndex=function(t){this.checkedWholeIndexes[t]=!0},t.prototype.isCheckedIndex=function(t){return!!this.checkedWholeIndexes[t]},t.prototype._addSendingDatum=function(t){var e=this.getDatum(t);this.checkedIndexesMap[e.chartType]||(this.checkedIndexesMap[e.chartType]=[]),this.checkedIndexesMap[e.chartType][e.index]=!0},t.prototype.checkSelectedIndex=function(){this._updateCheckedIndex(this.selectedIndex),this._addSendingDatum(this.selectedIndex),this._setData()},t.prototype.getCheckedIndexes=function(){return this.checkedIndexesMap},t.prototype._resetCheckedData=function(){this.checkedWholeIndexes=[],this.checkedIndexesMap={}},t.prototype.updateCheckedLegendsWith=function(t){var e=this;this._resetCheckedData(),t.forEach(function(t){e._updateCheckedIndex(t),e._addSendingDatum(t)}),this._setData()},t}();e["default"]=u},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){var e=!!f["default"].isUndefined(t.options.visible)||t.options.visible,i=t.chartOptions.chartType,n=null;return e&&(t.chartType=i,n=new _(t)),n}e.__esModule=!0,e["default"]=r;var a=i(335),s=n(a),u=i(342),l=n(u),c=i(360),h=n(c),p=i(333),f=n(p),d=s["default"].COMPONENT_TYPE_RAPHAEL,y=s["default"].MAP_LEGEND_LABEL_PADDING,g=s["default"].MAP_LEGEND_GRAPH_SIZE,m=s["default"].CHART_PADDING,_=function(){function t(e){o(this,t);var i=e.libType,n=e.chartType,r=e.theme,a=e.options,s=void 0===a?{}:a,u=e.dataProcessor,c=e.colorSpectrum,p=e.eventBus;this.chartType=n,this.theme=r,l["default"].isTreemapChart(this.chartType)||(this.theme.label.color="#fff"),this.options=s,this.dataProcessor=u,this.colorSpectrum=c,this.eventBus=p,this.graphRenderer=h["default"].get(i,"mapLegend"),this.isHorizontal=l["default"].isHorizontalLegend(this.options.align),this.scaleData=null,this.drawingType=d,this._attachToEventBus()}return t.prototype._attachToEventBus=function(){this.eventBus.on({showWedge:this.onShowWedge,hideTooltip:this.onHideWedge},this),this.eventBus.on("beforeImageDownload",f["default"].bind(this._removeLocationURLFromFillAttribute,this)),this.eventBus.on("afterImageDownload",f["default"].bind(this._restoreLocationURLToFillAttribute,this))},t.prototype._removeLocationURLFromFillAttribute=function(){this.graphRenderer.removeLocationURLFromFillAttribute()},t.prototype._restoreLocationURLToFillAttribute=function(){this.graphRenderer.restoreLocationURLToFillAttribute()},t.prototype._makeBaseDataToMakeTickArea=function(){var t=this.layout.dimension,e=this.scaleData,i=this.options.align,n=e.stepCount||e.tickCount-1,o={};return o.position=this.layout.position,this.isHorizontal?(o.step=t.width/n,l["default"].isLegendAlignTop(i)?o.position.top-=y:o.position.top+=g+y):(o.step=t.height/n,l["default"].isLegendAlignLeft(i)?o.position.left=m:o.position.left+=g+y),o},t.prototype._renderTickArea=function(t){this.options.reversed&&this.scaleData.labels.sort(function(t,e){return e-t}),this.graphRenderer.renderTickLabels(this.paper,this._makeBaseDataToMakeTickArea(),this.scaleData.labels,this.options.align,t)},t.prototype._makeVerticalGraphDimension=function(){return{width:g,height:this.layout.dimension.height}},t.prototype._makeHorizontalGraphDimension=function(){return{width:this.layout.dimension.width,height:g}},t.prototype._renderGraph=function(t){var e=this.layout.position,i=void 0;if(i=this.isHorizontal?this._makeHorizontalGraphDimension():this._makeVerticalGraphDimension(),this.options.reversed){var n=this.colorSpectrum.start;this.colorSpectrum.start=this.colorSpectrum.end,this.colorSpectrum.end=n}this.graphRenderer.render({paper:this.paper,layout:{dimension:i,position:e},colorSpectrum:this.colorSpectrum,align:this.options.align,legendSet:t,theme:this.theme.label,labels:this.scaleData.labels})},t.prototype._renderLegendArea=function(){var t=this.paper.set();return this._renderGraph(t),this._renderTickArea(t),t},t.prototype._setDataForRendering=function(t){var e=t.layout,i=t.paper,n=t.legendScaleData;this.layout=e,this.paper=i,this.scaleData=n},t.prototype.render=function(t){this._setDataForRendering(t),this.legendSet=this._renderLegendArea()},t.prototype.rerender=function(t){this.legendSet.remove(),this.render(t)},t.prototype.resize=function(t){this.rerender(t)},t.prototype.onShowWedge=function(t,e){t=this.options.reversed?1-t:t,this.graphRenderer.showWedge(t,e)},t.prototype.onHideWedge=function(){this.graphRenderer.hideWedge()},t}();r.componentType="legend",r.SpectrumLegend=_},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){var e=t.chartTheme,i=t.chartOptions.chartType,n=y["default"].pick(t.chartOptions,"circleLegend","visible"),o=null,r=void 0;return r=!!y["default"].isUndefined(n)||n,r&&(t.chartType=i,t.baseFontFamily=e.chart.fontFamily,o=new g(t)),o}e.__esModule=!0,e["default"]=r;var a=i(335),s=n(a),u=i(351),l=n(u),c=i(334),h=n(c),p=i(360),f=n(p),d=i(333),y=n(d),g=function(){function t(e){var i=e.libType,n=e.chartType,r=e.dataProcessor,a=e.baseFontFamily;o(this,t),this.circleRatios=[1,.5,.25],this.chartType=n,this.dataProcessor=r,this.labelTheme={fontSize:s["default"].CIRCLE_LEGEND_LABEL_FONT_SIZE,fontFamily:a},this.graphRenderer=f["default"].get(i,"circleLegend"),this.layout=null,this.maxRadius=null,this.drawingType=s["default"].COMPONENT_TYPE_RAPHAEL}return t.prototype._formatLabel=function(t,e){var i=this.dataProcessor.getFormatFunctions(),n=void 0;return n=0===e?String(parseInt(t,10)):h["default"].formatToDecimal(String(t),e),h["default"].formatValue({value:n,formatFunctions:i,chartType:this.chartType,areaType:"circleLegend",valueType:"r"})},t.prototype._makeLabels=function(){var t=this,e=this.dataProcessor.getMaxValue(this.chartType,"r"),i=l["default"].getDecimalLength(e);return this.circleRatios.map(function(n){return t._formatLabel(e*n,i)})},t.prototype._render=function(t){return this.graphRenderer.render(t,this.layout,this.maxRadius,this.circleRatios,this._makeLabels())},t.prototype._setDataForRendering=function(t){this.layout=t.layout,this.maxRadius=t.maxRadius},t.prototype.render=function(t){this._setDataForRendering(t),this.circleLegendSet=this._render(t.paper)},t.prototype.rerender=function(t){this.circleLegendSet.remove(),this._setDataForRendering(t),this.circleLegendSet=this._render(t.paper)},t.prototype.resize=function(t){this.rerender(t)},t}();r.componentType="legend",r.CircleLegend=g},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,i){var n=(100*t.ratio).toFixed(4),o=parseFloat(n),r=o<9e-4||n.length>5;n=r?n.substr(0,4):String(o);var a=n+"&nbsp;%&nbsp;"||"";return e.ratioLabel=i+a,e.label=t.tooltipLabel||(t.label?t.label:""),e}function r(t){var e=t.chartOptions.chartType,i=t.seriesTypes,n=t.chartOptions.xAxis,r=[],a=void 0,u=Object.values(t.chartTheme.legend).filter(function(t){return y["default"].isArray(t.colors)});return u.forEach(function(t){r=r.concat(t.colors)}),a="map"===e?h["default"]:t.options.grouped?l["default"]:s["default"],("pie"===e||f["default"].isPieDonutComboChart(e,i))&&(t.labelFormatter=o),t.chartType=e,t.chartTypes=i,t.xAxisType=n.type,t.dateFormat=n.dateFormat,t.colors=r,a(t)}e.__esModule=!0,e["default"]=r;var a=i(388),s=n(a),u=i(393),l=n(u),c=i(395),h=n(c),p=i(342),f=n(p),d=i(333),y=n(d);r.componentType="tooltip"},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return new b(t)}e.__esModule=!0,e["default"]=s;var u=i(389),l=n(u),c=i(390),h=n(c),p=i(335),f=n(p),d=i(342),y=n(d),g=i(391),m=n(g),_=i(333),v=n(_),T="#aaa",b=function(t){function e(i){o(this,e);var n=r(this,t.call(this,i));return n.colorSpectrum=i.colorSpectrum,n}return a(e,t),e.prototype._makeTooltipHtml=function(t,e){var i=this._getTooltipTemplate(e);return i(v["default"].extend({categoryVisible:t?"show":"hide",category:t},e))},e.prototype._getTooltipTemplate=function(t){var e=m["default"].tplDefault;return y["default"].isBoxplotChart(this.chartType)?e=this._getBoxplotTooltipTemplate(t):y["default"].isPieChart(this.chartType)||y["default"].isPieDonutComboChart(this.chartType,this.chartTypes)?e=m["default"].tplPieChart:this.dataProcessor.coordinateType?e=m["default"].tplCoordinatetypeChart:y["default"].isBulletChart(this.chartType)?e=m["default"].tplBulletChartDefault:y["default"].isHeatmapChart(this.chartType)&&(e=m["default"].tplHeatmapChart),e},e.prototype._getBoxplotTooltipTemplate=function(t){var e=m["default"].tplBoxplotChartDefault;return v["default"].isNumber(t.outlierIndex)&&(e=m["default"].tplBoxplotChartOutlier,t.label=t.outliers[t.outlierIndex].label),e},e.prototype._makeHtmlForValueTypes=function(t,e){return e.map(function(e){return t[e]?"<tr><td>"+e+'</td><td class="'+f["default"].CLASS_NAME_TOOLTIP_VALUE+'">'+t[e]+"</td></tr>":""}).join("")},e.prototype._makeSingleTooltipHtml=function(t,e){var i=e.groupIndex,n=this._findTooltipData(t,e),o=this._findTooltipColor(t,e,n);return y["default"].isBoxplotChart(this.chartType)&&v["default"].isNumber(e.outlierIndex)&&(n.outlierIndex=e.outlierIndex),this.colorSpectrum&&(o=this.colorSpectrum.getColor(n.colorRatio||n.ratio)),n.chartType=this.chartType,n.cssText="background-color: "+o,n=Object.assign({suffix:this.suffix},n),n.valueTypes=this._makeHtmlForValueTypes(n,["x","y","r"]),this.templateFunc(n.category,n,this.getRawCategory(i))},e.prototype._findTooltipData=function(t,e){var i=this.data[t],n=e.groupIndex;return y["default"].isRadialChart(t)&&i.length===n&&(n=0),Object.assign({},v["default"].pick(i,n,e.index))},e.prototype._findTooltipColor=function(t,e,i){var n=y["default"].isBarTypeChart(this.chartType),o=y["default"].isBoxplotChart(this.chartType),r=(n||o)&&this.dataProcessor.options.series.colorByPoint,a=e.groupIndex,s=e.index;return y["default"].isBulletChart(this.chartType)?s=a:y["default"].isTreemapChart(this.chartType)&&(s=i.tooltipColorIndex),r?T:this.tooltipColors[t][s]},e.prototype._setDefaultTooltipPositionOption=function(){this.options.align||(this.isVertical?this.options.align=f["default"].TOOLTIP_DEFAULT_ALIGN_OPTION:this.options.align=f["default"].TOOLTIP_DEFAULT_HORIZONTAL_ALIGN_OPTION)},e.prototype._makeShowTooltipParams=function(t,e){var i=t.index,n=this.dataProcessor.getLegendItem(i);if(!n)return null;var o=n.chartType,r=n.label,a=v["default"].extend({chartType:o,legend:r,legendIndex:i,index:t.groupIndex},e);return y["default"].isBoxplotChart(o)&&v["default"].isNumber(t.outlierIndex)&&(a.outlierIndex=t.outlierIndex),a},e.prototype._makeTooltipDatum=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments[2],n=i.tooltipLabel,o=this.labelFormatter,r={legend:t,label:n||(i.label?i.label:""),category:e};return o&&(r=o(i,r,"")),r.category=e,v["default"].extend(r,i.pickValueMapForTooltip())},e.prototype.makeTooltipData=function(){var t=this,e=this.dataProcessor.getLegendLabels(),i=y["default"].isTreemapChart(this.chartType),n={},o={};return v["default"].isArray(e)?n[this.chartType]=e:n=e,this.dataProcessor.eachBySeriesGroup(function(e,i,r){r=r||t.chartType;var a=y["default"].isBulletChart(r),s=e.map(function(e,o){var s=t.dataProcessor.makeTooltipCategory(i,o,t.isVertical),u=a?i:o;return e?t._makeTooltipDatum(n[r][u],s,e):null});o[r]||(o[r]=[]),o[r].push(s)},i),o},e}(l["default"]);h["default"].mixin(b),s.componentType="tooltip",s.NormalTooltip=b},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=i(333),a=n(r),s=i(330),u=n(s),l=i(364),c=n(l),h=i(335),p=n(h),f=i(336),d=n(f),y=i(342),g=n(y),m=i(334),_=n(m),v=function(){function t(e){o(this,t);var i=g["default"].isPieChart(e.chartType);this.chartType=e.chartType,this.chartTypes=e.chartTypes,this.dataProcessor=e.dataProcessor,this.options=e.options,this.colors=e.colors,this.theme=e.theme,this.originalTheme=c["default"].deepCopy(e.theme),this.isVertical=e.isVertical,this.eventBus=e.eventBus,this.labelTheme=e.labelTheme,this.xAxisType=e.xAxisType,this.dateFormat=e.dateFormat,this.labelFormatter=e.labelFormatter,this.className="tui-chart-tooltip-area",this.tooltipContainer=null,this.suffix=this.options.suffix?"&nbsp;"+this.options.suffix:"",this.templateFunc=this.options.template||a["default"].bind(this._makeTooltipHtml,this),this.animationTime=i?p["default"].TOOLTIP_PIE_ANIMATION_TIME:p["default"].TOOLTIP_ANIMATION_TIME,this.data=[],this.layout=null,this.dimensionMap=null,this.positionMap=null,this.drawingType=p["default"].COMPONENT_TYPE_DOM,this._setDefaultTooltipPositionOption(),this._saveOriginalPositionOptions(),this._attachToEventBus()}return t.prototype._attachToEventBus=function(){this.eventBus.on({showTooltip:this.onShowTooltip,hideTooltip:this.onHideTooltip},this),this.onShowTooltipContainer&&this.eventBus.on({showTooltipContainer:this.onShowTooltipContainer,hideTooltipContainer:this.onHideTooltipContainer},this)},t.prototype._makeTooltipHtml=function(){},t.prototype._setDefaultTooltipPositionOption=function(){},t.prototype._saveOriginalPositionOptions=function(){this.orgPositionOptions={align:this.options.align,offset:this.options.offset}},t.prototype.makeLineLegendIcon=function(t){for(var e=t.length,i=0;i<e;i+=1){var n=t[i],o=n.style["background-color"],r=(0,u["default"])(n,10,10),a=r.path(p["default"].LEGEND_LINE_ICON_PATH);n.style["background-color"]="",a.attr({stroke:o,"stroke-width":2,"stroke-opacity":1})}},t.prototype.makeTooltipData=function(){},t.prototype._setDataForRendering=function(t){this.layout=t.layout,this.dimensionMap=t.dimensionMap,this.positionMap=t.positionMap},t.prototype.render=function(t){var e=t.paper;return d["default"].addClass(e,this.className),this._setDataForRendering(t),this.data=this.makeTooltipData(),this.tooltipColors=this.makeTooltipLegendColor(t.checkedLegends),_["default"].renderPosition(e,this.layout.position),this.tooltipContainer=e,e},t.prototype.rerender=function(t){this.resize(t),this.data=this.makeTooltipData(),this.tooltipColors=this.makeTooltipLegendColor(t.checkedLegends)},t.prototype.makeTooltipLegendColor=function(t){var e=this,i={};return t&&Object.keys(this.theme).forEach(function(n){i[n]||(i[n]=[]),(t[n]||[]).forEach(function(t,o){t&&i[n].push(e.theme[n].colors[o])})}),i},t.prototype.resize=function(t){this._setDataForRendering(t),_["default"].renderPosition(this.tooltipContainer,this.layout.position),this.positionModel&&this.positionModel.updateBound(this.layout)},t.prototype.zoom=function(){this.data=this.makeTooltipData()},t.prototype._getTooltipElement=function(){if(!this.tooltipElement){var t=this.tooltipElement=d["default"].create("DIV","tui-chart-tooltip");d["default"].append(this.tooltipContainer,t)}return this.tooltipElement},t.prototype.onShowTooltip=function(t){var e=this._getTooltipElement(),i=g["default"].isComboChart(this.chartType)&&g["default"].isScatterChart(t.chartType),n=void 0;g["default"].isChartToDetectMouseEventOnSeries(t.chartType)&&!i||!e.offsetWidth||(n={left:e.offsetLeft,top:e.offsetTop}),this._showTooltip(e,t,n)},t.prototype.getTooltipDimension=function(t){var e=t.offsetWidth,i=t.offsetHeight;return{width:e,height:i}},t.prototype._moveToPosition=function(t,e,i){i?this._slideTooltip(t,i,e):_["default"].renderPosition(t,e)},t.prototype._slideTooltip=function(t,e,i){var n=i.top-e.top,o=i.left-e.left;_["default"].cancelAnimation(this.slidingAnimation),this.slidingAnimation=_["default"].startAnimation(this.animationTime,function(i){var r=o*i,a=n*i;t.style.left=e.left+r+"px",t.style.top=e.top+a+"px"})},t.prototype.onHideTooltip=function(t,e){var i=this._getTooltipElement();this._hideTooltip(i,t,e)},t.prototype.setAlign=function(t){this.options.align=t,this.positionModel&&this.positionModel.updateOptions(this.options)},t.prototype._updateOffsetOption=function(t){this.options.offset=t,this.positionModel&&this.positionModel.updateOptions(this.options)},t.prototype.setOffset=function(t){var e=Object.assign({},this.options.offset);a["default"].isExisty(t.x)&&(e.x=t.x),a["default"].isExisty(t.y)&&(e.y=t.y),this._updateOffsetOption(a["default"].extend({},this.options.offset,e))},t.prototype.setPosition=function(t){var e=Object.assign({},this.options.offset);a["default"].isExisty(t.left)&&(e.x=t.left),a["default"].isExisty(t.top)&&(e.y=t.y),this._updateOffsetOption(e)},t.prototype.resetAlign=function(){var t=this.orgPositionOptions.align;this.options.align=t,this.positionModel&&this.positionModel.updateOptions(this.options)},t.prototype.resetOffset=function(){this.options.offset=this.orgPositionOptions.offset,this._updateOffsetOption(this.options.offset)},t.prototype.getRawCategory=function(t,e){var i=this.isVertical?"x":"y",n=this.dataProcessor.categoriesMap?this.dataProcessor.categoriesMap[i]:null,o="";return n&&(o=n[t]),e&&(o=_["default"].formatDate(o,e)),o},t}();e["default"]=v},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=i(333),r=n(o),a=i(335),s=n(a),u=i(342),l=n(u),c=i(336),h=n(c),p=i(334),f=n(p);e["default"]={_setIndexesCustomAttribute:function(t,e){t.setAttribute("data-groupIndex",e.groupIndex),t.setAttribute("data-index",e.index)},_getIndexesCustomAttribute:function(t){var e=t.getAttribute("data-groupIndex"),i=t.getAttribute("data-index"),n=null;return r["default"].isNull(e)||r["default"].isNull(i)||(n={groupIndex:parseInt(e,10),index:parseInt(i,10)}),n},_setShowedCustomAttribute:function(t,e){t.setAttribute("data-showed",e)},_isShowedTooltip:function(t){var e=t.getAttribute("data-showed");return"true"===e||e===!0},_makeTooltipPositionForBulletChart:function(t){var e=t.mousePosition,i=this.layout.position;return{left:e.left-i.left,top:e.top-i.top}},_makeLeftPositionOfNotBarChart:function(t,e,i,n){var o=t,r=i||0,a=n||s["default"].TOOLTIP_GAP;return e.indexOf("left")>-1?o-=r+a:e.indexOf("center")>-1&&r?o-=r/2:o+=a,o},_makeTopPositionOfNotBarChart:function(t,e,i,n){var o=t,r=i||0;return e.indexOf("bottom")>-1?o+=r+n:e.indexOf("middle")>-1&&r?o+=r/2:o-=r+s["default"].TOOLTIP_GAP,o},_makeTooltipPositionForNotBarChart:function(t){var e=t.bound,i=t.positionOption,n=t.dimension,o=t.alignOption,r=void 0===o?"":o,a=n.width-(e.width||0),u=e.width?0:s["default"].TOOLTIP_GAP,l=n.height,c=e.left-this.layout.position.left+i.left,h=e.top-this.layout.position.top+i.top-s["default"].TOOLTIP_GAP;return{left:this._makeLeftPositionOfNotBarChart(c,r,a,u),top:this._makeTopPositionOfNotBarChart(h,r,l,u)}},_makeTooltipPositionToMousePosition:function(t){return t.bound||(t.bound=t.bound||{},r["default"].extend(t.bound,t.mousePosition)),this._makeTooltipPositionForNotBarChart(t)},_makeLeftPositionForBarChart:function(t,e,i){var n=t;return e.indexOf("left")>-1?n-=i:e.indexOf("center")>-1?n-=i/2:n+=s["default"].TOOLTIP_GAP,n},_makeTopPositionForBarChart:function(t,e,i){var n=t;return e.indexOf("top")>-1?n-=i:e.indexOf("middle")>-1&&(n-=i/2),n},_makeTooltipPositionForBarChart:function(t){var e=this.layout.position,i=t.bound,n=t.positionOption,o=t.dimension,r=t.alignOption,a=void 0===r?"":r,s=o.height-(i.height||0),u=o.width,l=i.left+i.width+n.left-e.left,c=i.top+n.top-e.top;return{left:this._makeLeftPositionForBarChart(l,a,u),top:this._makeTopPositionForBarChart(c,a,s)}},_makeTooltipPositionForTreemapChart:function(t){var e=this.layout.position,i=t.bound,n=t.positionOption,o=t.dimension,r=f["default"].getRenderedLabelHeight(s["default"].MAX_HEIGHT_WORD,this.labelTheme);return{left:i.left+(i.width-o.width)/2+n.left-e.left,top:i.top+i.height/2-r+n.top-e.top}},_adjustPosition:function(t,e){var i=this.dimensionMap.chart,n=this.layout.position;return e.left=Math.max(e.left,-n.left),e.left=Math.min(e.left,i.width-n.left-t.width),e.top=Math.max(e.top,-n.top),e.top=Math.min(e.top,i.height-n.top-t.height),e},_makeTooltipPosition:function(t){var e={};if(t.mousePosition)e=this._makeTooltipPositionToMousePosition(t);else{var i=void 0,n=void 0,o=void 0;l["default"].isBarChart(t.chartType)?(e=this._makeTooltipPositionForBarChart(t),i="width",n="left",o=1):l["default"].isTreemapChart(t.chartType)?e=this._makeTooltipPositionForTreemapChart(t):(e=this._makeTooltipPositionForNotBarChart(t),i="height",n="top",o=-1),t.allowNegativeTooltip&&(e=this._moveToSymmetry(e,{bound:t.bound,indexes:t.indexes,dimension:t.dimension,chartType:t.chartType,sizeType:i,positionType:n,addPadding:o})),e=this._adjustPosition(t.dimension,e)}return e},_moveToSymmetry:function(t,e){var i=e.bound,n=e.sizeType,o=e.positionType,r=e.indexes,a=e.seriesType||e.chartType,s=this.dataProcessor.getValue(r.groupIndex,r.index,a),u=l["default"].isBarChart(this.chartType)?-1:1;if(s<0){var c=e.dimension[n],h=i[n],p=t[o]+(h+c)*u;t[o]=p}return t},_isChangedIndexes:function(t,e){return!!t&&(t.groupIndex!==e.groupIndex||t.index!==e.index)},_showTooltip:function(t,e,i){var n=this.tooltipContainer.parentNode.getBoundingClientRect(),o=e.indexes,a=this._getIndexesCustomAttribute(t),u=this.options.offset||{},l={},c=t&&t.getAttribute("data-chart-type");!e.bound&&e.mousePosition&&(e.bound={left:e.mousePosition.left-n.left+s["default"].CHART_PADDING,top:e.mousePosition.top-n.top+s["default"].CHART_PADDING}),(this._isChangedIndexes(a,o)||c!==e.chartType)&&this.eventBus.fire("hoverOffSeries",a,c),t.innerHTML=this._makeSingleTooltipHtml(e.seriesType||e.chartType,o),"line"===e.chartType&&this.makeLineLegendIcon(t.querySelectorAll(".tui-chart-legend-rect.line")),t.setAttribute("data-chart-type",e.chartType),this._setIndexesCustomAttribute(t,o),this._setShowedCustomAttribute(t,!0),this._fireBeforeShowTooltipPublicEvent(o,e.silent),h["default"].addClass(t,"show"),l.left=u.x||0,l.top=u.y||0;var p=this._makeTooltipPosition(r["default"].extend({dimension:this.getTooltipDimension(t),positionOption:l,alignOption:this.options.align||""},e));this._moveToPosition(t,p,i),this.eventBus.fire("hoverSeries",o,e.chartType),this._fireAfterShowTooltipPublicEvent(o,{element:t,position:p},e.silent),delete e.silent},_fireBeforeShowTooltipPublicEvent:function(t,e){if(!e){var i=this._makeShowTooltipParams(t);this.eventBus.fire(s["default"].PUBLIC_EVENT_PREFIX+"beforeShowTooltip",i)}},_fireAfterShowTooltipPublicEvent:function(t,e,i){if(!i){var n=this._makeShowTooltipParams(t,e);this.eventBus.fire(s["default"].PUBLIC_EVENT_PREFIX+"afterShowTooltip",n)}},_executeHidingTooltip:function(t){h["default"].removeClass(t,"show"),t.removeAttribute("data-groupIndex"),t.removeAttribute("data-index"),t.style.cssText=""},_hideTooltip:function(t,e,i){var n=this,o=this._getIndexesCustomAttribute(t),r=t.getAttribute("data-chart-type"),a=!(!i||!i.silent);l["default"].isChartToDetectMouseEventOnSeries(r)?(this.eventBus.fire("hoverOffSeries",o,r),this._fireBeforeHideTooltipPublicEvent(o,a),this._executeHidingTooltip(t)):r&&(this._setShowedCustomAttribute(t,!1),this.eventBus.fire("hoverOffSeries",o,r),this._isChangedIndexes(this.prevIndexes,o)&&delete this.prevIndexes,setTimeout(function(){n._isShowedTooltip(t)||(n._fireBeforeHideTooltipPublicEvent(o,a),n._executeHidingTooltip(t))},s["default"].HIDE_DELAY))},_fireBeforeHideTooltipPublicEvent:function(t,e){var i=void 0;e||this.eventBus.fire(s["default"].PUBLIC_EVENT_PREFIX+"beforeHideTooltip",i)},onShowTooltipContainer:function(){this.tooltipContainer.style.zIndex=s["default"].TOOLTIP_ZINDEX},onHideTooltipContainer:function(){this.tooltipContainer.style.zIndex=0},mixin:function(t){r["default"].extend(t.prototype,this)}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=i(392),r=n(o),a={HTML_DEFAULT_TEMPLATE:'<div class="tui-chart-default-tooltip"><div class="tui-chart-tooltip-head {{ categoryVisible }}">{{ category }}</div><div class="tui-chart-tooltip-body"><span class="tui-chart-legend-rect {{ chartType }}" style="{{ cssText }}"></span><span>{{ legend }}</span><span class="tui-chart-tooltip-value">{{ label }}{{ suffix }}</span></div></div>',HTML_PIE_TEMPLATE:'<div class="tui-chart-default-tooltip"><div class="tui-chart-tooltip-head {{ categoryVisible }}">{{ category }}</div><div class="tui-chart-tooltip-body"><span class="tui-chart-legend-rect {{ chartType }}" style="{{ cssText }}"></span><span>{{ legend }}</span><span class="tui-chart-tooltip-value">{{ ratioLabel }} ( {{ label }} {{ suffix }})</span></div></div>',HTML_COORDINATE_TYPE_CHART_TEMPLATE:'<div class="tui-chart-default-tooltip"><div class="tui-chart-tooltip-head {{ categoryVisible }}"><span class="tui-chart-legend-rect {{ chartType }}" style="{{ cssText }}"></span>{{ category }}</div><div class="tui-chart-tooltip-body"><span class="tui-chart-legend-rect {{ chartType }}" style="{{ cssText }}"></span><span>{{ legend }}</span><span class="tui-chart-tooltip-value">{{ label }}</span></div><table class="tui-chart-tooltip-body">{{ valueTypes }}</table></div>',HTML_GROUP:'<div class="tui-chart-default-tooltip tui-chart-group-tooltip"><div class="tui-chart-tooltip-head">{{ category }}</div><table class="tui-chart-tooltip-body">{{ items }}</table></div>',HTML_GROUP_TYPE:'<tr><td colspan="3" class="tui-chart-tooltip-type">{{ type }}</div></tr>',HTML_GROUP_ITEM:'<tr><td><div class="tui-chart-legend-rect {{ chartType }}" style="{{ cssText }}"></div></td><td>{{ legend }}</td><td class="tui-chart-tooltip-value">{{ value }} {{ suffix }}</td></tr>',GROUP_CSS_TEXT:"background-color:{{ color }}",HTML_MAP_CHART_DEFAULT_TEMPLATE:'<div class="tui-chart-default-tooltip"><div class="tui-chart-tooltip-body"><span class="tui-chart-legend-rect {{ chartType }}" style="{{ cssText }}"></span><span>{{ name }}</span><span class="tui-chart-tooltip-value">{{ value }}{{ suffix }}</span></div></div>',HTML_HEATMAP_TEMPLATE:'<div class="tui-chart-default-tooltip"><div class="tui-chart-tooltip-head {{ categoryVisible }}">{{ category }}</div><div class="tui-chart-tooltip-body"><span class="tui-chart-legend-rect {{ chartType }}" style="{{ cssText }}"></span><span>{{ label }}{{ suffix }}</span></div></div>',HTML_BOXPLOT_TEMPLATE:'<div class="tui-chart-default-tooltip"><div class="tui-chart-tooltip-head {{ categoryVisible }}">{{ category }}</div><table class="tui-chart-tooltip-body"><tr><td colspan="2"><span class="tui-chart-legend-rect {{ chartType }}" style="{{ cssText }}"></span>{{ legend }}</td></tr><tr><td>Maximum: </td><td class="tui-chart-tooltip-value">{{ maxLabel }} {{ suffix }}</td></tr><tr><td>Upper Quartile: </td><td class="tui-chart-tooltip-value">{{ uqLabel }} {{ suffix }}</td></tr><tr><td>Median: </td><td class="tui-chart-tooltip-value">{{ medianLabel }} {{ suffix }}</td></tr><tr><td>Lower Quartile: </td><td class="tui-chart-tooltip-value">{{ lqLabel }} {{ suffix }}</td></tr><tr><td>Minimum: </td><td class="tui-chart-tooltip-value">{{ minLabel }} {{ suffix }}</td></tr></table></div>',HTML_BOXPLOT_OUTLIER:'<div class="tui-chart-default-tooltip"><div class="tui-chart-tooltip-head {{ categoryVisible }}">{{ category }}</div><div class="tui-chart-tooltip-body"><span>{{ legend }}</span></div><div class="tui-chart-tooltip-body"><span>Outlier: </span><span class="tui-chart-tooltip-value">{{ label }} {{ suffix }}</span></div></div>',HTML_BULLET_TEMPLATE:'<div class="tui-chart-default-tooltip"><div class="tui-chart-tooltip-body {{ categoryVisible }}"><span class="tui-chart-legend-rect {{ chartType }}" style="{{ cssText }}"></span><span>{{ category }}</span><span class="tui-chart-tooltip-value">{{ label }} {{ suffix }}</span></div></div>'};e["default"]={tplDefault:r["default"].template(a.HTML_DEFAULT_TEMPLATE),tplPieChart:r["default"].template(a.HTML_PIE_TEMPLATE),tplCoordinatetypeChart:r["default"].template(a.HTML_COORDINATE_TYPE_CHART_TEMPLATE),tplGroup:r["default"].template(a.HTML_GROUP),tplGroupType:r["default"].template(a.HTML_GROUP_TYPE),tplGroupItem:r["default"].template(a.HTML_GROUP_ITEM),tplGroupCssText:r["default"].template(a.GROUP_CSS_TEXT),tplMapChartDefault:r["default"].template(a.HTML_MAP_CHART_DEFAULT_TEMPLATE),tplHeatmapChart:r["default"].template(a.HTML_HEATMAP_TEMPLATE),tplBoxplotChartDefault:r["default"].template(a.HTML_BOXPLOT_TEMPLATE),tplBoxplotChartOutlier:r["default"].template(a.HTML_BOXPLOT_OUTLIER),tplBulletChartDefault:r["default"].template(a.HTML_BULLET_TEMPLATE)}},function(t,e){"use strict";e.__esModule=!0;var i=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(u){o=!0,r=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e["default"]={template:function(t){return function(e){var n=t;return Object.entries(e).forEach(function(t){var e=i(t,2),o=e[0],r=e[1],a=new RegExp("{{\\s*"+o+"\\s*}}","g");n=n.replace(a,String(r).replace("$",""))}),n}}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);
t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return new w(t)}e.__esModule=!0,e["default"]=s;var u=i(389),l=n(u),c=i(394),h=n(c),p=i(335),f=n(p),d=i(336),y=n(d),g=i(334),m=n(g),_=i(362),v=n(_),T=i(391),b=n(T),x=i(333),E=n(x),A=i(342),D=n(A),S=f["default"].TOOLTIP_DEFAULT_GROUP_ALIGN_OPTION,M=f["default"].TOOLTIP_DEFAULT_GROUP_HORIZONTAL_ALIGN_OPTION,L=f["default"].SERIES_EXPAND_SIZE,C=f["default"].PUBLIC_EVENT_PREFIX,w=function(t){function e(i){o(this,e);var n=r(this,t.call(this,i));return n.prevIndex=null,n.isBullet=D["default"].isBulletChart(i.chartType),n}return a(e,t),e.prototype._makeTooltipHtml=function(t,e,i,n){var o=b["default"].tplGroupItem,r=b["default"].tplGroupCssText,a=D["default"].isBarTypeChart(this.chartType),s=D["default"].isBoxplotChart(this.chartType),u=(a||s)&&this.dataProcessor.options.series.colorByPoint,l=this._makeColors(this.theme,n),c=void 0,h=e.map(function(t,e){var i=t.type,n="data"!==i&&c!==i,a="";return c=i,t.value?(n&&(a=b["default"].tplGroupType({type:i})),a+=o(E["default"].extend({cssText:r({color:u?"#aaa":l[e]})},t))):null}).join("");return b["default"].tplGroup({category:t,items:h})},e.prototype._setDefaultTooltipPositionOption=function(){this.options.align||(this.isVertical?this.options.align=S:this.options.align=M)},e.prototype.render=function(t){var e=l["default"].prototype.render.call(this,t),i=this.dimensionMap.chart,n=this.layout;return t.checkedLegends&&(this.theme=this._updateLegendTheme(t.checkedLegends)),this.positionModel=new h["default"](i,n,this.isVertical,this.options),e},e.prototype.rerender=function(t){l["default"].prototype.rerender.call(this,t),this.prevIndex=null,t.checkedLegends&&(this.theme=this._updateLegendTheme(t.checkedLegends))},e.prototype.zoom=function(){this.prevIndex=null,l["default"].prototype.zoom.call(this)},e.prototype._updateLegendTheme=function(t){var e=this,i=[],n=Object.keys(this.originalTheme);return n.forEach(function(n){var o=e.originalTheme[n].colors;o.forEach(function(e,o){var r=t[n]||t;r[o]&&i.push(e)})}),{colors:i}},e.prototype.makeTooltipData=function(){var t=this,e=this.dataProcessor.getCategoryCount(this.isVertical);return this.dataProcessor.getSeriesGroups().map(function(i,n){var o=i.map(function(t){return{type:t.type||"data",label:t.label}});return{category:t.dataProcessor.makeTooltipCategory(n,e-n,t.isVertical),values:o}})},e.prototype._makeColors=function(t,e){var i=0,n=this.dataProcessor.getLegendData(),o=void 0,r=void 0;if(this.isBullet)return this.dataProcessor.getGraphColors()[e];if(t.colors)return t.colors;var a=v["default"].series.colors.slice(0,n.length);return E["default"].pluck(n,"chartType").map(function(e){r!==e&&(o=t[e]?t[e].colors:a,i=0),r=e;var n=o[i];return i+=1,n})},e.prototype._makeItemRenderingData=function(t,e){var i=this,n=this.dataProcessor,o=this.suffix;return t.map(function(t,r){var a={value:t.label,type:t.type,suffix:o,legend:""},s=void 0;return i.isBullet?s=n.getLegendItem(e):(s=n.getLegendItem(r),a.legend=s.label),a.chartType=s.chartType,a})},e.prototype._makeGroupTooltipHtml=function(t){var e=this.data[t],i="";if(e){var n=this._makeItemRenderingData(e.values,t);i=this.templateFunc(e.category,n,this.getRawCategory(t),t)}return i},e.prototype._getTooltipSectorElement=function(){if(!this.groupTooltipSector){var t=this.groupTooltipSector=y["default"].create("DIV","tui-chart-group-tooltip-sector");y["default"].append(this.tooltipContainer,t)}return this.groupTooltipSector},e.prototype._makeVerticalTooltipSectorBound=function(t,e,i){var n=void 0;return n=i?1:e.end-e.start,{dimension:{width:n,height:t},position:{left:e.start,top:L}}},e.prototype._makeHorizontalTooltipSectorBound=function(t,e){return{dimension:{width:t,height:e.end-e.start},position:{left:L,top:e.start}}},e.prototype._makeTooltipSectorBound=function(t,e,i,n){return i?this._makeVerticalTooltipSectorBound(t,e,n):this._makeHorizontalTooltipSectorBound(t,e)},e.prototype._showTooltipSector=function(t,e,i,n,o){var r=this._getTooltipSectorElement(),a=e.start===e.end,s=this._makeTooltipSectorBound(t,e,i,a);a?this.eventBus.fire("showGroupTooltipLine",s):(m["default"].renderDimension(r,s.dimension),m["default"].renderPosition(r,s.position),y["default"].addClass(r,"show")),o&&(n-=1),this.eventBus.fire("showGroupAnimation",n)},e.prototype._hideTooltipSector=function(t){var e=this._getTooltipSectorElement();y["default"].hasClass(e,"show")?y["default"].removeClass(e,"show"):this.eventBus.fire("hideGroupTooltipLine"),this.eventBus.fire("hideGroupAnimation",t),this.eventBus.fire("hideGroupTooltipLine")},e.prototype._showTooltip=function(t,e,i){E["default"].isNull(this.prevIndex)||this.eventBus.fire("hideGroupAnimation",this.prevIndex),t.innerHTML=this._makeGroupTooltipHtml(e.index),this._fireBeforeShowTooltipPublicEvent(e.index,e.range,e.silent),document.getElementsByClassName&&this.makeLineLegendIcon(t.querySelectorAll(".tui-chart-legend-rect.line")),y["default"].addClass(t,"show"),this._showTooltipSector(e.size,e.range,e.isVertical,e.index,e.isMoving);var n=this.getTooltipDimension(t),o=this.positionModel.calculatePosition(n,e.range);this._moveToPosition(t,o,i),this._fireAfterShowTooltipPublicEvent(e.index,e.range,{element:t,position:o},e.silent),this.prevIndex=e.index},e.prototype._fireBeforeShowTooltipPublicEvent=function(t,e,i){i||this.eventBus.fire(C+"beforeShowTooltip",{chartType:this.chartType,index:t,range:e})},e.prototype._fireAfterShowTooltipPublicEvent=function(t,e,i,n){n||this.eventBus.fire(C+"afterShowTooltip",Object.assign({chartType:this.chartType,index:t,range:e},i))},e.prototype._hideTooltip=function(t,e,i){var n=!(!i||!i.silent);this.prevIndex=null,this._fireBeforeHideTooltipPublicEvent(e,n),this._hideTooltipSector(e),y["default"].removeClass(t,"show"),t.style.cssText=""},e.prototype._fireBeforeHideTooltipPublicEvent=function(t,e){e||this.eventBus.fire(C+"beforeHideTooltip",{chartType:this.chartType,index:t})},e}(l["default"]);s.componentType="tooltip",s.GroupTooltip=w},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=i(335),a=n(r),s=function(){function t(e,i,n,r){o(this,t),this.chartDimension=e,this.areaBound=i,this.isVertical=n,this.options=r,this.positions={},this._setData(e,i,n,r)}return t.prototype._getHorizontalDirection=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=void 0;return e=t.indexOf("left")>-1?a["default"].TOOLTIP_DIRECTION_BACKWARD:t.indexOf("center")>-1?a["default"].TOOLTIP_DIRECTION_CENTER:a["default"].TOOLTIP_DIRECTION_FORWARD},t.prototype._makeVerticalData=function(t,e,i){var n=this._getHorizontalDirection(i);return{positionType:"left",sizeType:"width",direction:n,areaPosition:e.position.left,areaSize:e.dimension.width,chartSize:t.width,basePosition:a["default"].SERIES_EXPAND_SIZE}},t.prototype._getVerticalDirection=function(t){var e=void 0;return t=t||"",e=t.indexOf("top")>-1?a["default"].TOOLTIP_DIRECTION_BACKWARD:t.indexOf("bottom")>-1?a["default"].TOOLTIP_DIRECTION_FORWARD:a["default"].TOOLTIP_DIRECTION_CENTER},t.prototype._makeHorizontalData=function(t,e,i){var n=this._getVerticalDirection(i);return{positionType:"top",sizeType:"height",direction:n,areaPosition:e.position.top,areaSize:e.dimension.height,chartSize:t.height,basePosition:a["default"].SERIES_EXPAND_SIZE}},t.prototype._setData=function(t,e,i,n){var o=this._makeVerticalData(t,e,n.align),r=this._makeHorizontalData(t,e,n.align),a=n.offset||{};i?(this.mainData=o,this.subData=r):(this.mainData=r,this.subData=o),this.positionOption={},this.positionOption.left=a.x||0,this.positionOption.top=a.y||0,this.positions={}},t.prototype._calculateMainPositionValue=function(t,e,i){var n=e.start===e.end,o=9,r=5,s=n?o:r,u=i.basePosition;return u+=i.direction===a["default"].TOOLTIP_DIRECTION_FORWARD?e.end+s:i.direction===a["default"].TOOLTIP_DIRECTION_BACKWARD?e.start-t-s:n?e.start-t/2:e.start+(e.end-e.start-t)/2},t.prototype._calculateSubPositionValue=function(t,e){var i=e.areaSize/2,n=void 0;return n=e.direction===a["default"].TOOLTIP_DIRECTION_FORWARD?i+e.basePosition:e.direction===a["default"].TOOLTIP_DIRECTION_BACKWARD?i-t+e.basePosition:i-t/2+e.basePosition},t.prototype._makePositionValueDiff=function(t,e,i){return t+i.areaPosition+e-i.chartSize},t.prototype._adjustBackwardPositionValue=function(t,e,i,n){var o=void 0;return t<-n.areaPosition&&(o=this._calculateMainPositionValue(i,e,{direction:a["default"].TOOLTIP_DIRECTION_FORWARD,basePosition:n.basePosition}),t=this._makePositionValueDiff(o,i,n)>0?-n.areaPosition:o),t},t.prototype._adjustForwardPositionValue=function(t,e,i,n){var o=this._makePositionValueDiff(t,i,n);if(o>0){var r=this._calculateMainPositionValue(i,e,{direction:a["default"].TOOLTIP_DIRECTION_BACKWARD,basePosition:n.basePosition});r<-n.areaPosition?t-=o:t=r}return t},t.prototype._adjustMainPositionValue=function(t,e,i,n){return n.direction===a["default"].TOOLTIP_DIRECTION_BACKWARD?t=this._adjustBackwardPositionValue(t,e,i,n):n.direction===a["default"].TOOLTIP_DIRECTION_FORWARD?t=this._adjustForwardPositionValue(t,e,i,n):(t=Math.max(t,-n.areaPosition),t=Math.min(t,n.chartSize-n.areaPosition-i)),t},t.prototype._adjustSubPositionValue=function(t,e,i){return t=i.direction===a["default"].TOOLTIP_DIRECTION_FORWARD?Math.min(t,i.chartSize-i.areaPosition-e):Math.max(t,-i.areaPosition)},t.prototype._makeCachingKey=function(t){var e=t.start,i=t.end;return e+"-"+i},t.prototype._addPositionOptionValue=function(t,e){return t+this.positionOption[e]},t.prototype._makeMainPositionValue=function(t,e,i){var n=this._calculateMainPositionValue(t[i.sizeType],e,i);return n=this._addPositionOptionValue(n,i.positionType),n=this._adjustMainPositionValue(n,e,t[i.sizeType],i)},t.prototype._makeSubPositionValue=function(t,e){var i=this._calculateSubPositionValue(t[e.sizeType],e);return i=this._addPositionOptionValue(i,e.positionType),i=this._adjustSubPositionValue(i,t[e.sizeType],e)},t.prototype.calculatePosition=function(t,e){var i=this._makeCachingKey(e),n=this.mainData,o=this.subData,r=this.positions[i];return r||(r={},r[n.positionType]=this._makeMainPositionValue(t,e,n),r[o.positionType]=this._makeSubPositionValue(t,o),this.positions[i]=r),r},t.prototype.updateOptions=function(t){this.options=t,this._setData(this.chartDimension,this.areaBound,this.isVertical,t)},t.prototype.updateBound=function(t){this.areaBound=t,this._setData(this.chartDimension,t,this.isVertical,this.options)},t}();e["default"]=s},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return new _(t)}e.__esModule=!0,e["default"]=s;var u=i(335),l=n(u),c=i(389),h=n(c),p=i(390),f=n(p),d=i(391),y=n(d),g=i(333),m=n(g),_=function(t){function e(i){o(this,e);var n=r(this,t.call(this,i));return n.mapModel=i.mapModel,n.colorSpectrum=i.colorSpectrum,n}return a(e,t),e.prototype._makeTooltipHtml=function(t){return y["default"].tplMapChartDefault(t)},e.prototype._makeSingleTooltipHtml=function(t,e){var i=this.mapModel.getDatum(e.index),n=this.options.suffix?" "+this.options.suffix:"";return this.templateFunc({name:i.name||i.code,value:i.label,suffix:n,cssText:"background-color: "+this.colorSpectrum.getColor(i.ratio)})},e.prototype._makeShowTooltipParams=function(t,e){var i=this.mapModel.getDatum(t.index),n=m["default"].extend({chartType:this.chartType,code:i.code,name:i.name,value:i.label,index:t.index},e);return n},e.prototype._setDefaultTooltipPositionOption=function(){this.options.align||(this.options.align=l["default"].TOOLTIP_DEFAULT_ALIGN_OPTION)},e}(h["default"]);f["default"].mixin(_),s.componentType="tooltip"},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return new T(t)}e.__esModule=!0,e["default"]=s;var u=i(397),l=n(u),c=i(335),h=n(c),p=i(382),f=n(p),d=i(336),y=n(d),g=i(334),m=n(g),_=i(333),v=n(_),T=function(t){function e(i){o(this,e);var n=r(this,t.call(this));return n.chartType=i.chartType,n.eventBus=i.eventBus,n.isDown=!1,n.drawingType=h["default"].COMPONENT_TYPE_DOM,n}return a(e,t),e.prototype._renderMouseEventDetectorArea=function(t){m["default"].renderDimension(t,this.layout.dimension),m["default"].renderPosition(t,this.layout.position)},e.prototype._onClick=function(){},e.prototype._onMousedown=function(t){this.isDown=!0,this.eventBus.fire("dragStartMapSeries",{left:t.clientX,top:t.clientY})},e.prototype._dragEnd=function(){this.isDrag=!1,y["default"].removeClass(this.mouseEventDetectorContainer,"drag"),this.eventBus.fire("dragEndMapSeries")},e.prototype._onMouseup=function(t){this.isDown=!1,this.isDrag?this._dragEnd():this._onMouseEvent("click",t),this.isMove=!1},e.prototype._onMousemove=function(t){this.isDown?(this.isDrag||y["default"].addClass(this.mouseEventDetectorContainer,"drag"),this.isDrag=!0,this.eventBus.fire("dragMapSeries",{left:t.clientX,top:t.clientY})):(this.isMove=!0,this._onMouseEvent("move",t))},e.prototype._onMouseout=function(t){this.isDrag?this._dragEnd():this._onMouseEvent("move",t),this.isDown=!1},e.prototype._onMousewheel=function(t){var e=t.wheelDelta||t.detail*h["default"].FF_WHEELDELTA_ADJUSTING_VALUE;return this.eventBus.fire("wheel",e,{left:t.clientX,top:t.clientY}),t.preventDefault&&t.preventDefault(),!1},e.prototype.attachEvent=function(t){l["default"].prototype.attachEvent.call(this,t),v["default"].browser.firefox?f["default"].on(t,"DOMMouseScroll",this._onMousewheel,this):f["default"].on(t,"mousewheel",this._onMousewheel,this)},e}(l["default"]);s.componentType="mouseEventDetector"},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=i(398),a=n(r),s=i(399),u=n(s),l=i(335),c=n(l),h=i(382),p=n(h),f=i(342),d=n(f),y=i(336),g=n(y),m=i(334),_=n(m),v=i(333),T=n(v),b=function(){function t(e){if(o(this,t),e){this.chartType=e.chartType,this.chartTypes=e.chartTypes,this.isVertical=e.isVertical,this.dataProcessor=e.dataProcessor,this.allowSelect=e.allowSelect,this.eventBus=e.eventBus,this.layout=null,this.selectedData=null;var i=d["default"].isLineTypeChart(this.chartType,this.chartTypes);this.expandSize=i?c["default"].SERIES_EXPAND_SIZE:0,this.seriesItemBoundsData=[],this.seriesCount=d["default"].isComboChart(this.chartType)?2:1,this._attachToEventBus(),this.drawingType=c["default"].COMPONENT_TYPE_DOM}}return t.prototype._attachToEventBus=function(){this.eventBus.on("receiveSeriesData",this.onReceiveSeriesData,this)},t.prototype._getRenderingBound=function(){var t=_["default"].expandBound(this.layout);return t},t.prototype._renderMouseEventDetectorArea=function(t,e){this.dimension=this.layout.dimension;var i=new a["default"](this.layout,e,this.chartType,this.isVertical,this.chartTypes);this.tickBaseCoordinateModel=i;var n=this._getRenderingBound(),o=n.dimension,r=n.position;_["default"].renderDimension(t,o),_["default"].renderPosition(t,r)},t.prototype._setDataForRendering=function(t){this.layout=t.layout},t.prototype._pickTickCount=function(t){return this.isVertical?t.xAxis.eventTickCount||t.xAxis.tickCount:t.yAxis.tickCount},t.prototype.render=function(t){this.positionMap=t.positionMap;var e=t.paper,i=void 0;return g["default"].addClass(e,"tui-chart-series-custom-event-area"),e.style.backgroundColor="aliceblue",t.axisDataMap.xAxis&&(i=this._pickTickCount(t.axisDataMap)),this._setDataForRendering(t),this._renderMouseEventDetectorArea(e,i),this.attachEvent(e),this.mouseEventDetectorContainer=e,this.transparentChild=this._createTransparentChild(),g["default"].append(e,this.transparentChild),e},t.prototype._createTransparentChild=function(){var t=document.createElement("DIV"),e=t.style;return e.backgroundColor="#fff",e.height=_["default"].getStyle(this.mouseEventDetectorContainer).height,_["default"].setOpacity(t,0),t},t.prototype._calculateLayerPosition=function(t,e,i){var n=this.mouseEventDetectorContainer.getBoundingClientRect(),o=n.left,r=n.right,a=n.top,s=this.positionMap.series,u=this.expandSize,l={};if(i=!!T["default"].isUndefined(i)||i){var h=r-u,p=o+u;t=Math.min(Math.max(t,p),h)}return l.x=t-o+s.left-c["default"].CHART_PADDING,T["default"].isUndefined(e)||(l.y=e-a+s.top-c["default"].CHART_PADDING),l},t.prototype.onReceiveSeriesData=function(t){var e=this.seriesCount,i=this.seriesItemBoundsData;i.length===e&&(i=[]),i.push(t),i.length===e&&(this.boundsBaseCoordinateModel=new u["default"](i))},t.prototype.rerender=function(t){var e=void 0;t.axisDataMap.xAxis&&(e=this._pickTickCount(t.axisDataMap)),this.selectedData=null,this._setDataForRendering(t),this._renderMouseEventDetectorArea(this.mouseEventDetectorContainer,e),this.transparentChild.style.height=_["default"].getStyle(this.mouseEventDetectorContainer).height},t.prototype.resize=function(t){this.containerBound=null,this.rerender(t)},t.prototype._isChangedSelectData=function(t,e){return!t||!e||t.chartType!==e.chartType||t.indexes.groupIndex!==e.indexes.groupIndex||t.indexes.index!==e.indexes.index},t.prototype._findDataFromBoundsCoordinateModel=function(t){var e=t.x,i=t.y,n=void 0;return n=d["default"].isTreemapChart(this.chartType)?0:this.tickBaseCoordinateModel.findIndex(this.isVertical?e:i),this.boundsBaseCoordinateModel.findData(n,e,i)},t.prototype._findData=function(t,e){var i=this._calculateLayerPosition(t,e);return this._findDataFromBoundsCoordinateModel(i)},t.prototype._showTooltip=function(){},t.prototype._hideTooltip=function(){},t.prototype._onMouseEvent=function(t,e){g["default"].addClass(this.mouseEventDetectorContainer,"hide"),this.eventBus.fire(t+"Series",{left:e.clientX,top:e.clientY}),g["default"].removeClass(this.mouseEventDetectorContainer,"hide")},t.prototype._unselectSelectedData=function(){this.eventBus.fire("unselectSeries",this.selectedData),this.selectedData=null},t.prototype._onClick=function(t){var e=this._findData(t.clientX,t.clientY);this._isChangedSelectData(this.selectedData,e)?e&&(this.selectedData&&this._unselectSelectedData(),this.eventBus.fire("selectSeries",e),this.allowSelect&&(this.selectedData=e)):this._unselectSelectedData()},t.prototype._onMousedown=function(){},t.prototype._onMouseup=function(){},t.prototype._onMousemove=function(){},t.prototype._onMouseout=function(){},t.prototype.attachEvent=function(t){p["default"].on(t,{click:this._onClick,mousedown:this._onMousedown,mouseup:this._onMouseup,mousemove:this._onMousemove,mouseout:this._onMouseout},this)},t.prototype.findDataByIndexes=function(){},t.prototype._setPrevClientPosition=function(t){t?this.prevClientPosition={x:t.clientX,y:t.clientY}:this.prevClientPosition=null},t}();T["default"].CustomEvents.mixin(b),e["default"]=b},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=i(342),a=n(r),s=i(337),u=n(s),l=i(333),c=n(l),h=function(){function t(e,i,n,r,s){o(this,t),this.isLineType=a["default"].isLineTypeChart(n,s),this.data=this._makeData(e,i,r)}return t.prototype._getRanges=function(t,e,i){var n=e,o=i/2;return c["default"].range(0,t).map(function(){var t={min:n-o,max:n+o};return n+=i,t})},t.prototype._makeLineTypeData=function(t,e,i){var n=(t+1)/(e-1),o=this._getRanges(e,i||0,n);return o[e-1].max-=1,o},t.prototype._makeNormalData=function(t,e,i){var n=e-1,o=t/n,r=i||0;return c["default"].range(0,n).map(function(){var e=u["default"].min([t+r,o+r]),i={min:r,max:e};return r=e,i})},t.prototype._makeData=function(t,e,i){var n=i?"width":"height",o=i?"left":"top";return this.isLineType?this._makeLineTypeData(t.dimension[n],e,t.position[o]):this._makeNormalData(t.dimension[n],e,t.position[o])},t.prototype.findIndex=function(t){var e=-1;return this.data.forEach(function(i,n){return!(i.min<t&&i.max>=t)||(e=n,!1)}),e},t.prototype.getLastIndex=function(){return this.data.length-1},t.prototype.makeRange=function(t,e){var i=this.data[t],n=void 0,o=void 0;return this.isLineType?(o=parseInt(i.max-(i.max-i.min)/2,10),n={start:o,end:o}):n={start:i.min-(e||0),end:i.max-(e||0)},n},t}();e["default"]=h},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=i(335),s=n(a),u=i(342),l=n(u),c=i(337),h=n(c),p=i(333),f=n(p),d=function(){function t(e){r(this,t),this.data=this._makeData(e)}return t.prototype._makeTooltipData=function(t,e,i,n){return{sendData:{chartType:t,indexes:e,allowNegativeTooltip:i,bound:n},bound:{left:n.left,top:n.top,right:n.left+n.width,bottom:n.top+n.height}}},t.prototype._makeRectTypePositionData=function(t,e){var i=this,n=!l["default"].isBoxTypeChart(e);return t.map(function(t,o){return t.map(function(t,r){return t?i._makeTooltipData(e,{groupIndex:o,index:r},n,t.end||t):null})})},t.prototype._makeOutliersPositionDataForBoxplot=function(t,e,i){var n=this,r=!l["default"].isBoxTypeChart(e),a=[].concat(o(t));a.forEach(function(t,o){t.forEach(function(t,a){var s=void 0;t.outliers&&t.outliers.length&&(s=t.outliers.map(function(t,i){var s={top:t.top-3,left:t.left-3,width:6,height:6};return n._makeTooltipData(e,{groupIndex:o,index:a,outlierIndex:i},r,s)}),i[o]=i[o].concat(s))})})},t.prototype._makeDotTypePositionData=function(t,e){return t?h["default"].pivot(t).map(function(t,i){return t.map(function(t,n){return t?{sendData:{chartType:e,indexes:{groupIndex:i,index:n},bound:t},bound:{left:t.left-s["default"].DOT_RADIUS,top:t.top-s["default"].DOT_RADIUS,right:t.left+s["default"].DOT_RADIUS,bottom:t.top+s["default"].DOT_RADIUS}}:null})}):[]},t.prototype._joinData=function(t){var e=[];return t.forEach(function(t){t.forEach(function(t,i){var n=void 0;e[i]?(n=e[i].length,t.forEach(function(t){t&&(t.sendData.indexes.legendIndex=t.sendData.indexes.index+n)}),e[i]=e[i].concat(t)):e[i]=t})}),e},t.prototype._makeData=function(t){var e=this,i=t.map(function(t){var i=void 0;return i=l["default"].isLineTypeChart(t.chartType)?e._makeDotTypePositionData(t.data.groupPositions,t.chartType):e._makeRectTypePositionData(t.data.groupBounds,t.chartType),l["default"].isBoxplotChart(t.chartType)&&e._makeOutliersPositionDataForBoxplot(t.data.groupBounds,t.chartType,i),i});return this._joinData(i)},t.prototype._findCandidates=function(t,e,i){var n=this;return t.filter(function(t){var o=t&&t.bound;return!!o&&(o.top===o.bottom&&(o.top-=s["default"].SERIES_EXTRA_EVENT_AREA_FOR_ZERO,o.bottom+=s["default"].SERIES_EXTRA_EVENT_AREA_FOR_ZERO),o.left===o.right&&(o.left-=s["default"].SERIES_EXTRA_EVENT_AREA_FOR_ZERO,o.right+=s["default"].SERIES_EXTRA_EVENT_AREA_FOR_ZERO),n._isCandidateTarget(o,{layerX:e,layerY:i}))})},t.prototype._isCandidateTarget=function(t,e){var i=e.layerX,n=e.layerY,o=t.left<=i&&t.right>=i,r=t.top<=n&&t.bottom>=n;return o&&r},t.prototype.findData=function(t,e,i){var n=1e4,o=null;if(t>-1&&this.data[t]){var r=this._findCandidates(this.data[t],e,i);r.forEach(function(t){var e=Math.abs(i-t.bound.top);n>e&&(n=e,o=t.sendData)})}return o},t.prototype.findDataByIndexes=function(t){var e=this.data[t.index][t.seriesIndex].sendData;return f["default"].isNumber(t.outlierIndex)?this._findOutlierDataByIndexes(t):e},t.prototype._findOutlierDataByIndexes=function(t){var e=null;return this.data[t.index].forEach(function(i){var n=i.sendData.indexes,o=n.index===t.seriesIndex&&n.outlierIndex===t.outlierIndex;return o&&(e=i.sendData),!o}),e},t}();e["default"]=d},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=t.chartOptions,i=t.seriesTypes,n=e.chartType,o=e.series,r=o.zoomable,s=o.allowSelect,l=void 0;return l=t.chartOptions.tooltip.grouped?p["default"]:a["default"].isMapChart(n)?g["default"]:a["default"].isBarTypeChart(n)||a["default"].isBoxplotChart(n)||a["default"].isHeatmapChart(n)||a["default"].isTreemapChart(n)||a["default"].isBulletChart(n)?d["default"]:a["default"].isCoordinateTypeChart(n)||a["default"].isPieChart(n)||a["default"].isPieDonutComboChart(n,i)?c["default"]:u["default"],t.chartType=n,t.chartTypes=i,t.zoomable=r,t.allowSelect=s,l(t)}e.__esModule=!0,e["default"]=o;var r=i(342),a=n(r),s=i(401),u=n(s),l=i(404),c=n(l),h=i(405),p=n(h),f=i(406),d=n(f),y=i(396),g=n(y);o.componentType="mouseEventDetector"},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return new m(t)}e.__esModule=!0,e["default"]=s;var u=i(397),l=n(u),c=i(402),h=n(c),p=i(403),f=n(p),d=i(333),y=n(d),g=50,m=function(t){function e(i){o(this,e);var n=r(this,t.call(this,i));return n.prevFoundData=null,n.prevClientPosition=null,n.zoomable=i.zoomable,n.zoomable&&(y["default"].extend(n,h["default"]),n._initForZoom(i.zoomable)),n}return a(e,t),e.prototype.animateForAddingData=function(){if(this.prevClientPosition){var t=this._findData(this.prevClientPosition.x,this.prevClientPosition.y);if(t){var e=this.prevFoundData.indexes.groupIndex===t.indexes.groupIndex,i=this.prevFoundData&&e;this._showTooltip(t,i)}this.prevFoundData=t}},e.prototype.onReceiveSeriesData=function(t){var e=this.seriesCount,i=this.seriesItemBoundsData;i.length===e&&(i=[]),i.push(t),i.length===e&&(this.dataModel=new f["default"](i)),this.zoomable&&this._showTooltipAfterZoom()},e.prototype._findData=function(t,e){var i=this._calculateLayerPosition(t,e),n=this.dataProcessor.selectLegendIndex;return this.dataModel.findData(i,g,n)},e.prototype._findDataForZoomable=function(t,e){var i=this._calculateLayerPosition(t,e);return this.dataModel.findData(i)},e.prototype._getFirstData=function(t){return this.dataModel.getFirstData(t)},e.prototype._getLastData=function(t){return this.dataModel.getLastData(t)},e.prototype._showTooltip=function(t){this.eventBus.fire("showTooltip",t),this.prevFoundData=t},e.prototype._hideTooltip=function(t){this.eventBus.fire("hideTooltip",this.prevFoundData,t),this.prevFoundData=null},e.prototype._onMousemove=function(t){var e=void 0;this._setPrevClientPosition(t);var i=this._findData(t.clientX,t.clientY);this.zoomable&&(e=this._isAfterDragMouseup()),!e&&this._isChangedSelectData(this.prevFoundData,i)&&(i?this._showTooltip(i):this.prevFoundData&&this._hideTooltip(),this.prevFoundData=i)},e.prototype._onMouseout=function(){this.prevFoundData&&this._hideTooltip(),this.prevClientPosition=null,this.prevFoundData=null},e.prototype.findDataByIndexes=function(t){return this.dataModel.findDataByIndexes(t)},e.prototype._setPrevClientPosition=function(t){t?this.prevClientPosition={x:t.clientX,y:t.clientY}:this.prevClientPosition=null},e}(l["default"]);s.componentType="mouseEventDetector"},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=i(397),r=n(o),a=i(335),s=n(a),u=i(336),l=n(u),c=i(334),h=n(c),p=i(382),f=n(p),d=i(333),y=n(d);e["default"]={_initForZoom:function(t){this.zoomable=t,this.dragStartIndexes=null,this.startClientPosition=null,this.startLayerX=null,this.dragSelectionElement=null,this.containerBound=null,this.isShowTooltipAfterZoom=!1,this.afterMouseup=!1,this.prevDistanceOfRange=null,this.reverseMove=null,this.resetZoomBtn=null},_showTooltipAfterZoom:function(){var t=this.isShowTooltipAfterZoom,e=void 0;this.isShowTooltipAfterZoom=!1,t&&this.dragStartIndexes&&(e=this.reverseMove?this._getFirstData(this.dragStartIndexes.index):this._getLastData(this.dragEndIndexes.index),e&&this._showTooltip(e))},_updateDimensionForDragSelection:function(t){h["default"].renderDimension(t,{height:this.layout.dimension.height})},_renderDragSelection:function(){var t=l["default"].create("DIV","tui-chart-drag-selection");return this._updateDimensionForDragSelection(t),t},render:function(t){var e=r["default"].prototype.render.call(this,t),i=this._renderDragSelection();return l["default"].append(e,i),this.dragSelectionElement=i,e},resize:function(t){this.containerBound=null,r["default"].prototype.resize.call(this,t),this._updateDimensionForDragSelection(this.dragSelectionElement)},_onClick:function(){},_isAfterDragMouseup:function(){var t=this.afterMouseup;return t&&(this.afterMouseup=!1),t},_bindDragEvent:function(t){t.setCapture&&t.setCapture(),f["default"].on(document,"mousemove",this._onDrag,this),f["default"].off(this.mouseEventDetectorContainer,"mouseup",this._onMouseup,this),f["default"].on(document,"mouseup",this._onMouseupAfterDrag,this)},_unbindDragEvent:function(){this.downTarget&&this.downTarget.releaseCapture&&this.downTarget.releaseCapture(),f["default"].off(document,"mousemove",this._onDrag,this),f["default"].off(document,"mouseup",this._onMouseupAfterDrag,this),f["default"].on(this.mouseEventDetectorContainer,"mouseup",this._onMouseup,this)},_onMousedown:function(t){if(this.zoomable){var e=t.target||t.srcElement;this.startClientPosition={x:t.clientX,y:t.clientY},this.startLayerX=this._calculateLayerPosition(t.clientX).x,this.downTarget=e,this._bindDragEvent(e)}},_showDragSelection:function(t){var e=this._calculateLayerPosition(t).x,i=Math.min(e,this.startLayerX)-this.layout.position.left,n=Math.abs(e-this.startLayerX),o=this.dragSelectionElement;o.style.left=i+"px",o.style.width=n+"px",l["default"].addClass(o,"show")},_hideDragSelection:function(){l["default"].removeClass(this.dragSelectionElement,"show")},_onDrag:function(t){var e=this.startClientPosition,i=t.target||t.srcElement;if(e){var n=this._findDataForZoomable(e.x,e.y);l["default"].hasClass(i,s["default"].CLASS_NAME_RESET_ZOOM_BTN)||(y["default"].isNull(this.dragStartIndexes)?this.dragStartIndexes=n?n.indexes:{}:this._showDragSelection(t.clientX))}},_adjustIndexRange:function(t,e){var i=[t,e].sort(function(t,e){return t-e}),n=i[1]-i[0];return 0===n?0===i[0]?i[1]+=2:(i[0]-=1,i[1]+=1):1===n&&(0===i[0]?i[1]+=1:i[0]-=1),i},_fireZoom:function(t,e){var i=t>e,n=this._adjustIndexRange(t,e),o=n[1]-n[0];this.prevDistanceOfRange!==o&&(this.prevDistanceOfRange=o,this.reverseMove=i,this.eventBus.fire("zoom",n))},_setIsShowTooltipAfterZoomFlag:function(t,e){var i=this._calculateLayerPosition(t,e,!1).x,n=this._calculateLayerPosition(t,e).x;this.isShowTooltipAfterZoom=i===n;
},_onMouseupAfterDrag:function(t){var e=this._findDataForZoomable(t.clientX,t.clientY);if(this._unbindDragEvent(),y["default"].isNull(this.dragStartIndexes)){var i=t.target||t.srcElement;l["default"].hasClass(i,s["default"].CLASS_NAME_RESET_ZOOM_BTN)?(this._hideTooltip(),this.prevDistanceOfRange=null,this.eventBus.fire("resetZoom")):r["default"].prototype._onClick.call(this,t)}else this.dragStartIndexes&&e?(this.dragEndIndexes=e.indexes,this._setIsShowTooltipAfterZoomFlag(t.clientX,t.clientY),this._hideDragSelection(),this._fireZoom(this.dragStartIndexes.groupIndex,this.dragEndIndexes.groupIndex)):(this._setIsShowTooltipAfterZoomFlag(t.clientX,t.clientY),this._hideDragSelection());this.startClientPosition=null,this.dragStartIndexes=null,this.startLayerX=null,this.afterMouseup=!0},_renderResetZoomBtn:function(){var t=l["default"].create("DIV",s["default"].CLASS_NAME_RESET_ZOOM_BTN);return t},zoom:function(t){this.prevFoundData=null,this.rerender(t),this._updateDimensionForDragSelection(this.dragSelectionElement),this.resetZoomBtn?t.isResetZoom&&(this.mouseEventDetectorContainer.removeChild(this.resetZoomBtn),this.resetZoomBtn=null):(this.resetZoomBtn=this._renderResetZoomBtn(),l["default"].append(this.mouseEventDetectorContainer,this.resetZoomBtn))}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=i(342),s=n(a),u=i(337),l=n(u),c=i(333),h=n(c),p=function(){function t(e){r(this,t),this.data=this._makeData(e),this.lastGroupIndex=0}return t.prototype._makeData=function(t){var e,i,n=t.length,r=0,a=t.map(function(t,e){var i=t.chartType,o=t.data,a=o.groupPositions||o.groupBounds;return(s["default"].isLineTypeChart(i)||s["default"].isRadialChart(i))&&(a=l["default"].pivot(a)),r=Math.max(a.length-1,r),a.map(function(t,o){return t.map(function(t,r){var a=null;return t&&(a={chartType:i,indexes:{groupIndex:o,index:r},bound:t}),n>1&&(a.indexes.legendIndex=e),a})})});return a=(e=[]).concat.apply(e,o(a)),this.lastGroupIndex=r,(i=[]).concat.apply(i,o(a)).filter(function(t){return!!t})},t.prototype.findData=function(t,e,i){var n={},o=1e5,r=void 0;return e=e||Number.MAX_VALUE,this.data.forEach(function(i){var a=t.x-i.bound.left,s=t.y-i.bound.top,u=Math.sqrt(Math.pow(a,2)+Math.pow(s,2));u<e&&u<=o&&(o=u,r=i,n[i.indexes.index]=i)}),!h["default"].isNull(i)&&n[i]&&(r=n[i]),r},t.prototype.findDataByIndexes=function(t){var e=t.index,i=t.seriesIndex,n=null;return this.data.forEach(function(t){return t.indexes.groupIndex===e&&t.indexes.index===i&&(n=t),!n}),n},t.prototype.getFirstData=function(t){var e={index:0,seriesIndex:t};return this.findDataByIndexes(e)},t.prototype.getLastData=function(t){var e={index:this.lastGroupIndex,seriesIndex:t};return this.findDataByIndexes(e)},t}();e["default"]=p},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return new d(t)}e.__esModule=!0,e["default"]=s;var u=i(335),l=n(u),c=i(397),h=n(c),p=i(334),f=n(p),d=function(t){function e(i){o(this,e);var n=r(this,t.call(this));return n.chartType=i.chartType,n.drawingType=l["default"].COMPONENT_TYPE_DOM,n.eventBus=i.eventBus,n}return a(e,t),e.prototype._renderMouseEventDetectorArea=function(t){f["default"].renderDimension(t,this.layout.dimension),f["default"].renderPosition(t,this.layout.position)},e.prototype.onReceiveSeriesData=function(){},e.prototype._onClick=function(t){this._onMouseEvent("click",t)},e.prototype._onMousemove=function(t){this._onMouseEvent("move",t)},e.prototype._onMouseout=function(t){this._onMouseEvent("move",t)},e}(h["default"]);s.componentType="mouseEventDetector"},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return new g(t)}e.__esModule=!0,e["default"]=s;var u=i(335),l=n(u),c=i(397),h=n(c),p=i(402),f=n(p),d=i(333),y=n(d),g=function(t){function e(i){o(this,e);var n=r(this,t.call(this,i));return n.prevIndex=null,n.zoomable=i.zoomable,n.sizeType=n.isVertical?"height":"width",n.zoomable&&(y["default"].extend(n,f["default"]),n._initForZoom(i.zoomable)),n}return a(e,t),e.prototype.initMouseEventDetectorData=function(t){h["default"].prototype.initMouseEventDetectorData.call(this,t),this.zoomable&&this._showTooltipAfterZoom()},e.prototype._findGroupData=function(t,e){var i=this._calculateLayerPosition(t,e,!0),n=void 0;return n=this.isVertical?i.x:i.y,{indexes:{groupIndex:this.tickBaseCoordinateModel.findIndex(n)}}},e.prototype._findDataForZoomable=function(t,e){return this._findGroupData(t,e)},e.prototype._getFirstData=function(){return{indexes:{groupIndex:0}}},e.prototype._getLastData=function(){return{indexes:{groupIndex:this.tickBaseCoordinateModel.getLastIndex()}}},e.prototype._isOuterPosition=function(t,e){var i=this.dimension,n=i.width,o=i.height,r=this.layout.position,a=r.top,s=r.left;return t<s||t>s+n||e<a||e>a+o},e.prototype._showTooltip=function(t,e){var i=t.indexes.groupIndex,n=(this.isVertical?this.layout.position.left:this.layout.position.top)-l["default"].CHART_PADDING;this.tickBaseCoordinateModel.data.length>i&&(this.eventBus.fire("showTooltip",{index:i,range:this.tickBaseCoordinateModel.makeRange(i,n),size:this.dimension[this.sizeType],isVertical:this.isVertical,isMoving:e,silent:t.silent}),this.prevIndex=i)},e.prototype._hideTooltip=function(t){this.eventBus.fire("hideTooltip",this.prevIndex,t),this.prevIndex=null},e.prototype._onMousemove=function(t){if(!this.zoomable||!this._isAfterDragMouseup()){var e=this._findGroupData(t.clientX,t.clientY),i=e.indexes.groupIndex;i===-1?this._onMouseout(t):this.prevIndex!==i&&this._showTooltip(e)}},e.prototype._onMouseout=function(t){var e=this._calculateLayerPosition(t.clientX,t.clientY,!1),i=e.x,n=e.y;this._isOuterPosition(i,n)&&!y["default"].isNull(this.prevIndex)&&this._hideTooltip()},e}(h["default"]);s.componentType="mouseEventDetector"},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return new g(t)}e.__esModule=!0,e["default"]=s;var u=i(397),l=n(u),c=i(335),h=n(c),p=i(342),f=n(p),d=i(336),y=n(d),g=function(t){function e(){o(this,e);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];var s=r(this,t.call.apply(t,[this].concat(n)));return s.prevFoundData=null,s.zoomHistory=[-1],s.historyBackBtn=null,s}return a(e,t),e.prototype._attachToEventBus=function(){l["default"].prototype._attachToEventBus.call(this),this.eventBus.on("afterZoom",this.onAfterZoom,this)},e.prototype._showTooltip=function(t){this.eventBus.fire("showTooltip",t),this.prevFoundData=t},e.prototype._hideTooltip=function(t){this.eventBus.fire("hideTooltip",this.prevFoundData,t),this.prevFoundData=null,this.styleCursor(!1)},e.prototype.styleCursor=function(t){var e=this.mouseEventDetectorContainer;t?e.style.cursor="pointer":e.style.cursor="default"},e.prototype._onMousemove=function(t){var e=t.clientX,i=t.clientY,n=this._calculateLayerPosition(e,i),o=this._findDataFromBoundsCoordinateModel(n);if(this._isChangedSelectData(this.prevFoundData,o)&&(this.prevFoundData&&this._hideTooltip(),this.prevFoundData=o,o)){if(f["default"].isTreemapChart(this.chartType)){var r=this._getSeriesItemByIndexes(o.indexes);this.styleCursor(r.hasChild)}else f["default"].isBulletChart(this.chartType)&&(o.mousePosition={left:e,top:i});this._showTooltip(o)}},e.prototype._zoomHistoryBack=function(){var t=this.zoomHistory[this.zoomHistory.length-2];this.zoomHistory.pop(),this.eventBus.fire("zoom",t),1===this.zoomHistory.length&&(this.mouseEventDetectorContainer.removeChild(this.historyBackBtn),this.historyBackBtn=null)},e.prototype._getSeriesItemByIndexes=function(t){var e=this.dataProcessor.getSeriesDataModel(h["default"].CHART_TYPE_TREEMAP);return e.getSeriesItem(t.groupIndex,t.index,!0)},e.prototype._onClick=function(t){var e=t.target||t.srcElement;if(l["default"].prototype._onClick.call(this,t),f["default"].isTreemapChart(this.chartType)){if(y["default"].hasClass(e,h["default"].CLASS_NAME_RESET_ZOOM_BTN))return this._hideTooltip(),void this._zoomHistoryBack();var i=this._calculateLayerPosition(t.clientX,t.clientY),n=this._findDataFromBoundsCoordinateModel(i);if(n){var o=this._getSeriesItemByIndexes(n.indexes);if(!o.hasChild)return;this._hideTooltip(),this.eventBus.fire("zoom",n.indexes.index)}}},e.prototype._onMouseout=function(t){var e=t.clientX,i=t.clientY,n=this.mouseEventDetectorContainer.getBoundingClientRect(),o=n.left,r=n.right,a=n.top,s=n.bottom;o<=e&&a<=i&&r>=e&&s>=i||(this.prevFoundData&&this._hideTooltip(),this.prevFoundData=null)},e.prototype.onAfterZoom=function(t){this.historyBackBtn||(this.historyBackBtn=y["default"].create("DIV",h["default"].CLASS_NAME_RESET_ZOOM_BTN),y["default"].append(this.mouseEventDetectorContainer,this.historyBackBtn)),this.zoomHistory[this.zoomHistory.length-1]!==t&&this.zoomHistory.push(t)},e.prototype.findDataByIndexes=function(t){return this.boundsBaseCoordinateModel.findDataByIndexes(t)},e}(l["default"]);s.componentType="mouseEventDetector"},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){var e=t.chartTheme,i=t.chartOptions.libType;return t.libType=i,t.chartType="bar",t.chartBackground=e.chart.background,new _(t)}e.__esModule=!0,e["default"]=s;var u=i(408),l=n(u),c=i(409),h=n(c),p=i(335),f=n(p),d=i(342),y=n(d),g=f["default"].OVERLAPPING_WIDTH,m=f["default"].TEXT_PADDING,_=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return a(e,t),e.prototype._makeBound=function(t,e,i,n,o){return{start:{top:i,left:n,width:0,height:e},end:{top:i,left:o,width:t,height:e}}},e.prototype._calculateAdditionalLeft=function(t){var e=0;return this.options.divided&&t>0&&(e=this.dimensionMap.yAxis.width+g),e},e.prototype._makeBarChartBound=function(t,e,i,n,o){var r=t.baseBarSize,a=t.basePosition,s=t.barSize,u=t.itemCount,l=t.groupSize,c=t.pointInterval,h=n.ratioDistance,p=n.value,f=n.startRatio,d=n.stack,y=r*h,g=this._calculateAdditionalLeft(p),m=r*f,_=a+m+g,v=d!==e.prevStack,T=s*u>l,b=T?c:s,x=void 0;if(!i||!this.options.diverging&&v){var E=i?this.dataProcessor.findStackIndex(d):o;e.top=e.baseTop+b*E,e.plusLeft=0,e.minusLeft=0}p>=0?(x=_+e.plusLeft,e.plusLeft+=y):(e.minusLeft-=y,x=_+e.minusLeft),e.prevStack=d;var A=e.top+c-s/2;return T||(A+=(c-s)/2*(u-1)),this._makeBound(y,s,A,_,x)},e.prototype._makeBounds=function(){var t=this,e=this._getSeriesDataModel(),i=y["default"].isValidStackOption(this.options.stackType),n=this.layout,o=n.dimension,r=o.width,a=o.height,s=n.position.top,u=this._makeBaseDataForMakingBound(a,r);return e.map(function(e,n){var o=n*u.groupSize+s,r={baseTop:o,top:o,plusLeft:0,minusLeft:0,prevStack:null},a=t._makeBarChartBound.bind(t,u,r,i);return e.map(a)})},e.prototype._calculateTopPositionOfSumLabel=function(t,e){return t.top+(t.height-e+m)/2},e}(l["default"]);h["default"].mixin(_),s.componentType="series",s.BarChartSeries=_},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=i(333),a=n(r),s=i(335),u=n(s),l=i(336),c=n(l),h=i(342),p=n(h),f=i(334),d=n(f),y=i(360),g=n(y),m=i(332),_=n(m),v=600,T=a["default"].browser,b=T.msie&&7===T.version,x=u["default"].COMPONENT_TYPE_RAPHAEL,E=u["default"].PUBLIC_EVENT_PREFIX,A=u["default"].CLASS_NAME_SERIES_LABEL,D=function(){function t(e){o(this,t);var i=e.libType;this.className="tui-chart-series-area",this.chartType=e.chartType,this.seriesType=e.seriesType||e.chartType,this.componentType=e.componentType,this.dataProcessor=e.dataProcessor,this.eventBus=e.eventBus,this.chartBackground=e.chartBackground,this.options=e.options||{},this.orgTheme=this.theme=e.theme,this.graphRenderer=g["default"].get(i,e.chartType),this.seriesContainer=null,this.seriesLabelContainer=null,this.seriesData=[],this.selectedLegendIndex=null,this.labelShowEffector=null,this.paper=null,this.limit=null,this.aligned=null,this.layout=null,this.dimensionMap=null,this.positionMap=null,this.axisDataMap=null,this.beforeAxisDataMap=null,this.drawingType=x,this.supportSeriesLable=!0,this._attachToEventBus()}return t.prototype._attachToEventBus=function(){var t=function(){this.isInitRenderCompleted=!0,this.eventBus.off("load",t)}.bind(this);this.eventBus.on(E+"load",t),this.eventBus.on({selectLegend:this.onSelectLegend,selectSeries:this.onSelectSeries,unselectSeries:this.onUnselectSeries,hoverSeries:this.onHoverSeries,hoverOffSeries:this.onHoverOffSeries,showGroupAnimation:this.onShowGroupAnimation,hideGroupAnimation:this.onHideGroupAnimation},this),this.onShowTooltip&&this.eventBus.on("showTooltip",this.onShowTooltip,this),this.onShowGroupTooltipLine&&this.eventBus.on({showGroupTooltipLine:this.onShowGroupTooltipLine,hideGroupTooltipLine:this.onHideGroupTooltipLine},this),this.onClickSeries&&this.eventBus.on({clickSeries:this.onClickSeries,moveSeries:this.onMoveSeries},this)},t.prototype._getSeriesDataModel=function(){return this.dataProcessor.getSeriesDataModel(this.seriesType)},t.prototype._makeSeriesData=function(){},t.prototype.getSeriesData=function(){return this.seriesData},t.prototype._renderSeriesLabel=function(){},t.prototype._renderSeriesLabelArea=function(t){return this._renderSeriesLabel(t)},t.prototype._sendBoundsToMouseEventDetector=function(t){this.eventBus.fire("receiveSeriesData",{chartType:this.chartType,data:t})},t.prototype._renderSeriesArea=function(t,e){var i=this.dimensionMap.extendedSeries,n=this.seriesData=this._makeSeriesData();this._sendBoundsToMouseEventDetector(n),(this.hasDataForRendering(n)||"map"===this.chartType)&&(e&&(this.seriesSet=e(i,n,t)),p["default"].isShowLabel(this.options)&&this.supportSeriesLable&&(this.labelSet=this._renderSeriesLabelArea(t)))},t.prototype._makeParamsForGraphRendering=function(t,e){return Object.assign({dimension:t,position:this.layout.position,chartType:this.seriesType,theme:this.theme,options:this.options},e)},t.prototype._renderGraph=function(t,e,i){var n=this._makeParamsForGraphRendering(t,e);return this.graphRenderer.render(i,n)},t.prototype._setDataForRendering=function(t){this.paper=t.paper,this.limit=t.limitMap[this.chartType],t.axisDataMap&&t.axisDataMap.xAxis&&(this.aligned=t.axisDataMap.xAxis.aligned),this.layout=t.layout,this.dimensionMap=t.dimensionMap,this.positionMap=t.positionMap,this.axisDataMap=t.axisDataMap},t.prototype.render=function(t){if(this.paper=t.paper,this._setDataForRendering(t),this._clearSeriesContainer(),this.beforeAxisDataMap=this.axisDataMap,t.checkedLegends){var e=t.checkedLegends[this.seriesType];this.options.colorByPoint||(this.theme=this._getCheckedSeriesTheme(this.orgTheme,e))}this._renderSeriesArea(t.paper,a["default"].bind(this._renderGraph,this)),this.paper.pushDownBackgroundToBottom&&this.paper.pushDownBackgroundToBottom()},t.prototype._getCheckedSeriesTheme=function(t,e){if(!e.length)return t;var i=JSON.parse(JSON.stringify(t));return i.colors=i.colors.filter(function(t,i){return e[i]}),i},t.prototype._clearSeriesContainer=function(){this.seriesSet&&this.seriesSet.remove&&(this.seriesSet.forEach(function(t){t.remove()},this),this.seriesSet.remove()),this.labelSet&&this.labelSet.remove&&(this.labelSet.forEach(function(t){t.remove()},this),this.labelSet.remove()),this.seriesData=[]},t.prototype.rerender=function(t){var e=void 0;"map"===this.seriesType||this.dataProcessor.getGroupCount(this.seriesType)?(t.checkedLegends&&(e=t.checkedLegends[this.seriesType],this.theme=this._getCheckedSeriesTheme(this.orgTheme,e)),this._setDataForRendering(t),this._clearSeriesContainer(),this._renderSeriesArea(t.paper,a["default"].bind(this._renderGraph,this)),this.labelShowEffector&&clearInterval(this.labelShowEffector.timerId),!e&&this.isInitRenderCompleted||this.animateComponent(!0),a["default"].isNull(this.selectedLegendIndex)||this.graphRenderer.selectLegend(this.selectedLegendIndex)):this._clearSeriesContainer()},t.prototype._isLabelVisible=function(){return!(!this.options.showLabel&&!this.options.showLegend)},t.prototype._resizeGraph=function(t,e){return this.graphRenderer.resize(a["default"].extend({dimension:this.dimensionMap.chart},e)),this.seriesSet},t.prototype.resize=function(t){this._clearSeriesContainer(),this._setDataForRendering(t),this._renderSeriesArea(t.paper,a["default"].bind(this._resizeGraph,this)),this.rerender(t)},t.prototype._renderPosition=function(t,e){var i=d["default"].isOldBrowser()?1:0;d["default"].renderPosition(t,{top:e.top-i,left:e.left-2*i})},t.prototype._getLimitDistanceFromZeroPoint=function(t,e){var i=e.min,n=e.max,o=n-i,r=0,a=0;return i<=0&&n>=0?(r=(o+i)/o*t,a=(o-n)/o*t):i>0&&(r=t),{toMax:r,toMin:a}},t.prototype._findLabelElement=function(t){return c["default"].hasClass(t,A)?t:c["default"].findParentByClass(t,A)},t.prototype.onHoverSeries=function(t,e){e===this.chartType&&this.graphRenderer.showAnimation&&this.graphRenderer.showAnimation(t)},t.prototype.onHoverOffSeries=function(t,e){e===this.chartType&&this.graphRenderer.hideAnimation&&t&&this.graphRenderer.hideAnimation(t)},t.prototype.onShowGroupAnimation=function(t){this.graphRenderer.showGroupAnimation&&this.graphRenderer.showGroupAnimation(t)},t.prototype.onHideGroupAnimation=function(t){this.graphRenderer.hideGroupAnimation&&this.graphRenderer.hideGroupAnimation(t)},t.prototype.animateComponent=function(t){this.graphRenderer.animate&&this.seriesSet?this.graphRenderer.animate(a["default"].bind(this.animateSeriesLabelArea,this,t),this.seriesSet):this.animateSeriesLabelArea(t)},t.prototype._fireLoadEvent=function(t){t||this.eventBus.fire(E+"load")},t.prototype.animateSeriesLabelArea=function(t){return this._isLabelVisible()?void(b?(this._fireLoadEvent(t),this.labelSet.attr({opacity:1})):this.labelSet&&this.labelSet.length&&_["default"].animateOpacity(this.labelSet,0,1,v)):void this._fireLoadEvent(t)},t.prototype._makeExportationSeriesData=function(t){var e=t.indexes,i=a["default"].isExisty(e.legendIndex)?e.legendIndex:e.index,n=this.dataProcessor.getLegendItem(i),o=a["default"].isExisty(e.groupIndex)?e.groupIndex:0,r=this._getSeriesDataModel().getSeriesItem(o,e.index),s=void 0;return a["default"].isExisty(r)&&(s={chartType:n.chartType,legend:n.label,legendIndex:i},s.index=r.index),s},t.prototype._executeGraphRenderer=function(t,e){var i=!1;this.eventBus.fire("hideTooltipContainer"),this.seriesLabelContainer&&c["default"].hasClass(this.seriesLabelContainer,"show")&&(c["default"].removeClass(this.seriesLabelContainer,"show"),i=!0);var n=this.graphRenderer[e](t);return i&&c["default"].addClass(this.seriesLabelContainer,"show"),this.eventBus.fire("showTooltipContainer"),n},t.prototype.onSelectSeries=function(t,e){if(t.chartType===this.chartType){var i=E+"selectSeries";this.eventBus.fire(i,this._makeExportationSeriesData(t)),e=!!a["default"].isEmpty(e)||e,this.options.allowSelect&&this.graphRenderer.selectSeries&&e&&this.graphRenderer.selectSeries(t.indexes)}},t.prototype.onUnselectSeries=function(t){if(t.chartType===this.chartType){var e=E+"unselectSeries";this.eventBus.fire(e,this._makeExportationSeriesData(t)),this.options.allowSelect&&this.graphRenderer.unselectSeries&&this.graphRenderer.unselectSeries(t.indexes)}},t.prototype.onSelectLegend=function(t,e){this.seriesType===t||a["default"].isNull(e)||(e=-1),this.selectedLegendIndex=e,this._getSeriesDataModel().getGroupCount()&&this.graphRenderer.selectLegend(e)},t.prototype.showLabel=function(){this.options.showLabel=!0,!this.seriesLabelContainer&&this.supportSeriesLable&&this._renderSeriesLabelArea(this.paper)},t.prototype.hideLabel=function(){this.options.showLabel=!1,this.seriesLabelContainer&&(c["default"].removeClass(this.seriesLabelContainer,"show"),c["default"].removeClass(this.seriesLabelContainer,"opacity"))},t.prototype.hasDataForRendering=function(t){return!(!t||!t.isAvailable())},t}();e["default"]=D},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=i(335),a=n(r),s=i(410),u=n(s),l=i(342),c=n(l),h=i(351),p=n(h),f=i(334),d=n(f),y=i(332),g=n(y),m=i(333),_=n(m),v=a["default"].CHART_PADDING,T=a["default"].LEGEND_LABEL_LEFT_PADDING,b=.85,x=function(){function t(){o(this,t)}return t.prototype._makeSeriesData=function(){var t=this._makeBounds(this.layout.dimension);return this.groupBounds=t,{groupBounds:t,seriesDataModel:this._getSeriesDataModel(),isAvailable:function(){return t&&t.length>0}}},t.prototype._getBarWidthOptionSize=function(t,e){var i=0;return e&&(e/2>=t?e=2*t:e<0&&(e=0),i=e),i},t.prototype._calculateAdditionalPosition=function(t,e,i){var n=0;return e&&e<t&&(n=t/2+(t-e)*i/2),n},t.prototype._makeBaseDataForMakingBound=function(t,e){var i=c["default"].isValidStackOption(this.options.stackType),n=this._getSeriesDataModel(),o=t/n.getGroupCount(),r=-this.layout.position.top+v,a=this._getLimitDistanceFromZeroPoint(e,this.limit).toMin,s=void 0,u=void 0;if(s=c["default"].isColumnChart(this.chartType)?r:c["default"].isBoxplotChart(this.chartType)?this.layout.position.top-v:this.layout.position.left,n.rawSeriesData.length>0){var l=void 0;l=i?this.options.diverging?1:this.dataProcessor.getStackCount(this.seriesType):n.getFirstSeriesGroup().getSeriesItemCount();var h=o/(l+1),p=this.options.barWidth||this.options.pointWidth,f=h*b,d=a+s;f=this._getBarWidthOptionSize(h,p)||f,c["default"].isColumnChart(this.chartType)&&(d=e-d),c["default"].isBoxplotChart(this.chartType)&&a&&(d-=2*a),u={baseBarSize:e,groupSize:o,barSize:f,pointInterval:h,basePosition:d,itemCount:l,firstAdditionalPosition:h}}return u},t.prototype._renderNormalSeriesLabel=function(t){var e=this.graphRenderer,i=this._getSeriesDataModel(),n=this.seriesData.groupBounds,o=this.theme.label,r=this.selectedLegendIndex,a=i.map(function(t){return t.map(function(t){var e=t.start,i=t.startLabel,n=t.endLabel,o={end:n};return _["default"].isExisty(e)&&(o.start=i),o})}),s=void 0;return s=c["default"].isBarChart(this.chartType)?u["default"].boundsToLabelPositionsForBarChart(i,n,o):u["default"].boundsToLabelPositionsForColumnChart(i,n,o),e.renderSeriesLabel(t,s,a,o,r)},t.prototype._makeSumValues=function(t){return d["default"].formatValue({value:p["default"].sum(t),formatFunctions:this.dataProcessor.getFormatFunctions(),chartType:this.chartType,areaType:"series"})},t.prototype._makeStackedLabelPosition=function(t){var e=t.top,i=t.left,n=t.width,o=t.height;return{left:i+n/2,top:e+o/2}},t.prototype._makeStackedLabelPositions=function(t){var e=this,i=t.seriesGroup,n=i.map(function(i,n){var o=t.bounds[n],r=void 0;return o&&i&&(r=e._makeStackedLabelPosition(o.end)),{end:r}});return n},t.prototype.getGroupLabels=function(t,e,i){var n=c["default"].isNormalStack(this.options.stackType);return t.map(function(t){var o=t.map(function(t){return{end:t.endLabel}});if(n){e.push(p["default"].sumPlusValues(t.pluck("value")));var r=p["default"].sumMinusValues(t.pluck("value"));r<0&&i.push(r)}return o})},t.prototype.getGroupPositions=function(t,e){var i=this;return t.map(function(t,n){return i._makeStackedLabelPositions({seriesGroup:t,bounds:e[n]})})},t.prototype._renderStackedSeriesLabel=function(t){var e=this,i=[],n=[],o=this.theme.label,r=this.seriesData.groupBounds,a=this._getSeriesDataModel(),s=this.getGroupPositions(a,r),u=this.getGroupLabels(a,i,n),l=!0,h=c["default"].isNormalStack(this.options.stackType),p=c["default"].isBarChart(this.chartType),f=p?"width":"height",y=p?"left":"top",m=p?1:-1;return h&&(u.forEach(function(t,o){var r=i[o],a=n[o];a<0&&e.options.diverging&&(a*=-1),t.push({end:d["default"].formatToComma(r)}),n.length&&t.push({end:d["default"].formatToComma(a)})}),s.forEach(function(t,a){var s=r[a],u=s[s.length-1].end,l=s[Math.max(parseInt(s.length/2,10),1)-1].end,c=e._makeStackedLabelPosition(u),h=e._makeStackedLabelPosition(l),p=i[a],d=n[a],_=g["default"].getRenderedTextSize(p,o.fontSize,o.fontFamily),v=g["default"].getRenderedTextSize(d,o.fontSize,o.fontFamily),b=(u[f]+_[f])/2,x=(l[f]+v[f])/2;c[y]+=(b+T)*m,h[y]-=(x+T)*m,t.push({end:c}),n.length&&t.push({end:h})})),this.graphRenderer.renderSeriesLabel(t,s,u,o,l)},t.prototype._renderSeriesLabel=function(t){return this.options.stackType?this._renderStackedSeriesLabel(t):this._renderNormalSeriesLabel(t)},t}();x.mixin=function(t){Object.assign(t.prototype,x.prototype)},e["default"]=x},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=i(335),r=n(o),a=i(334),s=n(a),u=r["default"].MAX_HEIGHT_WORD,l=r["default"].SERIES_LABEL_PADDING;e["default"]={_calculateLeftPositionForCenterAlign:function(t){return t.left+t.width/2},_calculateTopPositionForMiddleAlign:function(t){return t.top+t.height/2},_makePositionForBoundType:function(t){return{left:this._calculateLeftPositionForCenterAlign(t),top:this._calculateTopPositionForMiddleAlign(t)}},_makePositionMap:function(t,e,i,n,o){var r=t.value,a=r>=0,s={end:o(e,i,t.endLabel||t.label,n,a)};return t.isRange&&(a=r<0,s.start=o(e,i,t.startLabel,n,a)),s},boundsToLabelPositions:function(t,e,i,n,o){var r=this,a=s["default"].getRenderedLabelHeight(u,i);return n=n||this._makePositionForBoundType.bind(this),o=!!o,t.map(function(t,o){var s=e[o];return t.map(function(t,e){var o=s[e].end;return r._makePositionMap(t,o,a,i,n)})},o)},_makePositionForBarChart:function(t,e,i,n,o){var r=s["default"].getRenderedLabelWidth(i,n),a=t.left;return o?a+=t.width+l:a-=r+l,{left:a,top:this._calculateTopPositionForMiddleAlign(t)}},boundsToLabelPositionsForBarChart:function(t,e,i){var n=this._makePositionForBarChart.bind(this);return this.boundsToLabelPositions(t,e,i,n)},_makePositionForColumnChart:function(t,e,i,n,o){var r=t.top;return o?r-=e+l:r+=t.height+l,{left:this._calculateLeftPositionForCenterAlign(t),top:r}},boundsToLabelPositionsForColumnChart:function(t,e,i){var n=this._makePositionForColumnChart.bind(this);return this.boundsToLabelPositions(t,e,i,n)},boundsToLabelPostionsForTreemap:function(t,e){var i=this,n=t.map(function(t){var n=e[t.id],o=void 0;return n&&(o=i._makePositionForBoundType(n)),o});return n}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return t.libType=t.chartOptions.libType,t.chartType="column",t.chartBackground=t.chartTheme.chart.background,new _(t)}e.__esModule=!0,e["default"]=s;var u=i(408),l=n(u),c=i(409),h=n(c),p=i(335),f=n(p),d=i(342),y=n(d),g=i(334),m=n(g),_=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return a(e,t),e.prototype._makeBound=function(t,e,i,n,o){return{start:{top:n,left:i,width:t,height:0},end:{top:o,left:i,width:t,height:e}}},e.prototype._makeColumnChartBound=function(t,e,i,n,o){var r=t.baseBarSize,a=t.basePosition,s=t.barSize,u=t.itemCount,l=t.groupSize,c=t.pointInterval,h=Math.abs(r*n.ratioDistance),p=r*n.startRatio,d=a+p+f["default"].SERIES_EXPAND_SIZE,y=n.stack!==e.prevStack,g=s*u>l,m=g?c:s,_=void 0,v=void 0;if(!i||!this.options.diverging&&y){var T=i?this.dataProcessor.findStackIndex(n.stack):o;e.left=e.baseLeft+m*T,e.plusTop=0,e.minusTop=0}return n.value>=0?(e.plusTop-=h,_=d+e.plusTop):(_=d+e.minusTop,e.minusTop+=h),e.prevStack=n.stack,v=g?e.left+c-s/2:e.left+c-s/2+(c-s)/2*(u-1),this._makeBound(s,h,v,d,_)},e.prototype._makeBounds=function(){var t=this,e=this._getSeriesDataModel(),i=y["default"].isValidStackOption(this.options.stackType),n=this.layout.dimension,o=n.width,r=n.height,a=this._makeBaseDataForMakingBound(o,r);return e.map(function(e,n){var o=n*a.groupSize+t.layout.position.left,r={baseLeft:o,left:o,plusTop:0,minusTop:0,prevStack:null},s=t._makeColumnChartBound.bind(t,a,r,i);return e.map(s)})},e.prototype._calculateLeftPositionOfSumLabel=function(t,e){var i=t.left,n=t.width,o=m["default"].getRenderedLabelWidth(e,this.theme.label);return i+(n-o+f["default"].TEXT_PADDING)/2},e}(l["default"]);h["default"].mixin(_),s.componentType="series",s.ColumnChartSeries=_},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return t.libType=t.chartOptions.libType,t.chartType="line",t.chartBackground=t.chartTheme.chart.background,new p(t)}e.__esModule=!0,e["default"]=s;var u=i(408),l=n(u),c=i(413),h=n(c),p=function(t){function e(){o(this,e);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];var s=r(this,t.call.apply(t,[this].concat(n)));return s.movingAnimation=null,s}return a(e,t),e.prototype._makePositions=function(t){return this._makeBasicPositions(t)},e.prototype._makeSeriesData=function(){
var t=this._makePositions();return{chartBackground:this.chartBackground,groupPositions:t,isAvailable:function(){return t&&t.length>0}}},e.prototype.rerender=function(t){return this._cancelMovingAnimation(),l["default"].prototype.rerender.call(this,t)},e}(l["default"]);h["default"].mixin(p),s.componentType="series"},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=i(337),a=n(r),s=i(335),u=n(s),l=i(342),c=n(l),h=i(351),p=n(h),f=i(334),d=n(f),y=i(333),g=n(y),m=u["default"].SERIES_EXPAND_SIZE,_=u["default"].SERIES_LABEL_PADDING,v=u["default"].MAX_HEIGHT_WORD,T=u["default"].ADDING_DATA_ANIMATION_DURATION,b=function(){function t(){o(this,t)}return t.prototype._makePositionsForDefaultType=function(t){var e=this.layout.dimension,i=e.height,n=e.width,o=this._getSeriesDataModel(),r=t||n||0,a=o.getGroupCount(),s=this.layout.position.top,u=this.layout.position.left,l=void 0;return this.aligned?l=r/(a>1?a-1:a):(l=r/a,u+=l/2),o.map(function(t){return t.map(function(t,e){var n=void 0;return g["default"].isNull(t.end)||(n={left:u+l*e,top:s+i-t.ratio*i},g["default"].isExisty(t.startRatio)&&(n.startTop=s+i-t.startRatio*i)),n})},!0)},t.prototype._makePositionForCoordinateType=function(t){var e=this.layout.dimension,i=this._getSeriesDataModel(),n=e.height,o=this.axisDataMap.xAxis,r=this.layout.position.top,a=this.layout.position.left,s=t||e.width||0,l=0;return o.sizeRatio&&(l=p["default"].multiply(s,o.positionRatio),s=p["default"].multiply(s,o.sizeRatio)),i.map(function(t){return t.map(function(t){var e=void 0;return g["default"].isNull(t.end)||(e={left:a+t.ratioMap.x*s+l,top:r+n-t.ratioMap.y*n},g["default"].isExisty(t.ratioMap.start)&&(e.startTop=n-t.ratioMap.start*n+u["default"].SERIES_EXPAND_SIZE)),e})},!0)},t.prototype._makeBasicPositions=function(t){return this.dataProcessor.isCoordinateType()?this._makePositionForCoordinateType(t):this._makePositionsForDefaultType(t)},t.prototype._calculateLabelPositionTop=function(t,e,i,n){var o=t.top,r=void 0;return r=c["default"].isValidStackOption(this.options.stackType)?(t.startTop+o-i)/2+1:e>=0&&!n||e<0&&n?o-i-_:o+_},t.prototype._makeLabelPosition=function(t,e,i,n,o){return{left:t.left,top:this._calculateLabelPositionTop(t,n,e/2,o)}},t.prototype._getLabelPositions=function(t,e){var i=this,n=a["default"].pivot(this.seriesData.groupPositions),o=d["default"].getRenderedLabelHeight(v,e);return t.map(function(t,e){return t.map(function(t,r){var a=n[e][r],s=i._makeLabelPosition(a,o,t.endLabel,t.end),u={end:s};return t.isRange&&(a.top=a.startTop,u.start=i._makeLabelPosition(a,o,t.startLabel,t.start)),u})})},t.prototype._getLabelTexts=function(t){return t.map(function(t){return t.map(function(t){var e=t.endLabel,i=t.isRange,n=t.startLabel,o={end:e};return i&&(o.start=n),o})})},t.prototype._renderSeriesLabel=function(t){var e=this.theme.label,i=this._getSeriesDataModel(),n=this._getLabelTexts(i),o=this._getLabelPositions(i,e);return this.graphRenderer.renderSeriesLabel(t,o,n,e)},t.prototype.onShowGroupTooltipLine=function(t){this.graphRenderer.showGroupTooltipLine&&this.graphRenderer.showGroupTooltipLine(t,this.layout)},t.prototype.onHideGroupTooltipLine=function(){this.seriesData&&this.seriesData.isAvailable()&&this.graphRenderer.hideGroupTooltipLine&&this.graphRenderer.hideGroupTooltipLine()},t.prototype.zoom=function(t){this._cancelMovingAnimation(),this._clearSeriesContainer(t.paper),this._setDataForRendering(t),this._renderSeriesArea(t.paper,g["default"].bind(this._renderGraph,this)),this.animateComponent(!0),g["default"].isNull(this.selectedLegendIndex)||this.graphRenderer.selectLegend(this.selectedLegendIndex)},t.prototype._isChangedLimit=function(t,e){return t.min!==e.min||t.max!==e.max},t.prototype._isChangedAxisLimit=function(){var t=this.beforeAxisDataMap,e=this.axisDataMap,i=!0;return t&&(i=this._isChangedLimit(t.yAxis.limit,e.yAxis.limit),e.xAxis.limit&&(i=i||this._isChangedLimit(t.xAxis.limit,e.xAxis.limit))),this.beforeAxisDataMap=e,i},t.prototype._animate=function(t){var e=this,i=T,n=this._isChangedAxisLimit();n&&this.seriesLabelContainer&&(this.seriesLabelContainer.innerHTML=""),t&&(this.movingAnimation=d["default"].startAnimation(i,t,function(){e.movingAnimation=null}))},t.prototype._makeZeroTopForAddingData=function(){var t=this.layout.dimension.height,e=this.axisDataMap.yAxis.limit;return this._getLimitDistanceFromZeroPoint(t,e).toMax+m},t.prototype.animateForAddingData=function(t){var e=t.tickSize,i=t.limitMap,n=t.axisDataMap,o=this.dimensionMap.extendedSeries,r=this.options.shifting,a=this.layout.dimension.width;this.limit=i[this.chartType],this.axisDataMap=n;var s=this._makeSeriesData(),u=this._makeParamsForGraphRendering(o,s);r&&(a+=e);var l=this._makePositions(a),c=this._makeZeroTopForAddingData();this.graphRenderer.animateForAddingData(u,e,l,r,c)},t.prototype._cancelMovingAnimation=function(){this.movingAnimation&&(cancelAnimationFrame(this.movingAnimation.id),this.movingAnimation=null)},t}();b.mixin=function(t){g["default"].extend(t.prototype,b.prototype)},e["default"]=b},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return t.libType=t.chartOptions.libType,t.chartType=t.chartOptions.chartType,t.chartBackground=t.chartTheme.background,new b(t)}e.__esModule=!0,e["default"]=s;var u=i(408),l=n(u),c=i(335),h=n(c),p=i(351),f=n(p),d=i(376),y=n(d),g=i(333),m=n(g),_=h["default"].COMPONENT_TYPE_RAPHAEL,v=h["default"].RADIAL_PLOT_PADDING,T=h["default"].RADIAL_MARGIN_FOR_CATEGORY,b=function(t){function e(){o(this,e);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];var s=r(this,t.call.apply(t,[this].concat(n)));return s.options=Object.assign({showDot:!1,showArea:!1},s.options),s.movingAnimation=null,s.drawingType=_,s}return a(e,t),e.prototype._makePositionsForRadial=function(t,e){var i=this.layout,n=i.dimension,o=i.position,r=o.top,a=o.left,s=n.width-v-T,u=n.height-v-T,l=f["default"].sum([s/2,v/2,T/2,a]),c=f["default"].sum([u/2,-(v/2),-(T/2),-r]),h=360/e,p=Math.min(s,u)/2;return t.map(function(t){var e=t.map(function(t,e){var i=void 0;if(!m["default"].isNull(t.end)){var n=t.ratio*p,o=c+n,r=360-h*e,a=y["default"].rotatePointAroundOrigin(l,c,l,o,r);i={left:a.x,top:u-a.y}}return i});return e.push(e[0]),e})},e.prototype._getSeriesGroups=function(){var t=this._getSeriesDataModel();return t.map(function(t){return t.map(function(t){return t})},!0)},e.prototype._makeSeriesData=function(){var t=this._getSeriesGroups(),e=this._makePositionsForRadial(t,this._getSeriesDataModel().getGroupCount());return{groupPositions:e,isAvailable:function(){return e&&e.length>0}}},e.prototype.rerender=function(t){return l["default"].prototype.rerender.call(this,t)},e}(l["default"]);s.componentType="series",s.RadialChartSeries=b},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){var e=t.chartTheme,i=t.chartOptions.libType;return t.libType=i,t.chartType="area",t.chartBackground=e.chart.background,new d(t)}e.__esModule=!0,e["default"]=s;var u=i(408),l=n(u),c=i(413),h=n(c),p=i(342),f=n(p),d=function(t){function e(){o(this,e);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];var s=r(this,t.call.apply(t,[this].concat(n)));return s.movingAnimation=null,s}return a(e,t),e.prototype._makePositionTopOfZeroPoint=function(){var t=this.layout,e=t.dimension.height,i=t.position.top,n=this.axisDataMap.yAxis.limit,o=this._getLimitDistanceFromZeroPoint(e,n).toMax+i;return n.min>=0&&!o&&(o=e),o},e.prototype._makeStackedPositions=function(t){var e=this.layout,i=e.dimension.height,n=e.position.top,o=this._makePositionTopOfZeroPoint(),r=[];return t.map(function(t){return t.map(function(t,e){var a=r[e]||o,s=t?t.top:0,u=i-s+n,l=t?a-u:a;return t&&(t.startTop=a,t.top=l),r[e]=l,t})})},e.prototype._makePositions=function(t){var e=this._makeBasicPositions(t);return f["default"].isValidStackOption(this.options.stackType)&&(e=this._makeStackedPositions(e)),e},e.prototype._makeSeriesData=function(){var t=this.layout,e=t.dimension.height,i=t.position.top,n=this._getLimitDistanceFromZeroPoint(e,this.limit).toMax+i,o=this._makePositions();return{chartBackground:this.chartBackground,groupPositions:o,hasRangeData:this._getSeriesDataModel().hasRangeData(),zeroTop:n,isAvailable:function(){return o&&o.length>0}}},e.prototype.rerender=function(t){return this._cancelMovingAnimation(),l["default"].prototype.rerender.call(this,t)},e}(l["default"]);h["default"].mixin(d),s.componentType="series",s.AreaChartSeries=d},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){var e=t.chartOptions.libType,i=t.chartTheme;return t.libType=e,t.chartType="bubble",t.chartBackground=i.chart.background,new g(t)}e.__esModule=!0,e["default"]=s;var u=i(335),l=n(u),c=i(408),h=n(c),p=i(417),f=n(p),d=i(333),y=n(d),g=function(t){function e(){o(this,e);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];var s=r(this,t.call.apply(t,[this].concat(n)));return s.prevClickedIndex=null,s.maxRadius=null,s.drawingType=l["default"].COMPONENT_TYPE_RAPHAEL,s}return a(e,t),e.prototype._calculateStep=function(){var t=this.dataProcessor.isXCountGreaterThanYCount(this.chartType),e=0;if(this.dataProcessor.hasCategories(t)){var i=this.layout.dimension,n=this.dataProcessor.getCategoryCount(t),o=void 0;o=t?i.height:i.width,e=o/n}return e},e.prototype._makeBound=function(t,e,i){var n=this.layout,o=n.dimension,r=o.width,a=o.height,s=n.position,u=y["default"].isExisty(t.x)?t.x*r:e,l=y["default"].isExisty(t.y)?t.y*a:e;return{left:s.left+u,top:s.top+a-l,radius:Math.max(i*t.r,2)}},e.prototype._makeBounds=function(){var t=this,e=this._getSeriesDataModel(),i=this.maxRadius,n=this._calculateStep(),o=n?n/2:0;return e.map(function(e,r){var a=o+n*r;return e.map(function(e){var n=e&&e.ratioMap;return n?t._makeBound(e.ratioMap,a,i):null})})},e.prototype._setDataForRendering=function(t){this.maxRadius=t.maxRadius,h["default"].prototype._setDataForRendering.call(this,t)},e}(h["default"]);f["default"].mixin(g),s.componentType="series",s.BubbleChartSeries=g},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=i(333),a=n(r),s=function(){function t(){o(this,t)}return t.prototype._makeSeriesData=function(){var t=this._makeBounds();return{groupBounds:t,seriesDataModel:this._getSeriesDataModel(),isAvailable:function(){return t&&t.length>0}}},t.prototype.showTooltip=function(t,e,i,n,o){this.eventBus.fire("showTooltip",a["default"].extend({indexes:{groupIndex:i,index:n},mousePosition:o},t))},t.prototype.hideTooltip=function(){this.eventBus.fire("hideTooltip")},t.prototype._renderGraph=function(t,e,i){var n=this.showTooltip.bind(this,{chartType:this.chartType}),o={showTooltip:n,hideTooltip:this.hideTooltip.bind(this)},r=this._makeParamsForGraphRendering(t,e);return this.graphRenderer.render(i,r,o)},t.prototype.onClickSeries=function(t){var e=this._executeGraphRenderer(t,"findIndexes"),i=this.prevClickedIndexes,n=this.options.allowSelect,o=this.chartType;if(e&&i&&(this.onUnselectSeries({chartType:o,indexes:i}),this.prevClickedIndexes=null),e){var r=!i||e.index!==i.index||e.groupIndex!==i.groupIndex;n&&r&&(this.onSelectSeries({chartType:o,indexes:e},r),this.prevClickedIndexes=e)}},t.prototype.onMoveSeries=function(t){this._executeGraphRenderer(t,"moveMouseOnSeries")},t}();s.mixin=function(t){Object.assign(t.prototype,s.prototype)},e["default"]=s},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return t.libType=t.chartOptions.libType,t.chartType="scatter",t.chartBackground=t.chartTheme.chart.background,new d(t)}e.__esModule=!0,e["default"]=s;var u=i(408),l=n(u),c=i(417),h=n(c),p=i(335),f=n(p),d=function(t){function e(){o(this,e);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];var s=r(this,t.call.apply(t,[this].concat(n)));return s.prevClickedIndex=null,s}return a(e,t),e.prototype._makeBound=function(t){var e=this.layout,i=e.dimension,n=e.position;return{left:n.left+t.x*i.width,top:i.height-t.y*i.height+n.top,radius:f["default"].SCATTER_RADIUS}},e.prototype._makeBounds=function(){var t=this,e=this._getSeriesDataModel();return e.map(function(e){return e.map(function(e){var i=e&&e.ratioMap;return i?t._makeBound(e.ratioMap):null})})},e}(l["default"]);h["default"].mixin(d),s.componentType="series",s.ScatterChartSeries=d},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return t.libType=t.chartOptions.libType,t.chartType="map",new _(t)}e.__esModule=!0,e["default"]=s;var u=i(408),l=n(u),c=i(335),h=n(c),p=i(333),f=n(p),d=f["default"].browser,y=d.msie&&d.version<=8,g=h["default"].TOOLTIP_GAP,m=h["default"].PUBLIC_EVENT_PREFIX,_=function(t){function e(i){o(this,e);var n=r(this,t.call(this,i));return n.basePosition={left:0,top:0},n.zoomMagn=1,n.mapRatio=1,n.graphDimension={},n.limitPosition={},n.mapModel=i.mapModel,n.colorSpectrum=i.colorSpectrum,n.prevPosition=null,n.prevMovedIndex=null,n.isDrag=!1,n.startPosition=null,n}return a(e,t),e.prototype._attachToEventBus=function(){l["default"].prototype._attachToEventBus.call(this),y||this.eventBus.on({dragStartMapSeries:this.onDragStartMapSeries,dragMapSeries:this.onDragMapSeries,dragEndMapSeries:this.onDragEndMapSeries,zoomMap:this.onZoomMap},this)},e.prototype._setMapRatio=function(t){var e=this.layout.dimension,i=t||this.mapModel.getMapDimension(),n=e.width/i.width,o=e.height/i.height;this.mapRatio=Math.min(n,o)},e.prototype._setGraphDimension=function(){var t=this.layout.dimension,e=t.width,i=t.height;this.graphDimension={width:e*this.zoomMagn,height:i*this.zoomMagn}},e.prototype.render=function(t){l["default"].prototype.render.call(this,t),this.seriesSet=this.graphRenderer.sectorSet,this._setMapRatio()},e.prototype.rerender=function(t){l["default"].prototype.rerender.call(this,t),this.seriesSet=this.graphRenderer.sectorSet,this._setMapRatio()},e.prototype.resize=function(t){this.rerender(t)},e.prototype._setLimitPositionToMoveMap=function(){var t=this.layout.dimension,e=this.graphDimension;this.limitPosition={left:t.width-e.width,top:t.height-e.height}},e.prototype._renderGraph=function(){this._setGraphDimension(),this._setLimitPositionToMoveMap(),this.graphRenderer.render(this.paper,{colorSpectrum:this.colorSpectrum,mapModel:this.mapModel,layout:this.layout,theme:this.theme})},e.prototype._renderSeriesLabel=function(){var t=this.mapModel.getLabelData(this.zoomMagn*this.mapRatio);return this.graphRenderer.renderSeriesLabels(this.paper,t,this.theme.label)},e.prototype._renderSeriesArea=function(t,e,i){l["default"].prototype._renderSeriesArea.call(this,t,e,i)},e.prototype._adjustMapPosition=function(t){return{left:Math.max(Math.min(t.left,0),this.limitPosition.left),top:Math.max(Math.min(t.top,0),this.limitPosition.top)}},e.prototype._updateBasePositionForZoom=function(t,e,i){var n=this.basePosition,o=n.left-e.left/2,r=n.top-e.top/2,a={left:o*i+this.limitPosition.left/2,top:r*i+this.limitPosition.top/2};this.basePosition=this._adjustMapPosition(a)},e.prototype._zoom=function(t,e){var i=this.graphDimension,n=this.limitPosition;this._setGraphDimension(),this._setLimitPositionToMoveMap(),this._updateBasePositionForZoom(i,n,t),this._setMapRatio(this.graphDimension),this.graphRenderer.scaleMapPaths(t,e,this.mapRatio,i,i)},e.prototype._updatePositionsToResize=function(t){var e=this.mapRatio/t;this.basePosition.left*=e,this.basePosition.top*=e,this.limitPosition.left*=e,this.limitPosition.top*=e},e.prototype.onClickSeries=function(t){var e=this._executeGraphRenderer(t,"findSectorIndex");f["default"].isNull(e)||this.eventBus.fire("selectSeries",{chartType:this.chartType,index:e,code:this.mapModel.getDatum(e).code})},e.prototype._isChangedPosition=function(t,e){return!t||t.left!==e.left||t.top!==e.top},e.prototype._showWedge=function(t){var e=this.mapModel.getDatum(t),i=e.ratio,n=e.label;f["default"].isUndefined(i)||this.eventBus.fire("showWedge",i,n)},e.prototype._showTooltip=function(t,e){var i=e.left,n=e.top;this.eventBus.fire("showTooltip",{chartType:this.chartType,indexes:{index:t},mousePosition:{left:i,top:n-g}})},e.prototype.onMoveSeries=function(t){var e=this._executeGraphRenderer(t,"findSectorIndex");f["default"].isNull(e)?f["default"].isNull(this.prevMovedIndex)||(this.graphRenderer.restoreColor(this.prevMovedIndex),this.eventBus.fire("hideTooltip"),this.prevMovedIndex=null):(this.prevMovedIndex!==e&&(f["default"].isNull(this.prevMovedIndex)||(this.graphRenderer.restoreColor(this.prevMovedIndex),this.eventBus.fire("hideTooltip")),this.graphRenderer.changeColor(e)),this._isChangedPosition(this.prevPosition,t)&&(this._showTooltip(e,{left:t.left,top:t.top}),this.prevMovedIndex=e),this._showWedge(e)),this.prevPosition=t},e.prototype.onDragStartMapSeries=function(t){this.startPosition={left:t.left,top:t.top}},e.prototype._movePosition=function(t,e){var i={x:(e.left-t.left)*this.mapRatio,y:(e.top-t.top)*this.mapRatio};this.graphRenderer.moveMapPaths(i,this.graphDimension)},e.prototype.onDragMapSeries=function(t){this._movePosition(this.startPosition,t),this.startPosition=t,this.isDrag||(this.isDrag=!0,this.eventBus.fire("hideTooltip"))},e.prototype.onDragEndMapSeries=function(){this.isDrag=!1},e.prototype.onZoomMap=function(t,e){var i=t/this.zoomMagn,n=this.layout,o=n.position,r=o.top,a=o.left,s=n.dimension,u=s.width,l=s.height,c=e?e:{left:u/2,top:l/2};this.zoomMagn=t,this._zoom(i,{left:c.left-a,top:c.top-r}),this.eventBus.fire(m+"zoom",t)},e.prototype._makeExportationSeriesData=function(t){return t},e}(l["default"]);s.componentType="series",s.MapChartSeries=_},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){var e=t.chartOptions,i=e.libType,n=e.chartType,o=e.legend,r=t.chartTheme;if(t.libType=i,t.chartType="pie","combo"===n){var a=t.name.split("Series"),s=u(a,1);t.seriesType=s[0],t.isCombo=!0}return o&&(t.legendMaxWidth=o.maxWidth),t.chartBackground=r.chart.background,new w(t)}e.__esModule=!0;var u=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(u){o=!0,r=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e["default"]=s;var l=i(408),c=n(l),h=i(335),p=n(h),f=i(342),d=n(f),y=i(333),g=n(y),m=i(332),_=n(m),v=p["default"].COMPONENT_TYPE_RAPHAEL,T=p["default"].ANGLE_360,b=p["default"].PIE_GRAPH_LEGEND_LABEL_INTERVAL,x=p["default"].ANGLE_90,E=p["default"].PIE_GRAPH_SMALL_RATIO,A=p["default"].PIE_GRAPH_DEFAULT_RATIO,D=p["default"].RAD,S=p["default"].PIE_GRAPH_LEGEND_LABEL_SIZE,M=p["default"].SERIES_OUTER_LABEL_PADDING,L=p["default"].SERIES_LABEL_PADDING,C="pie1",w=function(t){function e(i){o(this,e);var n=r(this,t.call(this,i));return n.isCombo=!!i.isCombo,n.isShowOuterLabel=d["default"].isShowOuterLabel(n.options),n.isLabelAlignOuter=d["default"].isLabelAlignOuter(n.options.labelAlign),n.legendMaxWidth=i.legendMaxWidth,n.drawingType=v,n.quadrantRange=null,n.prevClickedIndex=null,n.legendLabels=[],n.valueLabels=[],n.legendLongestWidth=0,n.labelTheme=n.theme.label,n._setDefaultOptions(),n}return a(e,t),e.prototype._getLegendLabels=function(){var t=this,e=this.dataProcessor.getLegendLabels(this.seriesType);return e.map(function(e){return _["default"].getEllipsisText(e,t.legendMaxWidth,t.labelTheme)})},e.prototype._makeValidAngle=function(t,e){return g["default"].isUndefined(t)?t=e:t<0?t=T-Math.abs(t)%T:t>0&&(t%=T),t},e.prototype._transformRadiusRange=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["0%","100%"];return t.map(function(t){var e=.01*parseInt(t,10);return Math.max(Math.min(e,1),0)})},e.prototype._setDefaultOptions=function(){var t=this.options;t.startAngle=this._makeValidAngle(t.startAngle,0),t.endAngle=this._makeValidAngle(t.endAngle,t.startAngle),t.radiusRange=this._transformRadiusRange(t.radiusRange),1===t.radiusRange.length&&t.radiusRange.unshift(0)},e.prototype._calculateAngleForRendering=function(){var t=this.options,e=t.startAngle,i=t.endAngle,n=void 0;return n=e<i?i-e:e>i?T-(e-i):T},e.prototype._makeSectorData=function(t){var e=this,i=t.cx,n=t.r,o=t.cy,r=u(this.options.radiusRange,1),a=r[0],s=this._calculateAngleForRendering(),l=this._getSeriesDataModel().getFirstSeriesGroup(),c=this.options.startAngle,h=.5*n;if(a&&(h+=h*a),!l)return null;var p=l.map(function(t){var r=t?t.ratio:0,a=s*r,u=c+a,l=c+a/2,p={start:{startAngle:c,endAngle:c},end:{startAngle:c,endAngle:u}},f={cx:i,cy:o,angle:l};return c=u,{ratio:r,angles:p,centerPosition:e._getArcPosition(g["default"].extend({r:h},f)),outerPosition:e._getArcPosition(g["default"].extend({r:n+e.legendLongestWidth/2+b},f))}});return p},e.prototype._makeValueLabel=function(){var t=this._getSeriesDataModel().getFirstSeriesGroup();return t.map(function(t){return t.label})},e.prototype._makeSeriesData=function(){this.valueLabels=this._makeValueLabel(),this.legendLabels=this._getLegendLabels(),this.legendLongestWidth=this._getMaxLengthLegendWidth();var t=this._makeCircleBound(),e=this._makeSectorData(t);return{chartBackground:this.chartBackground,circleBound:t,sectorData:e,isAvailable:function(){return e&&e.length>0}}},e.prototype._getQuadrantFromAngle=function(t,e){var i=parseInt(t/x,10)+1;return e&&t%x===0&&(i+=1===i?3:-1),i},e.prototype._getRangeForQuadrant=function(){return this.quadrantRange||(this.quadrantRange={start:this._getQuadrantFromAngle(this.options.startAngle),end:this._getQuadrantFromAngle(this.options.endAngle,!0)}),this.quadrantRange},e.prototype._isInQuadrantRange=function(t,e){var i=this._getRangeForQuadrant();return i.start===t&&i.end===e},e.prototype._calculateBaseSize=function(){var t=this.layout.dimension,e=t.width,i=t.height;if(!this.isCombo){var n=this._getRangeForQuadrant();this._isInQuadrantRange(2,3)||this._isInQuadrantRange(4,1)?i*=2:this._isInQuadrantRange(1,2)||this._isInQuadrantRange(3,4)?e*=2:n.start===n.end&&(e*=2,i*=2)}return Math.min(e,i)},e.prototype._calculateRadius=function(){var t=this.isCombo&&this.seriesType===C,e=this._calculateBaseSize(),i=0,n=this.isShowOuterLabel;return t&&(n=this.dataProcessor.isComboDonutShowOuterLabel()),i=n?E:A,e*i*this.options.radiusRange[1]/2},e.prototype._calculateCenterXY=function(t){var e=this.layout,i=e.dimension,n=i.width,o=i.height,r=e.position,a=r.top,s=r.left,u=t/2,l=n/2+s,c=o/2+a;return this.isCombo||(this._isInQuadrantRange(1,1)?(l-=u,c+=u):this._isInQuadrantRange(1,2)?l-=u:this._isInQuadrantRange(2,2)?(l-=u,c-=u):this._isInQuadrantRange(2,3)?c-=u:this._isInQuadrantRange(3,3)?(l+=u,c-=u):this._isInQuadrantRange(3,4)?l+=u:this._isInQuadrantRange(4,1)?c+=u:this._isInQuadrantRange(4,4)&&(l+=u,c+=u)),{cx:l,cy:c}},e.prototype._makeCircleBound=function(){var t=this._calculateRadius(),e=this._calculateCenterXY(t);return Object.assign({r:t},e)},e.prototype._getArcPosition=function(t){return{left:t.cx+t.r*Math.sin(t.angle*D),top:t.cy-t.r*Math.cos(t.angle*D)}},e.prototype._renderGraph=function(t,e,i){var n=this.showTooltip.bind(this,{allowNegativeTooltip:!!this.allowNegativeTooltip,seriesType:this.seriesType,chartType:this.chartType}),o={showTooltip:n,hideTooltip:this.hideTooltip.bind(this)},r=this._makeParamsForGraphRendering(t,e),a=this.seriesType,s=this.dataProcessor.seriesDataModelMap,u=[],l=0;return(this.dataProcessor.seriesTypes||[]).forEach(function(t){var e=!0;return t!==a?u.push(t):e=!1,e}),u.forEach(function(t){l+=s[t].baseGroups.length}),r.additionalIndex=l,this.graphRenderer.render(i,r,o)},e.prototype.showTooltip=function(t,e,i,n,o){this.eventBus.fire("showTooltip",g["default"].extend({indexes:{groupIndex:i,index:n},mousePosition:o},t))},e.prototype.hideTooltip=function(){this.eventBus.fire("hideTooltip")},e.prototype._getMaxLengthLegendWidth=function(){var t=this,e=this.legendLabels.map(function(e){return _["default"].getRenderedTextSize(e,t.labelTheme.fontSize,t.labelTheme.fontFamily).width});return e.sort(function(t,e){return t-e}),e[e.length-1]},e.prototype._makeSeriesDataBySelection=function(t){return{indexes:{index:t,groupIndex:t}}},e.prototype._pickPositionsFromSectorData=function(t,e){var i=this,n=this.options,o=n.showLegend,r=n.showLabel,a=_["default"].getRenderedTextSize(this.legendLabels[0],this.labelTheme.fontSize,this.labelTheme.fontFamily).height,s=_["default"].getRenderedTextSize(this.valueLabels[0],S,this.labelTheme.fontFamily).height;return(this.seriesData.sectorData||[]).map(function(n){var u=n.ratio?Object.assign({},n[t]):null;return o&&r&&!i.isLabelAlignOuter&&("value"===e?u.top-=s/2:"legend"===e&&(u.top+=a/2)),u})},e.prototype._addEndPosition=function(t,e){e.forEach(function(e){if(e){var i=g["default"].extend({},e.middle);i.left<t?i.left-=M:i.left+=M,e.end=i}})},e.prototype._moveToOuterPosition=function(t,e,i){var n=e.end,o=n.left,r=n.top,a=this.graphRenderer.getRenderedLabelWidth(i,this.labelTheme)/2+L;return{left:o<t?o-a:o+a,top:r}},e.prototype._setSeriesPosition=function(t,e){var i=[];return i=t.funcMoveToPosition?t.positions.map(function(i,n){return i?t.funcMoveToPosition(i,e[n]):null}):t.positions},e.prototype._renderSeriesLabel=function(t){var e=[],i={},n=t.set(),o=function(o,r){var a=void 0,s=Object.assign({},this.theme.label);this.isLabelAlignOuter&&"legend"===o&&(a=this.theme.colors,s.fontWeight="bold"),s.fontSize="value"===o?16:s.fontSize,e=this._setSeriesPosition(i,r),this.graphRenderer.renderLabels({dataType:o,paper:t,labelSet:n,positions:e,labels:r,theme:s,colors:a})}.bind(this);if(this.options.showLabel&&(i.positions=this._pickPositionsFromSectorData("centerPosition","value"),o("value",this.valueLabels)),this.options.showLegend){var r=this.isLabelAlignOuter?"outerPosition":"centerPosition";i.positions=this._pickPositionsFromSectorData(r,"legend"),o("legend",this.legendLabels)}return n},e.prototype._isDetectedLabel=function(t){var e=document.elementFromPoint(t.left,t.top);return g["default"].isString(e.className)},e.prototype.onClickSeries=function(t){var e=this._executeGraphRenderer(t,"findSectorInfo"),i=this.prevClickedIndex,n=this.options.allowSelect;if((e||this._isDetectedLabel(t))&&g["default"].isExisty(i)&&n&&(this.onUnselectSeries({indexes:{index:i}}),this.prevClickedIndex=null),e&&e.chartType===this.seriesType){var o=e.index,r=o>-1&&o!==i;n&&!r||(this.onSelectSeries({chartType:this.chartType,indexes:{index:o,legendIndex:e.legendIndex}},r),n&&o>-1&&(this.prevClickedIndex=o))}},e.prototype.onMoveSeries=function(t){this._executeGraphRenderer(t,"moveMouseOnSeries")},e}(c["default"]);s.componentType="series",s.PieChartSeries=w},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return t.libType=t.chartOptions.libType,t.chartType="heatmap",new p(t)}e.__esModule=!0,e["default"]=s;var u=i(408),l=n(u),c=i(410),h=n(c),p=function(t){function e(i){o(this,e);var n=r(this,t.call(this,i));return n.colorSpectrum=i.colorSpectrum,n}return a(e,t),e.prototype._makeSeriesData=function(){var t=this._makeBounds(),e=this._getSeriesDataModel();return{colorSpectrum:this.colorSpectrum,groupBounds:t,seriesDataModel:e,isAvailable:function(){return t&&t.length>0}}},e.prototype._makeBound=function(t,e,i,n){var o=this.layout,r=o.dimension.height,a=o.position,s=a.top,u=a.left;return{end:{left:u+t*i,top:s+r-e*(n+1),width:t,height:e}}},e.prototype._makeBounds=function(){var t=this,e=this._getSeriesDataModel(),i=this.layout.dimension,n=i.width,o=i.height,r=n/this.dataProcessor.getCategoryCount(!1),a=o/this.dataProcessor.getCategoryCount(!0);return e.map(function(e,i){return e.map(function(e,n){return t._makeBound(r,a,i,n)})})},e.prototype.onShowTooltip=function(t){var e=t.indexes,i=this._getSeriesDataModel(),n=i.getSeriesItem(e.groupIndex,e.index),o=n.ratio,r=n.label;
this.eventBus.fire("showWedge",o,r)},e.prototype._renderSeriesLabel=function(t){var e=this._getSeriesDataModel(),i=this.seriesData.groupBounds,n=this.theme.label,o=this.selectedLegendIndex,r=h["default"].boundsToLabelPositions(e,i,n),a=e.map(function(t){return t.valuesMap.value});return this.graphRenderer.renderSeriesLabel(t,r,a,n,o)},e.prototype.resize=function(){this.boundMap=null;for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];l["default"].prototype.resize.apply(this,e)},e.prototype._makeExportationSeriesData=function(t){var e=t.indexes;return{x:e.groupIndex,y:e.index}},e}(l["default"]);s.componentType="series",s.HeatmapChartSeries=p},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return t.libType=t.chartOptions.libType,t.chartType="treemap",t.chartBackground=t.chartTheme.chart.background,new T(t)}e.__esModule=!0,e["default"]=s;var u=i(408),l=n(u),c=i(423),h=n(c),p=i(410),f=n(p),d=i(335),y=n(d),g=i(342),m=n(g),_=i(333),v=n(_),T=function(t){function e(i){o(this,e);var n=r(this,t.call(this,i));return n.theme.borderColor=n.theme.borderColor||y["default"].TREEMAP_DEFAULT_BORDER,n.theme.label.color=n.options.useColorValue?"#000":"#fff",n.rootId=y["default"].TREEMAP_ROOT_ID,n.startDepth=1,n.selectedGroup=null,n.boundMap=null,n.colorSpectrum=i.colorSpectrum,n._initOptions(),n}return a(e,t),e.prototype._initOptions=function(){this.options.useColorValue=!!this.options.useColorValue,v["default"].isUndefined(this.options.zoomable)&&(this.options.zoomable=!this.options.useColorValue),v["default"].isUndefined(this.options.useLeafLabel)&&(this.options.useLeafLabel=!this.options.zoomable)},e.prototype._makeSeriesData=function(){var t=this._getBoundMap(),e=this._makeBounds(t);return{boundMap:t,groupBounds:e,seriesDataModel:this._getSeriesDataModel(),startDepth:this.startDepth,isPivot:!0,colorSpectrum:this.options.useColorValue?this.colorSpectrum:null,chartBackground:this.chartBackground,zoomable:this.options.zoomable,isAvailable:function(){return e&&e.length>0}}},e.prototype._makeBoundMap=function(t,e,i){var n=this,o=this._getSeriesDataModel(),r=v["default"].extend({},this.layout.dimension,this.layout.position),a=o.findSeriesItemsByParent(t);return i=i||r,e=v["default"].extend(e||{},h["default"].squarify(i,a)),a.forEach(function(t){e=n._makeBoundMap(t.id,e,e[t.id])}),e},e.prototype._makeBounds=function(t){var e=this.startDepth,i=this._getSeriesDataModel(),n=void 0;return n=this.options.zoomable?function(t){return t.depth===e}:function(t){return!t.hasChild},i.map(function(e){return e.map(function(e){var i=t[e.id],o=null;return i&&n(e)&&(o={end:i}),o},!0)},!0)},e.prototype._getBoundMap=function(){return this.boundMap||(this.boundMap=this._makeBoundMap(this.rootId)),this.boundMap},e.prototype._shouldDimmed=function(t,e,i){var n=!1;if(e&&i.id!==e.id&&i.group===e.group){var o=t.findParentByDepth(i.id,e.depth+1);o&&o.parent===e.id&&(n=!0)}return n},e.prototype._renderSeriesLabel=function(t){var e=this._getSeriesDataModel(),i=this._getBoundMap(),n=this.theme.label,o=this.options.labelTemplate,r=void 0;r=this.options.useLeafLabel?e.findLeafSeriesItems(this.selectedGroup):e.findSeriesItemsByDepth(this.startDepth,this.selectedGroup);var a=r.map(function(t){var e=o?o(t.pickLabelTemplateData()):t.label;return e}),s=f["default"].boundsToLabelPostionsForTreemap(r,i,n);return this.graphRenderer.renderSeriesLabelForTreemap(t,s,a,n)},e.prototype.resize=function(){this.boundMap=null;for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];l["default"].prototype.resize.apply(this,e)},e.prototype._zoom=function(t,e,i){this._clearSeriesContainer(),this.boundMap=null,this.rootId=t,this.startDepth=e,this.selectedGroup=i,this._renderSeriesArea(this.paper,v["default"].bind(this._renderGraph,this)),this.animateComponent(!0)},e.prototype.zoom=function(t){var e=t.index;if(this.labelSet.remove(),e===-1)return void this._zoom(y["default"].TREEMAP_ROOT_ID,1,null);var i=this._getSeriesDataModel(),n=i.getSeriesItem(0,e,!0);n&&n.hasChild&&(this._zoom(n.id,n.depth+1,n.group),this.eventBus.fire("afterZoom",e))},e.prototype._makeExportationSeriesData=function(t){var e=t.indexes,i=this._getSeriesDataModel().getSeriesItem(e.groupIndex,e.index,!0);return v["default"].extend({chartType:this.chartType,indexes:i.indexes})},e.prototype.onHoverSeries=function(t){if(m["default"].isShowLabel(this.options)){var e=this._getSeriesDataModel().getSeriesItem(t.groupIndex,t.index,!0),i=e.colorRatio;this.graphRenderer.showAnimation(t,this.options.useColorValue,.6),i>-1&&this.eventBus.fire("showWedge",i,e.colorValue)}},e.prototype.onHoverOffSeries=function(t){m["default"].isShowLabel(this.options)&&t&&this.graphRenderer.hideAnimation(t,this.options.useColorValue)},e}(l["default"]);s.componentType="series",s.TreemapChartSeries=T},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=i(351),r=n(o),a=i(337),s=n(a),u=i(333),l=n(u);e["default"]={boundMap:{},_makeBaseBound:function(t){return l["default"].extend({},t)},_calculateScale:function(t,e,i){return e*i/r["default"].sum(t)},_makeBaseData:function(t,e,i){var n=this._calculateScale(l["default"].pluck(t,"value"),e,i),o=t.map(function(t){return{id:t.id,weight:t.value*n}}).sort(function(t,e){return e.weight-t.weight});return o},_worst:function(t,e,i,n){var o=t*t,r=n*n;return Math.max(r*i/o,o/(r*e))},_changedStackDirection:function(t,e,i,n){var o=s["default"].min(e),r=s["default"].max(e),a=this._worst(t,o,r,i),u=this._worst(t+n,Math.min(o,n),Math.max(r,n),i);return u>=a},_isVerticalStack:function(t){return t.height<t.width},_selectBaseSize:function(t){return this._isVerticalStack(t)?t.height:t.width},_calculateFixedSize:function(t,e,i){if(!e){var n=l["default"].pluck(i,"weight");e=r["default"].sum(n)}return e/t},_addBounds:function(t,e,i,n){[t].concat(e).reduce(function(t,e){var o=e.weight/i;return n(o,t,e.id),t+o})},_addBound:function(t,e,i,n,o){this.boundMap[o]={left:t,top:e,width:i,height:n}},_addBoundsForVerticalStack:function(t,e,i,n){var o=this,r=this._calculateFixedSize(i,n,t);this._addBounds(e.top,t,r,function(t,i,n){o._addBound(e.left,i,r,t,n)}),e.left+=r,e.width-=r},_addBoundsForHorizontalStack:function(t,e,i,n){var o=this,r=this._calculateFixedSize(i,n,t);this._addBounds(e.left,t,r,function(t,i,n){o._addBound(i,e.top,t,r,n)}),e.top+=r,e.height-=r},_getAddingBoundsFunction:function(t){return this._isVerticalStack(t)?l["default"].bind(this._addBoundsForVerticalStack,this):this._addBoundsForHorizontalStack.bind(this)},squarify:function(t,e){var i=this,n=this._makeBaseBound(t),o=this._makeBaseData(e,n.width,n.height),a=[],s=void 0,u=void 0;return this.boundMap={},o.forEach(function(t){var e=l["default"].pluck(a,"weight"),o=r["default"].sum(e);a.length&&i._changedStackDirection(o,e,s,t.weight)&&(u(a,n,s,o),a=[]),a.length||(s=i._selectBaseSize(n),u=i._getAddingBoundsFunction(n)),a.push(t)}),a.length&&u(a,n,s),this.boundMap}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){var e=t.chartOptions.libType,i=t.chartTheme;return t.libType=e,t.chartType="boxplot",t.chartBackground=i.chart.background,new T(t)}e.__esModule=!0,e["default"]=s;var u=i(408),l=n(u),c=i(409),h=n(c),p=i(335),f=n(p),d=i(342),y=n(d),g=i(334),m=n(g),_=f["default"].SERIES_EXPAND_SIZE,v=f["default"].TEXT_PADDING,T=function(t){function e(){o(this,e);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];var s=r(this,t.call.apply(t,[this].concat(n)));return s.supportSeriesLable=!1,s}return a(e,t),e.prototype._makeBoxplotChartBound=function(t,e,i,n,o){var r=t.pointInterval,a=t.barSize,s=t.baseBarSize,u=t.basePosition,l=Math.abs(s*n.ratioDistance),c=s*(1-n.lqRatio),h=u+c+_,p=u+_,f=o,d=void 0;e.left=e.baseLeft+r*f,e.plusTop=0,e.minusTop=0,n.value>=0?(e.plusTop-=l,d=h+e.plusTop):(d=h+e.minusTop,e.minusTop+=l);var y=e.left+r-a/2,g=(n.outliers||[]).map(function(t){return{top:s*(1-t.ratio)+p,left:y+a/2}});return{start:{top:h,left:y,width:a,height:0},end:{top:d,left:y,width:a,height:l},min:{top:s*(1-n.minRatio)+p,left:y,width:a,height:0},max:{top:s*(1-n.maxRatio)+p,left:y,width:a,height:0},median:{top:s*(1-n.medianRatio)+p,left:y,width:a,height:0},outliers:g}},e.prototype._makeBounds=function(){var t=this,e=this._getSeriesDataModel(),i=y["default"].isValidStackOption(this.options.stackType),n=this.layout.dimension,o=n.width,r=n.height,a=this._makeBaseDataForMakingBound(o,r);return e.map(function(e,n){var o=n*a.groupSize+t.layout.position.left,r={baseLeft:o,left:o,plusTop:0,minusTop:0,prevStack:null},s=t._makeBoxplotChartBound.bind(t,a,r,i);return e.map(s)})},e.prototype._calculateLeftPositionOfSumLabel=function(t,e){var i=t.left,n=t.width,o=m["default"].getRenderedLabelWidth(e,this.theme.label);return i+(n-o+v)/2},e}(l["default"]);h["default"].mixin(T),s.componentType="series",s.BoxplotChartSeries=T},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return t.chartType="bullet",t.libType=t.chartOptions.libType,t.chartBackground=t.chartTheme.chart.background,new x(t)}e.__esModule=!0,e["default"]=s;var u=i(408),l=n(u),c=i(334),h=n(c),p=i(335),f=n(p),d=f["default"].BULLET_TYPE_ACTUAL,y=f["default"].BULLET_ACTUAL_HEIGHT_RATIO,g=f["default"].BULLET_TYPE_RANGE,m=f["default"].BULLET_RANGES_HEIGHT_RATIO,_=f["default"].BULLET_TYPE_MARKER,v=f["default"].BULLET_MARKERS_HEIGHT_RATIO,T=f["default"].BULLET_MARKER_DETECT_PADDING,b=f["default"].MAX_HEIGHT_WORD,x=function(t){function e(i){o(this,e);var n=r(this,t.call(this,i));return n.isVertical=i.isVertical,n}return a(e,t),e.prototype._makeSeriesData=function(){var t=this._makeBounds();return{groupBounds:t,seriesDataModel:this._getSeriesDataModel(),isVertical:this.isVertical,isAvailable:function(){return t&&t.length>0}}},e.prototype._makeBounds=function(){var t=this,e=this._getSeriesDataModel(),i=this._makeBaseDataForMakingBound(),n={renderedItemCount:0,top:i.categoryAxisTop,left:i.categoryAxisLeft};return e.map(function(e){var o=t._makeBulletChartBound.bind(t,i,n),r=e.map(o);return t._updateIterationData(n,i.itemWidth),r})},e.prototype._makeBaseDataForMakingBound=function(){var t=this._getSeriesDataModel().getGroupCount(),e=this.layout,i=e.dimension,n=i.width,o=i.height,r=e.position,a=r.left,s=r.top,u=void 0,l=void 0;this.isVertical?(s+=o,u=n,l=o):(u=o,l=n);var c=u/t;return{categoryAxisTop:s,categoryAxisLeft:a,categoryAxisWidth:u,valueAxisWidth:l,itemWidth:c}},e.prototype._makeBulletChartBound=function(t,e,i){var n=i.type,o=void 0;return n===d?o=this._makeBarBound(i,y,t,e):n===g?o=this._makeBarBound(i,m,t,e):n===_&&(o=this._makeLineBound(i,v,t,e)),o.type=n,o},e.prototype._makeBarBound=function(t,e,i,n){var o=t.ratioDistance,r=t.endRatio,a=i.itemWidth*e,s=i.valueAxisWidth*o,u=i.valueAxisWidth*r,l=void 0;return l=this.isVertical?this._makeVerticalBarBound(n,i,a,s,u):this._makeHorizontalBarBound(n,i,a,s,u)},e.prototype._makeVerticalBarBound=function(t,e,i,n,o){return{top:t.top-o,left:t.left+(e.itemWidth-i)/2,width:i,height:n}},e.prototype._makeHorizontalBarBound=function(t,e,i,n,o){return{top:t.top+(e.itemWidth-i)/2,left:t.left+o-n,width:n,height:i}},e.prototype._makeLineBound=function(t,e,i,n){var o=i.itemWidth,r=i.valueAxisWidth,a=o*e,s=r*t.endRatio,u=T,l=T,c=void 0,h=void 0;return this.isVertical?(c=n.top-s,h=n.left+(o-a)/2,l=a):(c=n.top+(o-a)/2,h=n.left+s,u=a),{top:c,left:h,width:l,height:u,length:a}},e.prototype._updateIterationData=function(t,e){t.renderedItemCount+=1,this.isVertical?t.left+=e:t.top+=e},e.prototype._renderSeriesArea=function(t,e){l["default"].prototype._renderSeriesArea.call(this,t,e),this.dataProcessor.setGraphColors(this.graphRenderer.getGraphColors())},e.prototype._renderSeriesLabel=function(t){var e=this.theme.label,i=this._getSeriesDataModel(),n=this._getLabelTexts(i),o=this._calculateLabelPositions(i,e);return this.graphRenderer.renderSeriesLabel(t,o,n,e)},e.prototype._getLabelTexts=function(t){return t.map(function(t){var e=[];return t.each(function(t){t.type!==g&&e.push(t.endLabel)}),e})},e.prototype._calculateLabelPositions=function(t,e){var i=this,n=this.seriesData.groupBounds,o=h["default"].getRenderedLabelHeight(b,e);return n.map(function(t){var e=[];return t.forEach(function(t){t.type!==g&&e.push(i._makePositionByBound(t,o))}),e})},e.prototype._makePositionByBound=function(t,e){var i=t.top,n=t.left,o={};if(this.isVertical){var r=t.width||t.length;o.top=i-e,o.left=n+r/2}else{var a=t.width||0,s=t.height||t.length;o.top=i+s/2,o.left=n+5+(a||0)}return o},e}(l["default"]);s.componentType="series",s.BulletChartSeries=x},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){return new M(t)}e.__esModule=!0,e["default"]=r;var a=i(333),s=n(a),u=i(427),l=n(u),c=i(335),h=n(c),p=i(336),f=n(p),d=i(351),y=n(d),g=i(334),m=n(g),_=i(382),v=n(_),T=i(342),b=n(T),x=h["default"].COMPONENT_TYPE_DOM,E=h["default"].MAP_CHART_ZOOM_AREA_HEIGHT,A=h["default"].MAP_CHART_ZOOM_AREA_WIDTH,D=h["default"].CHART_PADDING,S=s["default"].browser.msie&&s["default"].browser.version<=8,M=function(){function t(e){o(this,t),this.className="tui-chart-zoom-area";var i=e.seriesTypes,n=!(!i||!i.length)&&b["default"].isMapChart(i[0]),r=e.dataProcessor.options.legend,a=b["default"].isLegendAlignTop(r.align),s=r.visible!==!1;this.isMapLegendTop=n&&a&&s,this.eventBus=e.eventBus,this.magn=1,this.stackedWheelDelta=0,this.drawingType=x,this._attachToEventBus()}return t.prototype._attachToEventBus=function(){this.eventBus.on("wheel",this.onWheel,this)},t.prototype.render=function(t){var e=void 0;if(!S){var i=y["default"].sum([t.positionMap.series.top,-E,A]);this.isMapLegendTop&&(i=t.positionMap.legend.top-A);var n={top:i,right:D};e=f["default"].create("DIV",this.className),e.innerHTML+=l["default"].ZOOM_BUTTONS,m["default"].renderPosition(e,n),this._attachEvent(e)}return e},t.prototype._findBtnElement=function(t){var e="tui-chart-zoom-btn",i=t;return f["default"].hasClass(t,e)||(i=f["default"].findParentByClass(t,e)),i},t.prototype._zoom=function(t,e){this.eventBus.fire("zoomMap",t,e)},t.prototype._onClick=function(t){var e=t.target||t.srcElement,i=this._findBtnElement(e),n=i.getAttribute("data-magn"),o=this._calculateMagn(n);return o>5?this.magn=5:o<1?this.magn=1:o>=1&&this._zoom(o),t.preventDefault&&t.preventDefault(),!1},t.prototype._attachEvent=function(t){v["default"].on(t,"click",this._onClick,this)},t.prototype._calculateMagn=function(t){return t>0?this.magn+=.1:t<0&&(this.magn-=.1),this.magn},t.prototype.onWheel=function(t,e){var i=this._calculateMagn(t);i>5?this.magn=5:i<1?this.magn=1:i>=1&&this._zoom(i,e)},t}();r.componentType="zoom"},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=i(392),r=n(o),a={HTML_SERIES_LABEL:'<div class="tui-chart-series-label" style="{{ cssText }}"{{ rangeLabelAttribute }}>{{ label }}</div>',TEXT_CSS_TEXT:"left:{{ left }}px;top:{{ top }}px;font-family:{{ fontFamily }};font-size:{{ fontSize }}px;font-weight:{{ fontWeight }}{{opacity}}",TEXT_CSS_TEXT_FOR_LINE_TYPE:"left:{{ left }}%;top:{{ top }}%;font-family:{{ fontFamily }};font-size:{{ fontSize }}px;font-weight:{{ fontWeight }}{{opacity}}",HTML_ZOOM_BUTTONS:'<a class="tui-chart-zoom-btn zoom-in" href="#" data-magn="1"></a><a class="tui-chart-zoom-btn zoom-out" href="#" data-magn="-1"></a>',HTML_SERIES_BLOCK:'<div class="tui-chart-series-block" style="{{ cssText }}">{{ label }}</div>'};e["default"]={tplSeriesLabel:r["default"].template(a.HTML_SERIES_LABEL),tplCssText:r["default"].template(a.TEXT_CSS_TEXT),tplCssTextForLineType:r["default"].template(a.TEXT_CSS_TEXT_FOR_LINE_TYPE),ZOOM_BUTTONS:a.HTML_ZOOM_BUTTONS,tplSeriesBlock:r["default"].template(a.HTML_SERIES_BLOCK)}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(u){o=!0,r=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=i(335),c=n(l),h=i(429),p=n(h),f=i(430),d=n(f),y=i(434),g=n(y),m=i(436),_=n(m),v=i(437),T=n(v),b=i(431),x=n(b),E=i(359),A=n(E),D=i(342),S=n(D),M=i(334),L=n(M),C=i(351),w=n(C),P=i(364),O=n(P),R=i(333),I=n(R),k=I["default"].isUndefined,B=function(t){function e(i,n,o,s){r(this,e);var u=a(this,t.call(this));return u.originalRawData=O["default"].deepCopy(i),u.chartType=n,u.options=o,u.seriesTypes=s,u.originalLegendData=null,u.selectLegendIndex=null,u.dynamicData=[],u.defaultValues=[0,500],u.initData(i),u.initZoomedRawData(),u.baseInit(),u}return s(e,t),e.prototype.getOriginalRawData=function(){return O["default"].deepCopy(this.originalRawData)},e.prototype.getZoomedRawData=function(){var t=this.zoomedRawData;return t=t?O["default"].deepCopy(t):this.getOriginalRawData()},e.prototype._filterSeriesDataByIndexRange=function(t,e,i){return t.forEach(function(t){t.data=t.data.slice(e,i+1)}),t},e.prototype._filterRawDataByIndexRange=function(t,e){var i=this,n=u(e,2),o=n[0],r=n[1];return Object.entries(t.series).forEach(function(e){var n=u(e,2),a=n[0],s=n[1];t.series[a]=i._filterSeriesDataByIndexRange(s,o,r)}),t.categories&&(t.categories=t.categories.slice(o,r+1)),t},e.prototype.updateRawDataForZoom=function(t){var e=this.getZoomedRawData(),i=this.getRawData();this.zoomedRawData=this._filterRawDataByIndexRange(e,t),i=this._filterRawDataByIndexRange(i,t),this.initData(i)},e.prototype.initZoomedRawData=function(){this.zoomedRawData=null},e.prototype.initData=function(t){this.rawData=t,this.categoriesMap=null,this.categoriesIsDateTime={},this.stacks=null,this.seriesDataModelMap={},this.seriesGroups=null,this.valuesMap={},this.legendLabels=null,this.legendData=null,this.multilineCategories=null,this.coordinateType=null},e.prototype.getRawData=function(){return this.rawData},e.prototype.findChartType=function(t){return A["default"].findChartType(this.rawData.seriesAlias,t)},e.prototype._escapeCategories=function(t){return t.map(function(t){return I["default"].encodeHTMLEntity(String(t))})},e.prototype._mapCategories=function(t,e){var i=this,n=e+"Axis",o=this.options[n]||{},r=!1;return r=I["default"].isArray(o)?o.filter(function(t){return t.type&&S["default"].isDatetimeType(t.type)}):o.type&&S["default"].isDatetimeType(o.type),t=r?t.map(function(t){return i.chageDatetypeToTimestamp(t)}):this._escapeCategories(t),this.categoriesIsDateTime[e]=r,t},e.prototype._processCategories=function(t){var e=this.rawData.categories,i={};return I["default"].isArray(e)?i[t]=this._mapCategories(e,t):e&&(e.x&&(i.x=this._mapCategories(e.x,"x")),e.y&&(i.y=this._mapCategories(e.y,"y").reverse())),i},e.prototype.getCategories=function(t){var e=t?"y":"x",i=[];return this.categoriesMap||(this.categoriesMap=this._processCategories(e)),I["default"].isExisty(t)?i=this.categoriesMap[e]||[]:Object.values(this.categoriesMap).every(function(t){return i=t,!1}),i},e.prototype.getCategorieDateType=function(t){var e=t?"y":"x";return this.categoriesIsDateTime[e]},e.prototype.chageDatetypeToTimestamp=function(t){var e=new Date(t);return e.getTime()>0||(e=new Date(parseInt(t,10))),e.getTime()||t},e.prototype.getCategoryCount=function(t){var e=this.getCategories(t);return e?e.length:0},e.prototype.hasCategories=function(t){return!!this.getCategoryCount(t)},e.prototype.isXCountGreaterThanYCount=function(t){var e=this.getSeriesDataModel(t);return e.isXCountGreaterThanYCount()},e.prototype.hasXValue=function(t){var e=this.isXCountGreaterThanYCount(t);return!this.hasCategories(e)||e},e.prototype.hasYValue=function(t){var e=this.isXCountGreaterThanYCount(t);return!this.hasCategories(e)||!e},e.prototype.getCategory=function(t,e){return this.getCategories(e)[t]},e.prototype.findCategoryIndex=function(t){var e=this,i=this.getCategories(),n=this.getCategorieDateType(),o=null;return i.forEach(function(i,r){return n&&(t=e.chageDatetypeToTimestamp(t)),i===t&&(o=r),I["default"].isNull(o)}),o},e.prototype.findAbsoluteCategoryIndex=function(t){var e=this.originalRawData?this.originalRawData.categories:null,i=-1;return e?(e.forEach(function(e,n){var o=e===t;return o&&(i=n),!o}),i):i},e.prototype._getTooltipCategory=function(t,e){var i=this.getCategory(t,e),n=e?"yAxis":"xAxis",o=this.options[n]||{},r=this.options.tooltip||{};return S["default"].isDatetimeType(r.type)?i=L["default"].formatDate(i,r.dateFormat):S["default"].isDatetimeType(o.type)&&(i=L["default"].formatDate(i,o.dateFormat)),i},e.prototype.makeTooltipCategory=function(t,e,i){var n=!i,o=this._getTooltipCategory(t,n),r=this.getCategoryCount(!n);return r&&(o+=", "+this._getTooltipCategory(r-e-1,!n)),o},e.prototype.getStacks=function(t){return this.stacks||(this.stacks=A["default"].pickStacks(this.rawData.series[t])),this.stacks},e.prototype.getStackCount=function(t){return this.getStacks(t).length},e.prototype.findStackIndex=function(t){return I["default"].inArray(t,this.getStacks())},e.prototype.isCoordinateType=function(){var t=this.coordinateType;if(!I["default"].isExisty(t)){var e=this.chartType;t=S["default"].isCoordinateTypeChart(e),t=t||S["default"].isLineScatterComboChart(e,this.seriesTypes),t=t||S["default"].isLineTypeChart(e)&&!this.hasCategories(),this.coordinateType=t}return t},e.prototype.getSeriesDataModel=function(t){if(!this.seriesDataModelMap[t]){var e=this.findChartType(t),i=this.rawData.series[t],n=void 0;n=S["default"].isBoxplotChart(this.chartType)?g["default"]:S["default"].isTreemapChart(this.chartType)?T["default"]:S["default"].isBulletChart(this.chartType)?_["default"]:d["default"],this.seriesDataModelMap[t]=new n(i,e,this.options,this.getFormatFunctions(),this.isCoordinateType())}return this.seriesDataModelMap[t]},e.prototype.getOption=function(t){return this.options[t]},e.prototype.getGroupCount=function(t){return this.getSeriesDataModel(t).getGroupCount()},e.prototype._pushCategory=function(t){this.rawData.categories&&(this.rawData.categories.push(t),this.originalRawData.categories.push(t))},e.prototype._shiftCategory=function(){this.rawData.categories&&(this.rawData.categories.shift(),this.originalRawData.categories.shift())},e.prototype._findRawSeriesDatumByName=function(t,e){var i=this.rawData.series[e],n=null;return i.forEach(function(e){var i=e.name===t;return i&&(n=e),!i}),n},e.prototype._pushValue=function(t,e,i){var n=this._findRawSeriesDatumByName(t.name,i);t.data.push(e),n&&n.data.push(e)},e.prototype._pushValues=function(t,e,i){var n=this;t.forEach(function(t,o){n._pushValue(t,e[o],i)})},e.prototype._pushSeriesData=function(t){var e=this;if("combo"!==this.chartType&&I["default"].isArray(t)){var i=t;t={},t[this.chartType]=i}Object.entries(this.originalRawData.series).forEach(function(i){var n=u(i,2),o=n[0],r=n[1];e._pushValues(r,t[o],o)})},e.prototype._shiftValues=function(t,e){var i=this;t.forEach(function(t){var n=i._findRawSeriesDatumByName(t.name,e);t.data.shift(),n&&n.data.shift()})},e.prototype._shiftSeriesData=function(){var t=this;Object.entries(this.originalRawData.series).forEach(function(e){var i=u(e,2),n=i[0],o=i[1];t._shiftValues(o,n)})},e.prototype.addDynamicData=function(t,e){this.dynamicData.push({category:t,values:e})},e.prototype._pushDynamicData=function(t){this._pushCategory(t.category),this._pushSeriesData(t.values)},e.prototype._pushDynamicDataForCoordinateType=function(t){var e=this;Object.values(this.originalRawData.series).forEach(function(i){e._pushValue(i,t[i.name])})},e.prototype.addDataFromDynamicData=function(){var t=this.dynamicData.shift();return t&&(this.isCoordinateType()?this._pushDynamicDataForCoordinateType(t.values):this._pushDynamicData(t),this.initData(this.rawData)),!!t},e.prototype.shiftData=function(){this._shiftCategory(),this._shiftSeriesData(),this.initData(this.rawData)},e.prototype.addDataFromRemainDynamicData=function(t){var e=this,i=this.dynamicData;this.dynamicData=[],i.forEach(function(i){e._pushCategory(i.category),e._pushSeriesData(i.values),t&&(e._shiftCategory(),e._shiftSeriesData())}),this.initData(this.rawData)},e.prototype._eachByAllSeriesDataModel=function(t){var e=this,i=this.seriesTypes||[this.chartType];i.forEach(function(i){return t(e.getSeriesDataModel(i),i)})},e.prototype.isValidAllSeriesDataModel=function(){var t=!0;return this._eachByAllSeriesDataModel(function(e){t=!!e.getGroupCount()}),t},e.prototype._makeSeriesGroups=function(){var t=[];this._eachByAllSeriesDataModel(function(e){e.each(function(e,i){t[i]||(t[i]=[]),t[i]=t[i].concat(e.items)})});var e=t.map(function(t){return new x["default"](t)});return e},e.prototype.getSeriesGroups=function(){return this.seriesGroups||(this.seriesGroups=this._makeSeriesGroups()),this.seriesGroups},e.prototype.getValue=function(t,e,i){return this.getSeriesDataModel(i).getValue(t,e)},e.prototype.getDefaultDatetimeValues=function(){var t=36e5,e=Date.now();return[e-t,e]},e.prototype.isSeriesDataEmpty=function(t){var e=this.rawData,i=e&&!e.series;return!e||i||!e.series[t]||e.series[t]&&!e.series[t].length},e.prototype.isLimitOptionsEmpty=function(t){var e=this.options[t]||{};return k(e.min)&&k(e.max)},e.prototype.isLimitOptionsInsufficient=function(t){var e=this.options[t]||{};return k(e.min)||k(e.max)},e.prototype._createValues=function(t,e,i){var n=void 0,o=this.options,r=o.plot,a=o[i]||{},s=a.type,u=this.isSeriesDataEmpty(t),l=this.isLimitOptionsEmpty(i),c=this.isLimitOptionsInsufficient(i),h=S["default"].isLineChart(t)||S["default"].isAreaChart(t)||S["default"].isLineAreaComboChart(t,this.seriesTypes),p=this.defaultValues;if(S["default"].isComboChart(t))n=[],this._eachByAllSeriesDataModel(function(t){n=n.concat(t.getValues(e))});else if(u&&c)if(!l&&c&&(p=p.concat([a.min||a.max])),"x"===e&&"datetime"===s){if(n=this.getDefaultDatetimeValues(),h&&r){var f=this.getValuesFromPlotOptions(r,s);n=n.concat(f)}}else n=p;else n=this.getSeriesDataModel(t).getValues(e);return n},e.prototype.getValuesFromPlotOptions=function(t,e){var i=[];return t.lines&&t.lines.forEach(function(t){i.push("datetime"!==e?t.value:new Date(t.value))}),t.bands&&t.bands.forEach(function(t){var n=t.range.map(function(t){return"datetime"!==e?t:new Date(t)});i=i.concat(n)}),i},e.prototype.getValues=function(t,e,i){var n=t+e;return this.valuesMap[n]||(this.valuesMap[n]=this._createValues(t,e,i)),this.valuesMap[n]},e.prototype.eachBySeriesGroup=function(t,e){this._eachByAllSeriesDataModel(function(i,n){i.each(function(e,i){t(e,i,n)},e)})},e.prototype._pickLegendLabel=function(t){return t.name?I["default"].encodeHTMLEntity(t.name):null},e.prototype._isVisibleLegend=function(t){var e=!0;return I["default"].isExisty(t.visible)&&t.visible===!1&&(e=!1),e},e.prototype._pickLegendData=function(t){var e=this.rawData.series,i={},n=void 0;return"visibility"===t?n=this._isVisibleLegend:"label"===t&&(n=this._pickLegendLabel),n&&(Object.entries(e).forEach(function(t){var e=u(t,2),o=e[0],r=e[1];i[o]=r.map(n)}),i=I["default"].filter(i,I["default"].isExisty)),i},e.prototype.getLegendLabels=function(t){return this.legendLabels||(this.legendLabels=this._pickLegendData("label")),this.legendLabels[t]||this.legendLabels},e.prototype.getLegendVisibility=function(t){return this.legendVisibilities||(this.legendVisibilities=this._pickLegendData("visibility")),this.legendVisibilities[t]||this.legendVisibilities},e.prototype._makeLegendData=function(){var t,e=this.getLegendLabels(this.chartType),i=this.getLegendVisibility(),n=this.seriesTypes||[this.chartType],r=void 0;I["default"].isArray(e)?(r=[this.chartType],r[this.chartType]=e):(n=this.seriesTypes,r=e);var a=n.map(function(t){return r[t].map(function(e,n){var o=I["default"].isArray(i[t]);return{chartType:t,label:e,visible:o?i[t][n]:i[n]}})});return(t=[]).concat.apply(t,o(a))},e.prototype.getLegendData=function(){return this.legendData||(this.legendData=this._makeLegendData()),this.originalLegendData||(this.originalLegendData=this.legendData),this.legendData},e.prototype.getOriginalLegendData=function(){return this.originalLegendData},e.prototype.getLegendItem=function(t){return this.getLegendData()[t]},e.prototype.getFirstItemLabel=function(t){return this.getSeriesDataModel(t).getFirstItemLabel()},e.prototype.addDataRatiosOfPieChart=function(t){this.getSeriesDataModel(t).addDataRatiosOfPieChart()},e.prototype.addDataRatiosForCoordinateType=function(t,e,i){S["default"].isLineTypeChart(t)&&this._addStartValueToAllSeriesItem(e.yAxis,t),this.getSeriesDataModel(t).addDataRatiosForCoordinateType(e,i)},e.prototype._addStartValueToAllSeriesItem=function(t,e){var i=0;t.min>=0?i=t.min:t.max<=0&&(i=t.max),this.getSeriesDataModel(e).addStartValueToAllSeriesItem(i)},e.prototype.addDataRatios=function(t,e,i){var n=this.getSeriesDataModel(i);this._addStartValueToAllSeriesItem(t,i),n.addDataRatios(t,e)},e.prototype.addDataRatiosForTreemapChart=function(t,e){this.getSeriesDataModel(e).addDataRatios(t)},e.prototype._createBaseValuesForNormalStackedChart=function(t){var e=this.getSeriesDataModel(t),i=[];return e.each(function(t){var e=t._makeValuesMapPerStack();Object.values(e).forEach(function(t){var e=w["default"].sumPlusValues(t),n=w["default"].sumMinusValues(t);i=i.concat([e,n])})}),i},e.prototype.createBaseValuesForLimit=function(t,e,i,n,o){var r=void 0;return S["default"].isComboChart(this.chartType)&&e?(r=this.getValues(this.chartType,n),S["default"].isNormalStackChart(t,i)&&(r=r.concat(this._createBaseValuesForNormalStackedChart(t)))):r=S["default"].isTreemapChart(t)?this.getValues(t,"colorValue"):S["default"].isNormalStackChart(t,i)?this._createBaseValuesForNormalStackedChart(t):this.getValues(t,n,o),
r},e.prototype.findOverflowItem=function(t,e){var i=this.getSeriesDataModel(t),n=i.getMaxValue("r"),o=function(t){return t.r/n>c["default"].HALF_RATIO};return{minItem:i.findMinSeriesItem(e,o),maxItem:i.findMaxSeriesItem(e,o)}},e.prototype.setGraphColors=function(t){this.graphColors=t},e.prototype.getGraphColors=function(){return this.graphColors},e.prototype.isComboDonutShowOuterLabel=function(){var t=this.options.series;return t&&t.pie2&&"outer"===t.pie2.labelAlign},e}(p["default"]);e["default"]=B},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=i(337),a=n(r),s=i(334),u=n(s),l=i(351),c=n(l),h=i(333),p=n(h),f=function(){function t(){o(this,t)}return t.prototype.baseInit=function(){this.formatFunctions=null},t.prototype.getValues=function(){},t.prototype.getMaxValue=function(t,e){return a["default"].max(this.getValues(t,e))},t.prototype.getMinValue=function(t,e){return a["default"].min(this.getValues(t,e))},t.prototype.getFormattedMaxValue=function(t,e,i){var n=this.getMaxValue(t,i),o=this.getFormatFunctions();return u["default"].formatValue({value:n,formatFunctions:o,chartType:t,areaType:e,valueType:i})},t.prototype.getFormattedMinValue=function(t,e,i){var n=this.getMinValue(t,i),o=this.getFormatFunctions();return u["default"].formatValue({value:n,formatFunctions:o,chartType:t,areaType:e,valueType:i})},t.prototype._pickMaxLenUnderPoint=function(t){var e=0;return t.forEach(function(t){var i=c["default"].getDecimalLength(t);i>e&&(e=i)}),e},t.prototype._isZeroFill=function(t){return t.length>2&&"0"===t.charAt(0)},t.prototype._isDecimal=function(t){var e=t.indexOf(".");return e>-1&&e<t.length-1},t.prototype._isComma=function(t){return t.indexOf(",")>-1},t.prototype._formatToZeroFill=function(t,e){var i=e<0;return e=u["default"].formatToZeroFill(Math.abs(e),t),(i?"-":"")+e},t.prototype._formatToDecimal=function(t,e){return u["default"].formatToDecimal(e,t)},t.prototype._findSimpleTypeFormatFunctions=function(t){var e=[],i=void 0;if(this._isDecimal(t))i=this._pickMaxLenUnderPoint([t]),e=[p["default"].bind(this._formatToDecimal,this,i)];else if(this._isZeroFill(t))return i=t.length,e=[p["default"].bind(this._formatToZeroFill,this,i)];return this._isComma(t)&&e.push(u["default"].formatToComma),e},t.prototype._findFormatFunctions=function(){var t=p["default"].pick(this.options,"chart","format"),e=[];return p["default"].isFunction(t)?e=[t]:p["default"].isString(t)&&(e=this._findSimpleTypeFormatFunctions(t)),e},t.prototype.getFormatFunctions=function(){return this.formatFunctions||(this.formatFunctions=this._findFormatFunctions()),this.formatFunctions},t}();e["default"]=f},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(u){o=!0,r=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=i(431),u=n(s),l=i(432),c=n(l),h=i(433),p=n(h),f=i(342),d=n(f),y=i(351),g=n(y),m=i(337),_=n(m),v=i(333),T=n(v),b=Array.prototype.concat,x=function(){function t(e,i,n,o,a){r(this,t),this.chartType=i,this.options=n||{},this.formatFunctions=o,this.rawSeriesData=e||[],this.isCoordinateType=a,this.baseGroups=null,this.groups=null,this.options.series=this.options.series||{},this.isDivergingChart=d["default"].isDivergingChart(i,this.options.series.diverging),this.valuesMap={},this._removeRangeValue()}return t.prototype._removeRangeValue=function(){var t=T["default"].pick(this.options,"series")||{},e=d["default"].isAllowRangeData(this.chartType)&&!d["default"].isValidStackOption(t.stackType)&&!t.spline;e||this.isCoordinateType||Object.values(this.rawSeriesData).forEach(function(t){T["default"].isArray(t.data)&&t.data.forEach(function(e,i){if(T["default"].isExisty(e)){var n=b.apply(e),o=a(n,1);t.data[i]=o[0]}})})},t.prototype._createBaseGroups=function(){var t=this.chartType,e=this.formatFunctions,i=this.isDivergingChart,n=this.isCoordinateType,o=this.options.xAxis,r=d["default"].isPieChart(this.chartType),a=d["default"].isHeatmapChart(this.chartType)||d["default"].isTreemapChart(this.chartType),s=void 0,u=void 0;return n?(u=p["default"],s=function(t){t.sort(function(t,e){return t.x-e.x})}):(u=c["default"],s=function(){}),this.rawSeriesData.map(function(l){var c=void 0,h=void 0,p=void 0;h=T["default"].isArray(l)?l:[].concat(l.data),a||(c=l.stack),l.name&&(p=l.name),(n||r)&&(h=T["default"].filter(h,T["default"].isExisty));var f=h.map(function(n,r){return new u({datum:n,chartType:t,formatFunctions:e,index:r,legendName:p,stack:c,isDivergingChart:i,xAxisType:o.type,dateFormat:o.dateFormat})});return s(f),f})},t.prototype._getBaseGroups=function(){return this.baseGroups||(this.baseGroups=this._createBaseGroups()),this.baseGroups},t.prototype._createSeriesGroupsFromRawData=function(t){var e=this._getBaseGroups();return t&&(e=_["default"].pivot(e)),e.map(function(t){return new u["default"](t)})},t.prototype._getSeriesGroups=function(){return this.groups||(this.groups=this._createSeriesGroupsFromRawData(!0)),this.groups},t.prototype.getGroupCount=function(){return this._getSeriesGroups().length},t.prototype._getPivotGroups=function(){return this.pivotGroups||(this.pivotGroups=this._createSeriesGroupsFromRawData()),this.pivotGroups},t.prototype.getSeriesGroup=function(t,e){return e?this._getPivotGroups()[t]:this._getSeriesGroups()[t]},t.prototype.getFirstSeriesGroup=function(t){return this.getSeriesGroup(0,t)},t.prototype.getFirstItemLabel=function(){return this.getFirstSeriesGroup().getFirstSeriesItem().label},t.prototype.getSeriesItem=function(t,e,i){return this.getSeriesGroup(t,i).getSeriesItem(e)},t.prototype.getFirstSeriesItem=function(){return this.getSeriesItem(0,0)},t.prototype.getValue=function(t,e){return this.getSeriesItem(t,e).value},t.prototype.getMinValue=function(t){return _["default"].min(this.getValues(t))},t.prototype.getMaxValue=function(t){return _["default"].max(this.getValues(t))},t.prototype._findSeriesItem=function(t){var e=void 0;return this.each(function(i){return e=i.find(t),!e}),e},t.prototype._findSeriesItemByValue=function(t,e,i){return i=i||function(){return null},this._findSeriesItem(function(n){return n&&n[t]===e&&i(n)})},t.prototype.findMinSeriesItem=function(t,e){var i=this.getMinValue(t);return this._findSeriesItemByValue(t,i,e)},t.prototype.findMaxSeriesItem=function(t,e){var i=this.getMaxValue(t);return this._findSeriesItemByValue(t,i,e)},t.prototype._createValues=function(t){var e,i=this.map(function(e){return e.getValues(t)});return i=(e=[]).concat.apply(e,o(i)),i.filter(function(t){return!isNaN(t)})},t.prototype.getValues=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"value";return this.valuesMap[t]||(this.valuesMap[t]=this._createValues(t)),this.valuesMap[t]},t.prototype.isXCountGreaterThanYCount=function(){return this.getValues("x").length>this.getValues("y").length},t.prototype._addRatiosWhenNormalStacked=function(t){var e=Math.abs(t.max-t.min);this.each(function(t){t.addRatios(e)})},t.prototype._calculateBaseRatio=function(){var t=this.getValues(),e=g["default"].sumPlusValues(t),i=Math.abs(g["default"].sumMinusValues(t)),n=e>0&&i>0?.5:1;return n},t.prototype._addRatiosWhenPercentStacked=function(){var t=this._calculateBaseRatio();this.each(function(e){e.addRatiosWhenPercentStacked(t)})},t.prototype._addRatiosWhenDivergingStacked=function(){this.each(function(t){var e=t.pluck("value"),i=g["default"].sumPlusValues(e),n=Math.abs(g["default"].sumMinusValues(e));t.addRatiosWhenDivergingStacked(i,n)})},t.prototype._makeSubtractionValue=function(t){var e=d["default"].allowMinusPointRender(this.chartType),i=0;return!e&&d["default"].isMinusLimit(t)?i=t.max:(e||t.min>=0)&&(i=t.min),i},t.prototype._addRatios=function(t){var e=Math.abs(t.max-t.min),i=this._makeSubtractionValue(t);this.each(function(t){t.addRatios(e,i)})},t.prototype.addDataRatios=function(t,e){var i=d["default"].isAllowedStackOption(this.chartType);i&&d["default"].isNormalStack(e)?this._addRatiosWhenNormalStacked(t):i&&d["default"].isPercentStack(e)?this.isDivergingChart?this._addRatiosWhenDivergingStacked():this._addRatiosWhenPercentStacked():this._addRatios(t)},t.prototype.addDataRatiosOfPieChart=function(){this.each(function(t){var e=g["default"].sum(t.pluck("value"));t.addRatios(e)})},t.prototype.addDataRatiosForCoordinateType=function(t,e){var i=t.xAxis,n=t.yAxis,o=e?_["default"].max(this.getValues("r")):0,r=void 0,a=void 0,s=void 0,u=void 0;i&&(r=Math.abs(i.max-i.min),a=this._makeSubtractionValue(i)),n&&(s=Math.abs(n.max-n.min),u=this._makeSubtractionValue(n)),this.each(function(t){t.each(function(t){t&&(t.addRatio("x",r,a),t.addRatio("y",s,u),t.addRatio("r",o,0),T["default"].isExisty(t.start)&&t.addRatio("start",s,u))})})},t.prototype.addStartValueToAllSeriesItem=function(t){this.each(function(e){e.addStartValueToAllSeriesItem(t)})},t.prototype.hasRangeData=function e(){var e=!1;return this.each(function(t){return e=t.hasRangeData(),!e}),e},t.prototype.each=function(t,e){var i=e?this._getPivotGroups():this._getSeriesGroups();i.forEach(function(e,i){return t(e,i)})},t.prototype.map=function(t,e){var i=[];return this.each(function(e,n){i.push(t(e,n))},e),i},t}();e["default"]=x},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(u){o=!0,r=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=i(351),s=n(a),u=i(333),l=n(u),c=function(){function t(e){o(this,t),this.items=e,this.valuesMap={},this.valuesMapPerStack=null}return t.prototype.getSeriesItemCount=function(){return this.items.length},t.prototype.getSeriesItem=function(t){return this.items[t]},t.prototype.getFirstSeriesItem=function(){return this.getSeriesItem(0)},t.prototype._createValues=function(t){var e=[];return this.each(function(i){i&&(l["default"].isExisty(i[t])&&e.push(i[t]),l["default"].isExisty(i.start)&&e.push(i.start))}),e},t.prototype.getValues=function(t){return t=t||"value",this.valuesMap[t]||(this.valuesMap[t]=this._createValues(t)),this.valuesMap[t]},t.prototype._makeValuesMapPerStack=function(){var t={};return this.each(function(e){t[e.stack]||(t[e.stack]=[]),t[e.stack].push(e.value)}),t},t.prototype.getValuesMapPerStack=function(){return this.valuesMapPerStack||(this.valuesMapPerStack=this._makeValuesMapPerStack()),this.valuesMapPerStack},t.prototype._makeSumMapPerStack=function(){var t=this.getValuesMapPerStack(),e={};return Object.entries(t).forEach(function(t){var i=r(t,2),n=i[0],o=i[1];e[n]=s["default"].sum(o.map(function(t){return Math.abs(t)}))}),e},t.prototype.addStartValueToAllSeriesItem=function(t){this.each(function(e){e&&e.addStart(t)})},t.prototype.addRatiosWhenPercentStacked=function(t){var e=this._makeSumMapPerStack();this.each(function(i){var n=e[i.stack];i.addRatio(n,0,t)})},t.prototype.addRatiosWhenDivergingStacked=function(t,e){this.each(function(i){var n=i.value>=0?t:e;i.addRatio(n,0,.5)})},t.prototype.addRatios=function(t,e){this.each(function(i){i&&i.addRatio(t,e)})},t.prototype.hasRangeData=function e(){var e=!1;return this.each(function(t){return e=t&&t.isRange,!e}),e},t.prototype.each=function(t){this.items.forEach(t)},t.prototype.map=function(t){return this.items.map(t)},t.prototype.pluck=function(t){var e=this.items.filter(l["default"].isExisty);return l["default"].pluck(e,t)},t.prototype.find=function(t){var e=void 0;return this.each(function(i){return t(i)&&(e=i),!e}),e||null},t.prototype.filter=function(t){return this.items.filter(t)},t}();e["default"]=c},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(u){o=!0,r=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=i(335),s=n(a),u=i(334),l=n(u),c=i(351),h=n(c),p=i(342),f=n(p),d=i(333),y=n(d),g=function(){function t(e){o(this,t),this.chartType=e.chartType,this.stack=e.stack||s["default"].DEFAULT_STACK,this.isDivergingChart=e.isDivergingChart,this.formatFunctions=e.formatFunctions,this.isRange=!1,this.value=null,this.label=null,this.ratio=null,this.end=null,this.endLabel=null,this.endRatio=null,this.start=null,this.startLabel=null,this.startRatio=null,this.ratioDistance=null,f["default"].isBulletChart(this.chartType)&&(this.type=e.type),this.legendName=e.legendName,this._initValues(e.datum,e.index)}return t.prototype._initValues=function(t,e){var i=this._createValues(t),n="makingSeriesLabel",o=i.length>1,a=r(i,1),s=a[0];this.value=this.end=s,this.index=e,this.isDivergingChart&&(s=Math.abs(s)),y["default"].isNull(s)?this.label="":this.label=l["default"].formatValue({value:s,formatFunctions:this.formatFunctions,chartType:this.chartType,areaType:n,legendName:this.legendName}),this.endLabel=this.label,o&&(this.addStart(i[1],!0),this._updateFormattedValueforRange(),this.isRange=!0)},t.prototype._createValues=function(t){var e=[].concat(t).map(function(t){return y["default"].isNull(t)?null:parseFloat(t)});return e=e.sort(function(t,e){return t<0&&e<0?t-e:e-t})},t.prototype.addStart=function(t){y["default"].isNull(this.start)&&(this.start=t,this.startLabel=l["default"].formatValue({value:t,formatFunctions:this.formatFunctions,chartType:this.chartType,areaType:"series",legendName:this.legendName}))},t.prototype._updateFormattedValueforRange=function(){this.label=this.startLabel+" ~ "+this.endLabel},t.prototype.addRatio=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.ratio=this.endRatio=h["default"].calculateRatio(this.value,t,e,i),y["default"].isExisty(this.start)&&(this.startRatio=h["default"].calculateRatio(this.start,t,e,i),this.ratioDistance=Math.abs(this.endRatio-this.startRatio))},t.prototype._getFormattedValueForTooltip=function(t){return l["default"].formatValue({value:this[t],formatFunctions:this.formatFunctions,chartType:this.chartType,areaType:"tooltip",valueType:t,legendName:this.legendName})},t.prototype.pickValueMapForTooltip=function(){var t={value:this._getFormattedValueForTooltip("value"),ratio:this.ratio};return y["default"].isExisty(this.start)&&(t.start=this._getFormattedValueForTooltip("start"),t.end=this._getFormattedValueForTooltip("end"),t.startRatio=this.startRatio,t.endRatio=this.endRatio),t},t}();e["default"]=g},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(u){o=!0,r=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=i(342),s=n(a),u=i(334),l=n(u),c=i(333),h=n(c),p=function(){function t(e){o(this,t),this.chartType=e.chartType,this.formatFunctions=e.formatFunctions,this.xAxisType=e.xAxisType,this.dateFormat=e.dateFormat,this.ratioMap={},this._initData(e.datum,e.index)}return t.prototype._initData=function(t,e){var i=void 0;if(h["default"].isArray(t))if(this.x=t[0]||0,this.y=t[1]||0,s["default"].isBubbleChart(this.chartType)){var n=r(t,4);this.r=n[2];var o=n[3];this.label=void 0===o?"":o}else{var a=r(t,3),u=a[2];this.label=void 0===u?"":u}else this.x=t.x,this.y=t.y,this.r=t.r,this.label=t.label||"";if(s["default"].isDatetimeType(this.xAxisType)&&(i=h["default"].isDate(this.x)?this.x:new Date(this.x),this.x=i.getTime()||0),this.index=e,!this.label){s["default"].isLineTypeChart(this.chartType)&&s["default"].isDatetimeType(this.xAxisType)?this.label=l["default"].formatDate(this.x,this.dateFormat):this.label=l["default"].formatValue({value:this.x,formatFunctions:this.formatFunctions,chartType:this.chartType,areaType:"series"});var c=l["default"].formatValue({value:this.y,formatFunctions:this.formatFunctions,chartType:this.chartType,areaType:"series"});this.label+=",&nbsp;"+c}},t.prototype.addStart=function(t){this.start=t},t.prototype.addRatio=function(t,e,i){!h["default"].isExisty(this.ratioMap[t])&&e&&(this.ratioMap[t]=(this[t]-i)/e)},t.prototype._getFormattedValueForTooltip=function(t){var e=this.ratioMap[t],i=this[t],n=l["default"].formatValue({value:i,formatFunctions:this.formatFunctions,chartType:this.chartType,areaType:"tooltip",valueType:t});return h["default"].isNumber(e)?n:i},t.prototype.pickValueMapForTooltip=function(){var t={x:this._getFormattedValueForTooltip("x"),y:this._getFormattedValueForTooltip("y"),xRatio:this.ratioMap.x,yRatio:this.ratioMap.y};return h["default"].isExisty(this.r)&&(t.r=this._getFormattedValueForTooltip("r"),t.rRatio=this.ratioMap.r),t},t}();e["default"]=p},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(435),u=n(s),l=i(430),c=n(l),h=i(333),p=n(h),f=Array.prototype.concat,d=function(t){function e(i,n,a,s){o(this,e);var u=r(this,t.call(this));return u.chartType=n,u.options=a||{},u.formatFunctions=s,u.rawSeriesData=i||[],u.baseGroups=null,u.groups=null,u.options.series=u.options.series||{},u.valuesMap={},u}return a(e,t),e.prototype._createBaseGroups=function(){var t=this.chartType,e=this.formatFunctions;return this.rawSeriesData.map(function(i){var n=p["default"].isArray(i)?i:[].concat(i.data),o=n.map(function(n,o){return new u["default"]({datum:n,chartType:t,formatFunctions:e,index:o,legendName:i.name})});return o})},e.prototype._createValues=function(){var t=[];return this.map(function(e){return e.items.forEach(function(e){t.push(e.min),t.push(e.max),t.push(e.uq),t.push(e.lq),t.push(e.median)})}),t=f.apply([],t),t.filter(function(t){return!isNaN(t)})},e}(c["default"]);e["default"]=d},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(u){o=!0,r=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=i(334),s=n(a),u=i(351),l=n(u),c=i(333),h=n(c),p=function(){function t(e){o(this,t),this.chartType=e.chartType,this.formatFunctions=e.formatFunctions,this.value=null,this.label=null,this.ratio=null,this.min=null,this.minLabel=null,this.minRatio=null,this.max=null,this.maxLabel=null,this.maxRatio=null,this.median=null,this.medianLabel=null,this.medianRatio=null,this.lq=null,this.lqLabel=null,this.lqRatio=null,this.uq=null,this.uqLabel=null,this.uqRatio=null,this.ratioDistance=null,this.legendName=e.legendName,this._initValues(e.datum,e.index)}return t.prototype._initValues=function(t,e){var i=this,n=this._createValues(t),o=r(n,5),a=o[0],u=o[1],l=o[2],c=o[3],h=o[4],p=n.length>5,f=void 0,d=function(t){return s["default"].formatValue({value:t,formatFunctions:i.formatFunctions,chartType:i.chartType,areaType:"makingSeriesLabel",legendName:i.legendName})};this.value=this.max=h,this.uq=c,this.median=l,this.lq=u,this.min=a,this.index=e,p&&(this.outliers=[],f=this.outliers,n.slice(5).forEach(function(t){f.push({value:t,label:d(t)})})),this.label=d(h),this.uqLabel=d(c),this.medianLabel=d(l),this.lqLabel=d(u),this.minLabel=d(a),this.maxLabel=this.label},t.prototype._createValues=function(t){return[].concat(t).map(function(t){return h["default"].isNull(t)?null:parseFloat(t)})},t.prototype.addStart=function(t){h["default"].isNull(this.min)&&(this.min=t,this.minLabel=s["default"].formatValue({value:t,formatFunctions:this.formatFunctions,chartType:this.chartType,areaType:"series",legendName:this.legendName}))},t.prototype._updateFormattedValueforRange=function(){this.label=this.minLabel+"~"+this.maxLabel},t.prototype.addRatio=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=l["default"].calculateRatio;this.ratio=this.maxRatio=n(this.max,t,e,i),this.uqRatio=n(this.uq,t,e,i),this.medianRatio=n(this.median,t,e,i),this.lqRatio=n(this.lq,t,e,i),this.minRatio=n(this.min,t,e,i),(this.outliers||[]).forEach(function(o){o.ratio=n(o.value,t,e,i)}),this.ratioDistance=Math.abs(this.uqRatio-this.lqRatio)},t.prototype._getFormattedValueForTooltip=function(t){return s["default"].formatValue({value:this[t],formatFunctions:this.formatFunctions,chartType:this.chartType,areaType:"tooltip",valueType:t,legendName:this.legendName})},t.prototype.pickValueMapForTooltip=function(){var t={value:this._getFormattedValueForTooltip("value"),ratio:this.ratio};return h["default"].isExisty(this.min)&&(t.min=this._getFormattedValueForTooltip("min"),t.max=this._getFormattedValueForTooltip("max"),t.minRatio=this.minRatio,t.maxRatio=this.maxRatio,t.maxLabel=this.maxLabel,t.minLabel=this.minLabel,t.uqLabel=this.uqLabel,t.lqLabel=this.lqLabel,t.medianLabel=this.medianLabel,t.outliers=this.outliers),t},t}();e["default"]=p},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(432),u=n(s),l=i(430),c=n(l),h=i(335),p=n(h),f=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return a(e,t),e.prototype._createBaseGroups=function(){var t=this.chartType,e=this.formatFunctions,i=0,n=0,o=this.rawSeriesData.map(function(o){var r=[],a=o.data,s=o.markers,l=o.ranges,c=s.length,h=l.length;return l&&h&&(l.forEach(function(i){r.push(new u["default"]({datum:i,chartType:t,formatFunctions:e,type:p["default"].BULLET_TYPE_RANGE}))}),i=Math.max(i,h)),a&&r.push(new u["default"]({datum:a,chartType:t,formatFunctions:e,type:p["default"].BULLET_TYPE_ACTUAL})),s&&c&&(s.forEach(function(i){r.push(new u["default"]({datum:i,chartType:t,formabutFunctions:e,type:p["default"].BULLET_TYPE_MARKER}))}),n=Math.max(n,c)),r});return this.maxMarkerCount=n,this.maxRangeCount=i,o},e.prototype._createSeriesGroupsFromRawData=function(){return c["default"].prototype._createSeriesGroupsFromRawData.call(this)},e}(c["default"]);e["default"]=f},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(u){o=!0,r=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=i(430),l=n(u),c=i(438),h=n(c),p=i(335),f=n(p),d=i(351),y=n(d),g=i(333),m=n(g),_=function(t){function e(){o(this,e);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];var s=r(this,t.call.apply(t,[this].concat(n)));return s.foundSeriesItemsMap={},s.seriesItemMap={},s}return a(e,t),e.prototype._flattenHierarchicalData=function(t,e,i){var n=this,o=[],r=void 0;return e?r=e+"_":(r=f["default"].TREEMAP_ID_PREFIX,e=f["default"].TREEMAP_ROOT_ID),i=i||[],t.forEach(function(t,a){var s=r+a,u=t.children,l=i.concat(a);t.indexes=l,m["default"].isNull(t.value)||o.push(t),t.id||(t.id=s),t.parent||(t.parent=e),u&&(o=o.concat(n._flattenHierarchicalData(u,s,l)),delete t.children)}),o},e.prototype._partitionRawSeriesDataByParent=function(t,e){var i=[],n=[];return t.forEach(function(t){t.parent===e?i.push(t):n.push(t)}),[i,n]},e.prototype._setTreeProperties=function(t,e,i,n){var o=this,r=this._partitionRawSeriesDataByParent(t,i),a=s(r,1),u=a[0],l=s(r,2),c=l[1],h=e+1;return u.forEach(function(t,i){t.depth=e,t.group=m["default"].isUndefined(n)?i:n;var r=o._setTreeProperties(c,h,t.id,t.group,t.fillOpacity),a=r.filter(function(t){return t.depth===h});a.length?(t.value=y["default"].sum(m["default"].pluck(a,"value")),t.hasChild=!0):t.hasChild=!1,r.length&&r.sort(function(t,e){return e.value-t.value}),u=u.concat(r)}),u},e.prototype._setRatio=function(t,e){var i=this,n=this._partitionRawSeriesDataByParent(t,e),o=s(n,2),r=o[0],a=o[1],u=y["default"].sum(m["default"].pluck(r,"value"));r.forEach(function(t){var e=m["default"].isNull(t.value)?0:t.value;t.ratio=e/u,t.hasChild&&i._setRatio(a,t.id)})},e.prototype._createBaseGroups=function(){var t=this.chartType,e=this.seriesItemMap,i=this.formatFunctions,n=this._flattenHierarchicalData(this.rawSeriesData);return n=this._setTreeProperties(n,1,f["default"].TREEMAP_ROOT_ID),this._setRatio(n,f["default"].TREEMAP_ROOT_ID),[n.map(function(n){var o=new h["default"](n,i,t);return e[o.id]=o,o})]},e.prototype._findSeriesItems=function(t,e){return this.foundSeriesItemsMap[t]||(this.foundSeriesItemsMap[t]=this.getFirstSeriesGroup(!0).filter(e)),this.foundSeriesItemsMap[t]},e.prototype._makeCacheKey=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=e[0];return e.length>1&&(n+=e.slice(1).join("_")),n},e.prototype._isValidGroup=function(t,e){return!m["default"].isExisty(e)||t===e},e.prototype.findSeriesItemsByDepth=function(t,e){var i=this,n=this._makeCacheKey(f["default"].TREEMAP_DEPTH_KEY_PREFIX,t,e);return this._findSeriesItems(n,function(n){return n.depth===t&&i._isValidGroup(n.group,e)})},e.prototype.findSeriesItemsByParent=function(t){var e=this._makeCacheKey(f["default"].TREEMAP_PARENT_KEY_PREFIX,t);return this._findSeriesItems(e,function(e){return e.parent===t})},e.prototype.findLeafSeriesItems=function(t){var e=this,i=this._makeCacheKey(f["default"].TREEMAP_LEAF_KEY_PREFIX,t);return this._findSeriesItems(i,function(i){return!i.hasChild&&e._isValidGroup(i.group,t)})},e.prototype.findParentByDepth=function(t,e){var i=this.seriesItemMap[t]||null;return i&&i.depth!==e&&(i=this.findParentByDepth(i.parent,e)),i},e.prototype.initSeriesItemsMap=function(){this.foundSeriesItemsMap=null},e}(l["default"]);e["default"]=_},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=i(351),a=n(r),s=i(334),u=n(s),l=i(333),c=n(l),h=function(){function t(e,i,n){o(this,t),this.chartType=n,this.formatFunctions=i,this.id=e.id,this.parent=e.parent,this.value=e.value,this.ratio=e.ratio,this.colorValue=e.colorValue,this.depth=e.depth,this.label=e.label||"",this.group=e.group,this.hasChild=!!e.hasChild,this.indexes=e.indexes,this.fillOpacity=e.fillOpacity}return t.prototype.addRatio=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.colorRatio=a["default"].calculateRatio(this.colorValue,t,e,1)||-1},t.prototype.pickValueMapForTooltip=function(){var t=this.formatFunctions,e=this.chartType,i=this.colorValue,n=u["default"].formatValue({value:this.value,formatFunctions:t,chartType:e,areaType:"tooltipValue"}),o=n,r={legend:this.label||"",value:n,label:o,ratio:this.ratio,tooltipColorIndex:this.indexes[0]};return c["default"].isExisty(i)&&(r.colorValue=u["default"].formatValue({value:i,formatFunctions:t,chartType:e,areaType:"tooltipColorValue"}),r.colorRatio=this.colorRatio),r},t.prototype.pickLabelTemplateData=function(){var t={value:this.value,ratio:this.ratio,label:this.label};return c["default"].isExisty(this.colorValue)&&(t.colorValue=this.colorValue,t.colorValueRatio=this.ratio),t},t}();e["default"]=h},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=i(440),r=n(o),a=i(446),s=n(a),u=i(335),l=n(u),c=i(342),h=n(c);e["default"]={_createBoundsModel:function(t,e){return new r["default"]({chartType:e.chartType,seriesTypes:e.seriesTypes,options:e.options,theme:e.theme,dataProcessor:t,hasAxes:e.hasAxes,isVertical:e.isVertical})},_createScaleDataModel:function(t,e,i){return new s["default"]({chartType:i.chartType,seriesTypes:i.seriesTypes,options:i.options,theme:i.theme,dataProcessor:t,boundsModel:e,hasRightYAxis:i.hasRightYAxis,addedDataCount:i.addedDataCount})},addYAxisScale:function(t,e,i,n){t.addScale(e,i&&i.options||n||{},{valueType:i.valueType||"value",areaType:i.areaType,chartType:i.chartType},i.additionalOptions)},_registerYAxisDimension:function(t,e,i,n,o){var r=t.get(n),a=null,s=[];if(r){var u=i[n];u&&(a=u.limit,s=u.labels),e.registerYAxisDimension({limit:a,axisName:n,options:r.options,theme:r.theme,yAxisLabels:s,isVertical:o})}},_setLayoutBoundsAndScale:function(t,e,i,n,o){var r=o.options,a=o.scaleOption,s=void 0===a?{}:a,u=o.addingDataMode,c=o.isVertical;e.has("xAxis")&&i.registerXAxisHeight(),
e.has("legend")&&(e.get("legend").colorSpectrum?i.registerSpectrumLegendDimension():i.registerLegendDimension()),s.yAxis&&this.addYAxisScale(n,"yAxis",s.yAxis,o.options.yAxis),s.rightYAxis&&this.addYAxisScale(n,"rightYAxis",s.rightYAxis),s.legend&&n.addScale("legend",{},{chartType:o.chartType},{tickCounts:[l["default"].SPECTRUM_LEGEND_TICK_COUNT]});var p=n.scaleDataMap;p.legend&&e.get("legend")&&e.get("legend").colorSpectrum&&i.registerSpectrumLegendDimension(p.legend.limit),this._registerYAxisDimension(e,i,p,"yAxis",c),this._registerYAxisDimension(e,i,p,"rightYAxis",c),s.xAxis&&n.addScale("xAxis",r.xAxis,{valueType:s.xAxis.valueType||"value"},s.xAxis.additionalOptions),o.hasAxes&&n.setAxisDataMap(),i.registerSeriesDimension(),e.has("circleLegend")&&r.circleLegend.visible&&i.registerCircleLegendDimension(n.axisDataMap),e.has("xAxis")&&(h["default"].isAutoTickInterval(r.xAxis.tickInterval)&&n.updateXAxisDataForAutoTickInterval(o.prevXAxisData,u),n.updateXAxisDataForLabel(u)),i.registerBoundsData(n.axisDataMap.xAxis)},build:function(t,e,i){var n=this._createBoundsModel(t,i),o=this._createScaleDataModel(t,n,i);this._setLayoutBoundsAndScale(t,e,n,o,i);var r={dimensionMap:n.dimensionMap,positionMap:n.positionMap,limitMap:o.makeLimitMap(i.seriesTypes||[i.chartType],i.isVertical)};return o.axisDataMap&&(r.axisDataMap=o.axisDataMap),h["default"].isBubbleChart(i.chartType)&&(r.maxRadius=n.calculateMaxRadius(o.axisDataMap)),o.scaleDataMap.legend&&(r.legendScaleData=o.scaleDataMap.legend),r}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=i(335),a=n(r),s=i(342),u=n(s),l=i(334),c=n(l),h=i(332),p=n(h),f=i(441),d=n(f),y=i(442),g=n(y),m=i(443),_=n(m),v=i(444),T=n(v),b=i(445),x=n(b),E=i(333),A=n(E),D=A["default"].browser,S=a["default"].LEGEND_AREA_H_PADDING,M=D.msie&&D.version<=8,L=function(){function t(e){o(this,t),this.options=e.options||{},this.options.legend=this.options.legend||{},this.options.yAxis=this.options.yAxis||{},this.theme=e.theme||{},this.hasAxes=e.hasAxes,this.chartType=e.chartType,this.seriesTypes=e.seriesTypes||[],this.dataProcessor=e.dataProcessor,this.initBoundsData()}return t.prototype.initBoundsData=function(){this.dimensionMap={legend:{width:0},yAxis:{width:0},rightYAxis:{width:0},xAxis:{height:0},circleLegend:{width:0},chartExportMenu:{width:0}},this.positionMap={},this.chartLeftPadding=a["default"].CHART_PADDING,this.maxRadiusForBubbleChart=null,this._registerChartDimension(),this._registerTitleDimension(),this._registerChartExportMenuDimension()},t.prototype._registerDimension=function(t,e){this.dimensionMap[t]=A["default"].extend(this.dimensionMap[t]||{},e)},t.prototype.getBound=function(t){return{dimension:this.dimensionMap[t]||{},position:this.positionMap[t]||{}}},t.prototype._setBound=function(t,e){this.dimensionMap[t]=e.dimension,this.positionMap[t]=e.position},t.prototype.getDimension=function(t){return this.dimensionMap[t]},t.prototype.getDimensionMap=function(t){var e=this,i={};return t&&t.length?t.forEach(function(t){i[t]=e.dimensionMap[t]}):i=this.dimensionMap,JSON.parse(JSON.stringify(i))},t.prototype.getPosition=function(t){return this.positionMap[t]},t.prototype._registerChartDimension=function(){var t=this.options.chart||{},e={width:t.width||a["default"].CHART_DEFAULT_WIDTH,height:t.height||a["default"].CHART_DEFAULT_HEIGHT};this._registerDimension("chart",e)},t.prototype._registerTitleDimension=function(){var t=this.options.chart||{},e=A["default"].isExisty(t.title),i=this.theme.title,n=e?p["default"].getRenderedTextSize(t.title.text,i.fontSize,i.fontFamily).height:0,o=n||0;o&&(o+=a["default"].TITLE_PADDING),this._registerDimension("title",{height:o})},t.prototype._registerChartExportMenuDimension=function(){var t=void 0;t=this.options.chartExportMenu.visible===!1?{width:0,height:0}:{height:a["default"].CHART_EXPORT_MENU_SIZE+a["default"].SERIES_AREA_V_PADDING,width:a["default"].CHART_EXPORT_MENU_SIZE},this._registerDimension("chartExportMenu",t)},t.prototype.registerXAxisHeight=function(){this._registerDimension("xAxis",{height:g["default"].calculateXAxisHeight(this.options.xAxis,this.theme.xAxis)})},t.prototype.registerLegendDimension=function(){var t=A["default"].pluck(this.dataProcessor.getOriginalLegendData(),"label"),e=this.options.legend,i=this.theme.legend.label,n=this.getDimension("chart").width,o=_["default"].calculate(e,i,t,n);this._registerDimension("legend",o)},t.prototype.registerSpectrumLegendDimension=function(t){var e=t?t.max:this.dataProcessor.getFormattedMaxValue(this.chartType,"legend"),i=t?t.min:"",n=this.theme.label,o=this.options.legend.align,r=void 0;if(u["default"].isHorizontalLegend(o)){var a=u["default"].isBoxTypeChart(this.chartType),s=u["default"].isLegendAlignTop(o);r=x["default"]._makeHorizontalDimension(e,n,a,s)}else r=x["default"]._makeVerticalDimension(e,i,n);this._registerDimension("legend",r),this.useSpectrumLegend=!0},t.prototype.registerYAxisDimension=function(t){var e=t.limit,i=t.options,n=t.theme,o=t.yAxisLabels,r=t.isVertical,a=t.axisName,s=this.options.series&&this.options.series.diverging,l=void 0,c=void 0;if(e)l=[e.min,e.max];else{if(!u["default"].isHeatmapChart(this.chartType)&&r)return;l=this.dataProcessor.getCategories(!0)}c=A["default"].isArray(i)?"yAxis"===a?i[0]:i[1]:i,this._registerDimension(a,{width:g["default"].calculateYAxisWidth(l,c,n,o,s)})},t.prototype.calculateSeriesWidth=function(){var t=this.dataProcessor.getFormattedMaxValue(this.chartType,"series","value"),e=this.getDimensionMap(["chart","yAxis","legend","rightYAxis"]),i=0;u["default"].isColumnTypeChart(this.chartType)||(i=c["default"].getRenderedLabelHeight(t,this.theme.title));var n=T["default"].calculateWidth(e,this.options.legend,i);return u["default"].isMapChart(this.chartType)&&!M&&(n-=a["default"].MAP_CHART_ZOOM_AREA_WIDTH+S),n},t.prototype.calculateSeriesHeight=function(){var t=this.getDimensionMap(["chart","title","legend","xAxis","chartExportMenu"]),e=0;return this.options.yAxis&&this.options.yAxis.title&&(e=c["default"].getRenderedLabelHeight(this.options.yAxis.title,this.theme.title)),T["default"].calculateHeight(t,this.options.legend,e)},t.prototype.getBaseSizeForLimit=function(t){var e=void 0;return e=t?this.calculateSeriesHeight():this.calculateSeriesWidth()},t.prototype._makeSeriesDimension=function(){return{width:this.calculateSeriesWidth(),height:this.calculateSeriesHeight()}},t.prototype.registerSeriesDimension=function(){var t=this._makeSeriesDimension();this._registerDimension("series",t)},t.prototype._updateLegendAndSeriesWidth=function(t,e){var i=this.options.legend;u["default"].isVerticalLegend(i.align)&&i.visible&&this._registerDimension("legend",{width:t}),this._registerDimension("series",{width:this.getDimension("series").width-e})},t.prototype.registerCircleLegendDimension=function(t){var e=this.getDimension("series"),i=this.options.legend,n=this.dataProcessor.getFormattedMaxValue(this.chartType,"circleLegend","r"),o=this.theme.chart.fontFamily,r=d["default"].calculateCircleLegendWidth(e,t,n,o),s=void 0;s=u["default"].isVerticalLegend(i.align)&&i.visible?this.getDimension("legend").width:0,r=Math.min(r,Math.max(s,a["default"].MIN_LEGEND_WIDTH));var l=r-s;this._registerDimension("circleLegend",{width:r,height:r}),l>0&&this._updateLegendAndSeriesWidth(r,l)},t.prototype._makePlotDimension=function(){var t=this.getDimension("series");return{width:t.width,height:t.height+a["default"].OVERLAPPING_WIDTH}},t.prototype._registerCenterComponentsDimension=function(){var t=this.getDimension("series");this._registerDimension("tooltip",t),this._registerDimension("mouseEventDetector",t)},t.prototype._registerAxisComponentsDimension=function(){var t=this._makePlotDimension();this._registerDimension("plot",t),this._registerDimension("xAxis",{width:t.width}),this._registerDimension("yAxis",{height:t.height}),this._registerDimension("rightYAxis",{height:t.height})},t.prototype._updateDimensionsWidth=function(t){var e=Math.max(t.overflowLeft,0),i=t.overflowRight?Math.max(t.overflowRight,0):0,n=e+i;this.chartLeftPadding+=e,this.dimensionMap.plot.width-=n,this.dimensionMap.series.width-=n,this.dimensionMap.mouseEventDetector.width-=n,this.dimensionMap.xAxis.width-=n},t.prototype._updateDimensionsHeight=function(t){this.dimensionMap.plot.height-=t,this.dimensionMap.series.height-=t,this.dimensionMap.mouseEventDetector.height-=t,this.dimensionMap.tooltip.height-=t,this.dimensionMap.yAxis.height-=t,this.dimensionMap.rightYAxis.height-=t,this.dimensionMap.xAxis.height+=t},t.prototype._updateDimensionsForXAxisLabel=function(t){(t.overflowRight>0||t.overflowLeft>0)&&this._updateDimensionsWidth(t),t.overflowHeight&&this._updateDimensionsHeight(t.overflowHeight)},t.prototype._registerAxisComponentsPosition=function(t){var e=this.getPosition("series"),i=this.getDimension("series"),n=this.getDimension("yAxis").width,o=t+n+i.width;this.positionMap.plot={top:e.top,left:e.left},this.positionMap.yAxis={top:e.top,left:this.chartLeftPadding+t},this.positionMap.xAxis={top:e.top+i.height,left:e.left},this.positionMap.rightYAxis={top:e.top,left:this.chartLeftPadding+o-a["default"].OVERLAPPING_WIDTH}},t.prototype._makeLegendPosition=function(){var t=this.dimensionMap,e=t.series,i=this.getPosition("series").top,n=this.options.legend,o=0,r=void 0,s=void 0;return u["default"].isHorizontalLegend(n.align)?(s=(this.getDimension("chart").width-this.getDimension("legend").width)/2,o=u["default"].isLegendAlignBottom(n.align)?i+e.height+this.getDimension("xAxis").height+a["default"].SERIES_AREA_V_PADDING:i-t.legend.height+a["default"].LEGEND_AREA_V_PADDING):(u["default"].isLegendAlignLeft(n.align)?s=this.chartLeftPadding:(r=this.getDimension("yAxis").width+this.getDimension("rightYAxis").width,s=this.chartLeftPadding+r+e.width),o=i+a["default"].SERIES_AREA_V_PADDING),{top:o,left:s}},t.prototype._makeSpectrumLegendPosition=function(){var t=this.options.legend,e=this.options.legend.align,i=this.getPosition("series"),n=this.getDimension("series"),o=this.getDimension("legend"),r=void 0,s=void 0,l=void 0;u["default"].isHorizontalLegend(e)?(s=(this.getDimension("chart").width-o.width)/2,r=u["default"].isLegendAlignTop(e)?i.top-o.height:i.top+n.height+this.getDimension("xAxis").height):(u["default"].isLegendAlignLeft(t.align)?s=this.chartLeftPadding:(l=this.getDimension("chart").width-this.chartLeftPadding,s=l-this.getDimension("legend").width),r=u["default"].isBoxTypeChart(this.chartType)?i.top:i.top+.75*a["default"].MAP_CHART_ZOOM_AREA_HEIGHT);var c={top:r,left:s};return l&&(c.right=l),c},t.prototype._makeChartExportMenuPosition=function(){var t=this.getPosition("series").top-a["default"].SERIES_AREA_V_PADDING-a["default"].CHART_EXPORT_MENU_SIZE;return{top:t,right:a["default"].CHART_PADDING}},t.prototype._makeCircleLegendPosition=function(){var t=this.getPosition("series"),e=this.getDimension("series"),i=this.getDimension("circleLegend"),n=this.options.legend,o=void 0,r=void 0;return o=u["default"].isLegendAlignLeft(n.align)?0:t.left+e.width,u["default"].isVerticalLegend(n.align)&&n.visible&&(r=this.getDimension("legend").width+a["default"].CHART_PADDING,o+=(r-i.width)/2),{top:t.top+e.height-i.height,left:o}},t.prototype._isNeedExpansionSeries=function(){var t=this.chartType;return!(u["default"].isPieChart(t)||u["default"].isMapChart(t)||u["default"].isTreemapChart(t)||u["default"].isRadialChart(t)||u["default"].isPieDonutComboChart(t,this.seriesTypes))},t.prototype._registerEssentialComponentsPositions=function(){var t=this.getPosition("series"),e=void 0;this.positionMap.mouseEventDetector=Object.assign({},t),this.positionMap.legend=this.useSpectrumLegend?this._makeSpectrumLegendPosition():this._makeLegendPosition(),this.positionMap.chartExportMenu=this._makeChartExportMenuPosition(),this.getDimension("circleLegend").width&&(this.positionMap.circleLegend=this._makeCircleLegendPosition()),e=this._isNeedExpansionSeries()?{top:t.top-a["default"].SERIES_EXPAND_SIZE,left:t.left-a["default"].SERIES_EXPAND_SIZE}:t,this.positionMap.tooltip=e},t.prototype._registerPositions=function(){var t=this,e=this.options.legend.align,i=this.options.legend.visible,n=this.getDimension("legend"),o=u["default"].isLegendAlignTop(e)&&i,r=u["default"].isLegendAlignLeft(e)&&i,s=o?n.height:0,l=r?n.width:0,h=Math.max(this.getDimension("title").height,this.getDimension("chartExportMenu").height),p=function(){if(t.options.yAxis.title&&!t.useSpectrumLegend){var e=c["default"].getRenderedLabelHeight(t.options.yAxis.title,t.theme.yAxis.title);return e+a["default"].Y_AXIS_TITLE_PADDING}return 0}(),f=Math.max(0,Math.max(s,p)-a["default"].TITLE_PADDING),d=h+f;h||(d=Math.max(s,p));var y={top:d+a["default"].CHART_PADDING,left:this.chartLeftPadding+l+this.getDimension("yAxis").width};this.positionMap.series=y,this.hasAxes&&this._registerAxisComponentsPosition(l),this._registerEssentialComponentsPositions()},t.prototype._registerExtendedSeriesBound=function(){var t=this.getBound("series");this._isNeedExpansionSeries()&&(t=c["default"].expandBound(t)),this._setBound("extendedSeries",t)},t.prototype._updateBoundsForYAxisCenterOption=function(){var t=this.getDimension("yAxis").width,e=Math.floor(this.getDimension("series").width/2)+a["default"].OVERLAPPING_WIDTH,i=t-a["default"].OVERLAPPING_WIDTH,n=c["default"].isOldBrowser()?1:0;this.dimensionMap.extendedSeries.width+=t,this.dimensionMap.xAxis.width+=a["default"].OVERLAPPING_WIDTH,this.dimensionMap.plot.width+=t+a["default"].OVERLAPPING_WIDTH,this.dimensionMap.mouseEventDetector.width+=t,this.dimensionMap.tooltip.width+=t,this.positionMap.series.left-=t-n,this.positionMap.extendedSeries.left-=i-n,this.positionMap.plot.left-=i,this.positionMap.yAxis.left+=e,this.positionMap.xAxis.left-=i,this.positionMap.mouseEventDetector.left-=i,this.positionMap.tooltip.left-=i},t.prototype.registerBoundsData=function(t){this._registerCenterComponentsDimension(),this.useSpectrumLegend&&this._updateDimensionsForSpectrumLegend(),this.hasAxes&&(this._registerAxisComponentsDimension(),this._updateDimensionsForXAxisLabel(t)),this._registerPositions(),this._registerExtendedSeriesBound(),this.options.yAxis.isCenter&&this._updateBoundsForYAxisCenterOption()},t.prototype._updateDimensionsForSpectrumLegend=function(){var t=this.options.legend.align,e=this.getDimension("legend"),i=this.getDimension("series");u["default"].isHorizontalLegend(t)&&e.width>i.width?e.width=i.width:u["default"].isVerticalLegend(t)&&(u["default"].isBoxTypeChart(this.chartType)?e.height=i.height:e.height>i.height-a["default"].MAP_CHART_ZOOM_AREA_HEIGHT&&(e.height=i.height-a["default"].MAP_CHART_ZOOM_AREA_HEIGHT))},t.prototype.calculateMaxRadius=function(t){var e=this.getDimensionMap(["series","circleLegend"]),i=!!this.options.circleLegend&&this.options.circleLegend.visible;return d["default"].calculateMaxRadius(e,t,i)},t}();e["default"]=L},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=i(335),r=n(o),a=i(334),s=n(a);e["default"]={_calculatePixelStep:function(t,e){var i=t.tickCount,n=void 0;return n=t.isLabelAxis?e/i/2:e/(i-1),parseInt(n,10)},_calculateRadiusByAxisData:function(t,e){var i=this._calculatePixelStep(e.yAxis,t.height),n=this._calculatePixelStep(e.xAxis,t.width);return Math.min(i,n)},_getCircleLegendLabelMaxWidth:function(t,e){return s["default"].getRenderedLabelWidth(t,{fontSize:r["default"].CIRCLE_LEGEND_LABEL_FONT_SIZE,fontFamily:e})},calculateCircleLegendWidth:function(t,e,i,n){var o=this._calculateRadiusByAxisData(t,e),a=this._getCircleLegendLabelMaxWidth(i,n);return Math.max(2*o,a)+r["default"].CIRCLE_LEGEND_PADDING},calculateMaxRadius:function(t,e,i){var n=this._calculateRadiusByAxisData(t.series,e),o=t.circleLegend.width;return i?Math.min((o-r["default"].CIRCLE_LEGEND_PADDING)/2,n):n}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=i(335),r=n(o),a=i(342),s=n(a),u=i(334),l=n(u);e["default"]={calculateXAxisHeight:function(t,e){var i=t.title,n=i?l["default"].getRenderedLabelHeight(i.text,e.title):0,o=n?n+r["default"].X_AXIS_TITLE_PADDING:0,a=t.labelMargin||0,s=l["default"].getRenderedLabelHeight(r["default"].MAX_HEIGHT_WORD,e.label),u=o+r["default"].X_AXIS_LABEL_PADDING;return a>0&&(u+=a),t.showLabel!==!1&&(u+=s),u},calculateYAxisWidth:function(t,e,i,n,o){var a=e.labelMargin,u=e.prefix,c=e.suffix,h=e.isCenter,p=e.type,f=e.dateFormat,d=e.showLabel,y=e.title,g=0,m=0,_=0;return t=e.categories||t,t=l["default"].addPrefixSuffix(t,u,c),n=l["default"].addPrefixSuffix(n,u,c),h&&(_+=r["default"].Y_AXIS_LABEL_PADDING),s["default"].isDatetimeType(p)&&(t=l["default"].formatDates(t,f),n=l["default"].formatDates(n,f)),a&&a>0&&(_+=a),t=n.length?n:t,d!==!1&&(m=l["default"].getRenderedLabelsMaxWidth(t,i.label)),y&&(g=l["default"].getRenderedLabelWidth(y.text,i.title)),_+=(o?Math.max(m,g):m)+r["default"].Y_AXIS_LABEL_PADDING}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=i(335),r=n(o),a=i(342),s=n(a),u=i(351),l=n(u),c=i(334),h=n(c),p=i(337),f=n(p),d=r["default"].LEGEND_CHECKBOX_SIZE,y=r["default"].LEGEND_ICON_WIDTH,g=r["default"].LEGEND_LABEL_LEFT_PADDING,m=r["default"].LEGEND_V_LABEL_RIGHT_PADDING,_=r["default"].LEGEND_H_LABEL_RIGHT_PADDING,v=r["default"].LEGEND_AREA_H_PADDING;e["default"]={_calculateLegendsWidthSum:function(t,e,i,n){var o=l["default"].sum([v,i,y,g]),r=l["default"].sum(t.map(function(t){var i=h["default"].getRenderedLabelWidth(t,e);return n&&i>n&&(i=n),i+=o,i+_}));return r=r-_+v},_divideLegendLabels:function(t,e){var i=Math.round(t.length/e),n=[],o=[];return t.forEach(function(t){o.length<i?o.push(t):(n.push(o),o=[t])}),o.length&&n.push(o),n},_getMaxLineWidth:function(t,e,i,n){var o=this,r=t.map(function(t){return o._calculateLegendsWidthSum(t,e,i,n)});return f["default"].max(r)},_makeDividedLabelsAndMaxLineWidth:function(t,e,i,n,o){var r=1,a=0,s=0,u=void 0,l=void 0;do{if(u=this._divideLegendLabels(t,r),a=this._getMaxLineWidth(u,i,n,o),s===a){u=l;break}s=a,l=u,r+=1}while(a>=e);return{labels:u,maxLineWidth:a}},_calculateHorizontalLegendHeight:function(t,e){var i=Math.max.apply(null,t.map(function(t){return h["default"].getRenderedLabelsMaxHeight(t,e)})),n=l["default"].sum([Math.max(r["default"].LEGEND_CHECKBOX_SIZE,i),r["default"].LINE_MARGIN_TOP]),o=n*t.length-r["default"].LINE_MARGIN_TOP+r["default"].SERIES_AREA_V_PADDING;return o},_makeHorizontalDimension:function(t,e,i,n,o){var a=this._makeDividedLabelsAndMaxLineWidth(e,i,t,n,o),s=this._calculateHorizontalLegendHeight(a.labels,t),u=s+r["default"].SERIES_AREA_V_PADDING;return{width:Math.max(a.maxLineWidth,r["default"].MIN_LEGEND_WIDTH),height:u}},_makeVerticalDimension:function(t,e,i,n){var o=h["default"].getRenderedLabelsMaxWidth(e,t),r=0;return n&&o>n&&(o=n),r=l["default"].sum([2*v,i,y,g,o,m]),{width:r,height:0}},calculate:function(t,e,i,n){var o=t.showCheckbox===!1?0:d+g,r=t.maxWidth,a={};return t.visible?a=s["default"].isHorizontalLegend(t.align)?this._makeHorizontalDimension(e,i,n,o,r):this._makeVerticalDimension(e,i,o,r):a.width=0,a}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=i(335),r=n(o),a=i(342),s=n(a);e["default"]={calculateWidth:function(t,e,i){var n=t.chart.width,o=t.yAxis,a=t.rightYAxis,u=t.legend,l=o.width+a.width,c=u,h=0,p=0;return s["default"].isVerticalLegend(e.align)&&e.visible&&(h=c?c.width:0),h||a.width||!i||(p=i/2),n-2*r["default"].CHART_PADDING-l-h-p},calculateHeight:function(t,e,i){var n=t.chart.height,o=Math.max(t.title.height,t.chartExportMenu.height),a=e.visible?t.legend.height:0,u=s["default"].isLegendAlignTop(e.align)?a:0,l=Math.max(0,Math.max(i,u)-r["default"].TITLE_PADDING),c=o+l,h=s["default"].isLegendAlignBottom(e.align)?a:0,p=t.xAxis.height+h;return n-2*r["default"].CHART_PADDING-c-p}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=i(335),r=n(o),a=i(334),s=n(a),u=i(351),l=n(u),c=r["default"].MAP_LEGEND_TOOLTIP_HORIZONTAL_PADDING,h=r["default"].MAP_LEGEND_WEDGE_SIZE,p=r["default"].MAP_LEGEND_AREA_PADDING_WIDE,f=r["default"].MAP_LEGEND_PADDING_BTW_GRAPH_AND_WEDGE,d=r["default"].MAP_LEGEND_GRAPH_SIZE,y=r["default"].MAP_LEGEND_LABEL_PADDING,g=r["default"].VERTICAL_MAP_LEGEND_HEIGHT,m=r["default"].MAP_LEGEND_TOOLTIP_VERTICAL_PADDING,_=r["default"].MAP_LEGEND_AREA_PADDING_NARROW,v=r["default"].HORIZONTAL_MAP_LEGEND_WIDTH;e["default"]={_makeVerticalDimension:function(t,e,i){var n=s["default"].getRenderedLabelWidth(t,i),o=s["default"].getRenderedLabelWidth(e,i),r=s["default"].getRenderedLabelWidth(t,i),a=l["default"].sum([2*c,r,h]);return{width:l["default"].sum([p,a,f,d,y,Math.max(n,o)]),height:g}},_makeHorizontalDimension:function(t,e,i,n){var o=s["default"].getRenderedLabelHeight(t,e),r=l["default"].sum([2*m,o,h]),a=i?_:p,u=n?p:0;return{width:v,height:l["default"].sum([a,r,f,d,y,o,y,u])}}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=i(447),a=n(r),s=i(449),u=n(s),l=i(450),c=n(l),h=i(342),p=n(h),f=i(334),d=n(f),y=i(333),g=n(y),m=function(){function t(e){o(this,t),this.chartType=e.chartType,this.seriesTypes=e.seriesTypes,this.dataProcessor=e.dataProcessor,this.boundsModel=e.boundsModel,this.options=e.options,this.theme=e.theme,this.hasRightYAxis=!!e.hasRightYAxis,this.prevValidLabelCount=null,this.initScaleData(e.addedDataCount),this.initForAutoTickInterval()}return t.prototype.initScaleData=function(t){this.scaleDataMap={},this.axisDataMap={},this.addedDataCount=t},t.prototype.initForAutoTickInterval=function(){this.firstTickCount=null},t.prototype._pickLimitOption=function(t){return t=t||{},{min:t.min,max:t.max}},t.prototype._createBaseScaleData=function(t,e,i,n){var o=t.chartType,r="xAxis"!==t.areaType,s=this.dataProcessor.createBaseValuesForLimit(o,n.isSingleYAxis,e.stackType,t.valueType,t.areaType),u=this.boundsModel.getBaseSizeForLimit(r),l=Object.assign(e,{isVertical:r,limitOption:this._pickLimitOption(i),tickCounts:n.tickCounts,showLabel:this.options.series.showLabel});return p["default"].isBubbleChart(o)&&(l.overflowItem=this.dataProcessor.findOverflowItem(o,t.valueType)),(p["default"].isMapChart(o)||p["default"].isHeatmapChart(o)||p["default"].isTreemapChart(o))&&(l.useSpectrumLegend=!0),a["default"].makeScaleData(s,u,o,l)},t.prototype._createScaleLabels=function(t,e,i,n){var o=this.dataProcessor.getFormatFunctions(),r=Object.assign(i,{dateFormat:n});return u["default"].createFormattedLabels(t,e,r,o)},t.prototype._createScaleData=function(t,e,i){var n=this.options.series,o=e.chartType||this.chartType;e.chartType=o,n=n[o]||n;var r={stackType:i.stackType||n.stackType,diverging:n.diverging,type:t.type},a=this._createBaseScaleData(e,r,t,i);return g["default"].extend(a,{labels:this._createScaleLabels(a,e,r,t.dateFormat),axisOptions:t})},t.prototype._createValueAxisData=function(t,e,i,n,o){var r=this.dataProcessor.hasCategories(),a=!n&&!r&&i,s=t.labels,u=t.limit,l=t.step,h=s.length,p=c["default"].makeValueAxisData({labels:s,tickCount:s.length,limit:u,step:l,labelTheme:e,aligned:i,options:t.axisOptions,isVertical:!!n,isPositionRight:!!o});if(a){var f=this.dataProcessor.getValues(this.chartType,"x"),d=c["default"].makeAdditionalDataForCoordinateLineType(s,f,u,l,h);g["default"].extend(p,d)}return p},t.prototype._createLabelAxisData=function(t,e,i,n,o){var r=t.categories||this.dataProcessor.getCategories(n);return c["default"].makeLabelAxisData({labels:r,options:t,labelTheme:e,aligned:i,isVertical:!!n,isPositionRight:!!o,addedDataCount:this.options.series.shifting?this.addedDataCount:0})},t.prototype._createAxisData=function(t,e,i,n,o){var r=p["default"].isLineTypeChart(this.chartType,this.seriesTypes)&&!e.pointOnColumn,a=void 0;return a=t?this._createValueAxisData(t,i,r,n,o):this._createLabelAxisData(e,i,r,n,o)},t.prototype._createAxesData=function(){var t=this.scaleDataMap,e=this.options,i=this.theme,n=g["default"].isArray(e.yAxis)?e.yAxis:[e.yAxis],o={};return o.xAxis=this._createAxisData(t.xAxis,e.xAxis,i.xAxis.label),o.yAxis=this._createAxisData(t.yAxis,n[0],i.yAxis.label,!0),this.hasRightYAxis&&(o.rightYAxis=this._createAxisData(t.rightYAxis,n[1],i.yAxis.label,!0,!0),o.rightYAxis.aligned||(o.rightYAxis.aligned=o.yAxis.aligned)),o},t.prototype.addScale=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i.areaType=i.areaType||t,i.chartType=n.chartType||i.chartType,this.scaleDataMap[t]=this._createScaleData(e,i,n)},t.prototype.setAxisDataMap=function(){this.axisDataMap=this._createAxesData()},t.prototype.updateXAxisDataForAutoTickInterval=function(t,e){var i=this.options.series.shifting,n=this.options.series.zoomable,o=this.axisDataMap.xAxis,r=this.boundsModel.getDimension("series").width,a=this.addedDataCount;i||!t||n?c["default"].updateLabelAxisDataForAutoTickInterval(o,r,a,e):c["default"].updateLabelAxisDataForStackingDynamicData(o,t,this.firstTickCount),this.firstTickCount||(this.firstTickCount=o.tickCount)},t.prototype.updateXAxisDataForLabel=function(t){var e=this.axisDataMap.xAxis,i=this.boundsModel.getDimensionMap(["series","yAxis","chart"]),n=e.isLabelAxis,o=this.theme.xAxis.label,r=void 0,a=void 0,s=e.labels;t&&(s=s.slice(0,s.length-1)),s=d["default"].addPrefixSuffix(s,this.options.xAxis.prefix,this.options.xAxis.suffix);var u=g["default"].filter(s,function(t){return!!t});r=g["default"].isNull(this.prevValidLabelCount)?u.length:this.prevValidLabelCount,this.options.yAxis.isCenter&&(r+=1,i.yAxis.width=0),a=e.options.rotateLabel===!1?c["default"].makeAdditionalDataForMultilineLabels(s,r,o,n,i):c["default"].makeAdditionalDataForRotatedLabels(u,r,o,n,i),this.prevValidLabelCount=r,g["default"].extend(e,a)},t.prototype._findLimit=function(t,e,i){var n=void 0;return n=0===e?i?t.yAxis:t.xAxis:t.rightYAxis?t.rightYAxis:t.yAxis},t.prototype.makeLimitMap=function(t,e){var i=this,n=this.scaleDataMap,o={};return n.xAxis&&(o.xAxis=n.xAxis.limit),n.yAxis&&(o.yAxis=n.yAxis.limit),n.rightYAxis&&(o.rightYAxis=n.rightYAxis.limit),n.legend&&(o.legend=n.legend.limit),t.forEach(function(t,n){o[t]=i._findLimit(o,n,e)}),o},t}();e["default"]=m},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(u){o=!0,r=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=i(335),a=n(r),s=i(342),u=n(s),l=i(351),c=n(l),h=i(337),p=n(h),f=i(448),d=n(f),y=i(333),g=n(y),m={_makeLimitForDivergingOption:function(t){var e=Math.max(Math.abs(t.min),Math.abs(t.max));return{min:-e,max:e}},_adjustLimitForOverflow:function(t,e,i){var n=t.min,o=t.max;return i.min&&(n=c["default"].subtract(n,e)),i.max&&(o=c["default"].add(o,e)),{min:n,max:o}},millisecondMap:{year:31536e6,month:26784e5,week:6048e5,date:864e5,hour:36e5,minute:6e4,second:1e3},millisecondTypes:["year","month","week","date","hour","minute","second"],_findDateType:function(t,e){var i=t.max-t.min,n=this.millisecondTypes,o=this.millisecondMap,r=n.length-1,s=void 0;return i?n.every(function(t,a){var u=o[t],l=Math.floor(i/u),c=void 0;return l&&(c=a<r&&l<2&&l<e?a+1:a,s=n[c]),!g["default"].isExisty(c)}):s=a["default"].DATE_TYPE_SECOND,s},_makeDatetimeInfo:function(t,e){var i=this._findDateType(t,e),n=this.millisecondMap[i],o=c["default"].divide(t.min,n),r=c["default"].divide(t.max,n),a=r-o;return{divisionNumber:n,minDate:o,dataLimit:{min:0,max:a}}},_restoreScaleToDatetimeType:function(t,e,i){var n=t.limit;return t.step=c["default"].multiply(t.step,i),n.min=c["default"].multiply(c["default"].add(n.min,e),i),n.max=c["default"].multiply(c["default"].add(n.max,e),i),t},_getLimitSafely:function(t){var e={min:p["default"].min(t),max:p["default"].max(t)};if(1===t.length){var i=o(t,1),n=i[0];n>0?e.min=0:0===n?e.max=10:e.max=0}else 0===e.min&&0===e.max?e.max=10:e.min===e.max&&(e.min-=e.min/10,e.max+=e.max/10);return e},_calculateDatetimeScale:function(t,e,i){var n=this._makeDatetimeInfo(this._getLimitSafely(t),t.length),o=n.dataLimit;i&&(o=this._makeLimitForDivergingOption(o));var r=(0,d["default"])({min:o.min,max:o.max,offsetSize:e,minimumStepSize:1});return r=this._restoreScaleToDatetimeType(r,n.minDate,n.divisionNumber)},_calculatePercentStackedScale:function(t,e){var i=void 0;return i=0===c["default"].sumMinusValues(t)?a["default"].PERCENT_STACKED_AXIS_SCALE:0===c["default"].sumPlusValues(t)?a["default"].MINUS_PERCENT_STACKED_AXIS_SCALE:e?a["default"].DIVERGING_PERCENT_STACKED_AXIS_SCALE:a["default"].DUAL_PERCENT_STACKED_AXIS_SCALE},_calculateCoordinateScale:function(t){var e=t.options,i=e.limitOption,n=void 0===i?{}:i,o=e.useSpectrumLegend,r=t.baseSize,a=t.overflowItem,s=t.chartType,l=this._getLimitSafely(t.baseValues),c=g["default"].isExisty(n.min),h=g["default"].isExisty(n.max),p=l.min,f=l.max,y=void 0,m=t.options.stepCount;c&&(p=n.min,m=null),h&&(f=n.max,m=null);var _=(0,d["default"])({min:p,max:f,stepCount:m,offsetSize:r});return o||(y=this._isOverflowed(a,_,l,c,h)),y&&!u["default"].isMapTypeChart(s)&&(_.limit=this._adjustLimitForOverflow(_.limit,_.step,y)),t.isDiverging&&(_.limit=this._makeLimitForDivergingOption(_.limit)),_},_isOverflowed:function(t,e,i,n,o){var r=!(!t||!t.minItem),a=!(!t||!t.maxItem),s=e.limit,u=r||!n&&s.min===i.min&&0!==s.min,l=a||!o&&s.max===i.max&&0!==s.max;return u||l?{min:u,max:l}:null},makeScaleData:function(t,e,i,n){var o=void 0,r=u["default"].isDivergingChart(i,n.diverging),a=n.overflowItem;return u["default"].isPercentStackChart(i,n.stackType)?o=this._calculatePercentStackedScale(t,r):u["default"].isDatetimeType(n.type)?o=this._calculateDatetimeScale(t,e,r):(u["default"].isRadialChart(i)&&(n.stepCount=Math.floor(e/100)),o=this._calculateCoordinateScale({baseValues:t,baseSize:e,overflowItem:a,isDiverging:r,chartType:i,options:n})),o}};e["default"]=m},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=0===t?1:Math.log(Math.abs(t))/Math.LN10;return Math.pow(10,Math.floor(e))}function r(t){for(var e=void 0,i=0,n=d.length;i<n;i+=1){e=d[i];var o=(e+(d[i+1]||e))/2;if(t<=o)break}return e}function a(t){var e=o(t),i=t/e;return r(i)*e}function s(t,e,i,n){var r=Math.min(o(e),o(i)),a=r>1?1:1/r,s=i*a,u=e,l=!1;return e=Math.ceil(e*a/s)*s/a,l=s/2>e-u,n&&l&&(e+=s),t=t>i?Math.floor(t*a/s)*s/a:t<0?-(Math.ceil(Math.abs(t)*a/s)*s)/a:0,{min:t,max:e}}function u(t,e){var i=1/Math.min(o(t),o(e));return Math.ceil(t*i/(e*i))}function l(t,e){var i=a(t.step),n=s(t.limit.min,t.limit.max,i,e),o=Math.abs(n.max-n.min),r=u(o,i);return{limit:{min:n.min,max:n.max},step:i,stepCount:r}}function c(t,e,i,n,o){var r=Math.abs(e-t),a=r/i;n||(n=Math.ceil(i/y));var s=i/n,u=a*s;return f["default"].isNumber(o)&&u<o&&(u=o,n=r/u),{limit:{min:t,max:e},step:u,stepCount:n}}function h(t){var e=t.min,i=t.max,n=t.offsetSize,o=t.stepCount,r=t.minimumStepSize,a=t.showLabel,s=c(e,i,n,o,r);return s=l(s,a)}e.__esModule=!0;var p=i(333),f=n(p),d=[1,2,5,10],y=88;e["default"]=h},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=i(342),r=n(o),a=i(351),s=n(a),u=i(334),l=n(u),c=i(333),h=n(c),p={_getFormatFunctions:function(t,e,i){return r["default"].isPercentStackChart(t,e)&&(i=[function(t){return t+"%"}]),i},_createScaleValues:function(t,e,i){var n=s["default"].makeLabelsFromLimit(t.limit,t.step);return r["default"].isDivergingChart(e,i)?h["default"].map(n,Math.abs):n},createFormattedLabels:function(t,e,i,n){var o=e.chartType,a=e.areaType,s=e.valueType,u=i.diverging,c=i.type,h=i.dateFormat,p=i.stackType,f=this._createScaleValues(t,o,u),d=void 0;
return r["default"].isDatetimeType(c)?d=l["default"].formatDates(f,h):(n=this._getFormatFunctions(o,p,n),d=l["default"].formatValues(f,n,{chartType:o,areaType:a,valueType:s})),d}};e["default"]=p},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(u){o=!0,r=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=i(335),a=n(r),s=i(342),u=n(s),l=i(376),c=n(l),h=i(351),p=n(h),f=i(334),d=n(f),y=i(337),g=n(y),m=i(333),_=n(m),v=90,T=121,b=5,x={_makeLabelsByIntervalOption:function(t,e,i){return i=i||0,t=t.map(function(t,n){return(n+i)%e!==0&&(t=a["default"].EMPTY_AXIS_LABEL),t})},makeLabelAxisData:function(t){var e=t.options,i=void 0===e?{}:e,n=t.labels.length,o=t.labels;return u["default"].isValidLabelInterval(i.labelInterval,i.tickInterval)&&t.labels.length>i.labelInterval&&(o=this._makeLabelsByIntervalOption(t.labels,i.labelInterval,t.addedDataCount)),u["default"].isDatetimeType(i.type)&&(o=d["default"].formatDates(o,i.dateFormat)),t.aligned||(n+=1),{labels:o,tickCount:n,validTickCount:n,isLabelAxis:!0,options:i,isVertical:!!t.isVertical,isPositionRight:!!t.isPositionRight,aligned:!!t.aligned}},makeValueAxisData:function(t){var e=t.labels,i=t.tickCount,n=t.limit,o=t.step,r=t.options,a=t.isVertical,s=t.isPositionRight,u=t.aligned,l={labels:e,tickCount:i,limit:n,step:o,options:r,validTickCount:i,dataMin:n.min,distance:n.max-n.min,isVertical:!!a,isPositionRight:!!s,aligned:!!u};return l},makeAdditionalDataForCoordinateLineType:function(t,e,i,n,o){var r=g["default"].min(e),a=g["default"].max(e),s=a-r,u=0,l=1;return s&&(i.min<r&&(i.min+=n,u=(i.min-r)/s,l-=u,o-=1,t.shift()),i.max>a&&(i.max-=n,l-=(a-i.max)/s,o-=1,t.pop())),{labels:t,tickCount:o,limit:i,distance:s,positionRatio:u,sizeRatio:l,validTickCount:o,dataMin:r}},_makeAdjustingIntervalInfo:function(t,e,i){var n=void 0,o=parseInt(e/i,10),r=null,a=parseInt(t/o,10);return a>1&&(n=t-a*o,n>=a&&(o+=parseInt(n/a,0),n%=a),r={blockCount:o,beforeRemainBlockCount:n,interval:a}),r},_makeCandidatesForAdjustingInterval:function(t,e){var i=this,n=[],o=p["default"].divisors(t);if(o.forEach(function(i){var o=i/t*e;o>=v&&o<=T&&n.push({interval:i,blockCount:t/i,beforeRemainBlockCount:0})}),0===n.length){var r=_["default"].range(v,T,b);n=r.map(function(n){return i._makeAdjustingIntervalInfo(t,e,n)})}return n.filter(function(t){return!!t})},_calculateAdjustingIntervalInfo:function(t,e){var i=this._makeCandidatesForAdjustingInterval(t,e),n=null;return i.length&&(n=g["default"].max(i,function(t){return t.blockCount})),n},_makeFilteredLabelsByInterval:function(t,e,i){return t.slice(e).filter(function(t,e){return e%i===0})},updateLabelAxisDataForAutoTickInterval:function(t,e,i,n){n&&(t.tickCount-=1,t.labels.pop());var o=t.tickCount-1,r=this._calculateAdjustingIntervalInfo(o,e);if(r){t.eventTickCount=t.tickCount;var a=r.blockCount,s=r.beforeRemainBlockCount,u=r.interval,l=a+1,c=0,h=t.labels[t.labels.length-1];t.labels=this._makeFilteredLabelsByInterval(t.labels,c,u),s>0&&t.labels.push(h),_["default"].extend(t,{startIndex:c,tickCount:l,interval:u,positionRatio:c/o,sizeRatio:1-s/o,remainLastBlockInterval:s})}},updateLabelAxisDataForStackingDynamicData:function(t,e,i){var n=e.interval,o=e.startIndex,r=t.tickCount-1,a=i?i-1:0,s=r/n;a&&2*a<=s&&(n*=2),t.labels=this._makeFilteredLabelsByInterval(t.labels,o,n),s=t.labels.length-1;var u=r-n*s;_["default"].extend(t,{startIndex:o,interval:n,eventTickCount:t.tickCount,tickCount:t.labels.length,positionRatio:o/r,sizeRatio:1-u/r})},_calculateXAxisLabelAreaWidth:function(t,e,i){return t||(i-=1),e/i},_createMultilineLabel:function(t,e,i){var n=String(t).split(/\s+/),r=[],a=o(n,1),s=a[0];return n.slice(1).forEach(function(t){var n=d["default"].getRenderedLabelWidth(s+" "+t,i);n>e?(r.push(s),s=t):s+=" "+t}),s&&r.push(s),r.join("<br>")},_createMultilineLabels:function(t,e,i){var n=this._createMultilineLabel;return t.map(function(t){return n(t,i,e)})},_calculateMultilineHeight:function(t,e,i){return d["default"].getRenderedLabelsMaxHeight(t,Object.assign({cssText:"line-height:1.2;width:"+i+"px"},e))},makeAdditionalDataForMultilineLabels:function(t,e,i,n,o){var r=o.series.width,a=this._calculateXAxisLabelAreaWidth(n,r,e),s=this._createMultilineLabels(t,i,r),u=this._calculateMultilineHeight(s,i,a),l=d["default"].getRenderedLabelsMaxHeight(t,i);return{multilineLabels:s,overflowHeight:u-l,overflowLeft:a/2-o.yAxis.width}},_findRotationDegree:function(t,e,i){var n=null;return a["default"].DEGREE_CANDIDATES.every(function(o){var r=c["default"].calculateRotatedWidth(o,e,i);return n=o,!(r<=t)}),n},_calculateRotatedWidth:function(t,e,i,n){var o=d["default"].getRenderedLabelWidth(e,n),r=c["default"].calculateRotatedWidth(t,o,i);return r-=c["default"].calculateAdjacent(a["default"].ANGLE_90-t,i/2)},_calculateLimitWidth:function(t,e,i){var n=t;return e&&(n+=i/2),n},makeAdditionalDataForRotatedLabels:function(t,e,i,n,o){var r=d["default"].getRenderedLabelsMaxWidth(t,i),s=o.series.width,u=o.yAxis.width+o.rightYAxis?o.rightYAxis.width:0,l=this._calculateXAxisLabelAreaWidth(n,s,e),h=null,p=2*a["default"].CHART_PADDING+u+s;if(l<r){var f=d["default"].getRenderedLabelsMaxHeight(t,i),y=this._findRotationDegree(l,r,f),g=c["default"].calculateRotatedHeight(y,r,f),m=this._calculateRotatedWidth(y,t[0],f,i),_=this._calculateLimitWidth(o.yAxis.width,n,l);p+=m,h={degree:y,overflowHeight:g-f,overflowLeft:m-_,overflowRight:p-o.chart.width}}else p+=r,l=d["default"].getRenderedLabelWidth(t[0],i)/2,h={overflowLeft:l-o.yAxis.width,overflowRight:p-o.chart.width};return h}};e["default"]=x},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(370),u=n(s),l=i(335),c=n(l),h=i(359),p=n(h),f=function(t){function e(i,n,a){o(this,e),p["default"].updateRawSeriesDataByOptions(i,a.series);var s=r(this,t.call(this,{rawData:i,theme:n,options:a,hasAxes:!0,isVertical:!0}));return s._updateOptionsRelatedDiverging(a),s.className="tui-column-chart",s}return a(e,t),e.prototype._updateOptionsRelatedDiverging=function(t){t.series=t.series||{},t.series.diverging&&(t.series.stackType=t.series.stackType||c["default"].NORMAL_STACK_TYPE)},e.prototype.addComponents=function(){this.componentManager.register("title","title"),this.componentManager.register("plot","plot"),this.componentManager.register("legend","legend"),this.componentManager.register("columnSeries","columnSeries"),this.componentManager.register("yAxis","axis"),this.componentManager.register("xAxis","axis"),this.componentManager.register("chartExportMenu","chartExportMenu"),this.componentManager.register("tooltip","tooltip"),this.componentManager.register("mouseEventDetector","mouseEventDetector")},e.prototype.getScaleOption=function(){return{yAxis:!0}},e.prototype.addDataRatios=function(t){var e=this.options.series,i=void 0===e?{}:e,n=this.chartType,o=i[n]||i,r=o.stackType;this.dataProcessor.addDataRatios(t[n],r,n)},e}(u["default"]);e["default"]=f},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(370),u=n(s),l=i(342),c=n(l),h=i(453),p=n(h),f=i(412),d=n(f),y=i(359),g=n(y),m=i(333),_=n(m),v=function(t){function e(i,n,a){o(this,e);var s=r(this,t.call(this,{rawData:i,theme:n,options:a,hasAxes:!0,isVertical:!0}));return s.className="tui-line-chart",s.Series=d["default"],s.dataProcessor.isCoordinateType()&&(delete s.options.xAxis.tickInterval,s.options.tooltip.grouped=!1,s.options.series.shifting=!1),s._dynamicDataHelper=new p["default"](s),s}return a(e,t),e.prototype.addData=function(t,e){this._dynamicDataHelper.addData(t,e)},e.prototype.onChangeCheckedLegends=function(t,e,i){this._dynamicDataHelper.reset(),this._dynamicDataHelper.changeCheckedLegends(t,e,i)},e.prototype.addDataRatios=function(t){var e=this,i=this.chartTypes||[this.chartType],n=this.options.series||{},o=void 0;o=this.dataProcessor.isCoordinateType()?function(i){var n=c["default"].isBubbleChart(i);e.dataProcessor.addDataRatiosForCoordinateType(i,t,n)}:function(i){var o=n[i]||n,r=o.stackType;e.dataProcessor.addDataRatios(t[i],r,i)},_["default"].forEachArray(i,o)},e.prototype.addComponents=function(){this.componentManager.register("title","title"),this.componentManager.register("plot","plot"),this.componentManager.register("lineSeries","lineSeries"),this.componentManager.register("xAxis","axis"),this.hasRightYAxis&&this.componentManager.register("rightYAxis","axis"),this.componentManager.register("yAxis","axis"),this.componentManager.register("legend","legend"),this.componentManager.register("chartExportMenu","chartExportMenu"),this.componentManager.register("tooltip","tooltip"),this.componentManager.register("mouseEventDetector","mouseEventDetector")},e.prototype.getScaleOption=function(){var t={},e=this.options.xAxis,i=this.options.yAxis,n=void 0,o=void 0;return this.dataProcessor.isCoordinateType()?(o=e&&"datetime"===e.type,n=o&&_["default"].isExisty(e.dateFormat),t.xAxis={valueType:"x"},o&&(t.xAxis.type=(e||{}).dateTime),n&&(t.xAxis.format=(e||{}).dateFormat),t.yAxis={valueType:"y"}):this.hasRightYAxis?(t.yAxis=this._makeYAxisScaleOption("yAxis",i[0]),t.rightYAxis=this._makeYAxisScaleOption("yAxis",i[1])):t.yAxis=!0,t},e.prototype._makeYAxisScaleOption=function(t,e){return{options:e,areaType:"yAxis"}},e.prototype.addPlotLine=function(t){this.componentManager.get("plot").addPlotLine(t)},e.prototype.addPlotBand=function(t){this.componentManager.get("plot").addPlotBand(t)},e.prototype.removePlotLine=function(t){this.componentManager.get("plot").removePlotLine(t)},e.prototype.removePlotBand=function(t){this.componentManager.get("plot").removePlotBand(t)},e.prototype._renderForZoom=function(t){var e=this.readyForRender();this.componentManager.render("zoom",e,{isResetZoom:t})},e.prototype.onZoom=function(t){this._dynamicDataHelper.pauseAnimation(),this.dataProcessor.updateRawDataForZoom(t),this._renderForZoom(!1)},e.prototype.onResetZoom=function(){var t=this.dataProcessor.getOriginalRawData();this._dynamicDataHelper.checkedLegends&&(t=g["default"].filterCheckedRawData(t,this._dynamicDataHelper.checkedLegends)),this.dataProcessor.initData(t),this.dataProcessor.initZoomedRawData(),this.dataProcessor.addDataFromRemainDynamicData(_["default"].pick(this.options.series,"shifting")),this._renderForZoom(!0),this._dynamicDataHelper.restartAnimation()},e}(u["default"]);e["default"]=v},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=i(335),a=n(r),s=i(342),u=n(s),l=function(){function t(e){var i=this;o(this,t);var n=function r(){i.isInitRenderCompleted=!0,i.chart.off(r)};this.chart=e,this.isInitRenderCompleted=!1,this.chart.on("load",n),this.reset()}return t.prototype.reset=function(){this.lookupping=!1,this.paused=!1,this.rerenderingDelayTimerId=null,this.addedDataCount=0,this.checkedLegends=null,this.prevXAxisData=null},t.prototype._calculateAnimateTickSize=function(t){var e=this.chart.dataProcessor,i=this.chart.options.xAxis.tickInterval,n=!!this.chart.options.series.shifting,o=void 0;return o=e.isCoordinateType()?e.getValues(this.chart.chartType,"x").length-1:e.getCategoryCount(!1)-1,n&&!u["default"].isAutoTickInterval(i)&&(o-=1),t/o},t.prototype._animateForAddingData=function(){var t=this.chart,e=t.readyForRender(!0),i=!!this.chart.options.series.shifting;this.addedDataCount+=1;var n=this._calculateAnimateTickSize(e.dimensionMap.xAxis.width);t.componentManager.render("animateForAddingData",e,{tickSize:n,shifting:i}),i&&t.dataProcessor.shiftData()},t.prototype._rerenderForAddingData=function(){var t=this.chart,e=t.readyForRender();t.componentManager.render("rerender",e)},t.prototype._checkForAddedData=function(){var t=this,e=this.chart,i=e.dataProcessor.addDataFromDynamicData();return i?this.paused?void(e.options.series.shifting&&e.dataProcessor.shiftData()):(this._animateForAddingData(),void(this.rerenderingDelayTimerId=setTimeout(function(){t.rerenderingDelayTimerId=null,t._rerenderForAddingData(),t._checkForAddedData()},400))):void(this.lookupping=!1)},t.prototype.changeCheckedLegends=function(t,e,i){var n=this,o=this.chart,r=!!o.options.series.shifting,s=this.paused;s||this.pauseAnimation(),this.checkedLegends=t,o.rerender(t,e,i),s||setTimeout(function(){o.dataProcessor.addDataFromRemainDynamicData(r),n.restartAnimation()},a["default"].RERENDER_TIME)},t.prototype.pauseAnimation=function(){this.paused=!0,this.rerenderingDelayTimerId&&(clearTimeout(this.rerenderingDelayTimerId),this.rerenderingDelayTimerId=null,this.chart.options.series.shifting&&this.chart.dataProcessor.shiftData())},t.prototype.restartAnimation=function(){this.paused=!1,this.lookupping=!1,this._startLookup()},t.prototype._startLookup=function(){this.lookupping||(this.lookupping=!0,this._checkForAddedData())},t.prototype.addData=function(t,e){e||(e=t,t=null),this.chart.dataProcessor.addDynamicData(t,e),this.isInitRenderCompleted?this._startLookup():e&&(this.addedDataCount+=1)},t}();e["default"]=l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(370),u=n(s),l=i(453),c=n(l),h=i(359),p=n(h),f=i(415),d=n(f),y=i(333),g=n(y),m=function(t){function e(i,n,a){o(this,e),p["default"].removeSeriesStack(i.series);var s=r(this,t.call(this,{rawData:i,theme:n,options:a,hasAxes:!0,isVertical:!0}));return s.className="tui-area-chart",s.Series=d["default"],s._dynamicDataHelper=new c["default"](s),s}return a(e,t),e.prototype.addData=function(t,e){this._dynamicDataHelper.addData(t,e)},e.prototype.onChangeCheckedLegends=function(t,e,i){this._dynamicDataHelper.reset(),this._dynamicDataHelper.changeCheckedLegends(t,e,i)},e.prototype.addDataRatios=function(t){var e=this,i=this.chartTypes||[this.chartType],n=this.options.series||{},o=void 0;o=this.dataProcessor.isCoordinateType()?function(i){e.dataProcessor.addDataRatiosForCoordinateType(i,t,!1)}:function(i){var o=n[i]||n,r=o.stackType;e.dataProcessor.addDataRatios(t[i],r,i)},i.forEach(o)},e.prototype.addComponents=function(){this.componentManager.register("title","title"),this.componentManager.register("plot","plot"),this.componentManager.register("legend","legend"),this.componentManager.register("areaSeries","areaSeries"),this.componentManager.register("xAxis","axis"),this.componentManager.register("yAxis","axis"),this.componentManager.register("chartExportMenu","chartExportMenu"),this.componentManager.register("tooltip","tooltip"),this.componentManager.register("mouseEventDetector","mouseEventDetector")},e.prototype.getScaleOption=function(){var t={};return this.dataProcessor.isCoordinateType()?(t.xAxis={valueType:"x"},t.yAxis={valueType:"y"}):t.yAxis=!0,t},e.prototype.addPlotLine=function(t){this.componentManager.get("plot").addPlotLine(t)},e.prototype.addPlotBand=function(t){this.componentManager.get("plot").addPlotBand(t)},e.prototype.removePlotLine=function(t){this.componentManager.get("plot").removePlotLine(t)},e.prototype.removePlotBand=function(t){this.componentManager.get("plot").removePlotBand(t)},e.prototype._renderForZoom=function(t){var e=this.readyForRender();this.componentManager.render("zoom",e,{isResetZoom:t})},e.prototype.onZoom=function(t){this._dynamicDataHelper.pauseAnimation(),this.dataProcessor.updateRawDataForZoom(t),this._renderForZoom(!1)},e.prototype.onResetZoom=function(){var t=this.dataProcessor.getOriginalRawData();this._dynamicDataHelper.checkedLegends&&(t=p["default"].filterCheckedRawData(t,this._dynamicDataHelper.checkedLegends)),this.dataProcessor.initData(t),this.dataProcessor.initZoomedRawData(),this.dataProcessor.addDataFromRemainDynamicData(g["default"].pick(this.options.series,"shifting")),this._renderForZoom(!0),this._dynamicDataHelper.restartAnimation()},e}(u["default"]);e["default"]=m},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(u){o=!0,r=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=i(370),l=n(u),c=i(359),h=n(c),p=i(342),f=n(p),d=i(456),y=n(d),g=function(t){function e(i,n,a){o(this,e),a.tooltip=a.tooltip||{},a.tooltip.grouped=!0;var s=(0,y["default"])({rawSeriesData:i.series,yAxisOptions:a.yAxis}),u=r(this,t.call(this,{rawData:i,theme:n,options:a,chartTypes:s.chartTypes,seriesTypes:s.seriesTypes,hasAxes:!0,isVertical:!0}));return u.yAxisOptions=u._makeYAxisOptions(u.chartTypes,a.yAxis),u}return a(e,t),e.prototype._makeYAxisOptions=function(t,e){var i={};return e=e||{},t.forEach(function(t,n){i[t]=e[n]||e}),i},e.prototype.onChangeCheckedLegends=function(t){var e=this.dataProcessor.getOriginalRawData(),i=h["default"].filterCheckedRawData(e,t),n=(0,y["default"])({rawSeriesData:i.series,yAxisOptions:this.options.yAxis});this.chartTypes=n.chartTypes,this.seriesTypes=n.seriesTypes,this.rerender(t,i,n)},e.prototype.addComponents=function(){this.componentManager.register("title","title"),this.componentManager.register("plot","plot"),this.componentManager.register("legend","legend"),this.componentManager.register("columnSeries","columnSeries"),this.componentManager.register("lineSeries","lineSeries"),this.componentManager.register("yAxis","axis"),this.hasRightYAxis&&this.componentManager.register("rightYAxis","axis"),this.componentManager.register("xAxis","axis"),this.componentManager.register("chartExportMenu","chartExportMenu"),this.componentManager.register("tooltip","tooltip"),this.componentManager.register("mouseEventDetector","mouseEventDetector")},e.prototype.getScaleOption=function(){var t={yAxis:this._makeYAxisScaleOption("yAxis",this.chartTypes[0],!this.hasRightYAxis)};return this.hasRightYAxis&&(t.rightYAxis=this._makeYAxisScaleOption("rightYAxis",this.chartTypes[1])),t},e.prototype._makeYAxisScaleOption=function(t,e,i){var n=this.yAxisOptions[e],o={isSingleYAxis:!!i};return i&&this.options.series&&this._setAdditionalOptions(o),{options:n,areaType:"yAxis",chartType:e,additionalOptions:o}},e.prototype._setAdditionalOptions=function(t){var e=this.dataProcessor;Object.entries(this.options.series).forEach(function(i){var n=s(i,2),o=n[0],r=n[1];if(r.stackType){var a=e.findChartType(o);f["default"].isAllowedStackOption(a)&&(t.chartType=a,t.stackType=r.stackType)}})},e.prototype.addDataRatios=function(t){var e=this,i=this.chartTypes||[this.chartType],n=this.options.series||{},o=function(i){var o=n[i]||n,r=o.stackType;e.dataProcessor.addDataRatios(t[i],r,i)};i.forEach(o)},e}(l["default"]);e["default"]=g},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=t.rawSeriesData,i=t.yAxisOptions,n=r(e,i);return{chartTypes:n.chartTypes,seriesTypes:n.seriesTypes}}function r(t,e){var i=u["default"].keys(t).sort(),n=a(i,e),o=n.length?n:i,r=n.filter(function(e){return t[e].length}),s=void 0;return s=1===r.length?{chartTypes:r,seriesTypes:r}:{chartTypes:o,seriesTypes:i}}function a(t,e){var i=t.slice(),n=[].concat(e||[]),o=!1,r=void 0;return!n.length||1===n.length&&!n[0].chartType?i=[]:n.length&&(r=n.map(function(t){return t.chartType}),r.forEach(function(t,e){o=o||t&&i[e]!==t||!1}),o&&i.reverse()),i}e.__esModule=!0,e["default"]=o;var s=i(333),u=n(s)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(370),u=n(s),l=i(333),c=n(l),h=function(t){function e(i,n,a){return o(this,e),r(this,t.call(this,{rawData:i,theme:n,options:a,chartTypes:["line","scatter"],seriesTypes:["line","scatter"],hasAxes:!0,isVertical:!0}))}return a(e,t),e.prototype.getScaleOption=function(){return{yAxis:{valueType:"y"},xAxis:{valueType:"x"}}},e.prototype.addDataRatios=function(t){var e=this,i=this.chartTypes||[this.chartType],n=function(i){e.dataProcessor.addDataRatiosForCoordinateType(i,t,!1)};c["default"].forEachArray(i,n)},e.prototype.addComponents=function(){this.componentManager.register("title","title"),this.componentManager.register("plot","plot"),this.componentManager.register("legend","legend"),this.componentManager.register("lineSeries","lineSeries"),this.componentManager.register("scatterSeries","scatterSeries"),this.componentManager.register("yAxis","axis"),this.componentManager.register("xAxis","axis"),this.componentManager.register("chartExportMenu","chartExportMenu"),this.componentManager.register("tooltip","tooltip"),this.componentManager.register("mouseEventDetector","mouseEventDetector")},e}(u["default"]);e["default"]=h},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(u){o=!0,r=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=i(370),l=n(u),c=i(359),h=n(c),p=i(342),f=n(p),d=i(456),y=n(d),g=i(453),m=n(g),_=i(333),v=n(_),T=function(t){function e(i,n,a){o(this,e);var s=(0,y["default"])({rawSeriesData:i.series,yAxisOptions:a.yAxis});a.tooltip=a.tooltip||{},a.tooltip.grouped=!0;var u=r(this,t.call(this,{rawData:i,theme:n,options:a,seriesTypes:s.seriesTypes,chartTypes:s.chartTypes,hasAxes:!0,isVertical:!0}));return u.yAxisOptions=u._makeYAxisOptions(u.chartTypes,a.yAxis),u._dynamicDataHelper=new m["default"](u),u.className="tui-combo-chart",u}return a(e,t),e.prototype.onChangeCheckedLegends=function(t){var e=this.dataProcessor.getZoomedRawData(),i=h["default"].filterCheckedRawData(e,t),n=(0,y["default"])({rawSeriesData:i.series,yAxisOptions:this.options.yAxis});this._dynamicDataHelper.reset(),this._dynamicDataHelper.changeCheckedLegends(t,i,n)},e.prototype.addComponents=function(){this.componentManager.register("title","title"),this.componentManager.register("plot","plot"),this.componentManager.register("legend","legend"),this.componentManager.register("areaSeries","areaSeries"),this.componentManager.register("lineSeries","lineSeries"),this.componentManager.register("xAxis","axis"),this.componentManager.register("yAxis","axis"),this.hasRightYAxis&&this.componentManager.register("rightYAxis","axis"),this.componentManager.register("chartExportMenu","chartExportMenu"),this.componentManager.register("tooltip","tooltip"),this.componentManager.register("mouseEventDetector","mouseEventDetector")},e.prototype.getScaleOption=function(){var t={yAxis:this._makeYAxisScaleOption("yAxis",this.chartTypes[0],!this.hasRightYAxis)};return this.hasRightYAxis&&(t.rightYAxis=this._makeYAxisScaleOption("rightYAxis",this.chartTypes[1])),t},e.prototype._makeYAxisScaleOption=function(t,e,i){var n=this.yAxisOptions[e],o={isSingleYAxis:!!i};return i&&this.options.series&&this._setAdditionalOptions(o),{options:n,areaType:"yAxis",chartType:e,additionalOptions:o}},e.prototype._makeYAxisOptions=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={};return t.forEach(function(t,n){i[t]=e[n]||e}),i},e.prototype.addData=function(t,e){this._dynamicDataHelper.addData(t,e)},e.prototype._setAdditionalOptions=function(t){var e=this.dataProcessor;Object.entries(this.options.series).forEach(function(i){var n=s(i,2),o=n[0],r=n[1];if(r.stackType){var a=e.findChartType(o);f["default"].isAllowedStackOption(a)&&(t.chartType=a,t.stackType=r.stackType)}})},e.prototype.addDataRatios=function(t){var e=this,i=this.chartTypes||[this.chartType],n=this.options.series||{},o=void 0;o=this.dataProcessor.isCoordinateType()?function(i){e.dataProcessor.addDataRatiosForCoordinateType(i,t,!1)}:function(i){var o=n[i]||n,r=o.stackType;e.dataProcessor.addDataRatios(t[i],r,i)},v["default"].forEachArray(i,o)},e.prototype.addPlotLine=function(t){this.componentManager.get("plot").addPlotLine(t)},e.prototype.addPlotBand=function(t){this.componentManager.get("plot").addPlotBand(t)},e.prototype.removePlotLine=function(t){this.componentManager.get("plot").removePlotLine(t)},e.prototype.removePlotBand=function(t){this.componentManager.get("plot").removePlotBand(t)},e.prototype._renderForZoom=function(t){var e=this.readyForRender();this.componentManager.render("zoom",e,{isResetZoom:t})},e.prototype.onZoom=function(t){this._dynamicDataHelper.pauseAnimation(),this.dataProcessor.updateRawDataForZoom(t),this._renderForZoom(!1)},e.prototype.onResetZoom=function(){var t=this.dataProcessor.getOriginalRawData();this._dynamicDataHelper.checkedLegends&&(t=h["default"].filterCheckedRawData(t,this._dynamicDataHelper.checkedLegends)),this.dataProcessor.initData(t),this.dataProcessor.initZoomedRawData(),this.dataProcessor.addDataFromRemainDynamicData(v["default"].pick(this.options.series,"shifting")),this._renderForZoom(!0),this._dynamicDataHelper.restartAnimation()},e}(l["default"]);e["default"]=T},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(370),u=n(s),l=i(359),c=n(l),h=i(333),p=n(h),f=function(t){function e(i,n,a){o(this,e);var s=r(this,t.call(this,{rawData:i,theme:n,options:a,seriesTypes:p["default"].keys(i.series).sort(),chartTypes:["pie","pie"],isVertical:!0}));return s.className="tui-combo-chart",s}return a(e,t),e.prototype.addComponents=function(){this.componentManager.register("title","title"),this.componentManager.register("legend","legend"),this.componentManager.register("pie1Series","pieSeries"),this.componentManager.register("pie2Series","pieSeries"),this.componentManager.register("chartExportMenu","chartExportMenu"),this.componentManager.register("tooltip","tooltip"),this.componentManager.register("mouseEventDetector","mouseEventDetector")},e.prototype.addDataRatios=function(){var t=this,e=this.seriesTypes||[this.chartType];e.forEach(function(e){t.dataProcessor.addDataRatiosOfPieChart(e)})},e.prototype.onChangeCheckedLegends=function(t){var e=this.dataProcessor.getOriginalRawData(),i=c["default"].filterCheckedRawData(e,t);u["default"].prototype.onChangeCheckedLegends.call(this,t,i,{seriesTypes:this.seriesTypes})},e}(u["default"]);e["default"]=f},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(370),u=n(s),l=i(335),c=n(l),h=function(t){function e(i,n,a){o(this,e),a.tooltip=a.tooltip||{},a.tooltip.align||(a.tooltip.align=c["default"].TOOLTIP_DEFAULT_ALIGN_OPTION);var s=r(this,t.call(this,{rawData:i,theme:n,options:a}));return s.className="tui-pie-chart",s}return a(e,t),e.prototype.addComponents=function(){this.componentManager.register("title","title"),this.componentManager.register("legend","legend"),this.componentManager.register("pieSeries","pieSeries"),this.componentManager.register("chartExportMenu","chartExportMenu"),this.componentManager.register("tooltip","tooltip"),
this.componentManager.register("mouseEventDetector","mouseEventDetector")},e.prototype.addDataRatios=function(){this.dataProcessor.addDataRatiosOfPieChart(this.chartType)},e}(u["default"]);e["default"]=h},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(370),u=n(s),l=i(335),c=n(l),h=i(333),p=n(h),f=function(t){function e(i,n,a){o(this,e),a=Object.assign({tooltip:{},circleLegend:{}},a),a.circleLegend=Object.assign({visible:!0},a.circleLegend),a.tooltip=Object.assign({align:c["default"].TOOLTIP_DEFAULT_ALIGN_OPTION,grouped:!1},a.tooltip);var s=r(this,t.call(this,{rawData:i,theme:n,options:a,hasAxes:!0}));return s.className="tui-bubble-chart",s}return a(e,t),e.prototype.getScaleOption=function(){var t={};return this.dataProcessor.hasXValue(this.chartType)&&(t.xAxis={valueType:"x"}),this.dataProcessor.hasYValue(this.chartType)&&(t.yAxis={valueType:"y"}),t},e.prototype._setDefaultOptions=function(t){u["default"].prototype._setDefaultOptions.call(this,t),this.options.circleLegend=this.options.circleLegend||{},p["default"].isUndefined(this.options.circleLegend.visible)&&(this.options.circleLegend.visible=!0)},e.prototype.addComponents=function(){this.componentManager.register("title","title"),this.componentManager.register("plot","plot"),this.componentManager.register("legend","legend"),this.componentManager.register("circleLegend","circleLegend"),this.componentManager.register("bubbleSeries","bubbleSeries"),this.componentManager.register("yAxis","axis"),this.componentManager.register("xAxis","axis"),this.componentManager.register("chartExportMenu","chartExportMenu"),this.componentManager.register("tooltip","tooltip"),this.componentManager.register("mouseEventDetector","mouseEventDetector")},e.prototype.addDataRatios=function(t){this.dataProcessor.addDataRatiosForCoordinateType(this.chartType,t,!0)},e}(u["default"]);e["default"]=f},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(370),u=n(s),l=i(335),c=n(l),h=function(t){function e(i,n,a){o(this,e),a.tooltip=a.tooltip||{},a.tooltip.align||(a.tooltip.align=c["default"].TOOLTIP_DEFAULT_ALIGN_OPTION),a.tooltip.grouped=!1;var s=r(this,t.call(this,{rawData:i,theme:n,options:a,hasAxes:!0}));return s.className="tui-scatter-chart",s}return a(e,t),e.prototype.getScaleOption=function(){return{xAxis:{valueType:"x"},yAxis:{valueType:"y"}}},e.prototype.addComponents=function(){this.componentManager.register("title","title"),this.componentManager.register("plot","plot"),this.componentManager.register("legend","legend"),this.componentManager.register("scatterSeries","scatterSeries"),this.componentManager.register("yAxis","axis"),this.componentManager.register("xAxis","axis"),this.componentManager.register("chartExportMenu","chartExportMenu"),this.componentManager.register("tooltip","tooltip"),this.componentManager.register("mouseEventDetector","mouseEventDetector")},e.prototype.addDataRatios=function(t){this.dataProcessor.addDataRatiosForCoordinateType(this.chartType,t,!1)},e}(u["default"]);e["default"]=h},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(370),u=n(s),l=i(464),c=n(l),h=i(335),p=n(h),f=function(t){function e(i,n,a){o(this,e),a.tooltip=a.tooltip||{},a.tooltip.align||(a.tooltip.align=p["default"].TOOLTIP_DEFAULT_ALIGN_OPTION),a.tooltip.grouped=!1;var s=r(this,t.call(this,{rawData:i,theme:n,options:a,hasAxes:!0,isVertical:!0}));return s.className="tui-heatmap-chart",s}return a(e,t),e.prototype._addComponents=function(){var t=this.theme.series[this.chartType],e=new c["default"](t.startColor,t.endColor);this._addComponentsForAxisType({axis:[{name:"yAxis",isVertical:!0},{name:"xAxis"}],legend:{classType:"spectrumLegend",additionalParams:{colorSpectrum:e}},series:[{name:"heatmapSeries",data:{colorSpectrum:e}}],tooltip:!0,mouseEventDetector:!0})},e.prototype.getScaleOption=function(){return{legend:!0}},e.prototype.addDataRatios=function(t){this.dataProcessor.addDataRatios(t.legend,null,this.chartType)},e.prototype.addComponents=function(){var t=this.theme.series[this.chartType],e=new c["default"](t.startColor,t.endColor);this.componentManager.register("title","title"),this.componentManager.register("legend","spectrumLegend",{colorSpectrum:e}),this.componentManager.register("heatmapSeries","heatmapSeries",{colorSpectrum:e}),this.componentManager.register("xAxis","axis"),this.componentManager.register("yAxis","axis"),this.componentManager.register("chartExportMenu","chartExportMenu"),this.componentManager.register("tooltip","tooltip",{colorSpectrum:e}),this.componentManager.register("mouseEventDetector","mouseEventDetector")},e}(u["default"]);e["default"]=f},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=i(465),s=n(a),u=function(){function t(e,i){r(this,t),this.start=s["default"].colorNameToHex(e),this.startRGB=s["default"].hexToRGB(this.start),this.end=s["default"].colorNameToHex(i);var n=s["default"].hexToRGB(this.end);this.distances=this._makeDistances(this.startRGB,n),this.colorMap={}}return t.prototype._makeDistances=function(t,e){return t.map(function(t,i){return e[i]-t})},t.prototype.getColor=function(t){var e=this.colorMap[t];if(!e){var i=this.distances,n=this.startRGB,r=n.map(function(e,n){return e+parseInt(i[n]*t,10)});e=s["default"].rgbToHEX.apply(s["default"],o(r))}return e||null},t}();e["default"]=u},function(t,e){"use strict";e.__esModule=!0;var i=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,n={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};e["default"]={leadingZero:function(t,e){var i="";if(String(t).length>e)return String(t);for(var n=0;n<e-1;n+=1)i+="0";return(i+t).slice(e*-1)},isValidRGB:function(t){return i.test(t)},hexToRGB:function(t){if(!this.isValidRGB(t))return!1;t=t.substring(1);var e=parseInt(t.substr(0,2),16),i=parseInt(t.substr(2,2),16),n=parseInt(t.substr(4,2),16);return[e,i,n]},rgbToHEX:function(t,e,i){var n="#",o=n+this.leadingZero(t.toString(16),2)+this.leadingZero(e.toString(16),2)+this.leadingZero(i.toString(16),2);return!!this.isValidRGB(o)&&o},colorNameToHex:function(t){return n[t.toLowerCase()]||t}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(370),u=n(s),l=i(464),c=n(l),h=i(333),p=n(h),f=function(t){function e(i,n,a){o(this,e),a.tooltip=a.tooltip||{},a.tooltip.grouped=!1;var s=r(this,t.call(this,{rawData:i,theme:n,options:a,hasAxes:!1,isVertical:!0}));return s.className="tui-treemap-chart",s}return a(e,t),e.prototype.addComponents=function(){var t=this.theme.series[this.chartType],e=this.options.series.useColorValue,i=e?new c["default"](t.startColor,t.endColor):null;this.componentManager.register("title","title"),this.componentManager.register("treemapSeries","treemapSeries",{colorSpectrum:i}),e&&this.options.legend.visible&&this.componentManager.register("legend","spectrumLegend",{colorSpectrum:i}),this.componentManager.register("tooltip","tooltip",Object.assign({labelTheme:p["default"].pick(this.theme,"series","label"),colorSpectrum:i})),this.componentManager.register("mouseEventDetector","mouseEventDetector"),this.componentManager.register("chartExportMenu","chartExportMenu")},e.prototype.getScaleOption=function(){return{legend:!0}},e.prototype.addDataRatios=function(t){this.dataProcessor.addDataRatiosForTreemapChart(t.legend,this.chartType)},e.prototype.onZoom=function(t){this.componentManager.render("zoom",null,{index:t})},e}(u["default"]);e["default"]=f},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(370),u=n(s),l=i(363),c=n(l),h=i(468),p=n(h),f=i(469),d=n(f),y=i(464),g=n(y),m=function(t){function e(i,n,a){o(this,e),a.map=c["default"].get(a.map),a.tooltip=a.tooltip||{},a.legend=a.legend||{};var s=r(this,t.call(this,{rawData:i,theme:n,options:a,DataProcessor:d["default"]}));return s.className="tui-map-chart",s}return a(e,t),e.prototype.addComponents=function(){var t=this.theme.series[this.chartType],e=new p["default"](this.dataProcessor,this.options.map),i=new g["default"](t.startColor,t.endColor);this.componentManager.register("mapSeries","mapSeries",{mapModel:e,colorSpectrum:i}),this.componentManager.register("title","title"),this.componentManager.register("legend","spectrumLegend",{colorSpectrum:i}),this.componentManager.register("tooltip","tooltip",{mapModel:e,colorSpectrum:i}),this.componentManager.register("zoom","zoom"),this.componentManager.register("mouseEventDetector","mapChartEventDetector")},e.prototype.getScaleOption=function(){return{legend:!0}},e.prototype.addDataRatios=function(t){this.dataProcessor.addDataRatios(t.legend)},e}(u["default"]);e["default"]=m},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=i(335),a=n(r),s=i(337),u=n(s),l=i(333),c=n(l),h=function(){function t(e,i){o(this,t),this.commandFuncMap={M:c["default"].bind(this._makeCoordinate,this),m:c["default"].bind(this._makeCoordinateFromRelativeCoordinate,this),L:c["default"].bind(this._makeCoordinate,this),l:c["default"].bind(this._makeCoordinateFromRelativeCoordinate,this),H:c["default"].bind(this._makeXCoordinate,this),h:c["default"].bind(this._makeXCoordinateFroRelativeCoordinate,this),V:c["default"].bind(this._makeYCoordinate,this),v:c["default"].bind(this._makeYCoordinateFromRelativeCoordinate,this)},this.ignoreCommandMap={Z:!0,z:!0},this.mapDimension=null,this.dataProcessor=e,this.rawMapData=i,this.mapData=null}return t.prototype._splitCoordinate=function(t){var e=t.split(","),i={x:parseFloat(e[0])};return e[1]&&(i.y=parseFloat(e[1])),i},t.prototype._makeCoordinate=function(t){return this._splitCoordinate(t)},t.prototype._makeCoordinateFromRelativeCoordinate=function(t,e){var i=this._splitCoordinate(t);return{x:i.x+e.x,y:i.y+e.y}},t.prototype._makeXCoordinate=function(t){var e=this._splitCoordinate(t);return{x:e.x}},t.prototype._makeXCoordinateFroRelativeCoordinate=function(t,e){var i=this._splitCoordinate(t);return{x:i.x+e.x}},t.prototype._makeYCoordinate=function(t){var e=this._splitCoordinate(t);return{y:e.x}},t.prototype._makeYCoordinateFromRelativeCoordinate=function(t,e){var i=this._splitCoordinate(t);return{y:i.x+e.y}},t.prototype._splitPath=function(t){for(var e=t.length,i=[],n="",o=void 0,r=0;r<e;r+=1){var a=t.charAt(r);this.commandFuncMap[a]?(o&&n&&i.push({type:o,coordinate:n}),o=a,n=""):this.ignoreCommandMap[a]||(n+=a)}return this._addCommandPath(i,{commandType:o,coordinate:n}),i},t.prototype._addCommandPath=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.commandType,n=e.coordinate;i&&n&&t.push({type:i,coordinate:n})},t.prototype._makeCoordinatesFromPath=function(t){var e=this,i=this._splitPath(t),n={x:0,y:0};return i.map(function(t){var i=e.commandFuncMap[t.type],o=i(t.coordinate,n);return c["default"].extend(n,o),o})},t.prototype._findBoundFromCoordinates=function(t){var e=c["default"].pluck(t,"x").filter(function(t){return!c["default"].isUndefined(t)}),i=c["default"].pluck(t,"y").filter(function(t){return!c["default"].isUndefined(t)}),n=u["default"].max(e),o=u["default"].min(e),r=u["default"].max(i),a=u["default"].min(i);return{dimension:{width:n-o,height:r-a},position:{left:o,top:a}}},t.prototype._makeLabelPosition=function(t,e){return e=e||a["default"].MAP_CHART_LABEL_DEFAULT_POSITION_RATIO,{left:t.position.left+t.dimension.width*e.x,top:t.position.top+t.dimension.height*e.y}},t.prototype._createMapData=function(t){var e=this;return t.map(function(t){var i=e._makeCoordinatesFromPath(t.path),n=e._findBoundFromCoordinates(i),o=e.dataProcessor.getValueMapDatum(t.code),r=void 0,a=void 0,s=void 0,u=void 0;o&&(s=o.label,u=o.ratio,r=o.name||t.name,a=o.labelCoordinate||t.labelCoordinate);var l={code:t.code,name:r,path:t.path,bound:n,labelPosition:e._makeLabelPosition(n,a)};return s&&(l.label=s),u>=0&&(l.ratio=u),l})},t.prototype.getMapData=function(){return this.mapData||(this.mapData=this._createMapData(this.rawMapData)),this.mapData},t.prototype.getDatum=function(t){return this.getMapData()[t]},t.prototype.getLabelData=function(t){var e=this,i=this.getMapData(),n=i.filter(function(t){return e.dataProcessor.getValueMapDatum(t.code)});return n.map(function(e){return{name:e.name,labelPosition:{left:e.labelPosition.left*t,top:e.labelPosition.top*t}}})},t.prototype._makeMapDimension=function(){var t=this.getMapData(),e=t.map(function(t){return t.bound.position.left}),i=t.map(function(t){return t.bound.position.left+t.bound.dimension.width}),n=t.map(function(t){return t.bound.position.top}),o=t.map(function(t){return t.bound.position.top+t.bound.dimension.height});return{width:u["default"].max(i)-u["default"].min(e),height:u["default"].max(o)-u["default"].min(n)}},t.prototype.getMapDimension=function(){return this.mapDimension||(this.mapDimension=this._makeMapDimension()),this.mapDimension},t}();e["default"]=h},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(429),u=n(s),l=i(334),c=n(l),h=i(333),p=n(h),f=function(t){function e(i,n,a){o(this,e);var s=r(this,t.call(this));return s.rawData=i,s.options=a,s}return a(e,t),e.prototype.initData=function(t){this.rawData=t,this.valueMap=null},e.prototype._makeValueMap=function(){var t=this.rawData.series.map,e={},i=this._findFormatFunctions();return t.forEach(function(t){var n={value:t.data,label:c["default"].formatValue({value:t.data,formatFunctions:i,chartType:"map",areaType:"series"})};t.name&&(n.name=t.name),t.labelCoordinate&&(n.labelCoordinate=t.labelCoordinate),e[t.code]=n}),e},e.prototype.getValueMap=function(){return this.valueMap||(this.valueMap=this._makeValueMap()),this.valueMap},e.prototype.getValues=function(){return p["default"].pluck(this.getValueMap(),"value")},e.prototype.getValueMapDatum=function(t){return this.getValueMap()[t]},e.prototype.addDataRatios=function(t){var e=t.min,i=t.max-e,n=Object.values(this.getValueMap());n.forEach(function(t){t.ratio=(t.value-e)/i})},e.prototype.createBaseValuesForLimit=function(){return this.getValues()},e.prototype.getLegendVisibility=function(){return null},e}(u["default"]);e["default"]=f},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(370),u=n(s),l=i(412),c=n(l),h=function(t){function e(i,n,a){o(this,e),a.tooltip&&(a.tooltip.grouped=!1);var s=r(this,t.call(this,{rawData:i,theme:n,options:a,hasAxes:!0,isVertical:!0}));return s.className="tui-radial-chart",s.Series=c["default"],s}return a(e,t),e.prototype.addComponents=function(){this.componentManager.register("title","title"),this.componentManager.register("legend","legend"),this.componentManager.register("plot","radialPlot"),this.componentManager.register("radialSeries","radialSeries"),this.componentManager.register("chartExportMenu","chartExportMenu"),this.componentManager.register("tooltip","tooltip"),this.componentManager.register("mouseEventDetector","mouseEventDetector")},e.prototype.addDataRatios=function(t){this.dataProcessor.addDataRatios(t[this.chartType],null,this.chartType)},e.prototype.getScaleOption=function(){return{yAxis:{}}},e}(u["default"]);e["default"]=h},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(370),u=n(s),l=i(359),c=n(l),h=function(t){function e(i,n,a){o(this,e),c["default"].appendOutliersToSeriesData(i);var s=r(this,t.call(this,{rawData:i,theme:n,options:a,hasAxes:!0,isVertical:!0}));return s.className="tui-boxplot-chart",s}return a(e,t),e.prototype.addComponents=function(){this.componentManager.register("title","title"),this.componentManager.register("plot","plot"),this.componentManager.register("legend","legend"),this.componentManager.register("boxplotSeries","boxplotSeries"),this.componentManager.register("yAxis","axis"),this.componentManager.register("xAxis","axis"),this.componentManager.register("chartExportMenu","chartExportMenu"),this.componentManager.register("tooltip","tooltip"),this.componentManager.register("mouseEventDetector","mouseEventDetector")},e.prototype.getScaleOption=function(){return{yAxis:!0}},e.prototype.onChangeCheckedLegends=function(t){var e=void 0;this.hasRightYAxis&&(e={optionChartTypes:["boxplot","boxplot"]}),u["default"].prototype.onChangeCheckedLegends.call(this,t,null,e)},e.prototype.addDataRatios=function(t){var e=this.options.series,i=void 0===e?{}:e,n=this.chartType,o=i[n]||i,r=o.stackType;this.dataProcessor.addDataRatios(t[n],r,n)},e}(u["default"]);e["default"]=h},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(370),u=n(s),l=i(359),c=n(l),h=function(t){function e(i,n,a){o(this,e),c["default"]._makeRawSeriesDataForBulletChart(i);var s=r(this,t.call(this,{rawData:i,theme:n,options:a,hasAxes:!0,isVertical:!!a.series.vertical}));return s.className="tui-bullet-chart",s}return a(e,t),e.prototype.addComponents=function(){this.componentManager.register("title","title"),this.componentManager.register("plot","plot"),this.componentManager.register("legend","legend"),this.componentManager.register("bulletSeries","bulletSeries"),this.componentManager.register("yAxis","axis"),this.componentManager.register("xAxis","axis"),this.componentManager.register("chartExportMenu","chartExportMenu",{chartType:"bullet"}),this.componentManager.register("tooltip","tooltip"),this.componentManager.register("mouseEventDetector","mouseEventDetector")},e.prototype.getScaleOption=function(){return this.isVertical?{yAxis:!0}:{xAxis:!0}},e.prototype.addDataRatios=function(t){this.dataProcessor.addDataRatios(t[this.chartType],null,this.chartType)},e}(u["default"]);e["default"]=h},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var o=i(335),r=n(o),a=i(361),s=n(a),u=i(362),l=n(u);s["default"].register(r["default"].DEFAULT_THEME_NAME,l["default"])},function(t,e){}])});

// --
/*!
 * Toast UI Colorpicker
 * @version 2.2.0
 * @author NHNEnt FE Development Team <dl_javascript@nhnent.com>
 * @license MIT
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require1("tui-code-snippet")):"function"==typeof define1&&define1.amd?define1(["tui-code-snippet"],e):"object"==typeof exports?exports.colorPicker=e(require1("tui-code-snippet")):(t.tui=t.tui||{},t.tui.colorPicker=e(t.tui&&t.tui.util))}(this,function(t){return function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var o={};return e.m=t,e.c=o,e.p="dist",e(0)}([function(t,e,o){o(16),t.exports=o(12)},function(e,o){e.exports=t},function(t,e,o){"use strict";function n(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var r,i,s=o(1),a=o(3),l=o(6),c=s,u="_pos",d="onselectstart"in document,f="",h=/^auto$|^$|%/;r={appendHTMLElement:function(t,e,o){var n;return o=o||"",n=document.createElement(t),n.className=o,e?e.appendChild(n):document.body.appendChild(n),n},remove:function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},get:function(t){return document.getElementById(t)},_matcher:function(t,e){var o=/^\./,n=/^#/;return o.test(e)?r.hasClass(t,e.replace(".","")):n.test(e)?t.id===e.replace("#",""):t.nodeName.toLowerCase()===e.toLowerCase()},find:function(t,e,o){function n(t,e){for(var c,u=t.childNodes,d=0,f=u.length;d<f;d+=1)if(c=u[d],"#text"!==c.nodeName)if(r._matcher(c,e)){if((l&&o(c)||!l)&&i.push(c),a){s=!0;break}}else if(c.childNodes.length>0&&(n(c,e),s))break}var i=[],s=!1,a=c.isUndefined(o)||o===!1,l=c.isFunction(o);return c.isString(e)&&(e=r.get(e)),e=e||window.document.body,n(e,t),a?i[0]||null:i},closest:function(t,e){var o=t.parentNode;if(r._matcher(t,e))return t;for(;o&&o!==window.document.body;){if(r._matcher(o,e))return o;o=o.parentNode}},text:function(t){var e="",o=0,n=t.nodeType;if(n){if(1===n||9===n||11===n){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)e+=r.text(t)}else if(3===n||4===n)return t.nodeValue}else for(;t[o];o+=1)e+=r.text(t[o]);return e},setData:function(t,e,o){return"dataset"in t?void(t.dataset[e]=o):void t.setAttribute("data-"+e,o)},getData:function(t,e){return"dataset"in t?t.dataset[e]:t.getAttribute("data-"+e)},hasClass:function(t,e){var o;return c.isUndefined(t.classList)?(o=r.getClass(t),o.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(o)):t.classList.contains(e)},addClass:function(t,e){var o;c.isUndefined(t.classList)?r.hasClass(t,e)||(o=r.getClass(t),r.setClass(t,(o?o+" ":"")+e)):c.forEachArray(e.split(" "),function(e){t.classList.add(e)})},setClass:function(t,e){c.isUndefined(t.className.baseVal)?t.className=e:t.className.baseVal=e},removeClass:function(t,e){var o="";c.isUndefined(t.classList)?(o=(" "+r.getClass(t)+" ").replace(" "+e+" "," "),r.setClass(t,n(o))):t.classList.remove(e)},getClass:function(t){return t&&t.className?c.isUndefined(t.className.baseVal)?t.className:t.className.baseVal:""},getStyle:function(t,e){var o,n=t.style[e]||t.currentStyle&&t.currentStyle[e];return n&&"auto"!==n||!document.defaultView||(o=document.defaultView.getComputedStyle(t,null),n=o?o[e]:null),"auto"===n?null:n},getComputedStyle:function(t){var e=document.defaultView;return e&&e.getComputedStyle?document.defaultView.getComputedStyle(t):{getPropertyValue:function(e){var o=/(\-([a-z]){1})/g;return"float"===e&&(e="styleFloat"),o.test(e)&&(e=e.replace(o,function(){return arguments[2].toUpperCase()})),t.currentStyle[e]?t.currentStyle[e]:null}}},setPosition:function(t,e,o){e=c.isUndefined(e)?0:e,o=c.isUndefined(o)?0:o,t[u]=[e,o],t.style.left=e+"px",t.style.top=o+"px"},getPosition:function(t,e){var o,n,r;return e&&(t[u]=null),t[u]?t[u]:(o=0,n=0,(h.test(t.style.left)||h.test(t.style.top))&&"getBoundingClientRect"in t?(r=t.getBoundingClientRect(),o=r.left,n=r.top):(o=parseFloat(t.style.left||0),n=parseFloat(t.style.top||0)),[o,n])},getSize:function(t){var e,o=r.getStyle(t,"width"),n=r.getStyle(t,"height");return(h.test(o)||h.test(n))&&"getBoundingClientRect"in t?(e=t.getBoundingClientRect(),o=e.width,n=e.height):(o=parseFloat(o||0),n=parseFloat(n||0)),[o,n]},testProp:function(t){for(var e=document.documentElement.style,o=0,n=t.length;o<n;o+=1)if(t[o]in e)return t[o];return!1},getFormData:function(t){var e=new l(function(){return this.length}),o=function(t){return!t.disabled},n={};return e.add.apply(e,r.find("input",t,o).concat(r.find("select",t,o)).concat(r.find("textarea",t,o))),e=e.groupBy(function(t){return t&&t.getAttribute("name")||"_other"}),c.forEach(e,function(t,e){"_other"!==e&&t.each(function(o){var i=o.nodeName.toLowerCase(),s=o.type,a=[];"radio"===s?a=[t.find(function(t){return t.checked}).toArray().pop()]:"checkbox"===s?a=t.find(function(t){return t.checked}).toArray():"select"===i?t.find(function(t){return!!t.childNodes.length}).each(function(t){a=a.concat(r.find("option",t,function(t){return t.selected}))}):a=t.find(function(t){return""!==t.value}).toArray(),a=c.map(a,function(t){return t.value}),a.length?1===a.length&&(a=a[0]):a="",n[e]=a})}),n}},i=r.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),r.disableTextSelection=function(){return d?function(){a.on(window,"selectstart",a.preventDefault)}:function(){var t=document.documentElement.style;f=t[i],t[i]="none"}}(),r.enableTextSelection=function(){return d?function(){a.off(window,"selectstart",a.preventDefault)}:function(){document.documentElement.style[i]=f}}(),r.disableImageDrag=function(){a.on(window,"dragstart",a.preventDefault)},r.enableImageDrag=function(){a.off(window,"dragstart",a.preventDefault)},r.applyTemplate=function(t,e){var o=t.replace(/\{\{(\w*)\}\}/g,function(t,o){return e.hasOwnProperty(o)?e[o]:""});return o},t.exports=r},function(t,e,o){"use strict";var n=o(1),r=n,i=r.browser,s="_evt",a={START:["touchstart","mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},l={on:function(t,e,o,n){return r.isString(e)?void r.forEach(e.split(" "),function(e){l._on(t,e,o,n)}):void r.forEachOwnProperties(e,function(e,n){l._on(t,n,e,o)})},_on:function(t,e,o,n){var i,a,c;i=e+r.stamp(o)+(n?"_"+r.stamp(n):""),t[s]&&t[s][i]||(a=function(e){o.call(n||t,e||window.event)},c=a,"addEventListener"in t?"mouseenter"===e||"mouseleave"===e?(a=function(e){e=e||window.event,l._checkMouse(t,e)&&c(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",a,!1)):("mousewheel"===e&&t.addEventListener("DOMMouseScroll",a,!1),t.addEventListener(e,a,!1)):"attachEvent"in t&&t.attachEvent("on"+e,a),t[s]=t[s]||{},t[s][i]=a)},off:function(t,e,o,n){return r.isString(e)?void r.forEach(e.split(" "),function(e){l._off(t,e,o,n)}):void r.forEachOwnProperties(e,function(e,n){l._off(t,n,e,o)})},_off:function(t,e,o,n){var i=e+r.stamp(o)+(n?"_"+r.stamp(n):""),a=t[s]&&t[s][i];if(a){if("removeEventListener"in t)"mouseenter"===e||"mouseleave"===e?t.removeEventListener("mouseenter"===e?"mouseover":"mouseout",a,!1):("mousewheel"===e&&t.removeEventListener("DOMMouseScroll",a,!1),t.removeEventListener(e,a,!1));else if("detachEvent"in t)try{t.detachEvent("on"+e,a)}catch(t){}if(delete t[s][i],!r.keys(t[s]).length)return r.browser.msie&&r.browser.version<9?void(t[s]=null):void delete t[s]}},once:function(t,e,o,n){function i(){o.apply(n||t,arguments),s._off(t,e,i,n)}var s=this;return r.isObject(e)?void r.forEachOwnProperties(e,function(e,n){l.once(t,n,e,o)}):void l.on(t,e,i,n)},stopPropagation:function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},preventDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},stop:function(t){l.preventDefault(t),l.stopPropagation(t)},disableScrollPropagation:function(t){l.on(t,"mousewheel MozMousePixelScroll",l.stopPropagation)},disableClickPropagation:function(t){l.on(t,a.START.join(" ")+" click dblclick",l.stopPropagation)},getMousePosition:function(t,e){var o;return e?(o=e.getBoundingClientRect(),[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]):[t.clientX,t.clientY]},getWheelDelta:function(t){var e=0;return t.wheelDelta&&(e=t.wheelDelta/120),t.detail&&(e=-t.detail/3),e},_checkMouse:function(t,e){var o=e.relatedTarget;if(!o)return!0;try{for(;o&&o!==t;)o=o.parentNode}catch(t){return!1}return o!==t},trigger:function(t,e,o){var n=/(mouse|click)/;r.isUndefined(o)&&n.exec(e)&&(o=l.mouseEvent(e)),t.dispatchEvent?t.dispatchEvent(o):t.fireEvent&&t.fireEvent("on"+e,o)},mouseEvent:function(t,e){var o,n;return n=r.extend({bubbles:!0,cancelable:"mousemove"!==t,view:window,wheelDelta:0,detail:0,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0},e),i.msie&&i.version<9&&delete n.wheelDelta,"function"==typeof document.createEvent?(o=document.createEvent("MouseEvents"),o.initMouseEvent(t,n.bubbles,n.cancelable,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,document.body.parentNode)):document.createEventObject&&(o=document.createEventObject(),r.forEach(n,function(t,e){o[e]=t},this),o.button={0:1,1:4,2:2}[o.button]||o.button),o},getMouseButton:function(t){var e,o="0,1,3,5,7",n="2,6",r="4";return document.implementation.hasFeature("MouseEvents","2.0")?t.button:(e=t.button+"",~o.indexOf(e)?0:~n.indexOf(e)?2:~r.indexOf(e)?1:void 0)}};t.exports=l},function(t,e){"use strict";var o=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,n={leadingZero:function(t,e){var o="",n=0;if((t+"").length>e)return t+"";for(;n<e-1;n+=1)o+="0";return(o+t).slice(e*-1)},isValidRGB:function(t){return o.test(t)},
// @license RGB <-> HSV conversion utilities based off of http://www.cs.rit.edu/~ncs/color/t_convert.html
hexToRGB:function(t){var e,o,r;return!!n.isValidRGB(t)&&(t=t.substring(1),e=parseInt(t.substr(0,2),16),o=parseInt(t.substr(2,2),16),r=parseInt(t.substr(4,2),16),[e,o,r])},rgbToHEX:function(t,e,o){var r="#"+n.leadingZero(t.toString(16),2)+n.leadingZero(e.toString(16),2)+n.leadingZero(o.toString(16),2);return!!n.isValidRGB(r)&&r},rgbToHSV:function(t,e,o){var n,r,i,s,a,l;if(t/=255,e/=255,o/=255,n=Math.max(t,e,o),r=Math.min(t,e,o),a=n,l=n-r,s=0===n?0:l/n,n===r)i=0;else{switch(n){case t:i=(e-o)/l+(e<o?6:0);break;case e:i=(o-t)/l+2;break;case o:i=(t-e)/l+4}i/=6}return[Math.round(360*i),Math.round(100*s),Math.round(100*a)]},hsvToRGB:function(t,e,o){var n,r,i,s,a,l,c,u;if(t=Math.max(0,Math.min(360,t)),e=Math.max(0,Math.min(100,e)),o=Math.max(0,Math.min(100,o)),e/=100,o/=100,0===e)return n=r=i=o,[Math.round(255*n),Math.round(255*r),Math.round(255*i)];switch(t/=60,s=Math.floor(t),a=t-s,l=o*(1-e),c=o*(1-e*a),u=o*(1-e*(1-a)),s){case 0:n=o,r=u,i=l;break;case 1:n=c,r=o,i=l;break;case 2:n=l,r=o,i=u;break;case 3:n=l,r=c,i=o;break;case 4:n=u,r=l,i=o;break;default:n=o,r=l,i=c}return[Math.round(255*n),Math.round(255*r),Math.round(255*i)]}};t.exports=n},function(t,e,o){"use strict";function n(t,e){var o=r.stamp(this);t=t||{},r.isUndefined(e)&&(e=i.appendHTMLElement("div")),i.addClass(e,"tui-view-"+o),this.id=o,this.container=e,this.childs=new s(function(t){return r.stamp(t)}),this.parent=null}var r=o(1),i=o(2),s=o(6);n.prototype.addChild=function(t,e){e&&e.call(t,this),t.parent=this,this.childs.add(t)},n.prototype.removeChild=function(t,e){var o=r.isNumber(t)?this.childs.items[t]:t;t=r.stamp(o),e&&e.call(o,this),this.childs.remove(t)},n.prototype.render=function(){this.childs.each(function(t){t.render()})},n.prototype.recursive=function(t,e){r.isFunction(t)&&(e||t(this),this.childs.each(function(e){e.recursive(t)}))},n.prototype.resize=function(){for(var t=Array.prototype.slice.call(arguments),e=this.parent;e;)r.isFunction(e._onResize)&&e._onResize.apply(e,t),e=e.parent},n.prototype._beforeDestroy=function(){},n.prototype._destroy=function(){this._beforeDestroy(),this.childs.clear(),this.container.innerHTML="",this.id=this.parent=this.childs=this.container=null},n.prototype.destroy=function(t){this.childs.each(function(t){t.destroy(!0),t._destroy()}),t||this._destroy()},n.prototype.getViewBound=function(){var t=this.container,e=i.getPosition(t),o=i.getSize(t);return{x:e[0],y:e[1],width:o[0],height:o[1]}},t.exports=n},function(t,e,o){"use strict";function n(t){this.items={},this.length=0,l(t)&&(this.getItemID=t)}var r=o(1),i=r,s=i.forEachOwnProperties,a=i.forEachArray,l=i.isFunction,c=i.isObject,u=Array.prototype.slice;n.and=function(t){var e;return t=u.call(arguments),e=t.length,function(o){for(var n=0;n<e;n+=1)if(!t[n].call(null,o))return!1;return!0}},n.or=function(t){var e;return t=u.call(arguments),e=t.length,function(o){for(var n=1,r=t[0].call(null,o);n<e;n+=1)r=r||t[n].call(null,o);return r}},n.merge=function(t){var e=u.call(arguments),o={},r=new n(e[0].getItemID),s=i.extend;return a(e,function(t){s(o,t.items)}),r.items=o,r.length=i.keys(r.items).length,r},n.prototype.getItemID=function(t){return t._id+""},n.prototype.add=function(t){var e,o;return arguments.length>1?void a(u.call(arguments),function(t){this.add(t)},this):(e=this.getItemID(t),o=this.items,o[e]||(this.length+=1),void(o[e]=t))},n.prototype.remove=function(t){var e,o,n=[];return this.length?arguments.length>1?n=i.map(u.call(arguments),function(t){return this.remove(t)},this):(e=this.items,c(t)&&(t=this.getItemID(t)),e[t]?(this.length-=1,o=e[t],delete e[t],o):n):n},n.prototype.clear=function(){this.items={},this.length=0},n.prototype.has=function(t){var e,o;return!!this.length&&(e=l(t),o=!1,e?this.each(function(e){return t(e)!==!0||(o=!0,!1)}):(t=c(t)?this.getItemID(t):t,o=i.isExisty(this.items[t])),o)},n.prototype.doWhenHas=function(t,e,o){var n=this.items[t];i.isExisty(n)&&e.call(o||this,n)},n.prototype.find=function(t){var e=new n;return this.hasOwnProperty("getItemID")&&(e.getItemID=this.getItemID),this.each(function(o){t(o)===!0&&e.add(o)}),e},n.prototype.groupBy=function(t,e){var o,r,s={},a=l(t),c=this.getItemID;if(i.isArray(t)){if(i.forEachArray(t,function(t){s[t+""]=new n(c)}),!e)return s;t=e,a=!0}return this.each(function(e){a?r=t(e):(r=e[t],l(r)&&(r=r.apply(e))),o=s[r],o||(o=s[r]=new n(c)),o.add(e)}),s},n.prototype.single=function(){var t;return this.each(function(e){return t=e,!1},this),t},n.prototype.sort=function(t){var e=[];return this.each(function(t){e.push(t)}),l(t)&&(e=e.sort(t)),e},n.prototype.each=function(t,e){s(this.items,t,e||this)},n.prototype.toArray=function(){return this.length?i.map(this.items,function(t){return t}):[]},t.exports=n},function(t,e,o){(function(e){"use strict";function n(t,e){s.on(e,"mousedown",this._onMouseDown,this),this.options=r.extend({distance:10},t),this.container=e,this._isMoved=!1,this._distance=0,this._dragStartFired=!1,this._dragStartEventData=null}var r=o(1),i=o(2),s=o(3);n.prototype.destroy=function(){s.off(this.container,"mousedown",this._onMouseDown,this),this.options=this.container=this._isMoved=this._distance=this._dragStartFired=this._dragStartEventData=null},n.prototype._toggleDragEvent=function(t){var o,n,r=this.container;t?(o="on",n="disable"):(o="off",n="enable"),i[n+"TextSelection"](r),i[n+"ImageDrag"](r),s[o](e.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp},this)},n.prototype._getEventData=function(t){return{target:t.target||t.srcElement,originEvent:t}},n.prototype._onMouseDown=function(t){0===s.getMouseButton(t)&&(this._distance=0,this._dragStartFired=!1,this._dragStartEventData=this._getEventData(t),this._toggleDragEvent(!0))},n.prototype._onMouseMove=function(t){var e=this.options.distance;return s.preventDefault(t),this._isMoved=!0,this._distance<e?void(this._distance+=1):this._dragStartFired||(this._dragStartFired=!0,this.invoke("dragStart",this._dragStartEventData))?void this.fire("drag",this._getEventData(t)):void this._toggleDragEvent(!1)},n.prototype._onMouseUp=function(t){return this._toggleDragEvent(!1),this._isMoved?(this._isMoved=!1,void this.fire("dragEnd",this._getEventData(t))):void this.fire("click",this._getEventData(t))},r.CustomEvents.mixin(n),t.exports=n}).call(e,function(){return this}())},function(t,e,o){"use strict";function n(t,e){this.options=r.extend({cssPrefix:"tui-colorpicker-",preset:["#181818","#282828","#383838","#585858","#B8B8B8","#D8D8D8","#E8E8E8","#F8F8F8","#AB4642","#DC9656","#F7CA88","#A1B56C","#86C1B9","#7CAFC2","#BA8BAF","#A16946"],detailTxt:"Detail"},t),e=i.appendHTMLElement("div",e,this.options.cssPrefix+"palette-container"),l.call(this,t,e)}var r=o(1),i=o(2),s=o(4),a=o(3),l=o(5),c=o(14);r.inherit(n,l),n.prototype._onClick=function(t){var e=this.options,o=t.srcElement||t.target,n={};return i.hasClass(o,e.cssPrefix+"palette-button")?(n.color=o.value,void this.fire("_selectColor",n)):void(i.hasClass(o,e.cssPrefix+"palette-toggle-slider")&&this.fire("_toggleSlider"))},n.prototype._onChange=function(t){var e=this.options,o=t.srcElement||t.target,n={};i.hasClass(o,e.cssPrefix+"palette-hex")&&(n.color=o.value,this.fire("_selectColor",n))},n.prototype._beforeDestroy=function(){this._toggleEvent(!1)},n.prototype._toggleEvent=function(t){var e,o=this.options,n=this.container,r=a[t?"on":"off"];r(n,"click",this._onClick,this),e=i.find("."+o.cssPrefix+"palette-hex",n),e&&r(e,"change",this._onChange,this)},n.prototype.render=function(t){var e=this.options,o="";this._toggleEvent(!1),o=c.layout.replace("{{colorList}}",r.map(e.preset,function(o){var n="",r="";return s.isValidRGB(o)&&(r=i.applyTemplate(c.itemStyle,{color:o})),n=i.applyTemplate(c.item,{itemStyle:r,itemClass:o?"":" "+e.cssPrefix+"color-transparent",color:o,cssPrefix:e.cssPrefix,selected:o===t?" "+e.cssPrefix+"selected":""})}).join("")),o=i.applyTemplate(o,{cssPrefix:e.cssPrefix,detailTxt:e.detailTxt,color:t}),this.container.innerHTML=o,this._toggleEvent(!0)},r.CustomEvents.mixin(n),t.exports=n},function(t,e,o){"use strict";function n(t,e){e=i.appendHTMLElement("div",e,t.cssPrefix+"slider-container"),e.style.display="none",c.call(this,t,e),this.options=r.extend({color:"#f8f8f8",cssPrefix:"tui-colorpicker-"},t),this._dragDataCache={},this.sliderHandleElement=null,this.huebarHandleElement=null,this.baseColorElement=null,this.drag=new u({distance:0},e),this.drag.on({dragStart:this._onDragStart,drag:this._onDrag,dragEnd:this._onDragEnd,click:this._onClick},this)}var r=o(1),i=o(2),s=o(3),a=o(10),l=o(4),c=o(5),u=o(7),d=o(15),f=[-7,112],h=[-3,115],p=359.99;r.inherit(n,c),n.prototype._beforeDestroy=function(){this.drag.off(),this.drag=this.options=this._dragDataCache=this.sliderHandleElement=this.huebarHandleElement=this.baseColorElement=null},n.prototype.toggle=function(t){this.container.style.display=t?"block":"none"},n.prototype.isVisible=function(){return"block"===this.container.style.display},n.prototype.render=function(t){var e,o,n=this,r=n.container,s=n.options,a=d.layout;l.isValidRGB(t)&&(a=a.replace(/{{slider}}/,d.slider),a=a.replace(/{{huebar}}/,d.huebar),a=a.replace(/{{cssPrefix}}/g,s.cssPrefix),n.container.innerHTML=a,n.sliderHandleElement=i.find("."+s.cssPrefix+"slider-handle",r),n.huebarHandleElement=i.find("."+s.cssPrefix+"huebar-handle",r),n.baseColorElement=i.find("."+s.cssPrefix+"slider-basecolor",r),e=l.hexToRGB(t),o=l.rgbToHSV.apply(null,e),this.moveHue(o[0],!0),this.moveSaturationAndValue(o[1],o[2],!0))},n.prototype._moveColorSliderHandle=function(t,e,o){var n,r=this.sliderHandleElement;e=Math.max(f[0],e),e=Math.min(f[1],e),t=Math.max(f[0],t),t=Math.min(f[1],t),a.setTranslateXY(r,t,e),n=e>50?"white":"black",a.setStrokeColor(r,n),o||this.fire("_selectColor",{color:l.rgbToHEX.apply(null,this.getRGB())})},n.prototype.moveSaturationAndValue=function(t,e,o){var n,r,i,s;t=t||0,e=e||0,n=Math.abs(f[0]),r=f[1],i=t*r/100-n,s=r-e*r/100-n,this._moveColorSliderHandle(i,s,o)},n.prototype._moveColorSliderByPosition=function(t,e){var o=f[0];this._moveColorSliderHandle(t+o,e+o)},n.prototype.getSaturationAndValue=function(){var t,e,o=Math.abs(f[0]),n=o+f[1],r=a.getTranslateXY(this.sliderHandleElement);return t=(r[1]+o)/n*100,e=100-(r[0]+o)/n*100,[t,e]},n.prototype._moveHueHandle=function(t,e){var o,n,r=this.huebarHandleElement,i=this.baseColorElement;t=Math.max(h[0],t),t=Math.min(h[1],t),a.setTranslateY(r,t),o=l.hsvToRGB(this.getHue(),100,100),n=l.rgbToHEX.apply(null,o),a.setGradientColorStop(i,n),e||this.fire("_selectColor",{color:l.rgbToHEX.apply(null,this.getRGB())})},n.prototype.moveHue=function(t,e){var o,n,r=0;o=Math.abs(h[0]),n=o+h[1],t=t||0,r=n*t/p-o,this._moveHueHandle(r,e)},n.prototype._moveHueByPosition=function(t){var e=h[0];this._moveHueHandle(t+e)},n.prototype.getHue=function(){var t,e,o=this.huebarHandleElement,n=a.getTranslateXY(o);return t=Math.abs(h[0]),e=t+h[1],(n[0]+t)*p/e},n.prototype.getHSV=function(){var t=this.getSaturationAndValue(),e=this.getHue();return[e].concat(t)},n.prototype.getRGB=function(){return l.hsvToRGB.apply(null,this.getHSV())},n.prototype._prepareColorSliderForMouseEvent=function(t){var e,o=this.options,n=i.closest(t.target,"."+o.cssPrefix+"slider-part");return e=this._dragDataCache={isColorSlider:i.hasClass(n,o.cssPrefix+"slider-left"),parentElement:n}},n.prototype._onClick=function(t){var e=this._prepareColorSliderForMouseEvent(t),o=s.getMousePosition(t.originEvent,e.parentElement);e.isColorSlider?this._moveColorSliderByPosition(o[0],o[1]):this._moveHueByPosition(o[1]),this._dragDataCache=null},n.prototype._onDragStart=function(t){this._prepareColorSliderForMouseEvent(t)},n.prototype._onDrag=function(t){var e=this._dragDataCache,o=s.getMousePosition(t.originEvent,e.parentElement);e.isColorSlider?this._moveColorSliderByPosition(o[0],o[1]):this._moveHueByPosition(o[1])},n.prototype._onDragEnd=function(){this._dragDataCache=null},r.CustomEvents.mixin(n),t.exports=n},function(t,e,o){"use strict";var n=o(1),r=/[\.\-0-9]+/g,i=-6,s={isOldBrowser:function(){var t=s._isOldBrowser;return n.isExisty(t)||(s._isOldBrowser=t=n.browser.msie&&n.browser.version<9),t},getTranslateXY:function(t){var e;return s.isOldBrowser()?(e=t.style,[parseFloat(e.top),parseFloat(e.left)]):(e=t.getAttribute("transform"))?(e=e.match(r),[parseFloat(e[1]),parseFloat(e[0])]):[0,0]},setTranslateXY:function(t,e,o){s.isOldBrowser()?(t.style.left=e+"px",t.style.top=o+"px"):t.setAttribute("transform","translate("+e+","+o+")")},setTranslateY:function(t,e){s.isOldBrowser()?t.style.top=e+"px":t.setAttribute("transform","translate("+i+","+e+")")},setStrokeColor:function(t,e){s.isOldBrowser()?t.strokecolor=e:t.setAttribute("stroke",e)},setGradientColorStop:function(t,e){s.isOldBrowser()?t.color=e:t.setAttribute("stop-color",e)}};t.exports=s},function(t,e,o){"use strict";function n(){var t=location.hostname;u||(u=!0,i.imagePing("https://www.google-analytics.com/collect",{v:1,t:"event",tid:"UA-115377265-9",cid:t,dp:t,dh:"color-picker"}))}function r(t){var e;if(!(this instanceof r))return new r(t);if(t=this.options=i.extend({container:null,color:"#f8f8f8",preset:["#181818","#282828","#383838","#585858","#b8b8b8","#d8d8d8","#e8e8e8","#f8f8f8","#ab4642","#dc9656","#f7ca88","#a1b56c","#86c1b9","#7cafc2","#ba8baf","#a16946"],cssPrefix:"tui-colorpicker-",detailTxt:"Detail",usageStatistics:!0},t),!t.container)throw new Error("ColorPicker(): need container option.");e=this.layout=new a(t,t.container),this.palette=new l(t,e.container),this.palette.on({_selectColor:this._onSelectColorInPalette,_toggleSlider:this._onToggleSlider},this),this.slider=new c(t,e.container),this.slider.on("_selectColor",this._onSelectColorInSlider,this),e.addChild(this.palette),e.addChild(this.slider),this.render(t.color),t.usageStatistics&&n()}var i=o(1),s=o(4),a=o(13),l=o(8),c=o(9),u=!1;r.prototype._onSelectColorInPalette=function(t){var e=t.color,o=this.options;return s.isValidRGB(e)||""===e?(this.fire("selectColor",{color:e,origin:"palette"}),void(o.color!==e&&(o.color=e,this.render(e)))):void this.render()},r.prototype._onToggleSlider=function(){this.slider.toggle(!this.slider.isVisible())},r.prototype._onSelectColorInSlider=function(t){var e=t.color,o=this.options;this.fire("selectColor",{color:e,origin:"slider"}),o.color!==e&&(o.color=e,this.palette.render(e))},r.prototype.setColor=function(t){if(!s.isValidRGB(t))throw new Error("ColorPicker#setColor(): need valid hex string color value");this.options.color=t,this.render(t)},r.prototype.getColor=function(){return this.options.color},r.prototype.toggle=function(t){this.layout.container.style.display=t?"block":"none"},r.prototype.render=function(t){this.layout.render(t||this.options.color)},r.prototype.destroy=function(){this.layout.destroy(),this.options.container.innerHTML="",this.layout=this.slider=this.palette=this.options=null},i.CustomEvents.mixin(r),t.exports=r},function(t,e,o){"use strict";var n=o(2),r=o(3),i=o(6),s=o(5),a=o(7),l=o(11),c=o(8),u=o(9),d=o(4),f=o(10),h={domutil:n,domevent:r,Collection:i,View:s,Drag:a,create:l,Palette:c,Slider:u,colorutil:d,svgvml:f};t.exports=h},function(t,e,o){"use strict";function n(t,e){this.options=r.extend({cssPrefix:"tui-colorpicker-"},t),e=i.appendHTMLElement("div",e,this.options.cssPrefix+"container"),s.call(this,t,e),this.render()}var r=o(1),i=o(2),s=o(5);r.inherit(n,s),n.prototype.render=function(t){this.recursive(function(e){e.render(t)},!0)},t.exports=n},function(t,e){"use strict";var o=['<ul class="{{cssPrefix}}clearfix">{{colorList}}</ul>','<div class="{{cssPrefix}}clearfix" style="overflow:hidden">','<input type="button" class="{{cssPrefix}}palette-toggle-slider" value="{{detailTxt}}" />','<input type="text" class="{{cssPrefix}}palette-hex" value="{{color}}" maxlength="7" />','<span class="{{cssPrefix}}palette-preview" style="background-color:{{color}};color:{{color}}">{{color}}</span>',"</div>"].join("\n"),n='<li><input class="{{cssPrefix}}palette-button{{selected}}{{itemClass}}" type="button" style="{{itemStyle}}" title="{{color}}" value="{{color}}" /></li>',r="background-color:{{color}};color:{{color}}";t.exports={layout:o,item:n,itemStyle:r}},function(t,e,o){(function(e){"use strict";var n=o(1),r=['<div class="{{cssPrefix}}slider-left {{cssPrefix}}slider-part">{{slider}}</div>','<div class="{{cssPrefix}}slider-right {{cssPrefix}}slider-part">{{huebar}}</div>'].join("\n"),i=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-slider">',"<defs>",'<linearGradient id="{{cssPrefix}}svg-fill-color" x1="0%" y1="0%" x2="100%" y2="0%">','<stop offset="0%" stop-color="rgb(255,255,255)" />','<stop class="{{cssPrefix}}slider-basecolor" offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>",'<linearGradient id="{{cssPrefix}}svn-fill-black" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" style="stop-color:rgb(0,0,0);stop-opacity:0" />','<stop offset="100%" style="stop-color:rgb(0,0,0);stop-opacity:1" />',"</linearGradient>","</defs>",'<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svg-fill-color)"></rect>','<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svn-fill-black)"></rect>','<path transform="translate(0,0)" class="{{cssPrefix}}slider-handle" d="M0 7.5 L15 7.5 M7.5 15 L7.5 0 M2 7 a5.5 5.5 0 1 1 0 1 Z" stroke="black" stroke-width="0.75" fill="none" />',"</svg>"].join("\n"),s=['<div class="{{cssPrefix}}vml-slider">','<v:rect strokecolor="none" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill class="{{cssPrefix}}vml {{cssPrefix}}slider-basecolor" type="gradient" method="none" color="#ff0000" color2="#fff" angle="90" />',"</v:rect>",'<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill type="gradient" method="none" color="black" color2="white" o:opacity2="0%" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}slider-handle" coordsize="1 1" style="width:1px;height:1px;"path="m 0,7 l 14,7 m 7,14 l 7,0 ar 12,12 2,2 z" filled="false" stroked="true" />',"</div>"].join("\n"),a=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-huebar">',"<defs>",'<linearGradient id="g" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" stop-color="rgb(255,0,0)" />','<stop offset="16.666%" stop-color="rgb(255,255,0)" />','<stop offset="33.333%" stop-color="rgb(0,255,0)" />','<stop offset="50%" stop-color="rgb(0,255,255)" />','<stop offset="66.666%" stop-color="rgb(0,0,255)" />','<stop offset="83.333%" stop-color="rgb(255,0,255)" />','<stop offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>","</defs>",'<rect width="18px" height="100%" fill="url(#g)"></rect>','<path transform="translate(-6,-3)" class="{{cssPrefix}}huebar-handle" d="M0 0 L4 4 L0 8 L0 0 Z" fill="black" stroke="none" />',"</svg>"].join("\n"),l=['<div class="{{cssPrefix}}vml-huebar">','<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-huebar-bg">','<v:fill type="gradient" method="none" colors="0% rgb(255,0,0), 16.666% rgb(255,255,0), 33.333% rgb(0,255,0), 50% rgb(0,255,255), 66.666% rgb(0,0,255), 83.333% rgb(255,0,255), 100% rgb(255,0,0)" angle="180" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}huebar-handle" coordsize="1 1" style="width:1px;height:1px;position:absolute;z-index:1;right:22px;top:-3px;"path="m 0,0 l 4,4 l 0,8 l 0,0 z" filled="true" fillcolor="black" stroked="false" />',"</div>"].join("\n"),c=n.browser.msie&&n.browser.version<9;c&&e.document.namespaces.add("v","urn:schemas-microsoft-com:vml"),t.exports={layout:r,slider:c?s:i,huebar:c?l:a}}).call(e,function(){return this}())},function(t,e){}])});

// --
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define1&&define1.amd)define1([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.plantumlEncoder=t()}}(function(){return function(){function t(e,a,n){function r(s,h){if(!a[s]){if(!e[s]){var o="function"==typeof require1&&require1;if(!h&&o)return o(s,!0);if(i)return i(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var _=a[s]={exports:{}};e[s][0].call(_.exports,function(t){return r(e[s][1][t]||t)},_,_.exports,t,e,a,n)}return a[s].exports}for(var i="function"==typeof require1&&require1,s=0;s<n.length;s++)r(n[s]);return r}return t}()({1:[function(t,e,a){e.exports=t("./lib/plantuml-encoder")},{"./lib/plantuml-encoder":3}],2:[function(t,e,a){"use strict";function n(t){return t<10?String.fromCharCode(48+t):(t-=10)<26?String.fromCharCode(65+t):(t-=26)<26?String.fromCharCode(97+t):(t-=26,0===t?"-":1===t?"_":"?")}function r(t,e,a){var r=t>>2,i=(3&t)<<4|e>>4,s=(15&e)<<2|a>>6,h=63&a,o="";return o+=n(63&r),o+=n(63&i),o+=n(63&s),o+=n(63&h)}e.exports.encode=function(t){for(var e="",a=0;a<t.length;a+=3)a+2===t.length?e+=r(t.charCodeAt(a),t.charCodeAt(a+1),0):a+1===t.length?e+=r(t.charCodeAt(a),0,0):e+=r(t.charCodeAt(a),t.charCodeAt(a+1),t.charCodeAt(a+2));return e}},{}],3:[function(t,e,a){"use strict";var n=t("utf8-bytes"),r=t("pako/lib/deflate.js"),i=t("./encode64");e.exports.encode=function(t){var e=n(t),a=r.deflate(e,{level:9,to:"string",raw:!0});return i.encode(a)}},{"./encode64":2,"pako/lib/deflate.js":4,"utf8-bytes":13}],4:[function(t,e,a){"use strict";function n(t){if(!(this instanceof n))return new n(t);this.options=o.assign({level:c,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var a=h.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(a!==f)throw new Error(_[a]);if(e.header&&h.deflateSetHeader(this.strm,e.header),e.dictionary){var r;if(r="string"==typeof e.dictionary?l.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(a=h.deflateSetDictionary(this.strm,r))!==f)throw new Error(_[a]);this._dict_set=!0}}function r(t,e){var a=new n(e);if(a.push(t,!0),a.err)throw a.msg;return a.result}function i(t,e){return e=e||{},e.raw=!0,r(t,e)}function s(t,e){return e=e||{},e.gzip=!0,r(t,e)}var h=t("./zlib/deflate"),o=t("./utils/common"),l=t("./utils/strings"),_=t("./zlib/messages"),d=t("./zlib/zstream"),u=Object.prototype.toString,f=0,c=-1,p=0,g=8;n.prototype.push=function(t,e){var a,n,r=this.strm,i=this.options.chunkSize;if(this.ended)return!1;n=e===~~e?e:!0===e?4:0,"string"==typeof t?r.input=l.string2buf(t):"[object ArrayBuffer]"===u.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new o.Buf8(i),r.next_out=0,r.avail_out=i),1!==(a=h.deflate(r,n))&&a!==f)return this.onEnd(a),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||4!==n&&2!==n)||("string"===this.options.to?this.onData(l.buf2binstring(o.shrinkBuf(r.output,r.next_out))):this.onData(o.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||0===r.avail_out)&&1!==a);return 4===n?(a=h.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===f):2!==n||(this.onEnd(f),r.avail_out=0,!0)},n.prototype.onData=function(t){this.chunks.push(t)},n.prototype.onEnd=function(t){t===f&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},a.Deflate=n,a.deflate=r,a.deflateRaw=i,a.gzip=s},{"./utils/common":5,"./utils/strings":6,"./zlib/deflate":9,"./zlib/messages":10,"./zlib/zstream":12}],5:[function(t,e,a){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;a.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var a=e.shift();if(a){if("object"!=typeof a)throw new TypeError(a+"must be non-object");for(var n in a)a.hasOwnProperty(n)&&(t[n]=a[n])}}return t},a.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var r={arraySet:function(t,e,a,n,r){if(e.subarray&&t.subarray)return void t.set(e.subarray(a,a+n),r);for(var i=0;i<n;i++)t[r+i]=e[a+i]},flattenChunks:function(t){var e,a,n,r,i,s;for(n=0,e=0,a=t.length;e<a;e++)n+=t[e].length;for(s=new Uint8Array(n),r=0,e=0,a=t.length;e<a;e++)i=t[e],s.set(i,r),r+=i.length;return s}},i={arraySet:function(t,e,a,n,r){for(var i=0;i<n;i++)t[r+i]=e[a+i]},flattenChunks:function(t){return[].concat.apply([],t)}};a.setTyped=function(t){t?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,r)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,i))},a.setTyped(n)},{}],6:[function(t,e,a){"use strict";function n(t,e){if(e<65537&&(t.subarray&&s||!t.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var a="",n=0;n<e;n++)a+=String.fromCharCode(t[n]);return a}var r=t("./common"),i=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var h=new r.Buf8(256),o=0;o<256;o++)h[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;h[254]=h[254]=1,a.string2buf=function(t){var e,a,n,i,s,h=t.length,o=0;for(i=0;i<h;i++)a=t.charCodeAt(i),55296==(64512&a)&&i+1<h&&56320==(64512&(n=t.charCodeAt(i+1)))&&(a=65536+(a-55296<<10)+(n-56320),i++),o+=a<128?1:a<2048?2:a<65536?3:4;for(e=new r.Buf8(o),s=0,i=0;s<o;i++)a=t.charCodeAt(i),55296==(64512&a)&&i+1<h&&56320==(64512&(n=t.charCodeAt(i+1)))&&(a=65536+(a-55296<<10)+(n-56320),i++),a<128?e[s++]=a:a<2048?(e[s++]=192|a>>>6,e[s++]=128|63&a):a<65536?(e[s++]=224|a>>>12,e[s++]=128|a>>>6&63,e[s++]=128|63&a):(e[s++]=240|a>>>18,e[s++]=128|a>>>12&63,e[s++]=128|a>>>6&63,e[s++]=128|63&a);return e},a.buf2binstring=function(t){return n(t,t.length)},a.binstring2buf=function(t){for(var e=new r.Buf8(t.length),a=0,n=e.length;a<n;a++)e[a]=t.charCodeAt(a);return e},a.buf2string=function(t,e){var a,r,i,s,o=e||t.length,l=new Array(2*o);for(r=0,a=0;a<o;)if((i=t[a++])<128)l[r++]=i;else if((s=h[i])>4)l[r++]=65533,a+=s-1;else{for(i&=2===s?31:3===s?15:7;s>1&&a<o;)i=i<<6|63&t[a++],s--;s>1?l[r++]=65533:i<65536?l[r++]=i:(i-=65536,l[r++]=55296|i>>10&1023,l[r++]=56320|1023&i)}return n(l,r)},a.utf8border=function(t,e){var a;for(e=e||t.length,e>t.length&&(e=t.length),a=e-1;a>=0&&128==(192&t[a]);)a--;return a<0?e:0===a?e:a+h[t[a]]>e?a:e}},{"./common":5}],7:[function(t,e,a){"use strict";function n(t,e,a,n){for(var r=65535&t|0,i=t>>>16&65535|0,s=0;0!==a;){s=a>2e3?2e3:a,a-=s;do{r=r+e[n++]|0,i=i+r|0}while(--s);r%=65521,i%=65521}return r|i<<16|0}e.exports=n},{}],8:[function(t,e,a){"use strict";function n(t,e,a,n){var i=r,s=n+a;t^=-1;for(var h=n;h<s;h++)t=t>>>8^i[255&(t^e[h])];return-1^t}var r=function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}();e.exports=n},{}],9:[function(t,e,a){"use strict";function n(t,e){return t.msg=I[e],e}function r(t){return(t<<1)-(t>4?9:0)}function i(t){for(var e=t.length;--e>=0;)t[e]=0}function s(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(j.arraySet(t.output,e.pending_buf,e.pending_out,a,t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))}function h(t,e){U._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,s(t.strm)}function o(t,e){t.pending_buf[t.pending++]=e}function l(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function _(t,e,a,n){var r=t.avail_in;return r>n&&(r=n),0===r?0:(t.avail_in-=r,j.arraySet(e,t.input,t.next_in,r,a),1===t.state.wrap?t.adler=D(t.adler,e,r,a):2===t.state.wrap&&(t.adler=M(t.adler,e,r,a)),t.next_in+=r,t.total_in+=r,r)}function d(t,e){var a,n,r=t.max_chain_length,i=t.strstart,s=t.prev_length,h=t.nice_match,o=t.strstart>t.w_size-lt?t.strstart-(t.w_size-lt):0,l=t.window,_=t.w_mask,d=t.prev,u=t.strstart+ot,f=l[i+s-1],c=l[i+s];t.prev_length>=t.good_match&&(r>>=2),h>t.lookahead&&(h=t.lookahead);do{if(a=e,l[a+s]===c&&l[a+s-1]===f&&l[a]===l[i]&&l[++a]===l[i+1]){i+=2,a++;do{}while(l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&i<u);if(n=ot-(u-i),i=u-ot,n>s){if(t.match_start=e,s=n,n>=h)break;f=l[i+s-1],c=l[i+s]}}}while((e=d[e&_])>o&&0!=--r);return s<=t.lookahead?s:t.lookahead}function u(t){var e,a,n,r,i,s=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-lt)){j.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,a=t.hash_size,e=a;do{n=t.head[--e],t.head[e]=n>=s?n-s:0}while(--a);a=s,e=a;do{n=t.prev[--e],t.prev[e]=n>=s?n-s:0}while(--a);r+=s}if(0===t.strm.avail_in)break;if(a=_(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=a,t.lookahead+t.insert>=ht)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+ht-1])&t.hash_mask,t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<ht)););}while(t.lookahead<lt&&0!==t.strm.avail_in)}function f(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(u(t),0===t.lookahead&&e===O)return bt;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+a;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,h(t,!1),0===t.strm.avail_out))return bt;if(t.strstart-t.block_start>=t.w_size-lt&&(h(t,!1),0===t.strm.avail_out))return bt}return t.insert=0,e===L?(h(t,!0),0===t.strm.avail_out?wt:yt):(t.strstart>t.block_start&&(h(t,!1),t.strm.avail_out),bt)}function c(t,e){for(var a,n;;){if(t.lookahead<lt){if(u(t),t.lookahead<lt&&e===O)return bt;if(0===t.lookahead)break}if(a=0,t.lookahead>=ht&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ht-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-lt&&(t.match_length=d(t,a)),t.match_length>=ht)if(n=U._tr_tally(t,t.strstart-t.match_start,t.match_length-ht),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ht){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ht-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=U._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(h(t,!1),0===t.strm.avail_out))return bt}return t.insert=t.strstart<ht-1?t.strstart:ht-1,e===L?(h(t,!0),0===t.strm.avail_out?wt:yt):t.last_lit&&(h(t,!1),0===t.strm.avail_out)?bt:vt}function p(t,e){for(var a,n,r;;){if(t.lookahead<lt){if(u(t),t.lookahead<lt&&e===O)return bt;if(0===t.lookahead)break}if(a=0,t.lookahead>=ht&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ht-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ht-1,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-lt&&(t.match_length=d(t,a),t.match_length<=5&&(t.strategy===J||t.match_length===ht&&t.strstart-t.match_start>4096)&&(t.match_length=ht-1)),t.prev_length>=ht&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-ht,n=U._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-ht),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ht-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=ht-1,t.strstart++,n&&(h(t,!1),0===t.strm.avail_out))return bt}else if(t.match_available){if(n=U._tr_tally(t,0,t.window[t.strstart-1]),n&&h(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return bt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=U._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ht-1?t.strstart:ht-1,e===L?(h(t,!0),0===t.strm.avail_out?wt:yt):t.last_lit&&(h(t,!1),0===t.strm.avail_out)?bt:vt}function g(t,e){for(var a,n,r,i,s=t.window;;){if(t.lookahead<=ot){if(u(t),t.lookahead<=ot&&e===O)return bt;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=ht&&t.strstart>0&&(r=t.strstart-1,(n=s[r])===s[++r]&&n===s[++r]&&n===s[++r])){i=t.strstart+ot;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<i);t.match_length=ot-(i-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ht?(a=U._tr_tally(t,1,t.match_length-ht),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=U._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(h(t,!1),0===t.strm.avail_out))return bt}return t.insert=0,e===L?(h(t,!0),0===t.strm.avail_out?wt:yt):t.last_lit&&(h(t,!1),0===t.strm.avail_out)?bt:vt}function m(t,e){for(var a;;){if(0===t.lookahead&&(u(t),0===t.lookahead)){if(e===O)return bt;break}if(t.match_length=0,a=U._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(h(t,!1),0===t.strm.avail_out))return bt}return t.insert=0,e===L?(h(t,!0),0===t.strm.avail_out?wt:yt):t.last_lit&&(h(t,!1),0===t.strm.avail_out)?bt:vt}function b(t,e,a,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=n,this.func=r}function v(t){t.window_size=2*t.w_size,i(t.head),t.max_lazy_match=E[t.level].max_lazy,t.good_match=E[t.level].good_length,t.nice_match=E[t.level].nice_length,t.max_chain_length=E[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ht-1,t.match_available=0,t.ins_h=0}function w(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new j.Buf16(2*it),this.dyn_dtree=new j.Buf16(2*(2*nt+1)),this.bl_tree=new j.Buf16(2*(2*rt+1)),i(this.dyn_ltree),i(this.dyn_dtree),i(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new j.Buf16(st+1),this.heap=new j.Buf16(2*at+1),i(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new j.Buf16(2*at+1),i(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function y(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=Y,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?dt:gt,t.adler=2===e.wrap?0:1,e.last_flush=O,U._tr_init(e),R):n(t,F)}function k(t){var e=y(t);return e===R&&v(t.state),e}function z(t,e){return t&&t.state?2!==t.state.wrap?F:(t.state.gzhead=e,R):F}function x(t,e,a,r,i,s){if(!t)return F;var h=1;if(e===G&&(e=6),r<0?(h=0,r=-r):r>15&&(h=2,r-=16),i<1||i>$||a!==Z||r<8||r>15||e<0||e>9||s<0||s>W)return n(t,F);8===r&&(r=9);var o=new w;return t.state=o,o.strm=t,o.wrap=h,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+ht-1)/ht),o.window=new j.Buf8(2*o.w_size),o.head=new j.Buf16(o.hash_size),o.prev=new j.Buf16(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new j.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=e,o.strategy=s,o.method=a,k(t)}function A(t,e){return x(t,e,Z,tt,et,X)}function B(t,e){var a,h,_,d;if(!t||!t.state||e>N||e<0)return t?n(t,F):F;if(h=t.state,!t.output||!t.input&&0!==t.avail_in||h.status===mt&&e!==L)return n(t,0===t.avail_out?P:F);if(h.strm=t,a=h.last_flush,h.last_flush=e,h.status===dt)if(2===h.wrap)t.adler=0,o(h,31),o(h,139),o(h,8),h.gzhead?(o(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(h.gzhead.extra?4:0)+(h.gzhead.name?8:0)+(h.gzhead.comment?16:0)),o(h,255&h.gzhead.time),o(h,h.gzhead.time>>8&255),o(h,h.gzhead.time>>16&255),o(h,h.gzhead.time>>24&255),o(h,9===h.level?2:h.strategy>=Q||h.level<2?4:0),o(h,255&h.gzhead.os),h.gzhead.extra&&h.gzhead.extra.length&&(o(h,255&h.gzhead.extra.length),o(h,h.gzhead.extra.length>>8&255)),h.gzhead.hcrc&&(t.adler=M(t.adler,h.pending_buf,h.pending,0)),h.gzindex=0,h.status=ut):(o(h,0),o(h,0),o(h,0),o(h,0),o(h,0),o(h,9===h.level?2:h.strategy>=Q||h.level<2?4:0),o(h,kt),h.status=gt);else{var u=Z+(h.w_bits-8<<4)<<8,f=-1;f=h.strategy>=Q||h.level<2?0:h.level<6?1:6===h.level?2:3,u|=f<<6,0!==h.strstart&&(u|=_t),u+=31-u%31,h.status=gt,l(h,u),0!==h.strstart&&(l(h,t.adler>>>16),l(h,65535&t.adler)),t.adler=1}if(h.status===ut)if(h.gzhead.extra){for(_=h.pending;h.gzindex<(65535&h.gzhead.extra.length)&&(h.pending!==h.pending_buf_size||(h.gzhead.hcrc&&h.pending>_&&(t.adler=M(t.adler,h.pending_buf,h.pending-_,_)),s(t),_=h.pending,h.pending!==h.pending_buf_size));)o(h,255&h.gzhead.extra[h.gzindex]),h.gzindex++;h.gzhead.hcrc&&h.pending>_&&(t.adler=M(t.adler,h.pending_buf,h.pending-_,_)),h.gzindex===h.gzhead.extra.length&&(h.gzindex=0,h.status=ft)}else h.status=ft;if(h.status===ft)if(h.gzhead.name){_=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>_&&(t.adler=M(t.adler,h.pending_buf,h.pending-_,_)),s(t),_=h.pending,h.pending===h.pending_buf_size)){d=1;break}d=h.gzindex<h.gzhead.name.length?255&h.gzhead.name.charCodeAt(h.gzindex++):0,o(h,d)}while(0!==d);h.gzhead.hcrc&&h.pending>_&&(t.adler=M(t.adler,h.pending_buf,h.pending-_,_)),0===d&&(h.gzindex=0,h.status=ct)}else h.status=ct;if(h.status===ct)if(h.gzhead.comment){_=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>_&&(t.adler=M(t.adler,h.pending_buf,h.pending-_,_)),s(t),_=h.pending,h.pending===h.pending_buf_size)){d=1;break}d=h.gzindex<h.gzhead.comment.length?255&h.gzhead.comment.charCodeAt(h.gzindex++):0,o(h,d)}while(0!==d);h.gzhead.hcrc&&h.pending>_&&(t.adler=M(t.adler,h.pending_buf,h.pending-_,_)),0===d&&(h.status=pt)}else h.status=pt;if(h.status===pt&&(h.gzhead.hcrc?(h.pending+2>h.pending_buf_size&&s(t),h.pending+2<=h.pending_buf_size&&(o(h,255&t.adler),o(h,t.adler>>8&255),t.adler=0,h.status=gt)):h.status=gt),0!==h.pending){if(s(t),0===t.avail_out)return h.last_flush=-1,R}else if(0===t.avail_in&&r(e)<=r(a)&&e!==L)return n(t,P);if(h.status===mt&&0!==t.avail_in)return n(t,P);if(0!==t.avail_in||0!==h.lookahead||e!==O&&h.status!==mt){var c=h.strategy===Q?m(h,e):h.strategy===V?g(h,e):E[h.level].func(h,e);if(c!==wt&&c!==yt||(h.status=mt),c===bt||c===wt)return 0===t.avail_out&&(h.last_flush=-1),R;if(c===vt&&(e===q?U._tr_align(h):e!==N&&(U._tr_stored_block(h,0,0,!1),e===T&&(i(h.head),0===h.lookahead&&(h.strstart=0,h.block_start=0,h.insert=0))),s(t),0===t.avail_out))return h.last_flush=-1,R}return e!==L?R:h.wrap<=0?H:(2===h.wrap?(o(h,255&t.adler),o(h,t.adler>>8&255),o(h,t.adler>>16&255),o(h,t.adler>>24&255),o(h,255&t.total_in),o(h,t.total_in>>8&255),o(h,t.total_in>>16&255),o(h,t.total_in>>24&255)):(l(h,t.adler>>>16),l(h,65535&t.adler)),s(t),h.wrap>0&&(h.wrap=-h.wrap),0!==h.pending?R:H)}function C(t){var e;return t&&t.state?(e=t.state.status)!==dt&&e!==ut&&e!==ft&&e!==ct&&e!==pt&&e!==gt&&e!==mt?n(t,F):(t.state=null,e===gt?n(t,K):R):F}function S(t,e){var a,n,r,s,h,o,l,_,d=e.length;if(!t||!t.state)return F;if(a=t.state,2===(s=a.wrap)||1===s&&a.status!==dt||a.lookahead)return F;for(1===s&&(t.adler=D(t.adler,e,d,0)),a.wrap=0,d>=a.w_size&&(0===s&&(i(a.head),a.strstart=0,a.block_start=0,a.insert=0),_=new j.Buf8(a.w_size),j.arraySet(_,e,d-a.w_size,a.w_size,0),e=_,d=a.w_size),h=t.avail_in,o=t.next_in,l=t.input,t.avail_in=d,t.next_in=0,t.input=e,u(a);a.lookahead>=ht;){n=a.strstart,r=a.lookahead-(ht-1);do{a.ins_h=(a.ins_h<<a.hash_shift^a.window[n+ht-1])&a.hash_mask,a.prev[n&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=n,n++}while(--r);a.strstart=n,a.lookahead=ht-1,u(a)}return a.strstart+=a.lookahead,a.block_start=a.strstart,a.insert=a.lookahead,a.lookahead=0,a.match_length=a.prev_length=ht-1,a.match_available=0,t.next_in=o,t.input=l,t.avail_in=h,a.wrap=s,R}var E,j=t("../utils/common"),U=t("./trees"),D=t("./adler32"),M=t("./crc32"),I=t("./messages"),O=0,q=1,T=3,L=4,N=5,R=0,H=1,F=-2,K=-3,P=-5,G=-1,J=1,Q=2,V=3,W=4,X=0,Y=2,Z=8,$=9,tt=15,et=8,at=286,nt=30,rt=19,it=2*at+1,st=15,ht=3,ot=258,lt=ot+ht+1,_t=32,dt=42,ut=69,ft=73,ct=91,pt=103,gt=113,mt=666,bt=1,vt=2,wt=3,yt=4,kt=3;E=[new b(0,0,0,0,f),new b(4,4,8,4,c),new b(4,5,16,8,c),new b(4,6,32,32,c),new b(4,4,16,16,p),new b(8,16,32,32,p),new b(8,16,128,128,p),new b(8,32,128,256,p),new b(32,128,258,1024,p),new b(32,258,258,4096,p)],a.deflateInit=A,a.deflateInit2=x,a.deflateReset=k,a.deflateResetKeep=y,a.deflateSetHeader=z,a.deflate=B,a.deflateEnd=C,a.deflateSetDictionary=S,a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":5,"./adler32":7,"./crc32":8,"./messages":10,"./trees":11}],10:[function(t,e,a){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],11:[function(t,e,a){"use strict";function n(t){for(var e=t.length;--e>=0;)t[e]=0}function r(t,e,a,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function i(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function s(t){return t<256?it[t]:it[256+(t>>>7)]}function h(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function o(t,e,a){t.bi_valid>Q-a?(t.bi_buf|=e<<t.bi_valid&65535,h(t,t.bi_buf),t.bi_buf=e>>Q-t.bi_valid,t.bi_valid+=a-Q):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)}function l(t,e,a){o(t,a[2*e],a[2*e+1])}function _(t,e){var a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1}function d(t){16===t.bi_valid?(h(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function u(t,e){var a,n,r,i,s,h,o=e.dyn_tree,l=e.max_code,_=e.stat_desc.static_tree,d=e.stat_desc.has_stree,u=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,c=e.stat_desc.max_length,p=0;for(i=0;i<=J;i++)t.bl_count[i]=0;for(o[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<G;a++)n=t.heap[a],i=o[2*o[2*n+1]+1]+1,i>c&&(i=c,p++),o[2*n+1]=i,n>l||(t.bl_count[i]++,s=0,n>=f&&(s=u[n-f]),h=o[2*n],t.opt_len+=h*(i+s),d&&(t.static_len+=h*(_[2*n+1]+s)));if(0!==p){do{for(i=c-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[c]--,p-=2}while(p>0);for(i=c;0!==i;i--)for(n=t.bl_count[i];0!==n;)(r=t.heap[--a])>l||(o[2*r+1]!==i&&(t.opt_len+=(i-o[2*r+1])*o[2*r],o[2*r+1]=i),n--)}}function f(t,e,a){var n,r,i=new Array(J+1),s=0;for(n=1;n<=J;n++)i[n]=s=s+a[n-1]<<1;for(r=0;r<=e;r++){var h=t[2*r+1];0!==h&&(t[2*r]=_(i[h]++,h))}}function c(){var t,e,a,n,i,s=new Array(J+1);for(a=0,n=0;n<R-1;n++)for(ht[n]=a,t=0;t<1<<$[n];t++)st[a++]=n;for(st[a-1]=n,i=0,n=0;n<16;n++)for(ot[n]=i,t=0;t<1<<tt[n];t++)it[i++]=n;for(i>>=7;n<K;n++)for(ot[n]=i<<7,t=0;t<1<<tt[n]-7;t++)it[256+i++]=n;for(e=0;e<=J;e++)s[e]=0;for(t=0;t<=143;)nt[2*t+1]=8,t++,s[8]++;for(;t<=255;)nt[2*t+1]=9,t++,s[9]++;for(;t<=279;)nt[2*t+1]=7,t++,s[7]++;for(;t<=287;)nt[2*t+1]=8,t++,s[8]++;for(f(nt,F+1,s),t=0;t<K;t++)rt[2*t+1]=5,rt[2*t]=_(t,5);lt=new r(nt,$,H+1,F,J),_t=new r(rt,tt,0,K,J),dt=new r(new Array(0),et,0,P,V)}function p(t){var e;for(e=0;e<F;e++)t.dyn_ltree[2*e]=0;for(e=0;e<K;e++)t.dyn_dtree[2*e]=0;for(e=0;e<P;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*W]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function g(t){t.bi_valid>8?h(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function m(t,e,a,n){g(t),n&&(h(t,a),h(t,~a)),D.arraySet(t.pending_buf,t.window,e,a,t.pending),t.pending+=a}function b(t,e,a,n){var r=2*e,i=2*a;return t[r]<t[i]||t[r]===t[i]&&n[e]<=n[a]}function v(t,e,a){for(var n=t.heap[a],r=a<<1;r<=t.heap_len&&(r<t.heap_len&&b(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!b(e,n,t.heap[r],t.depth));)t.heap[a]=t.heap[r],a=r,r<<=1;t.heap[a]=n}function w(t,e,a){var n,r,i,h,_=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*_]<<8|t.pending_buf[t.d_buf+2*_+1],r=t.pending_buf[t.l_buf+_],_++,0===n?l(t,r,e):(i=st[r],l(t,i+H+1,e),h=$[i],0!==h&&(r-=ht[i],o(t,r,h)),n--,i=s(n),l(t,i,a),0!==(h=tt[i])&&(n-=ot[i],o(t,n,h)))}while(_<t.last_lit);l(t,W,e)}function y(t,e){var a,n,r,i=e.dyn_tree,s=e.stat_desc.static_tree,h=e.stat_desc.has_stree,o=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=G,a=0;a<o;a++)0!==i[2*a]?(t.heap[++t.heap_len]=l=a,t.depth[a]=0):i[2*a+1]=0;for(;t.heap_len<2;)r=t.heap[++t.heap_len]=l<2?++l:0,i[2*r]=1,t.depth[r]=0,t.opt_len--,h&&(t.static_len-=s[2*r+1]);for(e.max_code=l,a=t.heap_len>>1;a>=1;a--)v(t,i,a);r=o;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],v(t,i,1),n=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=n,i[2*r]=i[2*a]+i[2*n],t.depth[r]=(t.depth[a]>=t.depth[n]?t.depth[a]:t.depth[n])+1,i[2*a+1]=i[2*n+1]=r,t.heap[1]=r++,v(t,i,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],u(t,e),f(i,l,t.bl_count)}function k(t,e,a){var n,r,i=-1,s=e[1],h=0,o=7,l=4;for(0===s&&(o=138,l=3),e[2*(a+1)+1]=65535,n=0;n<=a;n++)r=s,s=e[2*(n+1)+1],++h<o&&r===s||(h<l?t.bl_tree[2*r]+=h:0!==r?(r!==i&&t.bl_tree[2*r]++,t.bl_tree[2*X]++):h<=10?t.bl_tree[2*Y]++:t.bl_tree[2*Z]++,h=0,i=r,0===s?(o=138,l=3):r===s?(o=6,l=3):(o=7,l=4))}function z(t,e,a){var n,r,i=-1,s=e[1],h=0,_=7,d=4;for(0===s&&(_=138,d=3),n=0;n<=a;n++)if(r=s,s=e[2*(n+1)+1],!(++h<_&&r===s)){if(h<d)do{l(t,r,t.bl_tree)}while(0!=--h);else 0!==r?(r!==i&&(l(t,r,t.bl_tree),h--),l(t,X,t.bl_tree),o(t,h-3,2)):h<=10?(l(t,Y,t.bl_tree),o(t,h-3,3)):(l(t,Z,t.bl_tree),o(t,h-11,7));h=0,i=r,0===s?(_=138,d=3):r===s?(_=6,d=3):(_=7,d=4)}}function x(t){var e;for(k(t,t.dyn_ltree,t.l_desc.max_code),k(t,t.dyn_dtree,t.d_desc.max_code),y(t,t.bl_desc),e=P-1;e>=3&&0===t.bl_tree[2*at[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function A(t,e,a,n){var r;for(o(t,e-257,5),o(t,a-1,5),o(t,n-4,4),r=0;r<n;r++)o(t,t.bl_tree[2*at[r]+1],3);z(t,t.dyn_ltree,e-1),z(t,t.dyn_dtree,a-1)}function B(t){var e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return I;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return O;for(e=32;e<H;e++)if(0!==t.dyn_ltree[2*e])return O;return I}function C(t){ut||(c(),ut=!0),t.l_desc=new i(t.dyn_ltree,lt),t.d_desc=new i(t.dyn_dtree,_t),t.bl_desc=new i(t.bl_tree,dt),t.bi_buf=0,t.bi_valid=0,p(t)}function S(t,e,a,n){o(t,(T<<1)+(n?1:0),3),m(t,e,a,!0)}function E(t){o(t,L<<1,3),l(t,W,nt),d(t)}function j(t,e,a,n){var r,i,s=0;t.level>0?(t.strm.data_type===q&&(t.strm.data_type=B(t)),y(t,t.l_desc),y(t,t.d_desc),s=x(t),r=t.opt_len+3+7>>>3,(i=t.static_len+3+7>>>3)<=r&&(r=i)):r=i=a+5,a+4<=r&&-1!==e?S(t,e,a,n):t.strategy===M||i===r?(o(t,(L<<1)+(n?1:0),3),w(t,nt,rt)):(o(t,(N<<1)+(n?1:0),3),A(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),w(t,t.dyn_ltree,t.dyn_dtree)),p(t),n&&g(t)}function U(t,e,a){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&a,t.last_lit++,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(st[a]+H+1)]++,t.dyn_dtree[2*s(e)]++),t.last_lit===t.lit_bufsize-1}var D=t("../utils/common"),M=4,I=0,O=1,q=2,T=0,L=1,N=2,R=29,H=256,F=H+1+R,K=30,P=19,G=2*F+1,J=15,Q=16,V=7,W=256,X=16,Y=17,Z=18,$=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],tt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],et=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],at=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],nt=new Array(2*(F+2));n(nt);var rt=new Array(2*K);n(rt);var it=new Array(512);n(it);var st=new Array(256);n(st);var ht=new Array(R);n(ht);var ot=new Array(K);n(ot);var lt,_t,dt,ut=!1;a._tr_init=C,a._tr_stored_block=S,a._tr_flush_block=j,a._tr_tally=U,a._tr_align=E},{"../utils/common":5}],12:[function(t,e,a){"use strict";function n(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=n},{}],13:[function(t,e,a){e.exports=function(t){for(var e=[],a=0;a<t.length;a++){var n=t.charCodeAt(a);if(n>=55296&&n<=56319&&a+1<t.length){var r=t.charCodeAt(a+1);if(r>=56320&&r<=57343){var i=1024*(n-55296)+r-56320+65536;e.push(240+Math.floor(i/64/64/64),128+Math.floor(i/64/64)%64,128+Math.floor(i/64)%64,128+i%64),a+=1;continue}}n>=2048?e.push(224+Math.floor(n/64/64),128+Math.floor(n/64)%64,128+n%64):n>=128?e.push(192+Math.floor(n/64),128+n%64):e.push(n)}return e}},{}]},{},[1])(1)});

// --
/*!
 * tui-editor
 * @version 1.2.6
 * @author NHN Ent. FE Development Lab <dl_javascript@nhnent.com> (https://nhnent.github.io/tui.editor/)
 * @license MIT
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require1("jquery"),require1("tui-code-snippet"),require1("codemirror"),require1("to-mark"),require1("tui-chart"),require1("squire-rte"),require1("markdown-it"),require1("highlight.js"),require1("tui-color-picker"),require1("plantuml-encoder")):"function"==typeof define1&&define1.amd?define1(["jquery","tui-code-snippet","codemirror","to-mark","tui-chart","squire-rte","markdown-it","highlight.js","tui-color-picker","plantuml-encoder"],t):"object"==typeof exports?exports.Editor=t(require1("jquery"),require1("tui-code-snippet"),require1("codemirror"),require1("to-mark"),require1("tui-chart"),require1("squire-rte"),require1("markdown-it"),require1("highlight.js"),require1("tui-color-picker"),require1("plantuml-encoder")):(e.tui=e.tui||{},e.tui.Editor=t(e.$,e.tui&&e.tui.util,e.CodeMirror,e.toMark,e.tui&&e.tui.chart,e.Squire,e.markdownit,e.hljs,e.tui&&e.tui.colorPicker,e.plantumlEncoder))}("undefined"!=typeof self?self:this,function(e,t,n,r,i,o,a,l,s,u){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="dist/",t(t.s=55)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),l=r(a),s=n(1),u=r(s),c=n(82),d=r(c),f=n(23),h=f.isMac?1:0,p=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this._command=new u.default.Map,this._mdCommand=new u.default.Map,this._wwCommand=new u.default.Map,this._options=l.default.extend({useCommandShortcut:!0},n),this.base=t,this.keyMapCommand={},this._initEvent()}return o(e,[{key:"_addCommandBefore",value:function(e){var t={command:e};return this.base.eventManager.emit("addCommandBefore",t),t.command||e}},{key:"addCommand",value:function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];r.length&&(t=e.command.apply(e,[t].concat(r))),t=this._addCommandBefore(t);var o=t.getName(),a=void 0;return t.isMDType()?a=this._mdCommand:t.isWWType()?a=this._wwCommand:t.isGlobalType()&&(a=this._command),a.set(o,t),t.keyMap&&(this.keyMapCommand[t.keyMap[h]]=o),t}},{key:"_initEvent",value:function(){var e=this;this.base.eventManager.listen("command",function(){e.exec.apply(e,arguments)}),this.base.eventManager.listen("keyMap",function(t){if(e._options.useCommandShortcut){var n=e.keyMapCommand[t.keyMap];n&&(t.data.preventDefault(),e.exec(n))}})}},{key:"exec",value:function(e){var t=void 0,n=void 0,r=this.base;if(t=this._command.get(e),t||(this.base.isMarkdownMode()?(t=this._mdCommand.get(e),r=this.base.mdEditor):(t=this._wwCommand.get(e),r=this.base.wwEditor)),t){for(var i,o=arguments.length,a=Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];a.unshift(r),n=(i=t).exec.apply(i,a)}return n}}]),e}();p.command=function(e,t){var n=d.default.factory(e,t.name,t.keyMap);return u.default.extend(n,t),n},t.default=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.I18n=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=function(e){return e&&e.__esModule?e:{default:e}}(o),l=void 0,s="en_US",u=function(){function e(){r(this,e),this._code=s,this._langs=new a.default.Map}return i(e,[{key:"setCode",value:function(e){this._code=e}},{key:"setLanguage",value:function(e,t){var n=this;e=[].concat(e),e.forEach(function(e){if(n._langs.has(e)){var r=n._langs.get(e);n._langs.set(e,a.default.extend(r,t))}else n._langs.set(e,t)})}},{key:"get",value:function(e,t){t||(t=this._code);var n=this._langs.get(t);n||(n=this._langs.get(s));var r=n[e];if(!r)throw new Error('There is no text key "'+e+'" in '+t);return r}}],[{key:"getSharedInstance",value:function(){return l||(l=new e),l}}]),e}();t.I18n=u,t.default=new u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(1),l=r(a),s=/\u200B/g,u=function(e){return e&&e.nodeType===Node.TEXT_NODE},c=function(e){return e&&e.nodeType===Node.ELEMENT_NODE},d=function(e){return c(e)?e.tagName:"TEXT"},f=function(e){var t=void 0;return c(e)?t=e.textContent.replace(s,"").length:u(e)&&(t=e.nodeValue.replace(s,"").length),t},h=function(e){var t=void 0;return c(e)?t=e.childNodes.length:u(e)&&(t=e.nodeValue.replace(s,"").length),t},p=function(e){var t=e.parentNode.childNodes,n=void 0,r=void 0,i=void 0;for(n=0,r=t.length;n<r;n+=1)if(t[n]===e){i=n;break}return i},g=function(e,t){var n=void 0;return u(e)?n=e:e.childNodes.length&&t>=0&&(n=e.childNodes[t]),n},v=function(e,t,n){for(var r=e+"Sibling",i=void 0,o=void 0;t&&!t[r]&&(i=d(t.parentNode))!==n&&"BODY"!==i;)t=t.parentNode;return t[r]&&(o=t[r]),o},m=function(e,t,n){return t>0?g(e,t-1):v("previous",e,n)},y=function(e,t,n){for(var r=void 0;e.parentNode&&!t(e.parentNode)&&(e=e.parentNode,!n||!n(e.parentNode)););return t(e.parentNode)&&(r=e),r},_=function(e,t){return l.default.isString(t)?y(e,function(e){return t===d(e)}):y(e,function(e){return t===e})},b=function(e,t,n){var r=e+"Sibling",i=void 0;return t=_(t,n),t&&t[r]&&(i=t[r]),i},w=function(e,t){return b("previous",e,t)},k=function(e,t){return b("next",e,t)},E=function(e){return _(e,"BODY")},C=function(e){for(e=e.previousSibling||e.parentNode;!u(e)&&"BODY"!==d(e);)if(e.previousSibling)for(e=e.previousSibling;e.lastChild;)e=e.lastChild;else e=e.parentNode;return"BODY"===d(e)&&(e=null),e},T=function(e,t){for(var n=document.createTreeWalker(e,4,null,!1),r=e===t;!r&&n.nextNode();)r=n.currentNode===t;return r},M=function(e,t,n){var r=[],i="",o=0,a=void 0;if(!t.length)return r;for(var s=t.shift(),u=document.createTreeWalker(e,4,null,!1);u.nextNode();){for(i=u.currentNode.nodeValue||"",n&&(i=n(i)),a=o+i.length;a>=s;){if(r.push({container:u.currentNode,offsetInContainer:s-o,offset:s}),!t.length)return r;s=t.shift()}o=a}do{r.push({container:u.currentNode,offsetInContainer:i.length,offset:s}),s=t.shift()}while(!l.default.isUndefined(s));return r},S=function(e){var t={};t.tagName=e.nodeName,e.id&&(t.id=e.id);var n=e.className.trim();return n&&(t.className=n),t},O=function(e,t){for(var n=[];e&&e!==t;)c(e)&&n.unshift(S(e)),e=e.parentNode;return n},x=function(e,t){var n=!0;return l.default.isUndefined(t)||"next"!==t&&"previous"!==t?null:("previous"===t&&(n=!1),n?e.nextElementSibling:e.previousElementSibling)},I=function(e,t,n){var r=!0,i=null,a=void 0,s=void 0,u=void 0,c=void 0,f=void 0,h=void 0;return l.default.isUndefined(t)||"next"!==t&&"previous"!==t?null:("previous"===t&&(r=!1),e?(a=(0,o.default)(e),r?(u=a.parent().next(),c=a.parents("thead"),f=c[0]&&c.next(),h=f&&"TBODY"===d(f[0]),s=0):(u=a.parent().prev(),c=a.parents("tbody"),f=c[0]&&c.prev(),h=f&&"THEAD"===d(f[0]),s=e.parentNode.childNodes.length-1),!l.default.isUndefined(n)&&n||(s=p(e)),u[0]?i=u.children("td,th")[s]:c[0]&&h&&(i=f.find("td,th")[s]),i):null)};t.default={getNodeName:d,isTextNode:u,isElemNode:c,getTextLength:f,getOffsetLength:h,getPrevOffsetNodeUntil:m,getNodeOffsetOfParent:p,getChildNodeByOffset:g,containsNode:T,getTopPrevNodeUnder:w,getTopNextNodeUnder:k,getParentUntilBy:y,getParentUntil:_,getTopBlockNode:E,getPrevTextNode:C,findOffsetNode:M,getPath:O,getNodeInfo:S,getTableCellByDirection:x,getSiblingRowCellByDirection:I}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=void 0;try{r=n(29)}catch(e){}if(!r)try{r=n(!function(){var e=new Error('Cannot find module "../viewer"');throw e.code="MODULE_NOT_FOUND",e}())}catch(e){}t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){var r=(0,b.default)(e),i=r.attr("colspan"),o=r.attr("rowspan"),a=e.nodeName;if("TH"!==a&&"TD"!==a)return null;var l={nodeName:e.nodeName,colspan:i?parseInt(i,10):1,rowspan:o?parseInt(o,10):1,content:r.html(),elementIndex:{rowIndex:t,colIndex:n}};return"TH"===e.nodeName&&e.align&&(l.align=e.align),l}function o(e,t,n,r){var i=t.colspan,o=t.rowspan,a=t.nodeName,l=i>1,s=o>1;if(l||s){var u=n+o,c=r+i;k.default.range(n,u).forEach(function(t){e[t]=e[t]||[],k.default.range(r,c).forEach(function(i){var o={nodeName:a};t===n&&i===r||(l&&(o.colMergeWith=r),s&&(o.rowMergeWith=n),e[t][i]=o)})})}}function a(e){var t=[];return e.find("tr").each(function(e,n){var r=0;t[e]=t[e]||[],(0,b.default)(n).children().each(function(n,a){var l=i(a,e,n);if(l){for(var s=n+r;t[e][s];)s+=1,r+=1;t[e][s]=l,o(t,l,e,s)}})}),e[0].className&&(t.className=e[0].className),t}function l(e){var t=[];return e.forEach(function(e,n){var r=[];e.forEach(function(e,t){k.default.isUndefined(e.colMergeWith)&&k.default.isUndefined(e.rowMergeWith)&&r.push({rowIndex:n,colIndex:t})}),t.push(r)}),t}function s(e){var t=e[0];return t.map(function(e){return k.default.isExisty(e.colMergeWith)?t[e.colMergeWith].align:e.align})}function u(e,t){var n=s(e),r=t.map(function(t){return t.map(function(t){var r=t.rowIndex,i=t.colIndex;return k.default.extend({align:n[i]},e[r][i])})});return e.className&&(r.className=e.className),r}function c(e,t,n){return{nodeName:n||"TD",colspan:1,rowspan:1,content:E,elementIndex:{rowIndex:e,colIndex:t}}}function d(e){var t=e.closest("tr"),n=t.prevAll().length;return"TBODY"===t.parent()[0].nodeName&&(n+=1),n}function f(e){return e.closest("td, th").prevAll().length}function h(e,t){var n=d(t),r=f(t);return e[n][r]}function p(e,t,n){var r=e[t][n],i=t;return r.rowspan>1&&(i+=r.rowspan-1),i}function g(e,t,n){var r=e[t][n],i=n;return r.colspan>1&&(i+=r.colspan-1),i}function v(e,t,n){var r=e[t][n];return t=k.default.isExisty(r.rowMergeWith)?r.rowMergeWith:t,n=k.default.isExisty(r.colMergeWith)?r.colMergeWith:n,e[t][n].elementIndex}function m(e,t){e.forEach(function(e,n){var r=e.length,i=e[0].nodeName;k.default.range(r,t).forEach(function(t){e.push(c(n,t,i))})})}function y(e){var t=e[0],n=t.length,r=!0;if(!n&&e[1])k.default.range(0,e[1].length).forEach(function(e){t.push(c(0,e,"TH"))});else if("TH"!==e[0][0].nodeName){var i,o=k.default.range(0,n).map(function(e){return c(0,e,"TH")});(i=[]).concat.apply(i,e).forEach(function(e){e.elementIndex&&(e.elementIndex.rowIndex+=1)}),e.unshift(o)}else if(1===e.length){var a=k.default.range(0,n).map(function(e){return c(1,e,"TD")});e.push(a)}else r=!1;return r}Object.defineProperty(t,"__esModule",{value:!0}),t.createTableData=a,t.createCellIndexData=l;var _=n(0),b=r(_),w=n(1),k=r(w),E=k.default.browser.msie?"":"<br>";t.default={createTableData:a,createCellIndexData:l,createRenderData:u,findElementRowIndex:d,findElementColIndex:f,findCellIndex:h,createBasicCell:c,findRowMergedLastIndex:p,findColMergedLastIndex:g,findElementIndex:v,stuffCellsIntoIncompleteRow:m,addTbodyOrTheadIfNeed:y}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(14),h=r(f),p="tui-popup-",g='<div class="'+p+'header">\n        <span class="'+p+'title"></span>\n        <div class="'+p+'header-buttons">\n            <button type="button" class="'+p+'close-button"></button>\n        </div>\n    </div>\n    <div class="'+p+'body"></div>',v='<div class="'+p+'wrapper">\n        <div class="'+p+'header">\n            <span class="'+p+'title"></span>\n            <div class="'+p+'header-buttons">\n                <button type="button" class="'+p+'close-button"></button>\n            </div>\n        </div>\n        <div class="'+p+'body"></div>\n    </div>',m=function(e){function t(e){i(this,t),e=d.default.extend({header:!0,$target:(0,u.default)("body"),textContent:""},e);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{tagName:"div",className:e.modal?p+"modal-background":p+"wrapper",rootElement:e.$el}));return n._initInstance(e),n._initDOM(e),n._initDOMEvent(e),n._initEditorEvent(e),n}return a(t,e),l(t,[{key:"_initInstance",value:function(e){this._$target=e.$target,e.$el&&(this.$el=e.$el,this._isExternalHtmlUse=!0),e.content?this.$content=(0,u.default)(e.content):this.$content=e.textContent,this.options=e}},{key:"_initDOM",value:function(){this._initLayout(),this._isExternalHtmlUse||(d.default.isExisty(this.options.title)&&this.setTitle(this.options.title),this.setContent(this.$content));var e=this.options.headerButtons;if(e){this.$el.find("."+p+"close-button").remove();var t=this.$el.find("."+p+"header-buttons");t.empty(),t.append((0,u.default)(e))}this.options.css&&this.$el.css(this.options.css)}},{key:"_initDOMEvent",value:function(){var e=this,t=this.options,n=t.openerCssQuery,r=t.closerCssQuery;n&&(0,u.default)(n).on("click."+this._id,function(){return e.show()}),r&&(0,u.default)(r).on("click."+this._id,function(){return e.hide()}),this.on("click ."+p+"close-button",function(){return e.hide()})}},{key:"_initEditorEvent",value:function(){}},{key:"_initLayout",value:function(){var e=this.options;if(this._isExternalHtmlUse)this.hide(),this._$target.append(this.$el);else{var t=e.modal?v:g;this.$el.html(t),this.$el.addClass(e.className),this.hide(),this._$target.append(this.$el),this.$body=this.$el.find("."+p+"body"),e.header||this.$el.find("."+p+"header").remove()}}},{key:"setContent",value:function(e){this.$body.empty(),this.$body.append(e)}},{key:"setTitle",value:function(e){var t=this.$el.find("."+p+"title");t.empty(),t.append(e)}},{key:"getTitleElement",value:function(){return this.$el.find("."+p+"title").get(0)}},{key:"hide",value:function(){this.$el.css("display","none"),this._isShow=!1,this.trigger("hidden",this)}},{key:"show",value:function(){this.$el.css("display","block"),this._isShow=!0,this.trigger("shown",this)}},{key:"isShow",value:function(){return this._isShow}},{key:"remove",value:function(){var e=this.options,t=e.openerCssQuery,n=e.closerCssQuery;this.trigger("remove",this),this.off(),t&&(0,u.default)(t).off("."+this._id),n&&(0,u.default)(n).off("."+this._id),this.$el.remove()}},{key:"setFitToWindow",value:function(e){this.$el.toggleClass("fit-window",e)}},{key:"isFitToWindow",value:function(){return this.$el.hasClass("fit-window")}},{key:"toggleFitToWindow",value:function(){var e=!this.isFitToWindow();return this.setFitToWindow(e),e}}]),t}(h.default);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.colspan>1?' colspan="'+e.colspan+'"':"";return t+=e.rowspan>1?' rowspan="'+e.rowspan+'"':"",t+=e.align?' align="'+e.align+'"':"","<"+e.nodeName+t+">"+e.content+"</"+e.nodeName+">"}function o(e,t){var n="";return e.length&&(n=e.map(function(e){return"<tr>"+e.map(i).join("")+"</tr>"}).join(""),n="<"+t+">"+n+"</"+t+">"),n}function a(e){var t=[e[0]],n=e.slice(1),r=o(t,"THEAD"),i=o(n,"TBODY");return"<table"+(e.className?' class="'+e.className+'"':"")+">"+(r+i)+"</renderData>"}function l(e,t){var n=f.default.createCellIndexData(t),r=f.default.createRenderData(t,n),i=(0,c.default)(a(r));return e.replaceWith(i),i}function s(e,t,n){t.selectNodeContents(n),t.collapse(!0),e.setSelection(t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),c=r(u),d=n(6),f=r(d);t.default={createTableHtml:a,replaceTable:l,focusToCell:s}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){var r=g.default.createCellIndexData(e),i=g.default.findCellIndex(r,t),o=g.default.findCellIndex(r,n),a=void 0,l=void 0,s=void 0,u=void 0;return i.rowIndex>o.rowIndex?(a=o.rowIndex,l=i.rowIndex):(a=i.rowIndex,l=o.rowIndex),i.colIndex>o.colIndex?(s=o.colIndex,u=i.colIndex):(s=i.colIndex,u=o.colIndex),{start:{rowIndex:a,colIndex:s},end:{rowIndex:l,colIndex:u}}}function o(e,t,n){var r=t[n].rowIndex,i=e[r];h.default.range(t.start.colIndex,t.end.colIndex+1).forEach(function(n){var o=i[n],a=o.rowMergeWith,l=-1;h.default.isExisty(a)?(a<t.start.rowIndex&&(t.start.rowIndex=a),l=a+e[a][n].rowspan-1):o.rowspan>1&&(l=r+o.rowspan-1),l>t.end.rowIndex&&(t.end.rowIndex=l)})}function a(e,t,n,r){var i=e[n],o=i[r],a=o.colMergeWith,l=-1;h.default.isExisty(a)?(a<t.start.colIndex&&(t.start.colIndex=a),l=a+i[a].colspan-1):o.colspan>1&&(l=r+o.colspan-1),l>t.end.colIndex&&(t.end.colIndex=l)}function l(e,t){for(var n="";n!==JSON.stringify(t);)n=JSON.stringify(t),o(e,t,"start"),o(e,t,"end"),h.default.range(t.start.rowIndex,t.end.rowIndex+1).forEach(function(n){a(e,t,n,t.start.colIndex),a(e,t,n,t.end.colIndex)});return t}function s(e,t,n){return l(e,i(e,t,n))}function u(e,t,n){var r=g.default.createCellIndexData(e),i={};if(t.length){var o=g.default.findCellIndex(r,t.first()),a=h.default.extend({},o);t.each(function(t,n){var i=g.default.findCellIndex(r,(0,d.default)(n)),o=e[i.rowIndex][i.colIndex],l=i.rowIndex+o.rowspan-1,s=i.colIndex+o.colspan-1;a.rowIndex=Math.max(a.rowIndex,l),a.colIndex=Math.max(a.colIndex,s)}),i.start=o,i.end=a}else{var l=g.default.findCellIndex(r,n);i.start=l,i.end=h.default.extend({},l)}return i}Object.defineProperty(t,"__esModule",{value:!0});var c=n(0),d=r(c),f=n(1),h=r(f),p=n(6),g=r(p);t.default={findSelectionRange:s,getTableSelectionRange:u}},function(e,t){e.exports=n},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);u.call(this,e),c.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||a(o,this)}function o(e){e.end()}var a=n(19),l=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=r;var s=n(16);s.inherits=n(13);var u=n(48),c=n(28);s.inherits(r,u);for(var d=l(c.prototype),f=0;f<d.length;f++){var h=d[f];r.prototype[h]||(r.prototype[h]=c.prototype[h])}Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),r.prototype._destroy=function(e,t){this.push(null),this.end(),a(t,e)}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){return d+=1}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),s=r(l),u=n(1),c=r(u),d=-1,f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),t=c.default.extend({tagName:"div"},t),this.tagName=t.tagName,this.className=t.className,this._id=o(),this._setRootElement(t.rootElement)}return a(e,[{key:"on",value:function(e,t){var n=this;c.default.isObject(e)?c.default.forEach(e,function(e,t){n._addEvent(t,e)}):this._addEvent(e,t)}},{key:"_addEvent",value:function(e,t){var n=this._parseEventType(e),r=n.event,i=n.selector;i?this.$el.on(r,i,t):this.$el.on(r,t)}},{key:"off",value:function(e,t){if(e){var n=this._parseEventType(e),r=n.event,i=n.selector;i?this.$el.off(r,i,t):this.$el.off(r,t)}else this.$el.off()}},{key:"_parseEventType",value:function(e){var t=e.split(" ");return{event:t.shift(),selector:t.join(" ")}}},{key:"_setRootElement",value:function(e){var t=this.tagName,n=this.className;e||(n=n||"uic"+this._id,e=(0,s.default)("<"+t+' class="'+n+'"/>')),this.$el=e}},{key:"trigger",value:function(){var e;(e=this.$el).trigger.apply(e,arguments)}},{key:"_getEventNameWithNamespace",value:function(e){var t=e.split(" ");return t[0]+=".uicEvent"+this._id,t.join(" ")}},{key:"remove",value:function(){this.$el&&this.$el.remove()}},{key:"destroy",value:function(){var e=this;this.remove(),c.default.forEachOwnProperties(this,function(t,n){e[n]=null})}}]),e}();t.default=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),i=new Uint8Array(r),o=0;o<t.length;o+=1)i[o]=t.charCodeAt(o);return new Blob([r],{type:n})}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),l=function(e){return e&&e.__esModule?e:{default:e}}(a),s=/^(https?:\/\/)?([\da-z.-]+)\.([a-z.]{2,6})(\/([^\s]*))?$/g,u=function(){function e(t){r(this,e),this.eventManager=t,this._lastState=null,this._initEvent(),this._initDefaultImageImporter()}return o(e,[{key:"_initEvent",value:function(){var e=this;this.eventManager.listen("stateChange",function(t){e._lastState=t}),this.eventManager.listen("drop",function(t){var n=t.data.dataTransfer&&t.data.dataTransfer.files;e._processBlobItems(n,t.data)}),this.eventManager.listen("willPaste",function(t){var n=t.data.fragment,r=n.querySelectorAll("*");if(1===r.length&&"IMG"===r[0].tagName&&/^data:image/.test(r[0].src)){t.data.preventDefault();var o=i(r[0].src);e._emitAddImageBlobHook(o,"paste")}}),this.eventManager.listen("paste",function(t){e._processClipboard(t.data)}),this.eventManager.listen("pasteBefore",function(t){e._decodeURL(t)})}},{key:"_initDefaultImageImporter",value:function(){this.eventManager.listen("addImageBlobHook",function(e,t){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsDataURL(e)})}},{key:"_emitAddImageBlobHook",value:function(e,t){var n=this;this.eventManager.emit("addImageBlobHook",e,function(t,r){n.eventManager.emit("command","AddImage",{imageUrl:t,altText:r||e.name||"image"})},t)}},{key:"_decodeURL",value:function(t){var n=e.decodeURIGraceful,r=e.encodeMarkdownCharacters;if("markdown"===t.source&&t.data.text){var i=t.data.text,o=i[0];1===i.length&&o.match(s)&&(o=n(o),o=r(o),t.data.update(null,null,[o]))}else if("wysiwyg"===t.source){var a=t.$clipboardContainer.get(0),l=a.childNodes[0],u=l.innerText;1===a.childNodes.length&&"A"===l.tagName&&u.match(s)&&(l.innerText=n(u),l.href=r(l.href))}}},{key:"_processClipboard",value:function(e){var t=e.clipboardData||window.clipboardData,n=t&&t.items,r=t.types;n&&r&&1===r.length&&-1!==l.default.inArray("Files",[].slice.call(r))&&this._processBlobItems(n,e)}},{key:"_processBlobItems",value:function(e,t){var n=this;e&&l.default.forEachArray(e,function(e){if(-1!==e.type.indexOf("image")){t.preventDefault(),t.stopPropagation(),t.codemirrorIgnore=!0;var r=e.name?e:e.getAsFile();return n._emitAddImageBlobHook(r,t.type),!1}return!0})}},{key:"_isInBlockFormat",value:function(){var e=this._lastState;return e&&(e.codeBlock||e.list||e.task||e.code)}}],[{key:"decodeURIGraceful",value:function(e){var t=e.split(" "),n=[],r=void 0;return l.default.forEachArray(t,function(e){try{r=decodeURIComponent(e),r=r.replace(/ /g,"%20")}catch(t){r=e}return n.push(r)}),n.join(" ")}},{key:"encodeMarkdownCharacters",value:function(e){return e.replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\[/g,"%5B").replace(/\]/g,"%5D").replace(/</g,"%3C").replace(/>/g,"%3E")}},{key:"escapeMarkdownCharacters",value:function(e){return e.replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/</g,"\\<").replace(/>/g,"\\>")}}]),e}();t.default=u},function(e,t,n){(function(e){function n(e){return Array.isArray?Array.isArray(e):"[object Array]"===v(e)}function r(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function a(e){return"number"==typeof e}function l(e){return"string"==typeof e}function s(e){return"symbol"==typeof e}function u(e){return void 0===e}function c(e){return"[object RegExp]"===v(e)}function d(e){return"object"==typeof e&&null!==e}function f(e){return"[object Date]"===v(e)}function h(e){return"[object Error]"===v(e)||e instanceof Error}function p(e){return"function"==typeof e}function g(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function v(e){return Object.prototype.toString.call(e)}t.isArray=n,t.isBoolean=r,t.isNull=i,t.isNullOrUndefined=o,t.isNumber=a,t.isString=l,t.isSymbol=s,t.isUndefined=u,t.isRegExp=c,t.isObject=d,t.isDate=f,t.isError=h,t.isFunction=p,t.isPrimitive=g,t.isBuffer=e.isBuffer}).call(t,n(51).Buffer)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),c=n(14),d=r(c),f=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:t.name};i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,u.default.extend({className:t.className},e)));return n._name=e.name,n}return a(t,e),l(t,[{key:"getName",value:function(){return this._name}}]),t}(d.default);Object.defineProperty(f,"name",{enumerable:!0,writable:!0,value:"item"}),Object.defineProperty(f,"className",{enumerable:!0,writable:!0,value:"tui-toolbar-item"}),t.default=f},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){g&&h&&(g=!1,h.length?p=h.concat(p):v=-1,p.length&&l())}function l(){if(!g){var e=i(a);g=!0;for(var t=p.length;t;){for(h=p,p=[];++v<t;)h&&h[v].run();v=-1,t=p.length}h=null,g=!1,o(e)}}function s(e,t){this.fun=e,this.array=t}function u(){}var c,d,f=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var h,p=[],g=!1,v=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new s(e,t)),1!==p.length||g||i(l)},s.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,n){"use strict";(function(t){function n(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,l=arguments.length;switch(l){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,i)});default:for(o=new Array(l-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports=n:e.exports=t.nextTick}).call(t,n(18))},function(e,t,n){function r(e,t){for(var n in e)t[n]=e[n]}function i(e,t,n){return a(e,t,n)}var o=n(51),a=o.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=o:(r(o,t),t.Buffer=i),r(a,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=a(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(17),u=r(s),c=n(30),d=r(c),f=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tagName:"button",name:t.name};i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:e.name,tagName:"button",className:e.className+" "+t.className,rootElement:e.$el}));return n._setOptions(e),n._render(),n.on("click",n._onClick.bind(n)),e.tooltip&&(n.on("mouseover",n._onOver.bind(n)),n.on("mouseout",n._onOut.bind(n))),n}return a(t,e),l(t,[{key:"setTooltip",value:function(e){this._tooltip=e}},{key:"_setOptions",value:function(e){this._command=e.command,this._event=e.event,this._text=e.text,this._tooltip=e.tooltip,this._style=e.style,this._state=e.state}},{key:"_render",value:function(){this.$el.text(this._text),this.$el.attr("type","button"),this._style&&this.$el.attr("style",this._style)}},{key:"_onClick",value:function(){this.isEnabled()&&(this._command?this.trigger("command",this._command):this._event&&this.trigger("event",this._event),this.trigger("clicked"))}},{key:"_onOver",value:function(){this.isEnabled()&&d.default.show(this.$el,this._tooltip)}},{key:"_onOut",value:function(){d.default.hide()}},{key:"enable",value:function(){this.$el.attr("disabled",!1)}},{key:"disable",value:function(){this.$el.attr("disabled",!0)}},{key:"isEnabled",value:function(){return!this.$el.attr("disabled")}}]),t}(u.default);Object.defineProperty(f,"name",{enumerable:!0,writable:!0,value:"button"}),Object.defineProperty(f,"className",{enumerable:!0,writable:!0,value:"tui-toolbar-icons"}),t.default=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=["","","","CANCEL","","","HELP","","BACK_SPACE","TAB","","","CLEAR","ENTER","ENTER_SPECIAL","","","","","PAUSE","CAPS_LOCK","KANA","EISU","JUNJA","FINAL","HANJA","","ESCAPE","CONVERT","NONCONVERT","ACCEPT","MODECHANGE","SPACE","PAGE_UP","PAGE_DOWN","END","HOME","LEFT","UP","RIGHT","DOWN","SELECT","PRINT","EXECUTE","PRINTSCREEN","INSERT","DELETE","","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","AT","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","","","CONTEXT_MENU","","SLEEP","NUMPAD0","NUMPAD1","NUMPAD2","NUMPAD3","NUMPAD4","NUMPAD5","NUMPAD6","NUMPAD7","NUMPAD8","NUMPAD9","MULTIPLY","ADD","SEPARATOR","SUBTRACT","DECIMAL","DIVIDE","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","F13","F14","F15","F16","F17","F18","F19","F20","F21","F22","F23","F24","","","","","","","","","NUM_LOCK","SCROLL_LOCK","WIN_OEM_FJ_JISHO","WIN_OEM_FJ_MASSHOU","WIN_OEM_FJ_TOUROKU","WIN_OEM_FJ_LOYA","WIN_OEM_FJ_ROYA","","","","","","","","","","@","!",'"',"#","$","%","&","_","(",")","*","+","|","-","{","}","~","","","","","VOLUME_MUTE","VOLUME_DOWN","VOLUME_UP","","",";","=",",","-",".","/","`","","","","","","","","","","","","","","","","","","","","","","","","","","","[","\\","]","'","","META","ALTGR","","WIN_ICO_HELP","WIN_ICO_00","","WIN_ICO_CLEAR","","","WIN_OEM_RESET","WIN_OEM_JUMP","WIN_OEM_PA1","WIN_OEM_PA2","WIN_OEM_PA3","WIN_OEM_WSCTRL","WIN_OEM_CUSEL","WIN_OEM_ATTN","WIN_OEM_FINISH","WIN_OEM_COPY","WIN_OEM_AUTO","WIN_OEM_ENLW","WIN_OEM_BACKTAB","ATTN","CRSEL","EXSEL","EREOF","PLAY","ZOOM","","PA1","WIN_OEM_CLEAR",""],a=void 0,l=function(){function e(t){r(this,e),this._setSplitter(t)}return i(e,[{key:"_setSplitter",value:function(e){var t=e?e.splitter:"+";this._splitter=t}},{key:"convert",value:function(e){var t=[];e.shiftKey&&t.push("SHIFT"),e.ctrlKey&&t.push("CTRL"),e.metaKey&&t.push("META"),e.altKey&&t.push("ALT");var n=this._getKeyCodeChar(e.keyCode);return n&&t.push(n),t.join(this._splitter)}},{key:"_getKeyCodeChar",value:function(e){return o[e]}}],[{key:"getSharedInstance",value:function(){return a||(a=new e),a}},{key:"keyCode",value:function(e){return o.indexOf(e)}}]),e}();t.default=l},function(e,t,n){"use strict";function r(){if(!a){a=!0;var e=location,t=e.hostname;o.default.imagePing("https://www.google-analytics.com/collect",{v:1,t:"event",tid:"UA-115377265-9",cid:t,dp:t,dh:"editor"})}}var i=n(1),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=!1,l=/Mac/.test(navigator.platform);e.exports={sendHostName:r,isMac:l}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}Object.defineProperty(t,"__esModule",{value:!0}),t.CodeBlockManager=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(91),l=function(e){return e&&e.__esModule?e:{default:e}}(a),s=function(){function e(){r(this,e),this._replacers={}}return o(e,[{key:"setReplacer",value:function(e,t){this._replacers[e]=t}},{key:"getReplacer",value:function(e){return this._replacers[e]}},{key:"createCodeBlockHtml",value:function(e,t){var n=this.getReplacer(e);return n?n(t,e):l.default.getLanguage(e)?l.default.highlight(e,t).value:i(t,!1)}}],[{key:"getHighlightJSLanguages",value:function(){return l.default.listLanguages()}}]),e}();t.CodeBlockManager=s,t.default=new s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FIND_MD_OL_RX=/^[ \t]*[\d]+\. .*/,t.FIND_MD_UL_RX=/^[ \t]*[-*] .*/,t.FIND_MD_TASK_RX=/^[ \t]*([*-] |[\d]+\. )(\[[ xX]] ).*/,t.FIND_MD_UL_TASK_RX=/^[ \t]*[*-] (\[[ xX]] ).*/},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,l,s,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:l=Array.prototype.slice.call(arguments,1),n.apply(this,l)}else if(o(n))for(l=Array.prototype.slice.call(arguments,1),u=n.slice(),i=u.length,s=0;s<i;s++)u[s].apply(this,l);return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,a,l;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(l=a;l-- >0;)if(n[l]===t||n[l].listener&&n[l].listener===t){i=l;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){t=e.exports=n(48),t.Stream=t,t.Readable=t,t.Writable=n(28),t.Duplex=n(11),t.Transform=n(54),t.PassThrough=n(169)},function(e,t,n){"use strict";(function(t,r,i){function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){S(t,e)}}function a(e){return N.from(e)}function l(e){return N.isBuffer(e)||e instanceof R}function s(){}function u(e,t){x=x||n(11),e=e||{},this.objectMode=!!e.objectMode,t instanceof x&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){y(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function c(e){if(x=x||n(11),!(D.call(c,this)||this instanceof x))return new c(e);this._writableState=new u(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),P.call(this)}function d(e,t){var n=new Error("write after end");e.emit("error",n),O(t,n)}function f(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),O(r,o),i=!1),i}function h(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=N.from(t,n)),t}function p(e,t,n,r,i,o){if(!n){var a=h(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var l=t.objectMode?1:r.length;t.length+=l;var s=t.length<t.highWaterMark;if(s||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else g(e,t,!1,l,r,i,o);return s}function g(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function v(e,t,n,r,i){--t.pendingcb,n?(O(i,r),O(T,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),T(e,t))}function m(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function y(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(m(n),t)v(e,n,r,t,i);else{var o=k(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||w(e,n),r?I(_,e,n,o,i):_(e,n,o,i)}}function _(e,t,n,r){n||b(e,t),t.pendingcb--,r(),T(e,t)}function b(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function w(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var l=0,s=!0;n;)i[l]=n,n.isBuf||(s=!1),n=n.next,l+=1;i.allBuffers=s,g(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t)}else{for(;n;){var u=n.chunk,c=n.encoding,d=n.callback;if(g(e,t,!1,t.objectMode?1:u.length,u,c,d),n=n.next,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function k(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function E(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),T(e,t)})}function C(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,O(E,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function T(e,t){var n=k(t);return n&&(C(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function M(e,t,n){t.ending=!0,T(e,t),n&&(t.finished?O(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function S(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}var O=n(19);e.exports=c;var x,I=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:O;c.WritableState=u;var L=n(16);L.inherits=n(13);var A={deprecate:n(168)},P=n(50),N=n(20).Buffer,R=i.Uint8Array||function(){},B=n(52);L.inherits(c,P),u.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(u.prototype,"buffer",{get:A.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}();var D;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(D=Function.prototype[Symbol.hasInstance],Object.defineProperty(c,Symbol.hasInstance,{value:function(e){return!!D.call(this,e)||e&&e._writableState instanceof u}})):D=function(e){return e instanceof this},c.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},c.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=l(e)&&!r.objectMode;return o&&!N.isBuffer(e)&&(e=a(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=s),r.ended?d(this,n):(o||f(this,r,e,n))&&(r.pendingcb++,i=p(this,r,o,e,t,n)),i},c.prototype.cork=function(){this._writableState.corked++},c.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},c.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},c.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},c.prototype._writev=null,c.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||M(this,r,n)},Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),c.prototype.destroy=B.destroy,c.prototype._undestroy=B.undestroy,c.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,n(18),n(166).setImmediate,n(12))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),l=r(a),s=n(1),u=r(s),c=n(21),d=r(c),f=n(58),h=r(f),p=n(33),g=r(p),v=n(68),m=r(v),y=n(81),_=r(y),b=n(39),w=r(b),k=n(2),E=r(k),C=n(40),T=r(C),M=n(15),S=r(M),O=n(38),x=r(O),I=n(41),L=r(I),A=n(92),P=r(A),N=n(3),R=r(N),B=n(93),D=r(B),j=n(4),H=r(j),$=n(36),F=r($),U=n(37),W=r(U),q=n(24),V=r(q),K=n(110),Y=r(K),z=n(111),G=r(z),X=n(112),J=r(X),Q=n(113),Z=r(Q),ee=n(114),te=r(ee),ne=n(115),re=r(ne),ie=n(116),oe=r(ie),ae=n(117),le=r(ae),se=n(118),ue=r(se),ce=n(119),de=r(ce),fe=n(120),he=r(fe),pe=n(121),ge=r(pe),ve=n(122),me=r(ve),ye=n(123),_e=r(ye),be=n(124),we=r(be),ke=n(125),Ee=r(ke),Ce=n(126),Te=r(Ce),Me=n(127),Se=r(Me),Oe=n(128),xe=r(Oe),Ie=n(129),Le=r(Ie),Ae=n(130),Pe=r(Ae),Ne=n(131),Re=r(Ne),Be=n(132),De=r(Be),je=n(133),He=r(je),$e=n(134),Fe=r($e),Ue=n(135),We=r(Ue),qe=n(136),Ve=r(qe),Ke=n(137),Ye=r(Ke),ze=n(138),Ge=r(ze),Xe=n(139),Je=r(Xe),Qe=n(140),Ze=r(Qe),et=n(141),tt=r(et),nt=n(142),rt=r(nt),it=n(143),ot=r(it),at=n(144),lt=r(at),st=n(145),ut=r(st),ct=n(146),dt=r(ct),ft=n(147),ht=r(ft),pt=n(148),gt=r(pt),vt=n(149),mt=r(vt),yt=n(23);n(150),n(151),n(152),n(153),n(154),n(155),n(156),n(157),n(158),n(159),n(160);var _t=[],bt=function(){function e(t){var n=this;i(this,e),this.options=l.default.extend({previewStyle:"tab",initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en_US",useDefaultHTMLSanitizer:!0,useCommandShortcut:!0,codeBlockLanguages:q.CodeBlockManager.getHighlightJSLanguages(),usageStatistics:!0,toolbarItems:["heading","bold","italic","strike","divider","hr","quote","divider","ul","ol","task","indent","outdent","divider","table","image","link","divider","code","codeblock"],hideModeSwitch:!1},t),this.eventManager=new w.default,this.importManager=new S.default(this.eventManager),this.commandManager=new E.default(this,{useCommandShortcut:this.options.useCommandShortcut}),this.convertor=new L.default(this.eventManager),this.options.useDefaultHTMLSanitizer&&this.convertor.initHtmlSanitizer(),this.options.hooks&&u.default.forEach(this.options.hooks,function(e,t){return n.addHook(t,e)}),this.options.events&&u.default.forEach(this.options.events,function(e,t){return n.on(t,e)}),this.layout=new _.default(t,this.eventManager),this.i18n=R.default,this.i18n.setCode(this.options.language),this.setUI(this.options.UI||new D.default(this)),this.mdEditor=h.default.factory(this.layout.getMdEditorContainerEl(),this.eventManager),this.preview=new g.default(this.layout.getPreviewEl(),this.eventManager,this.convertor),this.wwEditor=m.default.factory(this.layout.getWwEditorContainerEl(),this.eventManager),this.toMarkOptions=null,this.changePreviewStyle(this.options.previewStyle),this.changeMode(this.options.initialEditType,!0),this.minHeight(this.options.minHeight),this.height(this.options.height),this.setValue(this.options.initialValue,!1),T.default.applyExtension(this,this.options.exts),this.eventManager.emit("load",this),_t.push(this),this._addDefaultCommands(),this.options.usageStatistics&&(0,yt.sendHostName)()}return o(e,[{key:"changePreviewStyle",value:function(e){this.layout.changePreviewStyle(e),this.mdPreviewStyle=e,this.eventManager.emit("changePreviewStyle",e),this.eventManager.emit("previewNeedsRefresh")}},{key:"exec",value:function(){var e;(e=this.commandManager).exec.apply(e,arguments)}},{key:"_addDefaultCommands",value:function(){this.addCommand(Y.default),this.addCommand(G.default),this.addCommand(Z.default),this.addCommand(te.default),this.addCommand(re.default),this.addCommand(oe.default),this.addCommand(le.default),this.addCommand(ue.default),this.addCommand(de.default),this.addCommand(he.default),this.addCommand(ge.default),this.addCommand(me.default),this.addCommand(_e.default),this.addCommand(we.default),this.addCommand(Ee.default),this.addCommand(Te.default),this.addCommand(J.default),this.addCommand(Se.default),this.addCommand(xe.default),this.addCommand(Pe.default),this.addCommand(Ve.default),this.addCommand(Ye.default),this.addCommand(Re.default),this.addCommand(De.default),this.addCommand(He.default),this.addCommand(Fe.default),this.addCommand(We.default),this.addCommand(ut.default),this.addCommand(dt.default),this.addCommand(ht.default),this.addCommand(Ge.default),this.addCommand(Je.default),this.addCommand(Ze.default),this.addCommand(tt.default),this.addCommand(rt.default),this.addCommand(ot.default),this.addCommand(lt.default),this.addCommand(gt.default),this.addCommand(mt.default),this.addCommand(Le.default)}},{key:"addCommand",value:function(e,t){t?this.commandManager.addCommand(E.default.command(e,t)):this.commandManager.addCommand(e)}},{key:"afterAddedCommand",value:function(){this.eventManager.emit("afterAddedCommand",this)}},{key:"on",value:function(e,t){this.eventManager.listen(e,t)}},{key:"off",value:function(e){this.eventManager.removeEventHandler(e)}},{key:"addHook",value:function(e,t){this.eventManager.removeEventHandler(e),this.eventManager.listen(e,t)}},{key:"removeHook",value:function(e){this.eventManager.removeEventHandler(e)}},{key:"getCodeMirror",value:function(){return this.mdEditor.getEditor()}},{key:"getSquire",value:function(){return this.wwEditor.getEditor()}},{key:"focus",value:function(){this.getCurrentModeEditor().focus()}},{key:"blur",value:function(){this.getCurrentModeEditor().blur()}},{key:"moveCursorToEnd",value:function(){this.getCurrentModeEditor().moveCursorToEnd()}},{key:"moveCursorToStart",value:function(){this.getCurrentModeEditor().moveCursorToStart()}},{key:"setMarkdown",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e=e||"",this.isMarkdownMode()?this.mdEditor.setValue(e,t):this.wwEditor.setValue(this.convertor.toHTML(e),t),this.eventManager.emit("setMarkdownAfter",e)}},{key:"setHtml",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e=e||"",this.wwEditor.setValue(e),this.isMarkdownMode()){var n=this.convertor.toMarkdown(this.wwEditor.getValue(),this.toMarkOptions);this.mdEditor.setValue(n,t),this.eventManager.emit("setMarkdownAfter",n)}}},{key:"setValue",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setMarkdown(e,t)}},{key:"getMarkdown",value:function(){return this.isMarkdownMode()?this.mdEditor.getValue():this.convertor.toMarkdown(this.wwEditor.getValue(),this.toMarkOptions)}},{key:"getHtml",value:function(){return this.isWysiwygMode()&&this.mdEditor.setValue(this.convertor.toMarkdown(this.wwEditor.getValue(),this.toMarkOptions)),this.convertor.toHTML(this.mdEditor.getValue())}},{key:"getValue",value:function(){return this.getMarkdown()}},{key:"insertText",value:function(e){this.isMarkdownMode()?this.mdEditor.replaceSelection(e):this.wwEditor.insertText(e)}},{key:"addWidget",value:function(e,t,n,r){this.getCurrentModeEditor().addWidget(e,t,n,r)}},{key:"height",value:function(e){return u.default.isExisty(e)&&("auto"===e?(this.options.el.classList.add("auto-height"),this.minHeight(this.minHeight())):(this.options.el.classList.remove("auto-height"),this.minHeight(e)),u.default.isNumber(e)&&(e+="px"),this.options.el.style.height=e,this._height=e),this._height}},{key:"minHeight",value:function(e){if(u.default.isExisty(e)){var t=this._ui.getEditorHeight(),n=this._ui.getEditorSectionHeight(),r=t-n;this._minHeight=e,e=parseInt(e,10),e=Math.max(e-r,0),this.wwEditor.setMinHeight(e),this.mdEditor.setMinHeight(e),this.preview.setMinHeight(e)}return this._minHeight}},{key:"getCurrentModeEditor",value:function(){return this.isMarkdownMode()?this.mdEditor:this.wwEditor}},{key:"isMarkdownMode",value:function(){return"markdown"===this.currentMode}},{key:"isWysiwygMode",value:function(){return"wysiwyg"===this.currentMode}},{key:"isViewer",value:function(){return!1}},{key:"getCurrentPreviewStyle",value:function(){return this.mdPreviewStyle}},{key:"changeMode",value:function(e,t){this.currentMode!==e&&(this.eventManager.emit("changeModeBefore",this.currentMode),this.currentMode=e,this.isWysiwygMode()?(this.layout.switchToWYSIWYG(),this.wwEditor.setValue(this.convertor.toHTML(this.mdEditor.getValue()),!t),this.eventManager.emit("changeModeToWysiwyg")):(this.layout.switchToMarkdown(),this.mdEditor.setValue(this.convertor.toMarkdown(this.wwEditor.getValue(),this.toMarkOptions),!t),this.getCodeMirror().refresh(),this.eventManager.emit("changeModeToMarkdown")),this.eventManager.emit("changeMode",e),t||this.focus())}},{key:"remove",value:function(){var e=this,t=_t.length-1;for(this.wwEditor.remove(),this.mdEditor.remove(),this.layout.remove(),this.getUI()&&this.getUI().remove(),this.eventManager.emit("removeEditor"),this.eventManager.events.forEach(function(t,n){e.off(n)}),this.eventManager=null;t>=0;t-=1)_t[t]===this&&_t.splice(t,1)}},{key:"hide",value:function(){this.eventManager.emit("hide",this)}},{key:"show",value:function(){this.eventManager.emit("show",this),this.getCodeMirror().refresh()}},{key:"scrollTop",value:function(e){return this.getCurrentModeEditor().scrollTop(e)}},{key:"setUI",value:function(e){this._ui=e}},{key:"getUI",value:function(){return this._ui}},{key:"reset",value:function(){this.wwEditor.reset(),this.mdEditor.reset()}},{key:"getRange",value:function(){return this.getCurrentModeEditor().getRange()}},{key:"getTextObject",value:function(e){return this.getCurrentModeEditor().getTextObject(e)}},{key:"getSelectedText",value:function(){var e=this.getRange();return this.getTextObject(e).getTextContent()||""}}],[{key:"getInstances",value:function(){return _t}},{key:"defineExtension",value:function(e,t){T.default.defineExtension(e,t)}},{key:"factory",value:function(t){return t.viewer?new P.default(t):new e(t)}}]),e}();bt.isViewer=!1,bt.i18n=R.default,bt.domUtils=H.default,bt.codeBlockManager=V.default,bt.Button=d.default,bt.WwCodeBlockManager=x.default,bt.WwTableManager=F.default,bt.WwTableSelectionManager=W.default,bt.CommandManager=E.default,bt.markdownitHighlight=L.default.getMarkdownitHighlightRenderer(),e.exports=bt},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),l='<div class="tui-tooltip"><div class="arrow"></div><span class="text"></span></span></div>',s=function(){function e(){r(this,e),this.$el=(0,a.default)(l),this.$el.appendTo("body"),this.hide()}return i(e,[{key:"show",value:function(e,t){this.$el.css({top:e.offset().top+e.height()+13,left:e.offset().left+3}).find(".text").html(t).end().show()}},{key:"hide",value:function(){this.$el.hide()}},{key:"remove",value:function(){this.$el.remove()}}]),e}();t.default=new s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),l=r(a),s=n(10),u=r(s);n(59),n(60),n(61),n(62),n(63),n(64);var c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.editorContainerEl=t,this.cm=null,this._init(n)}return o(e,[{key:"_init",value:function(e){var t=document.createElement("textarea");this.editorContainerEl.appendChild(t),e=l.default.extend(!0,{lineWrapping:!0,theme:"default",extraKeys:{"Shift-Tab":"indentLess","Alt-Up":"replaceLineTextToUpper","Alt-Down":"replaceLineTextToLower"},indentUnit:4,cursorScrollMargin:12},e),this.cm=u.default.fromTextArea(t,e)}},{key:"getCurrentRange",value:function(){var e=this.cm.getCursor("from"),t=this.cm.getCursor("to");return{from:e,to:t,collapsed:e.line===t.line&&e.ch===t.ch}}},{key:"focus",value:function(){this.cm.focus()}},{key:"blur",value:function(){this.cm.getInputField().blur()}},{key:"remove",value:function(){this.cm.toTextArea()}},{key:"setValue",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.cm.setValue(e),t&&this.moveCursorToEnd(),this.cm.refresh()}},{key:"getValue",value:function(){return this.cm.getValue("\n")}},{key:"getEditor",value:function(){return this.cm}},{key:"reset",value:function(){this.setValue("")}},{key:"getCaretPosition",value:function(){return this.cm.cursorCoords()}},{key:"addWidget",value:function(e,t,n,r){r&&(e.ch+=r),this.cm.addWidget(e.end,t,!0,n)}},{key:"replaceSelection",value:function(e,t){t&&this.cm.setSelection(t.from,t.to),this.cm.replaceSelection(e),this.focus()}},{key:"replaceRelativeOffset",value:function(e,t,n){var r=this.cm.getCursor(),i={from:{line:r.line,ch:r.ch+t},to:{line:r.line,ch:r.ch+t+n}};this.replaceSelection(e,i)}},{key:"setHeight",value:function(e){this.getWrapperElement().style.height=e+"px"}},{key:"setMinHeight",value:function(e){this.getWrapperElement().style.minHeight=e+"px"}},{key:"getWrapperElement",value:function(){return this.cm.getWrapperElement()}},{key:"getCursor",value:function(e){return this.cm.getCursor(e)}},{key:"moveCursorToEnd",value:function(){var e=this.getEditor().getDoc(),t=e.lastLine();e.setCursor(t,e.getLine(t).length)}},{key:"moveCursorToStart",value:function(){var e=this.getEditor().getDoc(),t=e.firstLine();e.setCursor(t,0)}},{key:"scrollTop",value:function(e){return e&&this.cm.scrollTo(0,e),this.cm.getScrollInfo().top}},{key:"getRange",value:function(){var e=this.cm.getCursor("from"),t=this.cm.getCursor("to");return{start:{line:e.line,ch:e.ch},end:{line:t.line,ch:t.ch}}}},{key:"on",value:function(e,t){this.cm.on(e,t)}},{key:"off",value:function(e,t){this.cm.off(e,t)}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this._managers={},this._editor=t}return i(e,[{key:"addManager",value:function(e,t){t||(t=e,e=null);var n=new t(this._editor);this._managers[e||n.name]=n}},{key:"getManager",value:function(e){return this._managers[e]}},{key:"removeManager",value:function(e){var t=this.getManager(e);t&&(t.destroy&&t.destroy(),delete this._managers[e])}}]),e}();t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},s=n(34),u=function(e){return e&&e.__esModule?e:{default:e}}(s),c=function(e){function t(e,n,o,a){r(this,t);var l=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a));return l._initEvent(),l}return o(t,e),a(t,[{key:"_initEvent",value:function(){var e=this,t="";this.eventManager.listen("contentChangedFromMarkdown",function(n){t=n.getValue(),e.isVisible()&&e.lazyRunner.run("refresh",t.replace(/<br>\n/g,"<br>"))}),this.eventManager.listen("previewNeedsRefresh",function(n){e.refresh(n||t)}),this.$el.on("scroll",function(t){e.eventManager.emit("scroll",{source:"preview",data:t})})}},{key:"render",value:function(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this,e),this.eventManager.emit("previewRenderAfter",this)}}]),t}(u.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),l=r(a),s=n(67),u=r(s),c=function(){function e(t,n,r,o){i(this,e),this.eventManager=n,this.convertor=r,this.$el=t,this.isViewer=!!o,this._initContentSection(),this.lazyRunner=new u.default,this.lazyRunner.registerLazyRunFunction("refresh",this.refresh,800,this)}return o(e,[{key:"_initContentSection",value:function(){this._$previewContent=(0,l.default)('<div class="tui-editor-contents" />'),this.$el.append(this._$previewContent)}},{key:"refresh",value:function(e){this.render(this.convertor.toHTMLWithCodeHightlight(e))}},{key:"getHTML",value:function(){return this._$previewContent.html()}},{key:"setHTML",value:function(e){this._$previewContent.html(e)}},{key:"render",value:function(e){var t=this._$previewContent;e=this.eventManager.emit("previewBeforeHook",e)||e,t.empty(),t.html(e)}},{key:"setHeight",value:function(e){this.$el.get(0).style.height=e+"px"}},{key:"setMinHeight",value:function(e){this.$el.get(0).style.minHeight=e+"px"}},{key:"isVisible",value:function(){return"none"!==this.$el.css("display")}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=(0,u.default)("<div />");return e=e.replace(/<!--[\s\S]*?-->/g,""),n.append(e),o(n),a(n),l(n,t)}function o(e){e.find("script, iframe, textarea, form, button, select, meta, style, link, title").remove()}function a(e){e.find("*").each(function(e,t){var n=t.attributes,r=d.default.toArray(n).filter(function(e){var t=e.name.match(f),n=e.name.match(h);return!t&&!n});d.default.forEachArray(r,function(e){n.getNamedItem(e.name)&&n.removeNamedItem(e.name)})})}function l(e,t){var n=void 0;if(t)n=e[0].innerHTML;else{for(var r=document.createDocumentFragment(),i=d.default.toArray(e[0].childNodes),o=i.length,a=0;a<o;a+=1)r.appendChild(i[a]);n=r}return n}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),u=r(s),c=n(1),d=r(c),f=new RegExp("^(abbr|align|alt|axis|bgcolor|border|cellpadding|cellspacing|class|clear|color|cols|compact|coords|dir|face|headers|height|hreflang|hspace|ismap|lang|language|nohref|nowrap|rel|rev|rows|rules|scope|scrolling|shape|size|span|start|summary|tabindex|target|title|type|valign|value|vspace|width|checked|mathvariant|encoding|id|name|background|cite|href|longdesc|src|usemap|xlink:href|data-+|checked|style)","g"),h=new RegExp("^(accent-height|accumulate|additive|alphabetic|arabic-form|ascent|baseProfile|bbox|begin|by|calcMode|cap-height|class|color|color-rendering|content|cx|cy|d|dx|dy|descent|display|dur|end|fill|fill-rule|font-family|font-size|font-stretch|font-style|font-variant|font-weight|from|fx|fy|g1|g2|glyph-name|gradientUnits|hanging|height|horiz-adv-x|horiz-origin-x|ideographic|k|keyPoints|keySplines|keyTimes|lang|marker-end|marker-mid|marker-start|markerHeight|markerUnits|markerWidth|mathematical|max|min|offset|opacity|orient|origin|overline-position|overline-thickness|panose-1|path|pathLength|points|preserveAspectRatio|r|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|rotate|rx|ry|slope|stemh|stemv|stop-color|stop-opacity|strikethrough-position|strikethrough-thickness|stroke|stroke-dasharray|stroke-dashoffset|stroke-linecap|stroke-linejoin|stroke-miterlimit|stroke-opacity|stroke-width|systemLanguage|target|text-anchor|to|transform|type|u1|u2|underline-position|underline-thickness|unicode|unicode-range|units-per-em|values|version|viewBox|visibility|width|widths|x|x-height|x1|x2|xlink:actuate|xlink:arcrole|xlink:role|xlink:show|xlink:title|xlink:type|xml:base|xml:lang|xml:space|xmlns|xmlns:xlink|y|y1|y2|zoomAndPan)","g");t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n="<"+t+"><br /></"+t+">",r="",i=0;i<e;i+=1)r+=n;return r}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),s=r(l),u=n(1),c=r(u),d=n(4),f=r(d),h=c.default.browser.msie&&10===c.default.browser.version,p=c.default.browser.msie&&(10===c.default.browser.version||11===c.default.browser.version),g=c.default.browser.msie?"":"<br>",v=function(){function e(t){i(this,e),this.wwe=t,this.eventManager=t.eventManager,this.name="table",this._lastCellNode=null,this._init()}return a(e,[{key:"_init",value:function(){this._initKeyHandler(),this._initEvent(),this.tableID=0}},{key:"_initEvent",value:function(){var e=this;this.eventManager.listen("wysiwygRangeChangeAfter.table",function(){var t=e.wwe.getEditor().getSelection(),n=e.isInTable(t);if(e._unwrapBlockInTable(),e._completeTableIfNeed(),!n){e.wwe.componentManager.getManager("tableSelection").removeClassAttrbuteFromAllCellsIfNeed()}e._insertDefaultBlockBetweenTable()}),this.eventManager.listen("wysiwygSetValueAfter.table",function(){e._unwrapBlockInTable(),e._insertDefaultBlockBetweenTable()}),this.eventManager.listen("wysiwygProcessHTMLText.table",function(e){return e.replace(/<br \/>(<\/td>|<\/th>)/g,"$1")}),this.eventManager.listen("cut.table",function(){var t=e.wwe.componentManager.getManager("tableSelection"),n=t.getSelectedCells();n.length&&n.get().forEach(function(e){return(0,s.default)(e).html(g)}),t.removeClassAttrbuteFromAllCellsIfNeed()}),this.eventManager.listen("copyBefore.table",function(t){var n=t.$clipboardContainer;return e.updateTableHtmlOfClipboardIfNeed(n)}),this.onBindedPaste=this._onPaste.bind(this),this.wwe.getEditor().addEventListener("paste",this.onBindedPaste)}},{key:"updateTableHtmlOfClipboardIfNeed",value:function(e){var t=this,n=this.wwe.componentManager.getManager("tableSelection");if(n.getSelectedCells().length){n.createRangeBySelectedCells();var r=this.wwe.getEditor().getSelection().cloneContents();(0,s.default)(r).children().each(function(e,n){var r=(0,s.default)(n);t.isTableOrSubTableElement(n.nodeName)&&("TABLE"===n.nodeName&&0===r.find("thead").length&&0===r.find("tbody").length?r.remove():n.previousSibling&&"TABLE"===n.previousSibling.nodeName?n.previousSibling.appendChild(n):(t._completeIncompleteTable(n),"TABLE"!==n.nodeName&&"THEAD"!==n.nodeName&&(0,s.default)(n).closest("table").find("thead").remove()))}),e.append(r),e.find(".te-cell-selected").removeClass("te-cell-selected")}}},{key:"pasteClipboardData",value:function(e){this.wwe.componentManager.getManager("tableSelection").getSelectedCells().length||(this._expandTableIfNeed(e),this._pasteDataIntoTable(e))}},{key:"_onPaste",value:function(e){var t=this.wwe.getEditor().getSelection(),n=!f.default.isTextNode(t.commonAncestorContainer);this.isInTable(t)&&!t.collapsed&&n&&e.preventDefault()}},{key:"_initKeyHandler",value:function(){var e=this;this.keyEventHandlers={DEFAULT:function(t,n,r){var i=e.isInTable(n);i&&!e._isSingleModifierKey(r)?(e._recordUndoStateIfNeed(n),e._removeBRIfNeed(n),e._removeContentsAndChangeSelectionIfNeed(n,r,t)):!i&&e._lastCellNode&&e._recordUndoStateAndResetCellNode(n),i&&!e._isModifierKeyPushed(t)&&e.wwe.getEditor().modifyDocument(function(){e.wwe.componentManager.getManager("tableSelection").removeClassAttrbuteFromAllCellsIfNeed()})},ENTER:function(t,n){var r=void 0;return e._isAfterTable(n)?(t.preventDefault(),n.setStart(n.startContainer,n.startOffset-1),e.wwe.breakToNewDefaultBlock(n),r=!1):e._isBeforeTable(n)?(t.preventDefault(),e.wwe.breakToNewDefaultBlock(n,"before"),r=!1):e.isInTable(n)&&(e._appendBrIfTdOrThNotHaveAsLastChild(n),r=!1),r},BACK_SPACE:function(t,n,r){return e._handleBackspaceAndDeleteKeyEvent(t,n,r)},DELETE:function(t,n,r){return e._handleBackspaceAndDeleteKeyEvent(t,n,r)},TAB:function(){return e._moveCursorTo("next","cell")},"SHIFT+TAB":function(t){return e._moveCursorTo("previous","cell",t)},UP:function(t){return e._moveCursorTo("previous","row",t)},DOWN:function(t){return e._moveCursorTo("next","row",t)}},c.default.forEach(this.keyEventHandlers,function(t,n){return e.wwe.addKeyEventHandler(n,t)})}},{key:"isInTable",value:function(e){var t=void 0,n=void 0;return e.collapsed?(t=e.startContainer,n=!!(0,s.default)(t).closest("[contenteditable=true] table").length):(t=e.commonAncestorContainer,n=!!(0,s.default)(t).closest("[contenteditable=true] table").length||!!(0,s.default)(e.cloneContents()).find("table").length),n}},{key:"_isBeforeTable",value:function(e){return"TABLE"===f.default.getNodeName(f.default.getChildNodeByOffset(e.startContainer,e.startOffset))}},{key:"_isAfterTable",value:function(e){var t=f.default.getPrevOffsetNodeUntil(e.startContainer,e.startOffset);return"TABLE"===f.default.getNodeName(t)&&e.commonAncestorContainer===this.wwe.get$Body()[0]}},{key:"_handleBackspaceAndDeleteKeyEvent",value:function(e,t,n){var r="BACK_SPACE"===n,i=this.wwe.componentManager.getManager("tableSelection"),o=i.getSelectedCells(),a=!0;if(t.collapsed){if(this.isInTable(t))r?this._tableHandlerOnBackspace(t,e):this._tableHandlerOnDelete(t,e),this._insertBRIfNeed(t),this._removeContentsAndChangeSelectionIfNeed(t,n,e),a=!1;else if(!r&&this._isBeforeTable(t)||r&&this._isAfterTable(t)){e.preventDefault();var l=r?t.startOffset-1:t.startOffset;this._removeTable(t,f.default.getChildNodeByOffset(t.startContainer,l)),a=!1}}else if(this.isInTable(t)&&o.length>0){var s=this._removeContentsAndChangeSelectionIfNeed(t,n,e);s&&(e.preventDefault(),a=!1)}return a}},{key:"_tableHandlerOnBackspace",value:function(e,t){var n=f.default.getPrevOffsetNodeUntil(e.startContainer,e.startOffset,"TR"),r=f.default.getNodeName(n);n&&"TD"!==r&&"TH"!==r?"BR"===r&&1!==n.parentNode.childNodes.length&&(t.preventDefault(),(0,s.default)(n).remove()):t.preventDefault()}},{key:"isNonTextDeleting",value:function(e){var t=e.startContainer,n=t.nextSibling,r=f.default.getNodeName(n),i=f.default.getNodeName(t),o=i===r&&"TEXT"!==i,a=(!n||"BR"===r&&n.parentNode.lastChild===n)&&f.default.isTextNode(t)&&e.startOffset===t.nodeValue.length,l=!a&&(0,s.default)(t).parents("tr").children().last()[0]===t&&("TD"===i||"TH"===i);return o||a||l}},{key:"_tableHandlerOnDelete",value:function(e,t){this.isNonTextDeleting(e)&&(t.preventDefault(),e.startContainer.normalize())}},{key:"_appendBrIfTdOrThNotHaveAsLastChild",value:function(e){var t=f.default.getNodeName(e.startContainer),n=void 0;if("TD"===t||"TH"===t)n=e.startContainer;else{var r=(0,s.default)(e.startContainer).parentsUntil("tr");n=r[r.length-1]}"BR"===f.default.getNodeName(n.lastChild)||"DIV"===f.default.getNodeName(n.lastChild)||p||(0,s.default)(n).append((0,s.default)("<br />")[0])}},{key:"_unwrapBlockInTable",value:function(){this.wwe.get$Body().find("td div,th div,tr>br,td>br,th>br").each(function(e,t){if("BR"===f.default.getNodeName(t)){var n=f.default.getNodeName(t.parentNode),r=/TD|TH/.test(n),i=0===t.parentNode.textContent.length,o=t.parentNode.lastChild===t;("TR"===n||r&&!i&&o)&&(0,s.default)(t).remove()}else(0,s.default)(t).children().unwrap()})}},{key:"_insertDefaultBlockBetweenTable",value:function(){this.wwe.get$Body().find("table").each(function(e,t){t.nextElementSibling&&"TABLE"===t.nextElementSibling.nodeName&&(0,s.default)("<div><br /></div>").insertAfter(t)})}},{key:"_removeTable",value:function(e,t){"TABLE"===t.tagName&&(this.wwe.getEditor().saveUndoState(e),this.wwe.saveSelection(e),(0,s.default)(t).remove(),this.wwe.restoreSavedSelection())}},{key:"_recordUndoStateIfNeed",value:function(e){var t=f.default.getParentUntil(e.startContainer,"TR");e.collapsed&&t&&this._lastCellNode!==t&&(this.wwe.getEditor().saveUndoState(e),this._lastCellNode=t)}},{key:"_recordUndoStateAndResetCellNode",value:function(e){this.wwe.getEditor().saveUndoState(e),this.resetLastCellNode()}},{key:"_pasteDataIntoTable",value:function(e){var t=this.wwe.getEditor().getSelection(),n=t.startContainer,r=this._getTableDataFromTable(e),i="TD"===n.tagName||"TH"===n.tagName,o=h?"":"<br />",a=void 0,l=void 0,u=void 0,c=void 0;for(i?a=n:(a=f.default.getParentUntilBy(n,function(e){return"TD"===e.tagName||"TH"===e.tagName},function(e){return 0===(0,s.default)(e).closest("table").length}),a=a?a.parentNode:null),a=a||(0,s.default)(n).find("th,td").get(0),l=a;r.length;){for(u=r.shift();l&&u.length;)c=u.shift(),c.length?l.textContent=c:l.innerHTML=o,l=f.default.getTableCellByDirection(l,"next");l=f.default.getSiblingRowCellByDirection(a,"next",!1),a=l}}},{key:"_getTableDataFromTable",value:function(e){var t=(0,s.default)(e),n=[];return t.find("tr").each(function(e,t){var r=[];(0,s.default)(t).children().each(function(e,t){r.push(t.textContent)}),r.length&&n.push(r)}),n}},{key:"_removeTableContents",value:function(e){this.wwe.getEditor().saveUndoState(),e.each(function(e,t){var n=h?"":"<br />";(0,s.default)(t).html(n)})}},{key:"wrapDanglingTableCellsIntoTrIfNeed",value:function(e){var t=e.children("td,th"),n=void 0;if(t.length){var r=(0,s.default)("<tr></tr>");t.each(function(e,t){r.append(t)}),n=r.get(0)}return n}},{key:"wrapTrsIntoTbodyIfNeed",value:function(e){var t=e.children("tr"),n=t.find("th"),r=void 0;if(n.length&&n.each(function(e,t){var n=(0,s.default)(t),r=(0,s.default)("<td></td>");r.html(n.html()),r.insertBefore(t),n.detach()}),t.length){var i=(0,s.default)("<tbody></tbody>");t.each(function(e,t){i.append(t)}),r=i.get(0)}return r}},{key:"wrapTheadAndTbodyIntoTableIfNeed",value:function(e){var t=e.children("thead"),n=e.children("tbody"),r=(0,s.default)("<table></table>"),i=void 0;return!n.length&&t.length?(r.append(t[0]),r.append("<tbody><tr></tr></tbody>"),i=r.get(0)):n.length&&!t.length?(r.append("<thead><tr></tr></thead>"),r.append(n[0]),i=r.get(0)):n.length&&t.length&&(r.append(t[0]),r.append(n[0]),i=r.get(0)),i}},{key:"isTableOrSubTableElement",value:function(e){return"TABLE"===e||"TBODY"===e||"THEAD"===e||"TR"===e||"TD"===e}},{key:"_stuffTableCellsIntoIncompleteRow",value:function(e,t){e.each(function(e,n){for(var r=(0,s.default)(n),i=r.find("th,td"),a=f.default.getNodeName(r.parent()[0]),l="THEAD"===a?"th":"td",u=i.length;u<t;u+=1)r.append((0,s.default)(o(1,l))[0])})}},{key:"prepareToTableCellStuffing",value:function(e){var t=e.eq(0).find("th,td").length,n=!1;return e.each(function(e,r){var i=(0,s.default)(r).find("th,td").length;t!==i&&(n=!0,t<i&&(t=i))}),{maximumCellLength:t,needTableCellStuffingAid:n}}},{key:"_addTbodyOrTheadIfNeed",value:function(e){var t=!e.find("thead").length,n=!e.find("tbody").length,r=void 0;t?(r=(0,s.default)("<thead><tr></tr></thead>").get(0),e.prepend(r)):n&&(r=(0,s.default)("<tbody><tr></tr></tbody>").get(0),e.append(r))}},{key:"tableCellAppendAidForTableElement",value:function(e){var t=(0,s.default)(e);this._addTbodyOrTheadIfNeed(t),this._addTrIntoContainerIfNeed(t);var n=t.find("tr"),r=this.prepareToTableCellStuffing(n),i=r.maximumCellLength;r.needTableCellStuffingAid&&this._stuffTableCellsIntoIncompleteRow(n,i)}},{key:"_generateTheadAndTbodyFromTbody",value:function(e){var t=(0,s.default)("<tr></tr>"),n=(0,s.default)("<thead></thead>");return t.append(o((0,s.default)(e).find("tr").eq(0).find("td").length,"th")),n.append(t),{thead:n[0],tbody:e}}},{key:"_generateTheadAndTbodyFromThead",value:function(e){var t=(0,s.default)("<tr></tr>"),n=(0,s.default)("<tbody></tbody>");return t.append(o((0,s.default)(e).find("th").length,"td")),n.append(t),{thead:e,tbody:n[0]}}},{key:"_generateTheadAndTbodyFromTr",value:function(e){var t=(0,s.default)(e),n=(0,s.default)("<thead></thead>"),r=(0,s.default)("<tbody></tbody>"),i=void 0,a=void 0;return"TH"===t.children()[0].tagName?(i=e,a=(0,s.default)("<tr>"+o(t.find("th").length,"td")+"</tr>").get(0)):(i=(0,s.default)("<tr>"+o(t.find("td").length,"th")+"</tr>").get(0),a=e),n.append(i),r.append(a),{thead:n[0],tbody:r[0]}}},{key:"_completeIncompleteTable",value:function(e,t){var n=e.tagName,r=void 0,i=void 0;t=!!c.default.isUndefined(t)||t,"TABLE"===n?r=e:(r=(0,s.default)("<table></table>"),r.insertAfter(e),"TBODY"===n?i=this._generateTheadAndTbodyFromTbody(e):"THEAD"===n?i=this._generateTheadAndTbodyFromThead(e):"TR"===n&&(i=this._generateTheadAndTbodyFromTr(e)),t&&r.append(i.thead),r.append(i.tbody)),this.tableCellAppendAidForTableElement(r)}},{key:"_completeTableIfNeed",value:function(){var e=this;this.wwe.getEditor().get$Body().children().each(function(t,n){var r=(0,s.default)(n);e.isTableOrSubTableElement(n.nodeName)&&("TABLE"===n.nodeName&&0===r.find("thead").length&&0===r.find("tbody").length&&r.remove(),e._completeIncompleteTable(n))})}},{key:"resetLastCellNode",value:function(){this._lastCellNode=null}},{key:"setLastCellNode",value:function(e){this._lastCellNode=e}},{key:"_isSingleModifierKey",value:function(e){return"META"===e||"SHIFT"===e||"ALT"===e||"CONTROL"===e}},{key:"_isModifierKeyPushed",value:function(e){return e.metaKey||e.ctrlKey||e.altKey||e.shiftKey}},{key:"_addTrIntoContainerIfNeed",value:function(e){e.children().each(function(e,t){0===(0,s.default)(t).find("tr").length&&(0,s.default)(t).append((0,s.default)("<tr></tr>")[0])})}},{key:"_expandTableIfNeed",value:function(e){var t=this.wwe.getEditor().getSelection().cloneRange(),n=(0,s.default)(t.startContainer).parents("table"),r=this._getColumnAndRowDifference(e,t);r.column<0&&this._appendCellForAllRow(n,r.column),r.row<0&&this._appendRow(n,r.row)}},{key:"_getColumnAndRowDifference",value:function(e,t){var n=this._getTableDataFromTable(e),r=n.length,i=n[0].length,o=(0,s.default)(t.startContainer).closest("th,td"),a=o.parent(),l=f.default.getNodeOffsetOfParent(o[0]),u=f.default.getNodeOffsetOfParent(o[0].parentNode),c=a.parents("table"),d=c.find("tr").eq(0).children().length,h=c.find("tr").length;return a.parents("tbody").length&&(u+=1),{row:h-(u+r),column:d-(l+i)}}},{key:"_appendCellForAllRow",value:function(e,t){var n=h?"":"<br />";e.find("tr").each(function(e,r){for(var i=void 0,o=t;o<0;o+=1)i=0===e?"th":"td",(0,s.default)(r).append((0,s.default)("<"+i+">"+n+"</"+i+">")[0])})}},{key:"_appendRow",value:function(e,t){var n=e.find("tr").last().clone(),r=h?"":"<br />";for(n.find("td").html(r);t<0;t+=1)e.find("tbody").append(n.clone()[0])}},{key:"_getSiblingTextNodeByDirection",value:function(e,t){var n=e.previousSibling&&"BR"===e.previousSibling.nodeName&&e.previousSibling.previousSibling&&3===e.previousSibling.previousSibling.nodeType,r=e.nextSibling&&"BR"===e.nextSibling.nodeName&&e.nextSibling.nextSibling&&3===e.nextSibling.nextSibling.nodeType,i=void 0;return t&&r?i=e.nextSibling.nextSibling:!t&&n&&(i=e.previousSibling.previousSibling),i}},{key:"_changeSelectionToTargetCell",value:function(e,t,n,r){var i=t.startContainer,o="next"===n,a="row"===r,l=void 0,u=void 0;if(a){if(f.default.isTextNode(i)&&(l=this._getSiblingTextNodeByDirection(i,o)))return u=l.length<t.startOffset?l.length:t.startOffset,t.setStart(l,u),void t.collapse(!0);l=f.default.getSiblingRowCellByDirection(e,n,!1)}else(l=f.default.getTableCellByDirection(e,n))||(l=f.default.getSiblingRowCellByDirection(e,n,!0));l?(t.setStart(l,0),t.collapse(!0)):(l=(0,s.default)(e).parents("table").get(0),o?t.setStart(l.nextElementSibling,0):l.previousElementSibling&&"TABLE"!==l.previousElementSibling.nodeName?t.setStart(l.previousElementSibling,1):t.setStartBefore(l),t.collapse(!0))}},{key:"_moveCursorTo",value:function(e,t,n){var r=this.wwe.getEditor(),i=r.getSelection().cloneRange(),o=(0,s.default)(i.startContainer).closest("td,th").get(0),a=void 0;return i.collapsed&&this.isInTable(i)&&o&&("previous"!==e&&"row"!==t||c.default.isUndefined(n)||n.preventDefault(),this._changeSelectionToTargetCell(o,i,e,t),r.setSelection(i),a=!1),a}},{key:"_removeContentsAndChangeSelectionIfNeed",value:function(e,t,n){var r=t.length<=1,i="BACK_SPACE"===t||"DELETE"===t,o=this.wwe.componentManager.getManager("tableSelection").getSelectedCells(),a=o.first().get(0),l=!1;return(r||i)&&!this._isModifierKeyPushed(n)&&o.length&&(i&&this._recordUndoStateIfNeed(e),this._removeTableContents(o),this._lastCellNode=a,e.setStart(a,0),e.collapse(!0),this.wwe.getEditor().setSelection(e),l=!0),l}},{key:"getTableIDClassName",value:function(){var e="te-content-table-"+this.tableID;return this.tableID+=1,e}},{key:"_removeBRIfNeed",value:function(e){var t=f.default.isTextNode(e.startContainer),n=t?e.startContainer.parentNode:e.startContainer;/td|th/i.test(f.default.getNodeName(n))&&e.collapsed&&1===n.textContent.length&&(0,s.default)(n).find("br").remove()}},{key:"_insertBRIfNeed",value:function(e){var t=f.default.isTextNode(e.startContainer),n=t?e.startContainer.parentNode:e.startContainer,r=f.default.getNodeName(n),i=(0,s.default)(n);!/td|th/i.test(r)||!e.collapsed||n.textContent.length||i.children().length||p||(n.normalize(),i.append("<br>"))}},{key:"destroy",value:function(){var e=this;this.eventManager.removeEventHandler("wysiwygRangeChangeAfter.table"),this.eventManager.removeEventHandler("wysiwygSetValueAfter.table"),this.eventManager.removeEventHandler("wysiwygProcessHTMLText.table"),this.eventManager.removeEventHandler("cut.table"),this.eventManager.removeEventHandler("copyBefore.table"),this.wwe.getEditor().removeEventListener("paste",this.onBindedPaste),c.default.forEach(this.keyEventHandlers,function(t,n){return e.wwe.removeKeyEventHandler(n,t)})}}]),e}();t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),l=r(a),s=n(1),u=r(s),c=n(4),d=r(c),f=function(){function e(t){i(this,e),this.wwe=t,this.eventManager=t.eventManager,this.name="tableSelection",this._init()}return o(e,[{key:"_init",value:function(){this._initEvent(),u.default.browser.firefox&&(document.execCommand("enableObjectResizing",!1,"false"),document.execCommand("enableInlineTableEditing",!1,"false"))}},{key:"_initEvent",value:function(){var e=this,t=void 0,n=void 0,r=void 0;this._tableSelectionTimer=null,this._removeSelectionTimer=null,this._isSelectionStarted=!1;var i=function(i){n=(0,l.default)(i.data.target).closest("[contenteditable=true] td,th").get(0);var o=e.wwe.getEditor().getSelection(),a=(0,l.default)(n).parents("[contenteditable=true] table").get(0),s=t===n,c=e._isTextSelect(o,s)&&!(0,l.default)(t).hasClass("te-cell-selected");e._isSelectionStarted&&a&&!c&&(window.getSelection().removeAllRanges(),u.default.browser.firefox&&!e._removeSelectionTimer&&(e._removeSelectionTimer=setInterval(function(){window.getSelection().removeAllRanges()},10)),e.highlightTableCellsBy(t,n),r=n)},o=function(){e._isSelectionStarted&&(e._isSelectionStarted=!1,e.eventManager.removeEventHandler("mouseover.tableSelection"),e.eventManager.removeEventHandler("mouseup.tableSelection"))},a=function(i){n=(0,l.default)(i.data.target).closest("[contenteditable=true] td,th").get(0);var a=e.wwe.getEditor().getSelection(),s=t===n,c=e._isTextSelect(a,s)&&!(0,l.default)(t).hasClass("te-cell-selected");e._clearTableSelectionTimerIfNeed(),e._isSelectionStarted&&(c?e.removeClassAttrbuteFromAllCellsIfNeed():(e.wwe.componentManager.getManager("table").resetLastCellNode(),n=n||r,a=e.wwe.getEditor().getSelection(),a.setStart(n,0),u.default.browser.msie?a.setEnd(n,1):(a.setEnd(n,0),a.collapse(!1)),e.wwe.getEditor().setSelection(a)),e.onDragEnd&&e.onDragEnd()),o()},s=function(r){t=(0,l.default)(r.data.target).closest("[contenteditable=true] td,th").get(0);var s=(0,l.default)(t).hasClass("te-cell-selected");n=null,!s||s&&2!==r.data.button?(e.removeClassAttrbuteFromAllCellsIfNeed(),e.setTableSelectionTimerIfNeed(t),e.eventManager.listen("mouseover.tableSelection",i),e.eventManager.listen("mouseup.tableSelection",a),e.onDragStart&&t&&e.onDragStart(t)):2===r.data.button&&o()};this.eventManager.listen("mousedown.tableSelection",s),this.eventManager.listen("copyBefore.tableSelection",o),this.eventManager.listen("pasteBefore.tableSelection",o)}},{key:"_isTextSelect",value:function(e,t){return/TD|TH|TEXT/i.test(e.commonAncestorContainer.nodeName)&&t}},{key:"setTableSelectionTimerIfNeed",value:function(e){(0,l.default)(e).parents("[contenteditable=true] table").length&&(this._isSelectionStarted=!0)}},{key:"_clearTableSelectionTimerIfNeed",value:function(){clearTimeout(this._tableSelectionTimer),u.default.browser.firefox&&this._removeSelectionTimer&&(clearTimeout(this._removeSelectionTimer),this._removeSelectionTimer=null)}},{key:"_reArrangeSelectionIfneed",value:function(e,t){var n=(0,l.default)(e).parents("[contenteditable=true] table").length,r=(0,l.default)(t).parents("[contenteditable=true] table").length,i=r&&!n,o=!r&&n;return i?e=(0,l.default)(t).parents("[contenteditable=true] table").find("th").first().get(0):o&&(t=(0,l.default)(e).parents("[contenteditable=true] table").find("td").last().get(0)),{startContainer:e,endContainer:t}}},{key:"_applySelectionDirection",value:function(e,t){var n=d.default.getNodeOffsetOfParent,r=e.startContainer,i=e.endContainer,o=n((0,l.default)(r).closest("[contenteditable=true] tr")[0])-n((0,l.default)(i).closest("[contenteditable=true] tr")[0]),a=n(r)-n(i),s=0===o,u=o<0,c=a>0;return s?c?(t.setStart(i,0),t.setEnd(r,1)):(t.setStart(r,0),t.setEnd(i,1)):u?(t.setStart(r,0),t.setEnd(i,1)):(t.setStart(i,0),t.setEnd(r,1)),t}},{key:"getSelectionRangeFromTable",value:function(e,t){var n=d.default.getNodeOffsetOfParent,r=n(e.parentNode),i=n(t.parentNode),o=n(e),a=n(t),s=d.default.getParentUntil(e,"TABLE"),u=d.default.getParentUntil(t,"TABLE"),c="TBODY"===d.default.getNodeName(s)&&"THEAD"===d.default.getNodeName(u),f=s!==u,h=!!(0,l.default)(e).parents("tbody").length&&!!(0,l.default)(t).parents("tbody").length,p={row:r,cell:o},g={row:i,cell:a},v=void 0,m=void 0;return c?p.row+=1:f?g.row+=1:h&&(p.row+=1,g.row+=1),r>i||r===i&&o>a?(v=g,m=p):(v=p,m=g),{from:v,to:m}}},{key:"highlightTableCellsBy",value:function(e,t){var n=(0,l.default)(e).parents("[contenteditable=true] table").find("tr"),r=this.getSelectionRangeFromTable(e,t),i=r.from.row,o=r.from.cell,a=r.to.row,s=r.to.cell;n.each(function(e,t){(0,l.default)(t).find("td,th").each(function(t,n){var r=(0,l.default)(n),u=e===i,c=e===a;u&&t<o||c&&t>s||e<i||e>a?r.removeClass("te-cell-selected"):r.addClass("te-cell-selected")})})}},{key:"removeClassAttrbuteFromAllCellsIfNeed",value:function(){this.wwe.get$Body().find("td.te-cell-selected,th.te-cell-selected").each(function(e,t){var n=(0,l.default)(t);n.removeClass("te-cell-selected"),n.attr("class").length||n.removeAttr("class")})}},{key:"getSelectedCells",value:function(){return this.wwe.get$Body().find(".te-cell-selected")}},{key:"createRangeBySelectedCells",value:function(){var e=this.wwe.getEditor(),t=e.getSelection().cloneRange(),n=this.getSelectedCells(),r=this.wwe.componentManager.getManager("table"),i=n.first().get(0),o=n.last().get(0);n.length&&r.isInTable(t)&&(t.setStart(i,0),t.setEnd(o,o.childNodes.length),e.setSelection(t))}},{key:"styleToSelectedCells",value:function(e,t){this.createRangeBySelectedCells(),e(this.wwe.getEditor(),t)}},{key:"destroy",value:function(){this.eventManager.removeEventHandler("mousedown.tableSelection"),this.eventManager.removeEventHandler("mouseover.tableSelection"),this.eventManager.removeEventHandler("mouseup.tableSelection"),this.eventManager.removeEventHandler("copyBefore.tableSelection"),this.eventManager.removeEventHandler("pasteBefore.tableSelection")}}]),e}();t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return e.replace(/[<>&]/g,function(e){return h[e]||e})}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),s=r(l),u=n(1),c=r(u),d=n(4),f=r(d),h={"&":"&amp;","<":"&lt;",">":"&gt;"},p=/\u200B/g,g=function(){function e(t){i(this,e),this.wwe=t,this.eventManager=t.eventManager,this.name="codeblock",this._init()}return a(e,[{key:"_init",value:function(){this._initKeyHandler(),this._initEvent()}},{key:"_initKeyHandler",value:function(){this._onKeyEventHandler=this._removeCodeblockIfNeed.bind(this),this.wwe.addKeyEventHandler("BACK_SPACE",this._onKeyEventHandler)}},{key:"_initEvent",value:function(){var e=this;this.eventManager.listen("wysiwygSetValueAfter.codeblock",function(){e.splitCodeblockToEachLine()}),this.eventManager.listen("wysiwygProcessHTMLText.codeblock",function(t){return e._mergeCodeblockEachlinesFromHTMLText(t)})}},{key:"prepareToPasteOnCodeblock",value:function(e){var t=this.wwe.getEditor().getSelection().cloneRange(),n=this.wwe.getEditor().getDocument().createDocumentFragment();return 1===e.length&&this._isCodeBlock(e[0])?n.appendChild(this._copyCodeblockTypeFromRangeCodeblock(e.shift(),t)):n.appendChild(this._copyCodeblockTypeFromRangeCodeblock(this.convertToCodeblock(e),t)),n}},{key:"convertToCodeblock",value:function(e){for(var t=(0,s.default)("<pre />"),n=this,r=e.shift();c.default.isTruthy(r);)t.append(n._makeCodeBlockLineHtml(c.default.isString(r)?r:r.textContent)),r=e.shift();return t.attr("data-te-codeblock",""),t[0]}},{key:"_copyCodeblockTypeFromRangeCodeblock",value:function(e,t){var n=f.default.getParentUntil(t.commonAncestorContainer,this.wwe.get$Body()[0]);if("PRE"===f.default.getNodeName(n)){var r=(0,s.default)(n).prop("attributes");c.default.forEach(r,function(t){(0,s.default)(e).attr(t.name,t.value)})}return e}},{key:"_mergeCodeblockEachlinesFromHTMLText",value:function(e){return e=e.replace(/<pre( .*?)?>(.*?)<\/pre>/g,function(e,t,n){return n=n.replace(/<br\s*\/?>/g,"\n"),n=n.replace(/<div ?(.*?)>/g,""),n=n.replace(/\n$/,""),"<pre><code"+(t||"")+">"+n+"</code></pre>"})}},{key:"splitCodeblockToEachLine",value:function(e){var t=this;e||(e=this.wwe.get$Body()),(0,s.default)(e).find("pre").each(function(e,n){var r=(0,s.default)(n),i=r.find("code").attr("data-language"),o=r.find("code").attr("data-backticks"),a=void 0;r.children().length>1&&(a=[],r.children().each(function(e,t){"DIV"!==t.nodeName&&"P"!==t.nodeName||(0,s.default)(t).find("br").length||(0,s.default)(t).append("<br>")})),r.find("br").replaceWith("\n"),a=r.text().replace(/\s+$/,"").split(/\n/g),i&&(r.attr("data-language",i),r.addClass("lang-"+i)),o&&r.attr("data-backticks",o),r.empty(),c.default.forEach(a,function(e){r.append(t._makeCodeBlockLineHtml(e))}),r.attr("data-te-codeblock","")})}},{key:"_makeCodeBlockLineHtml",value:function(e){return"<div>"+(e=e?o(e):"<br>")+"</div>"}},{key:"_removeCodeblockIfNeed",value:function(e,t){var n=this;if(!this.isInCodeBlock(t))return!0;var r=(0,s.default)(t.startContainer).closest("pre"),i=(0,s.default)(r).find("div").eq(0),o=i.text().replace(p,"");return 0!==t.startOffset&&0!==o.length||!((0,s.default)(r).find("div").length<=1)||(this.wwe.getEditor().modifyBlocks(function(){var e=n.wwe.getEditor().getDocument().createDocumentFragment(),t=void 0;return t=0===o.length?"<br>":i.html().replace(p,""),(0,s.default)(e).append((0,s.default)("<div>"+t+"</div>")),e}),!1)}},{key:"isInCodeBlock",value:function(e){var t=void 0;return t=e.collapsed?e.startContainer:e.commonAncestorContainer,this._isCodeBlock(t)}},{key:"_isCodeBlock",value:function(e){return!!(0,s.default)(e).closest("pre").length}},{key:"destroy",value:function(){this.eventManager.removeEventHandler("wysiwygSetValueAfter.codeblock"),this.eventManager.removeEventHandler("wysiwygProcessHTMLText.codeblock"),this.wwe.removeKeyEventHandler("BACK_SPACE",this._onKeyEventHandler)}}]),e}();t.default=g},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=function(e){return e&&e.__esModule?e:{default:e}}(o),l=["previewBeforeHook","previewRenderAfter","previewNeedsRefresh","addImageBlobHook","setMarkdownAfter","contentChangedFromWysiwyg","changeFromWysiwyg","contentChangedFromMarkdown","changeFromMarkdown","change","changeModeToWysiwyg","changeModeToMarkdown","changeModeBefore","changeMode","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","openPopupAddLink","openPopupAddImage","openPopupAddTable","openPopupTableUtils","openHeadingSelect","openPopupCodeBlockLanguages","openPopupCodeBlockEditor","openDropdownToolbar","closePopupCodeBlockLanguages","closePopupCodeBlockEditor","closeAllPopup","command","addCommandBefore","htmlUpdate","markdownUpdate","renderedHtmlUpdated","removeEditor","convertorAfterMarkdownToHtmlConverted","convertorBeforeHtmlToMarkdownConverted","convertorAfterHtmlToMarkdownConverted","stateChange","wysiwygSetValueAfter","wysiwygSetValueBefore","wysiwygGetValueBefore","wysiwygProcessHTMLText","wysiwygRangeChangeAfter","wysiwygKeyEvent","scroll","click","mousedown","mouseover","mouseout","mouseup","contextmenu","keydown","keyup","keyMap","load","focus","blur","paste","pasteBefore","willPaste","copy","copyBefore","copyAfter","cut","cutAfter","drop","show","hide"],s=function(){function e(){r(this,e),this.events=new a.default.Map,this.TYPE=new a.default.Enum(l)}return i(e,[{key:"listen",value:function(e,t){var n=this._getTypeInfo(e),r=this.events.get(n.type)||[];if(!this._hasEventType(n.type))throw new Error("There is no event type "+n.type);n.namespace&&(t.namespace=n.namespace),r.push(t),this.events.set(n.type,r)}},{key:"emit",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.shift(),i=this._getTypeInfo(r),o=this.events.get(i.type),l=void 0;return o&&a.default.forEach(o,function(e){var n=e.apply(void 0,t);a.default.isUndefined(n)||(l=l||[],l.push(n))}),l}},{key:"emitReduce",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.shift(),i=this.events.get(r);return i&&a.default.forEach(i,function(e){var n=e.apply(void 0,t);a.default.isFalsy(n)||(t[0]=n)}),t[0]}},{key:"_getTypeInfo",value:function(e){var t=e.split(".");return{type:t[0],namespace:t[1]}}},{key:"_hasEventType",value:function(e){return!a.default.isUndefined(this.TYPE[this._getTypeInfo(e).type])}},{key:"addEventType",value:function(e){if(this._hasEventType(e))throw new Error("There is already have event type "+e);this.TYPE.set(e)}},{key:"removeEventHandler",value:function(e,t){var n=this,r=this._getTypeInfo(e),i=r.type,o=r.namespace;i&&t?this._removeEventHandlerWithHandler(i,t):i&&!o?this.events.delete(i):!i&&o?this.events.forEach(function(e,t){n._removeEventHandlerWithTypeInfo(t,o)}):i&&o&&this._removeEventHandlerWithTypeInfo(i,o)}},{key:"_removeEventHandlerWithHandler",value:function(e,t){var n=this.events.get(e)||[],r=n.indexOf(t);r>=0&&n.splice(r,1)}},{key:"_removeEventHandlerWithTypeInfo",value:function(e,t){var n=[],r=this.events.get(e);r&&(r.map(function(e){return e.namespace!==t&&n.push(e),null}),this.events.set(e,n))}}]),e}();t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(){function e(){r(this,e),this.exts=new a.default.Map}return i(e,[{key:"defineExtension",value:function(e,t){this.exts.set(e,t)}},{key:"applyExtension",value:function(e,t){var n=this;t&&t.forEach(function(t){var r=a.default.isObject(t),i=r?t.name:t;if(n.exts.has(i)){var o=n.exts.get(i);r?o(e,t):o(e)}})}}]),e}();t.default=new l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),l=r(a),s=n(1),u=r(s),c=n(83),d=r(c),f=n(42),h=r(f),p=n(35),g=r(p),v=n(84),m=r(v),y=n(85),_=r(y),b=n(86),w=r(b),k=n(87),E=r(k),C=n(88),T=r(C),M=n(89),S=r(M),O=n(90),x=r(O),I=n(24),L=r(I),A=new d.default({html:!0,breaks:!0,quotes:"",langPrefix:"lang-",highlight:function(e,t){return L.default.createCodeBlockHtml(t,e)}}),P=new d.default({html:!0,breaks:!0,quotes:"",langPrefix:"lang-"});A.block.ruler.at("code",w.default),A.block.ruler.at("table",T.default,{alt:["paragraph","reference"]}),A.block.ruler.at("blockquote",E.default,{alt:["paragraph","reference","blockquote","list"]}),A.block.ruler.at("html_block",S.default,{alt:["paragraph","reference","blockquote"]}),A.inline.ruler.at("backticks",x.default),A.use(m.default),A.use(_.default),P.block.ruler.at("code",w.default),P.block.ruler.at("table",T.default,{alt:["paragraph","reference"]}),P.block.ruler.at("blockquote",E.default,{alt:["paragraph","reference","blockquote","list"]}),P.block.ruler.at("html_block",S.default,{alt:["paragraph","reference","blockquote"]}),P.inline.ruler.at("backticks",x.default),P.use(m.default),P.use(_.default);var N=function(){function e(t){i(this,e),this.eventManager=t}return o(e,[{key:"_markdownToHtmlWithCodeHighlight",value:function(e){e=e.replace(/<br>/gi,"<br data-tomark-pass>");for(var t=/(<img[^>]*)(onerror\s*=\s*[\"']?[^\"']*[\"']?)(.*)/i;t.exec(e);)e=e.replace(t,"$1$3");var n=A.render(e);return n=this._removeBrToMarkPassAttributeInCode(n)}},{key:"_markdownToHtml",value:function(e){e=e.replace(/<br>/gi,"<br data-tomark-pass>");for(var t=/(<img[^>]*)(onerror\s*=\s*[\"']?[^\"']*[\"']?)(.*)/i;t.exec(e);)e=e.replace(t,"$1$3");var n=P.render(e);return n=this._removeBrToMarkPassAttributeInCode(n)}},{key:"_removeBrToMarkPassAttributeInCode",value:function(e){var t=(0,l.default)("<div />");return t.html(e),t.find("code, pre").each(function(e,t){var n=(0,l.default)(t);n.html(n.html().replace(/&lt;br data-tomark-pass&gt;/,"&lt;br&gt;"))}),e=t.html()}},{key:"toHTMLWithCodeHightlight",value:function(e){var t=this._markdownToHtmlWithCodeHighlight(e);return t=this.eventManager.emitReduce("convertorAfterMarkdownToHtmlConverted",t)}},{key:"toHTML",value:function(e){var t=this._markdownToHtml(e);return t=this.eventManager.emitReduce("convertorAfterMarkdownToHtmlConverted",t)}},{key:"initHtmlSanitizer",value:function(){this.eventManager.listen("convertorAfterMarkdownToHtmlConverted",function(e){return(0,g.default)(e,!0)})}},{key:"toMarkdown",value:function(e,t){var n=[];e=this.eventManager.emitReduce("convertorBeforeHtmlToMarkdownConverted",e);var r=(0,h.default)(this._appendAttributeForBrIfNeed(e),t);return r=this.eventManager.emitReduce("convertorAfterHtmlToMarkdownConverted",r),u.default.forEach(r.split("\n"),function(e,t){var r=/^\|[^|]*\|/gi;/`[^`]*<br>[^`]*`/gi.test(e)||r.test(e)||(e=e.replace(/<br>/gi,"<br>\n")),n[t]=e}),n.join("\n")}},{key:"_appendAttributeForBrIfNeed",value:function(e){var t=/<br>/gi,n=/<br \/><br \/>/gi,r=/<br data-tomark-pass \/><br \/>(.)/gi,i=/([^>]|<\/a>|<\/code>|<\/span>|<\/b>|<\/i>|<\/s>|<img [^>]*>)/,o=/<br data-tomark-pass \/><br data-tomark-pass \/>/,a=new RegExp(i.source+o.source,"g");e=e.replace(t,"<br />"),e=e.replace(n,"<br data-tomark-pass /><br data-tomark-pass />");var s=document.createElement("div"),u=(0,l.default)(s);return u.html(e),u.find("pre br,code br").each(function(e,t){t.hasAttribute("data-tomark-pass")&&t.removeAttribute("data-tomark-pass")}),e=u.html().replace(/<br data-tomark-pass="">/gi,"<br data-tomark-pass />"),e=e.replace(t,"<br />"),e=e.replace(r,"<br data-tomark-pass /><br data-tomark-pass />$1"),e=e.replace(a,"$1<br /><br />")}}],[{key:"getMarkdownitHighlightRenderer",value:function(){return A}}]),e}();t.default=N},function(e,t){e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},u=n(0),c=r(u),d=n(1),f=r(d),h=n(14),p=r(h),g=n(21),v=r(g),m=n(17),y=r(m),_=n(44),b=r(_),w=n(45),k=r(w),E=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{tagName:"div",className:"tui-editor-defaultUI-toolbar"}));return Object.defineProperty(r,"_items",{enumerable:!0,writable:!0,value:[]}),r._eventManager=e,r.setItems(n),r._initEvent(e),r}return a(t,e),l(t,[{key:"_initEvent",value:function(e){var t=this;e.listen("stateChange",function(e){t._items.forEach(function(t){t._state&&(e[t._state]?t.$el.addClass("active"):t.$el.removeClass("active"))})}),e.listen("changePreviewTabPreview",function(){return t.disableAllButton()}),e.listen("changePreviewTabWrite",function(){return t.enableAllButton()}),e.listen("changeMode",function(){return t.enableAllButton()})}},{key:"disableAllButton",value:function(){this._items.forEach(function(e){e instanceof v.default&&e.disable()})}},{key:"enableAllButton",value:function(){this._items.forEach(function(e){e instanceof v.default&&e.enable()})}},{key:"getItems",value:function(){return this._items.slice(0)}},{key:"getItem",value:function(e){return this._items[e]}},{key:"setItems",value:function(e){this.removeAllItems(),e.forEach(this.addItem.bind(this))}},{key:"addItem",value:function(e){this.insertItem(this._items.length,e)}},{key:"insertItem",value:function(e,t){var n=this;f.default.isString(t)?t=k.default.create(t):f.default.isString(t.type)&&(t=k.default.create(t.type,t.options));var r=this.$el.children();e>=0&&e<r.length?(t.$el.insertBefore(r.eq(e)),this._items.splice(e,0,t)):(t.$el.appendTo(this.$el),this._items.push(t)),t.onCommandHandler=function(e,t){return n._eventManager.emit("command",t)},t.onEventHandler=function(e,t){return n._eventManager.emit(t)},t.on("command",t.onCommandHandler),t.on("event",t.onEventHandler)}},{key:"indexOfItem",value:function(e){var t=void 0;if(e instanceof y.default)t=this._items.indexOf(e);else if(f.default.isString(e)){var n=e;t=this._items.map(function(e){return e.getName()}).indexOf(n)}return t}},{key:"removeItem",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=void 0,r=void 0;return n=e instanceof y.default?this.indexOfItem(e):e,n>=0&&(r=this._items.splice(n,1)[0]),r&&(t?r.destroy():(r.off("command",r.onCommandHandler),r.off("event",r.onEventHandler),r.$el.detach())),r}},{key:"removeAllItems",value:function(){for(;this._items&&this._items.length>0;)this.removeItem(0)}},{key:"destroy",value:function(){this.removeAllItems(),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"addButton",value:function(e,t){if(f.default.isArray(e))for(var n=e.length-1;n>=0;n-=1)f.default.isNumber(t)?this._addButton(e[n],t):this._addButton(e);else this._addButton(e,t)}},{key:"_addButton",value:function(e,t){var n=this._setButton(e,t).$el;f.default.isNumber(t)?this.$el.find("."+v.default.className).eq(t-1).before(n):this.$el.append(n)}},{key:"addDivider",value:function(){var e=(0,c.default)('<div class="'+b.default.className+'"></div>');return this.$el.append(e),e}},{key:"_setButton",value:function(e,t){var n=this._eventManager;return e instanceof v.default||(e=new v.default(e)),e.on("command",function(e,t){return n.emit("command",t)}),e.on("event",function(e,t){return n.emit(t)}),f.default.isNumber(t)?this._items.splice(t,0,e):this._items.push(e),e}}]),t}(p.default);t.default=E},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(17),l=function(e){return e&&e.__esModule?e:{default:e}}(a),s=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:t.name,tagName:"div",className:t.className}))}return o(t,e),t}(l.default);Object.defineProperty(s,"name",{enumerable:!0,writable:!0,value:"divider"}),Object.defineProperty(s,"className",{enumerable:!0,writable:!0,value:"tui-toolbar-divider"}),t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(17),l=r(a),s=n(96),u=r(s),c=n(44),d=r(c),f=n(3),h=r(f),p=function(){function e(){i(this,e)}return o(e,null,[{key:"create",value:function(e,t){var n=void 0;switch(e){case"heading":n=new u.default({name:"heading",className:"tui-heading",event:"openHeadingSelect",tooltip:h.default.get("Headings")});break;case"bold":n=new u.default({name:"bold",className:"tui-bold",command:"Bold",tooltip:h.default.get("Bold"),state:"bold"});break;case"italic":n=new u.default({name:"italic",className:"tui-italic",command:"Italic",tooltip:h.default.get("Italic"),state:"italic"});break;case"strike":n=new u.default({name:"strike",className:"tui-strike",command:"Strike",tooltip:h.default.get("Strike"),state:"strike"});break;case"hr":n=new u.default({name:"hr",className:"tui-hrline",command:"HR",tooltip:h.default.get("Line")});break;case"quote":n=new u.default({name:"quote",className:"tui-quote",command:"Blockquote",tooltip:h.default.get("Blockquote"),state:"quote"});break;case"ul":n=new u.default({name:"ul",className:"tui-ul",command:"UL",tooltip:h.default.get("Unordered list")});break;case"ol":n=new u.default({name:"ol",className:"tui-ol",command:"OL",tooltip:h.default.get("Ordered list")});break;case"task":n=new u.default({name:"task",className:"tui-task",command:"Task",tooltip:h.default.get("Task")});break;case"table":n=new u.default({name:"table",className:"tui-table",event:"openPopupAddTable",tooltip:h.default.get("Insert table")});break;case"image":n=new u.default({name:"image",className:"tui-image",event:"openPopupAddImage",tooltip:h.default.get("Insert image"),state:""});break;case"link":n=new u.default({name:"link",className:"tui-link",event:"openPopupAddLink",tooltip:h.default.get("Insert link")});break;case"code":n=new u.default({name:"code",className:"tui-code",command:"Code",tooltip:h.default.get("Code"),state:"code"});break;case"codeblock":n=new u.default({name:"codeblock",className:"tui-codeblock",command:"CodeBlock",tooltip:h.default.get("Insert CodeBlock"),state:"codeBlock"});break;case"indent":n=new u.default({name:"indent",className:"tui-indent",command:"Indent",tooltip:h.default.get("Indent")});break;case"outdent":n=new u.default({name:"outdent",className:"tui-outdent",command:"Outdent",tooltip:h.default.get("Outdent")});break;case"divider":n=new d.default;break;case"button":n=new u.default(t);break;case"item":default:n=new l.default(t)}return n}}]),e}();t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(14),d=r(c),f=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{tagName:"div",className:"te-tab"}));return n.sections=e.sections,n._$activeButton=null,n._render(e),n._initEvent(e),n}return a(t,e),l(t,[{key:"_initEvent",value:function(e){var t=e.onItemClick;t&&this.on("itemClick",t),this.on("click button",this._onTabButton.bind(this))}},{key:"_render",value:function(e){for(var t=e.items,n=e.initName,r=[],i=0,o=t.length;i<o;i+=1)r.push('<button type="button" data-index="'+i+'">'+t[i]+"</button>");this.$el.html(r.join("")),this.activate(n)}},{key:"activate",value:function(e){var t=this.$el.find('button:contains("'+e+'")');this._activateTabByButton(t)}},{key:"_onTabButton",value:function(e){var t=(0,u.default)(e.target);this._activateTabByButton(t),this.trigger("itemClick",t.text())}},{key:"_activateTabByButton",value:function(e){this._isActivatedButton(e)||this._updateClassByButton(e)}},{key:"_updateClassByButton",value:function(e){if(this._$activeButton){var t=this._$activeButton.attr("data-index");this._$activeButton.removeClass("te-tab-active"),this.sections&&this.sections[t].removeClass("te-tab-active")}e.addClass("te-tab-active"),this._$activeButton=e;var n=e.attr("data-index");this.sections&&this.sections[n].addClass("te-tab-active")}},{key:"_isActivatedButton",value:function(e){return this._$activeButton&&this._$activeButton.text()===e.text()}}]),t}(d.default);t.default=f},function(e,t,n){function r(){i.call(this)}e.exports=r;var i=n(26).EventEmitter;n(13)(r,i),r.Readable=n(27),r.Writable=n(170),r.Duplex=n(171),r.Transform=n(172),r.PassThrough=n(173),r.Stream=r,r.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&u.pause&&u.pause()}function r(){u.readable&&u.resume&&u.resume()}function o(){c||(c=!0,e.end())}function a(){c||(c=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(s(),0===i.listenerCount(this,"error"))throw e}function s(){u.removeListener("data",n),e.removeListener("drain",r),u.removeListener("end",o),u.removeListener("close",a),u.removeListener("error",l),e.removeListener("error",l),u.removeListener("end",s),u.removeListener("close",s),e.removeListener("close",s)}var u=this;u.on("data",n),e.on("drain",r),e._isStdio||t&&!1===t.end||(u.on("end",o),u.on("close",a));var c=!1;return u.on("error",l),e.on("error",l),u.on("end",s),u.on("close",s),e.on("close",s),e.emit("pipe",u),e}},function(e,t,n){"use strict";(function(t,r){function i(e){return D.from(e)}function o(e){return D.isBuffer(e)||e instanceof j}function a(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?N(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function l(e,t){P=P||n(11),e=e||{},this.objectMode=!!e.objectMode,t instanceof P&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new W,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(U||(U=n(53).StringDecoder),this.decoder=new U(e.encoding),this.encoding=e.encoding)}function s(e){if(P=P||n(11),!(this instanceof s))return new s(e);this._readableState=new l(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),B.call(this)}function u(e,t,n,r,o){var a=e._readableState;if(null===t)a.reading=!1,g(e,a);else{var l;o||(l=d(a,t)),l?e.emit("error",l):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===D.prototype||(t=i(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):c(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?c(e,a,t,!1):y(e,a)):c(e,a,t,!1))):r||(a.reading=!1)}return f(a)}function c(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&v(e)),y(e,t)}function d(e,t){var n;return o(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function f(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function h(e){return e>=K?e=K:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function p(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=h(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function g(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,v(e)}}function v(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(F("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?A(m,e):m(e))}function m(e){F("emit readable"),e.emit("readable"),C(e)}function y(e,t){t.readingMore||(t.readingMore=!0,A(_,e,t))}function _(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(F("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function b(e){return function(){var t=e._readableState;F("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&R(e,"data")&&(t.flowing=!0,C(e))}}function w(e){F("readable nexttick read 0"),e.read(0)}function k(e,t){t.resumeScheduled||(t.resumeScheduled=!0,A(E,e,t))}function E(e,t){t.reading||(F("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),C(e),t.flowing&&!t.reading&&e.read(0)}function C(e){var t=e._readableState;for(F("flow",t.flowing);t.flowing&&null!==e.read(););}function T(e,t){if(0===t.length)return null;var n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=M(e,t.buffer,t.decoder),n}function M(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?S(e,t):O(e,t),r}function S(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}function O(e,t){var n=D.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0===(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}function x(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,A(I,t,e))}function I(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function L(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}var A=n(19);e.exports=s;var P,N=n(49);s.ReadableState=l;var R=(n(26).EventEmitter,function(e,t){return e.listeners(t).length}),B=n(50),D=n(20).Buffer,j=t.Uint8Array||function(){},H=n(16);H.inherits=n(13);var $=n(164),F=void 0;F=$&&$.debuglog?$.debuglog("stream"):function(){};var U,W=n(165),q=n(52);H.inherits(s,B);var V=["error","close","destroy","pause","resume"];Object.defineProperty(s.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),s.prototype.destroy=q.destroy,s.prototype._undestroy=q.undestroy,s.prototype._destroy=function(e,t){this.push(null),t(e)},s.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=D.from(e,t),t=""),n=!0),u(this,e,t,!1,n)},s.prototype.unshift=function(e){return u(this,e,null,!0,!1)},s.prototype.isPaused=function(){return!1===this._readableState.flowing},s.prototype.setEncoding=function(e){return U||(U=n(53).StringDecoder),this._readableState.decoder=new U(e),this._readableState.encoding=e,this};var K=8388608;s.prototype.read=function(e){F("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return F("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?x(this):v(this),null;if(0===(e=p(e,t))&&t.ended)return 0===t.length&&x(this),null;var r=t.needReadable;F("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,F("length less than watermark",r)),t.ended||t.reading?(r=!1,F("reading or ended",r)):r&&(F("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=p(n,t)));var i;return i=e>0?T(e,t):null,null===i?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&x(this)),null!==i&&this.emit("data",i),i},s.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},s.prototype.pipe=function(e,t){function n(e,t){F("onunpipe"),e===f&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,o())}function i(){F("onend"),e.end()}function o(){F("cleanup"),e.removeListener("close",u),e.removeListener("finish",c),e.removeListener("drain",v),e.removeListener("error",s),e.removeListener("unpipe",n),f.removeListener("end",i),f.removeListener("end",d),f.removeListener("data",l),m=!0,!h.awaitDrain||e._writableState&&!e._writableState.needDrain||v()}function l(t){F("ondata"),y=!1,!1!==e.write(t)||y||((1===h.pipesCount&&h.pipes===e||h.pipesCount>1&&-1!==L(h.pipes,e))&&!m&&(F("false write response, pause",f._readableState.awaitDrain),f._readableState.awaitDrain++,y=!0),f.pause())}function s(t){F("onerror",t),d(),e.removeListener("error",s),0===R(e,"error")&&e.emit("error",t)}function u(){e.removeListener("finish",c),d()}function c(){F("onfinish"),e.removeListener("close",u),d()}function d(){F("unpipe"),f.unpipe(e)}var f=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=e;break;case 1:h.pipes=[h.pipes,e];break;default:h.pipes.push(e)}h.pipesCount+=1,F("pipe count=%d opts=%j",h.pipesCount,t);var p=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr,g=p?i:d;h.endEmitted?A(g):f.once("end",g),e.on("unpipe",n);var v=b(f);e.on("drain",v);var m=!1,y=!1;return f.on("data",l),a(e,"error",s),e.once("close",u),e.once("finish",c),e.emit("pipe",f),h.flowing||(F("pipe resume"),f.resume()),e},s.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=L(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},s.prototype.on=function(e,t){var n=B.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&v(this):A(w,this))}return n},s.prototype.addListener=s.prototype.on,s.prototype.resume=function(){var e=this._readableState;return e.flowing||(F("resume"),e.flowing=!0,k(this,e)),this},s.prototype.pause=function(){return F("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(F("pause"),this._readableState.flowing=!1,this.emit("pause")),this},s.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(F("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(F("wrapped data"),t.decoder&&(i=t.decoder.write(i)),(!t.objectMode||null!==i&&void 0!==i)&&(t.objectMode||i&&i.length)){r.push(i)||(n=!0,e.pause())}});for(var i in e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<V.length;o++)e.on(V[o],r.emit.bind(r,V[o]));return r._read=function(t){F("wrapped _read",t),n&&(n=!1,e.resume())},r},s._fromList=T}).call(t,n(12),n(18))},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){e.exports=n(26).EventEmitter},function(e,t,n){"use strict";(function(e){function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=o.prototype):(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return a(this,e,t,n)}function a(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?f(e,t,n,r):"string"==typeof t?c(e,t,n):h(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function s(e,t,n,r){return l(t),t<=0?i(e,t):void 0!==n?"string"==typeof r?i(e,t).fill(n,r):i(e,t).fill(n):i(e,t)}function u(e,t){if(l(t),e=i(e,t<0?0:0|p(t)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|v(t,n);e=i(e,r);var a=e.write(t,n);return a!==r&&(e=e.slice(0,a)),e}function d(e,t){var n=t.length<0?0:0|p(t.length);e=i(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),o.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=o.prototype):e=d(e,t),e}function h(e,t){if(o.isBuffer(t)){var n=0|p(t.length);return e=i(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||G(t.length)?i(e,0):d(e,t);if("Buffer"===t.type&&Q(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function g(e){return+e!=e&&(e=0),o.alloc(+e)}function v(e,t){if(o.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(e).length;default:if(r)return q(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return O(this,t,n);case"ascii":return I(this,t,n);case"latin1":case"binary":return L(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function _(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"==typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){function o(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,l=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,l/=2,s/=2,n/=2}var u;if(i){var c=-1;for(u=n;u<l;u++)if(o(e,u)===o(t,-1===c?0:u-c)){if(-1===c&&(c=u),u-c+1===s)return c*a}else-1!==c&&(u-=u-c),c=-1}else for(n+s>l&&(n=l-s),u=n;u>=0;u--){for(var d=!0,f=0;f<s;f++)if(o(e,u+f)!==o(t,f)){d=!1;break}if(d)return u}return-1}function w(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var l=parseInt(t.substr(2*a,2),16);if(isNaN(l))return a;e[n+a]=l}return a}function k(e,t,n,r){return z(q(t,e.length-n),e,n,r)}function E(e,t,n,r){return z(V(t),e,n,r)}function C(e,t,n,r){return E(e,t,n,r)}function T(e,t,n,r){return z(Y(t),e,n,r)}function M(e,t,n,r){return z(K(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?X.fromByteArray(e):X.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],a=null,l=o>239?4:o>223?3:o>191?2:1;if(i+l<=n){var s,u,c,d;switch(l){case 1:o<128&&(a=o);break;case 2:s=e[i+1],128==(192&s)&&(d=(31&o)<<6|63&s)>127&&(a=d);break;case 3:s=e[i+1],u=e[i+2],128==(192&s)&&128==(192&u)&&(d=(15&o)<<12|(63&s)<<6|63&u)>2047&&(d<55296||d>57343)&&(a=d);break;case 4:s=e[i+1],u=e[i+2],c=e[i+3],128==(192&s)&&128==(192&u)&&128==(192&c)&&(d=(15&o)<<18|(63&s)<<12|(63&u)<<6|63&c)>65535&&d<1114112&&(a=d)}}null===a?(a=65533,l=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=l}return x(r)}function x(e){var t=e.length;if(t<=Z)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Z));return n}function I(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function L(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function A(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=W(e[o]);return i}function P(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function N(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,i,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function B(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function j(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function H(e,t,n,r,i){return i||j(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(e,t,n,r,23,4),n+4}function $(e,t,n,r,i){return i||j(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(e,t,n,r,52,8),n+8}function F(e){if(e=U(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function U(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function W(e){return e<16?"0"+e.toString(16):e.toString(16)}function q(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function V(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function K(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function Y(e){return X.toByteArray(F(e))}function z(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function G(e){return e!==e}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var X=n(162),J=n(163),Q=n(49);t.Buffer=o,t.SlowBuffer=g,t.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,n){return a(null,e,t,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,n){return s(null,e,t,n)},o.allocUnsafe=function(e){return u(null,e)},o.allocUnsafeSlow=function(e){return u(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Q(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=v,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):m.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,r,i){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var a=i-r,l=n-t,s=Math.min(a,l),u=this.slice(r,i),c=e.slice(t,n),d=0;d<s;++d)if(u[d]!==c[d]){a=u[d],l=c[d];break}return a<l?-1:l<a?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return _(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return _(this,e,t,n,!1)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return k(this,e,t,n);case"ascii":return E(this,e,t,n);case"latin1":case"binary":return C(this,e,t,n);case"base64":return T(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r;if(o.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=o.prototype;else{var i=t-e;r=new o(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},o.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},o.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),J.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),J.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),J.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),J.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){R(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){R(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var o=0,a=1,l=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===l&&0!==this[t+o-1]&&(l=1),this[t+o]=(e/a>>0)-l&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var o=n-1,a=1,l=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===l&&0!==this[t+o+1]&&(l=1),this[t+o]=(e/a>>0)-l&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return H(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return H(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return $(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return $(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},o.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var l=o.isBuffer(e)?e:q(new o(e,r).toString()),s=l.length;for(a=0;a<n-t;++a)this[a+t]=l[a%s]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(12))},function(e,t,n){"use strict";function r(e,t){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;if(r||i)return void(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||a(o,this,e));this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(a(o,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(e,t){e.emit("error",t)}var a=n(19);e.exports={destroy:r,undestroy:i}},function(e,t,n){"use strict";function r(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function i(e){var t=r(e);if("string"!=typeof t&&(y.isEncoding===_||!_(e)))throw new Error("Unknown encoding: "+e);return t||e}function o(e){this.encoding=i(e);var t;switch(this.encoding){case"utf16le":this.text=f,this.end=h,t=4;break;case"utf8":this.fillLast=u,t=4;break;case"base64":this.text=p,this.end=g,t=3;break;default:return this.write=v,void(this.end=m)}this.lastNeed=0,this.lastTotal=0,this.lastChar=y.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function l(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n?0:(i=a(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n?0:(i=a(t[r]),i>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0)}function s(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"".repeat(n);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"".repeat(n+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"".repeat(n+2)}}function u(e){var t=this.lastTotal-this.lastNeed,n=s(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){var n=l(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"".repeat(this.lastTotal-this.lastNeed):t}function f(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function h(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function p(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function g(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function v(e){return e.toString(this.encoding)}function m(e){return e&&e.length?this.write(e):""}var y=n(20).Buffer,_=y.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=d,o.prototype.text=c,o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";function r(e){this.afterTransform=function(t,n){return i(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function i(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&e.push(n),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);l.call(this,e),this._transformState=new r(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e,n){a(t,e,n)}):a(t)})}function a(e,t,n){if(t)return e.emit("error",t);null!==n&&void 0!==n&&e.push(n);var r=e._writableState,i=e._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}e.exports=o;var l=n(11),s=n(16);s.inherits=n(13),s.inherits(o,l),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;l.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){"use strict";n(56),n(175),n(178),n(193),n(195);var r=n(197);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){e=p(e);var n=e.split(/\n{2,}/),r=n[0],i=n[1],o=h(r),a=o&&o.editorChart&&o.editorChart.url,l=void 0;if(O.default.isString(a)){var u=function(e){l=s(e,r),t(l)},c=function(){return t(null)};M.default.get(a).done(u).fail(c)}else l=s(r,i),t(l)}function s(e,t){return{data:d(e),options:h(t)}}function u(e){e=p(e);var t=e.split(j).slice(0,10).join("\n");return H.map(function(e){return{delimiter:e,delta:c(t,e)}}).sort(function(e,t){return e.delta-t.delta})[0].delimiter}function c(e,t){var n=void 0,r=void 0;try{if(N.default.COLUMN_SEPARATOR=t,n=N.default.parse(e),n[0].length<2)throw new Error("parser fail");r=n.map(function(e){return e.length}).reduce(function(e,t){return{deltaSum:e.deltaSum+Math.abs(e.length-t),length:t}},{deltaSum:0,length:n[0].length}).deltaSum}catch(e){r=1/0}return r}function d(e,t){e=p(e),N.default.COLUMN_SEPARATOR=t||u(e);var n=N.default.parse(e);n=n.map(function(e){return e.map(function(e){return e.trim()})});var r=n[0].filter(function(e,t){return t>0}).reduce(function(e,t){return e||!g(t)},!1),i=r?n.shift():[],o=n.slice(1).reduce(function(e,t){return e||!g(t[0])},!1),a=o?n.map(function(e){return e.shift()}):[];return o&&i.shift(),n=n[0].map(function(e,t){return n.map(function(e){return parseFloat(e[t])})}),{categories:a,series:n.map(function(e,t){return r?{name:i[t],data:e}:{data:e}})}}function f(e,t){var n=function(e){var n=d(e);t(n)},r=function(){return t(null)};M.default.get(e).done(n).fail(r)}function h(e){var t=["type","url"],n={};return O.default.isUndefined(e)?n:(e.split(j).forEach(function(e){var r=e.split($),i=r[0],o=r.slice(1),a=o.join($);if(i=i.trim(),0!==a.length){try{a=JSON.parse(a.trim())}catch(e){a=a.trim()}var l=i.split("."),s=l.slice(0),u=s[0];O.default.inArray(u,t)>=0?s.unshift("editorChart"):1===s.length?s.unshift("chart"):"x"!==u&&"y"!==u||(s[0]=u+"Axis");for(var c=n,d=0;d<s.length;d+=1){var f=s[d];c[f]=c[f]||(s.length-1===d?a:{}),c=c[f]}}}),n)}function p(e){return e.replace(/(^(\s*[\n\r])+)|([\n\r]+\s*$)/g,"")}function g(e){return!isNaN(e)&&isFinite(e)}function v(e,t,n){e=O.default.extend({editorChart:{},chart:{},chartExportMenu:{}},e),t=O.default.extend(W,t);var r=e.chart,i=r.width,o=r.height,a=O.default.isUndefined(i),l=O.default.isUndefined(o);if(a||l){var s=n.getBoundingClientRect(),u=s.width;i=a?t.width:i,o=l?t.height:o,i="auto"===i?u:i,o="auto"===o?u:o}return i=Math.min(t.maxWidth,i),o=Math.min(t.maxHeight,o),e.chart.width=Math.max(t.minWidth,i),e.chart.height=Math.max(t.minHeight,o),e.editorChart.type=e.editorChart.type?e.editorChart.type+"Chart":"columnChart",e.chartExportMenu.visible=e.chartExportMenu.visible||!1,e}function m(e,t){var n="chart-"+Math.random().toString(36).substr(2,10),r='<div id="'+n+'" class="chart" />';return setTimeout(function(){var r=document.querySelector("#"+n);try{l(e,function(e){var n=e.data,i=e.options;i=v(i,t,r);var o=i.editorChart.type;F.indexOf(o)<0?r.innerHTML="invalid chart type. type: bar, column, line, area, pie":U.indexOf(o)>-1&&n.categories.length!==n.series[0].data.length?r.innerHTML="invalid chart data":I.default[o](r,n,i)})}catch(e){r.innerHTML="invalid chart data"}},0),r}function y(e){return e.reduce(function(e,t){var n=t.map(function(e){return!g(e)&&e.indexOf(" ")>=0&&(e='"'+e+'"'),e});return e.push(n.join("\t")),e},[])}function _(e){var t=e.wwEditor.componentManager;t.removeManager("codeblock"),t.addManager(function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),E(t,[{key:"convertToCodeblock",value:function(e){if(1!==e.length||"TABLE"!==e[0].tagName)return C(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"convertToCodeblock",this).call(this,e);var n=(0,M.default)("<pre />"),r=e.shift(),i=[].slice.call(r.rows).map(function(e){return[].slice.call(e.cells).map(function(e){return e.innerText.trim()})}),o=y(i);return n.append(o.reduce(function(e,t){return e+"<div>"+t+"</div>"},[])),n.attr("data-te-codeblock",""),n[0]}}]),t}(R))}function b(e,t,n){var r="markdown"===t&&e.getTokenAt(n.from).state.overlay.codeBlock;return r=r||"codeblock"===t,r=r&&"wysiwyg"!==t}function w(e,t){var n=t.source,r=t.data;if(b(e,n,r)){var i=r.text.join("\n");if(0===c(i,"\t")){N.default.COLUMN_SEPARATOR="\t";var o=y(N.default.parse(i));r.update(r.from,r.to,o)}}}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.options.codeBlockLanguages;n&&n.indexOf(D)<0&&n.push(D),B.setReplacer(D,function(e){return m(e,t)}),e.isViewer()||(_(e),e.eventManager.listen("pasteBefore",function(t){return w(e.mdEditor.cm,t)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.setDefaultOptions=t.detectDelimiter=t.parseDSV2ChartData=t.parseCode2ChartOption=t.parseURL2ChartData=t.parseCode2DataAndOptions=void 0;var E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},T=n(0),M=r(T),S=n(1),O=r(S),x=n(57),I=r(x),L=n(5),A=r(L),P=n(161),N=r(P),R=A.default.WwCodeBlockManager,B=A.default.codeBlockManager,D="chart";N.default.IGNORE_QUOTE_WHITESPACE=!1,N.default.IGNORE_RECORD_LENGTH=!0,N.default.DETECT_TYPES=!1;var j=/[\n\r]/,H=[",","\t",/\s+/],$=":",F=["barChart","columnChart","lineChart","areaChart","pieChart"],U=["lineChart","areaChart"],W={minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,height:"auto",width:"auto"};A.default.defineExtension("chart",k),t.parseCode2DataAndOptions=l,t.parseURL2ChartData=f,t.parseCode2ChartOption=h,t.parseDSV2ChartData=d,t.detectDelimiter=u,t.setDefaultOptions=v},function(e,t){e.exports=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},u=n(1),c=r(u),d=n(31),f=r(d),h=n(22),p=r(h),g=n(65),v=r(g),m=n(32),y=r(m),_=n(66),b=r(_),w=p.default.getSharedInstance(),k=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.get(0),{mode:"gfm",dragDrop:!0,allowDropFileTypes:["image"],extraKeys:{Enter:"newlineAndIndentContinueMarkdownList",Tab:"indentOrderedList","Shift-Tab":"indentLessOrderedList"}}));return r.eventManager=n,r.componentManager=new y.default(r),r.componentManager.addManager(v.default),r._latestState=null,r._initEvent(),r}return a(t,e),l(t,[{key:"_initEvent",value:function(){var e=this;this.cm.getWrapperElement().addEventListener("click",function(){e.eventManager.emit("click",{source:"markdown"})}),this.cm.on("beforeChange",function(t,n){"paste"===n.origin&&e.eventManager.emit("pasteBefore",{source:"markdown",data:n})}),this.cm.on("change",function(t,n){e._emitMarkdownEditorContentChangedEvent(),e._emitMarkdownEditorChangeEvent(n)}),this.cm.on("focus",function(){e.eventManager.emit("focus",{source:"markdown"}),e.getEditor().refresh()}),this.cm.on("blur",function(){e.eventManager.emit("blur",{source:"markdown"})}),this.cm.on("scroll",function(t,n){e.eventManager.emit("scroll",{source:"markdown",data:n})}),this.cm.on("keydown",function(t,n){e.eventManager.emit("keydown",{source:"markdown",data:n}),e.eventManager.emit("keyMap",{source:"markdown",keyMap:w.convert(n),data:n})}),this.cm.on("keyup",function(t,n){e.eventManager.emit("keyup",{source:"markdown",data:n})}),this.cm.on("copy",function(t,n){e.eventManager.emit("copy",{source:"markdown",data:n})}),this.cm.on("cut",function(t,n){e.eventManager.emit("cut",{source:"markdown",data:n})}),this.cm.on("paste",function(t,n){e.eventManager.emit("paste",{source:"markdown",data:n})}),this.cm.on("drop",function(t,n){n.preventDefault(),e.eventManager.emit("drop",{source:"markdown",data:n})}),this.cm.on("cursorActivity",function(){var t=e.cm.getTokenAt(e.cm.getCursor()),n=t.state,r=n.base,i=n.overlay,o={bold:!!r.strong,italic:!!r.em,strike:!!r.strikethrough,code:!!i.code,codeBlock:!!i.codeBlock,quote:!!r.quote,list:!!r.list,task:!!r.taskList,source:"markdown"};e._latestState&&!e._isStateChanged(e._latestState,o)||(e.eventManager.emit("stateChange",o),e._latestState=o)})}},{key:"setValue",value:function(e,n){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e,n),this._emitMarkdownEditorContentChangedEvent()}},{key:"getTextObject",value:function(e){return new b.default(this,e)}},{key:"_emitMarkdownEditorContentChangedEvent",value:function(){this.eventManager.emit("contentChangedFromMarkdown",this)}},{key:"_emitMarkdownEditorChangeEvent",value:function(e){if("setValue"!==e.origin){var t={source:"markdown"};this.eventManager.emit("changeFromMarkdown",t),this.eventManager.emit("change",t)}}},{key:"_isStateChanged",value:function(e,t){var n=!1;return c.default.forEach(t,function(t,r){return!(n=e[r]!==t)}),n}}],[{key:"factory",value:function(e,n){return new t(e,n)}}]),t}(f.default);t.default=k},function(e,t,n){"use strict";function r(e,t,n,i){var o=void 0,a=void 0,s=void 0,u=void 0,c=n,d=i.getLine(e);do{var f=l.exec(d);if(o=f[1],a=f[4],s=f[5],(u=o.length)===t)i.replaceRange(""+o+c+a+s,{line:e,ch:0},{line:e,ch:d.length}),c+=1,e+=1;else{if(!(u>t))return e;e=r(e,u,1,i)}d=i.getLine(e)}while(l.test(d));return e}function i(e,t){for(var n=e,r=t.getLine(e);l.test(r);)n-=1,r=t.getLine(n);return e===n?n=-1:n+=1,n}var o=n(10),a=function(e){return e&&e.__esModule?e:{default:e}}(o),l=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/;a.default.commands.indentLessOrderedList=function(e){return e.getOption("disableInput")?a.default.Pass:(e.execCommand("indentLess"),e.execCommand("fixOrderedListNumber"),null)},a.default.commands.fixOrderedListNumber=function(e){if(e.getOption("disableInput"))return a.default.Pass;for(var t=e.listSelections(),n=0;n<t.length;n+=1){var o=t[n].head,s=i(o.line,e);if(s>=0){var u=e.getLine(s),c=l.exec(u),d=c[1],f=c[3];r(s,d.length,parseInt(f,10),e)}}return null}},function(e,t,n){"use strict";var r=n(10),i=function(e){return e&&e.__esModule?e:{default:e}}(r);i.default.overlayMode=function(e,t,n){return{startState:function(){return{base:i.default.startState(e),overlay:i.default.startState(t),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(n){return{base:i.default.copyState(e,n.base),overlay:i.default.copyState(t,n.overlay),basePos:n.basePos,baseCur:null,overlayPos:n.overlayPos,overlayCur:null}},token:function(r,i){return(r!=i.streamSeen||Math.min(i.basePos,i.overlayPos)<r.start)&&(i.streamSeen=r,i.basePos=i.overlayPos=r.start),r.start==i.basePos&&(i.baseCur=e.token(r,i.base),i.basePos=r.pos),r.start==i.overlayPos&&(r.pos=r.start,i.overlayCur=t.token(r,i.overlay),i.overlayPos=r.pos),r.pos=Math.min(i.basePos,i.overlayPos),null==i.overlayCur?i.baseCur:null!=i.baseCur&&i.overlay.combineTokens||n&&null==i.overlay.combineTokens?i.baseCur+" "+i.overlayCur:i.overlayCur},indent:e.indent&&function(t,n){return e.indent(t.base,n)},electricChars:e.electricChars,innerMode:function(t){return{state:t.base,mode:e}},blankLine:function(n){e.blankLine&&e.blankLine(n.base),t.blankLine&&t.blankLine(n.overlay)}}}},function(e,t,n){"use strict";var r=n(10),i=function(e){return e&&e.__esModule?e:{default:e}}(r);i.default.defineMode("markdown",function(e,t){function n(t){if(i.default.findModeByName){var n=i.default.findModeByName(t);n&&(t=n.mime||n.mimes[0])}var r=i.default.getMode(e,t);return"null"==r.name?null:r}function r(e,t,n){return t.f=t.inline=n,n(e,t)}function o(e,t,n){return t.f=t.block=n,n(e,t)}function a(e){return!e||!/\S/.test(e.string)}function l(e){if(e.linkTitle=!1,e.linkHref=!1,e.linkText=!1,e.em=!1,e.strong=!1,e.strikethrough=!1,e.quote=0,e.indentedCode=!1,e.f==u){var t=w;if(!t){var n=i.default.innerMode(b,e.htmlState);t="xml"==n.mode.name&&null===n.state.tagStart&&!n.state.context&&n.state.tokenize.isInText}t&&(e.f=h,e.block=s,e.htmlState=null)}return e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.prevLine=e.thisLine,e.thisLine={stream:null},null}function s(e,o){var l=e.column()===o.indentation,s=a(o.prevLine.stream),u=o.indentedCode,f=o.prevLine.hr,h=!1!==o.list,p=(o.listStack[o.listStack.length-1]||0)+3;o.indentedCode=!1;var g=o.indentation;if(null===o.indentationDiff&&(o.indentationDiff=o.indentation,h)){for(o.em=!1,o.strong=!1,o.code=!1,o.strikethrough=!1,o.list=null;g<o.listStack[o.listStack.length-1];)o.listStack.pop(),o.listStack.length?o.indentation=o.listStack[o.listStack.length-1]:o.list=!1;!1!==o.list&&(o.indentationDiff=g-o.listStack[o.listStack.length-1])}var v=!(s||f||o.prevLine.header||h&&u||o.prevLine.fencedCodeEnd),y=(!1===o.list||f||s)&&o.indentation<=p&&e.match(C),_=null;if(o.indentationDiff>=4&&(u||o.prevLine.fencedCodeEnd||o.prevLine.header||s))return e.skipToEnd(),o.indentedCode=!0,k.code;if(e.eatSpace())return null;if(l&&o.indentation<=p&&(_=e.match(S))&&_[1].length<=6)return o.quote=0,o.header=_[1].length,o.thisLine.header=!0,t.highlightFormatting&&(o.formatting="header"),o.f=o.inline,d(o);if(o.indentation<=p&&e.eat(">"))return o.quote=l?1:o.quote+1,t.highlightFormatting&&(o.formatting="quote"),e.eatSpace(),d(o);if(!y&&!o.setext&&l&&o.indentation<=p&&(_=e.match(T))){var b=_[1]?"ol":"ul";return o.indentation=g+e.current().length,o.list=!0,o.quote=0,o.listStack.push(o.indentation),t.taskLists&&e.match(M,!1)&&(o.taskList=!0),o.f=o.inline,t.highlightFormatting&&(o.formatting=["list","list-"+b]),d(o)}return l&&o.indentation<=p&&(_=e.match(I,!0))?(o.quote=0,o.fencedEndRE=new RegExp(_[1]+"+ *$"),o.localMode=t.fencedCodeBlockHighlighting&&n(_[2]),o.localMode&&(o.localState=i.default.startState(o.localMode)),o.f=o.block=c,t.highlightFormatting&&(o.formatting="code-block"),o.code=-1,d(o)):o.setext||!(v&&h||o.quote||!1!==o.list||o.code||y||L.test(e.string))&&(_=e.lookAhead(1))&&(_=_.match(O))?(o.setext?(o.header=o.setext,o.setext=0,e.skipToEnd(),t.highlightFormatting&&(o.formatting="header")):(o.header="="==_[0].charAt(0)?1:2,o.setext=o.header),o.thisLine.header=!0,o.f=o.inline,d(o)):y?(e.skipToEnd(),o.hr=!0,o.thisLine.hr=!0,k.hr):"["===e.peek()?r(e,o,m):r(e,o,o.inline)}function u(e,t){var n=b.token(e,t.htmlState);if(!w){var r=i.default.innerMode(b,t.htmlState);("xml"==r.mode.name&&null===r.state.tagStart&&!r.state.context&&r.state.tokenize.isInText||t.md_inside&&e.current().indexOf(">")>-1)&&(t.f=h,t.block=s,t.htmlState=null)}return n}function c(e,n){var r=n.listStack[n.listStack.length-1]||0,i=n.indentation<r,a=r+3;if(n.fencedEndRE&&n.indentation<=a&&(i||e.match(n.fencedEndRE))){t.highlightFormatting&&(n.formatting="code-block");var l;return i||(l=d(n)),n.localMode=n.localState=null,n.block=s,n.f=h,n.fencedEndRE=null,n.code=0,n.thisLine.fencedCodeEnd=!0,i?o(e,n,n.block):l}return n.localMode?n.localMode.token(e,n.localState):(e.skipToEnd(),k.code)}function d(e){var n=[];if(e.formatting){n.push(k.formatting),"string"==typeof e.formatting&&(e.formatting=[e.formatting]);for(var r=0;r<e.formatting.length;r++)n.push(k.formatting+"-"+e.formatting[r]),"header"===e.formatting[r]&&n.push(k.formatting+"-"+e.formatting[r]+"-"+e.header),"quote"===e.formatting[r]&&(!t.maxBlockquoteDepth||t.maxBlockquoteDepth>=e.quote?n.push(k.formatting+"-"+e.formatting[r]+"-"+e.quote):n.push("error"))}if(e.taskOpen)return n.push("meta"),n.length?n.join(" "):null;if(e.taskClosed)return n.push("property"),n.length?n.join(" "):null;if(e.linkHref?n.push(k.linkHref,"url"):(e.strong&&n.push(k.strong),e.em&&n.push(k.em),e.strikethrough&&n.push(k.strikethrough),e.emoji&&n.push(k.emoji),e.linkText&&n.push(k.linkText),e.code&&n.push(k.code),e.image&&n.push(k.image),e.imageAltText&&n.push(k.imageAltText,"link"),e.imageMarker&&n.push(k.imageMarker)),e.header&&n.push(k.header,k.header+"-"+e.header),e.quote&&(n.push(k.quote),!t.maxBlockquoteDepth||t.maxBlockquoteDepth>=e.quote?n.push(k.quote+"-"+e.quote):n.push(k.quote+"-"+t.maxBlockquoteDepth)),!1!==e.list){var i=(e.listStack.length-1)%3;i?1===i?n.push(k.list2):n.push(k.list3):n.push(k.list1)}return e.trailingSpaceNewLine?n.push("trailing-space-new-line"):e.trailingSpace&&n.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),n.length?n.join(" "):null}function f(e,t){if(e.match(x,!0))return d(t)}function h(e,n){var r=n.text(e,n);if(void 0!==r)return r;if(n.list)return n.list=null,d(n);if(n.taskList){return" "===e.match(M,!0)[1]?n.taskOpen=!0:n.taskClosed=!0,t.highlightFormatting&&(n.formatting="task"),n.taskList=!1,d(n)}if(n.taskOpen=!1,n.taskClosed=!1,n.header&&e.match(/^#+$/,!0))return t.highlightFormatting&&(n.formatting="header"),d(n);var a=e.next();if(n.linkTitle){n.linkTitle=!1;var l=a;"("===a&&(l=")"),l=(l+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var s="^\\s*(?:[^"+l+"\\\\]+|\\\\\\\\|\\\\.)"+l;if(e.match(new RegExp(s),!0))return k.linkHref}if("`"===a){var c=n.formatting;t.highlightFormatting&&(n.formatting="code"),e.eatWhile("`");var f=e.current().length;if(0!=n.code||n.quote&&1!=f){if(f==n.code){var v=d(n);return n.code=0,v}return n.formatting=c,d(n)}return n.code=f,d(n)}if(n.code)return d(n);if("\\"===a&&(e.next(),t.highlightFormatting)){var m=d(n),y=k.formatting+"-escape";return m?m+" "+y:y}if("!"===a&&e.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return n.imageMarker=!0,n.image=!0,t.highlightFormatting&&(n.formatting="image"),d(n);if("["===a&&n.imageMarker&&e.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return n.imageMarker=!1,n.imageAltText=!0,t.highlightFormatting&&(n.formatting="image"),d(n);if("]"===a&&n.imageAltText){t.highlightFormatting&&(n.formatting="image");var m=d(n);return n.imageAltText=!1,n.image=!1,n.inline=n.f=g,m}if("["===a&&!n.image)return n.linkText&&e.match(/^.*?\]/)?d(n):(n.linkText=!0,t.highlightFormatting&&(n.formatting="link"),d(n));if("]"===a&&n.linkText){t.highlightFormatting&&(n.formatting="link");var m=d(n);return n.linkText=!1,n.inline=n.f=e.match(/\(.*?\)| ?\[.*?\]/,!1)?g:h,m}if("<"===a&&e.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){n.f=n.inline=p,t.highlightFormatting&&(n.formatting="link");var m=d(n);return m?m+=" ":m="",m+k.linkInline}if("<"===a&&e.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){n.f=n.inline=p,t.highlightFormatting&&(n.formatting="link");var m=d(n);return m?m+=" ":m="",m+k.linkEmail}if(t.xml&&"<"===a&&e.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var _=e.string.indexOf(">",e.pos);if(-1!=_){/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(e.string.substring(e.start,_))&&(n.md_inside=!0)}return e.backUp(1),n.htmlState=i.default.startState(b),o(e,n,u)}if(t.xml&&"<"===a&&e.match(/^\/\w*?>/))return n.md_inside=!1,"tag";if("*"===a||"_"===a){for(var w=1,E=1==e.pos?" ":e.string.charAt(e.pos-2);w<3&&e.eat(a);)w++;var C=e.peek()||" ",T=!/\s/.test(C)&&(!A.test(C)||/\s/.test(E)||A.test(E)),S=!/\s/.test(E)&&(!A.test(E)||/\s/.test(C)||A.test(C)),O=null,x=null;if(w%2&&(n.em||!T||"*"!==a&&S&&!A.test(E)?n.em!=a||!S||"*"!==a&&T&&!A.test(C)||(O=!1):O=!0),w>1&&(n.strong||!T||"*"!==a&&S&&!A.test(E)?n.strong!=a||!S||"*"!==a&&T&&!A.test(C)||(x=!1):x=!0),null!=x||null!=O){t.highlightFormatting&&(n.formatting=null==O?"strong":null==x?"em":"strong em"),!0===O&&(n.em=a),!0===x&&(n.strong=a);var v=d(n);return!1===O&&(n.em=!1),!1===x&&(n.strong=!1),v}}else if(" "===a&&(e.eat("*")||e.eat("_"))){if(" "===e.peek())return d(n);e.backUp(1)}if(t.strikethrough)if("~"===a&&e.eatWhile(a)){if(n.strikethrough){t.highlightFormatting&&(n.formatting="strikethrough");var v=d(n);return n.strikethrough=!1,v}if(e.match(/^[^\s]/,!1))return n.strikethrough=!0,t.highlightFormatting&&(n.formatting="strikethrough"),d(n)}else if(" "===a&&e.match(/^~~/,!0)){if(" "===e.peek())return d(n);e.backUp(2)}if(t.emoji&&":"===a&&e.match(/^[a-z_\d+-]+:/)){n.emoji=!0,t.highlightFormatting&&(n.formatting="emoji");var I=d(n);return n.emoji=!1,I}return" "===a&&(e.match(/^ +$/,!1)?n.trailingSpace++:n.trailingSpace&&(n.trailingSpaceNewLine=!0)),d(n)}function p(e,n){if(">"===e.next()){n.f=n.inline=h,t.highlightFormatting&&(n.formatting="link");var r=d(n);return r?r+=" ":r="",r+k.linkInline}return e.match(/^[^>]+/,!0),k.linkInline}function g(e,n){if(e.eatSpace())return null;var r=e.next();return"("===r||"["===r?(n.f=n.inline=v("("===r?")":"]"),t.highlightFormatting&&(n.formatting="link-string"),n.linkHref=!0,d(n)):"error"}function v(e){return function(n,r){if(n.next()===e){r.f=r.inline=h,t.highlightFormatting&&(r.formatting="link-string");var i=d(r);return r.linkHref=!1,i}return n.match(P[e]),r.linkHref=!0,d(r)}}function m(e,n){return e.match(/^([^\]\\]|\\.)*\]:/,!1)?(n.f=y,e.next(),t.highlightFormatting&&(n.formatting="link"),n.linkText=!0,d(n)):r(e,n,h)}function y(e,n){if(e.match(/^\]:/,!0)){n.f=n.inline=_,t.highlightFormatting&&(n.formatting="link");var r=d(n);return n.linkText=!1,r}return e.match(/^([^\]\\]|\\.)+/,!0),k.linkText}function _(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=h,k.linkHref+" url")}var b=i.default.getMode(e,"text/html"),w="null"==b.name;void 0===t.highlightFormatting&&(t.highlightFormatting=!1),void 0===t.maxBlockquoteDepth&&(t.maxBlockquoteDepth=0),void 0===t.taskLists&&(t.taskLists=!1),void 0===t.strikethrough&&(t.strikethrough=!1),void 0===t.emoji&&(t.emoji=!1),void 0===t.fencedCodeBlockHighlighting&&(t.fencedCodeBlockHighlighting=!0),void 0===t.xml&&(t.xml=!0),void 0===t.tokenTypeOverrides&&(t.tokenTypeOverrides={});var k={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var E in k)k.hasOwnProperty(E)&&t.tokenTypeOverrides[E]&&(k[E]=t.tokenTypeOverrides[E]);var C=/^([*\-_])(?:\s*\1){2,}\s*$/,T=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,M=/^\[(x| )\](?=\s)/i,S=t.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,O=/^ *(?:\={1,}|-{1,})\s*$/,x=/^[^#!\[\]*_\\<>` "'(~:]+/,I=/^(~~~+|```+)[ \t]*([\w+#-]*)[^\n`]*$/,L=/^\s*\[[^\]]+?\]:.*$/,A=/[!\"#$%&\'()*+,\-\.\/:;<=>?@\[\\\]^_`{|}~]/,P={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/},N={startState:function(){return{f:s,prevLine:{stream:null},thisLine:{stream:null},block:s,htmlState:null,indentation:0,inline:h,text:f,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(e){return{f:e.f,prevLine:e.prevLine,thisLine:e.thisLine,block:e.block,htmlState:e.htmlState&&i.default.copyState(b,e.htmlState),indentation:e.indentation,localMode:e.localMode,localState:e.localMode?i.default.copyState(e.localMode,e.localState):null,inline:e.inline,text:e.text,formatting:!1,linkText:e.linkText,linkTitle:e.linkTitle,linkHref:e.linkHref,code:e.code,em:e.em,strong:e.strong,strikethrough:e.strikethrough,emoji:e.emoji,header:e.header,setext:e.setext,hr:e.hr,taskList:e.taskList,list:e.list,listStack:e.listStack.slice(0),quote:e.quote,indentedCode:e.indentedCode,trailingSpace:e.trailingSpace,trailingSpaceNewLine:e.trailingSpaceNewLine,md_inside:e.md_inside,fencedEndRE:e.fencedEndRE}},token:function(e,t){if(t.formatting=!1,e!=t.thisLine.stream){if(t.header=0,t.hr=!1,e.match(/^\s*$/,!0))return l(t),null;if(t.prevLine=t.thisLine,t.thisLine={stream:e},t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,!t.localState&&(t.f=t.block,t.f!=u)){var n=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(t.indentation=n,t.indentationDiff=null,n>0)return null}}return t.f(e,t)},innerMode:function(e){return e.block==u?{state:e.htmlState,mode:b}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:N}},indent:function(e,t,n){return e.block==u&&b.indent?b.indent(e.htmlState,t,n):e.localState&&e.localMode.indent?e.localMode.indent(e.localState,t,n):i.default.Pass},blankLine:l,getType:d,closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return N},"xml"),i.default.defineMIME("text/markdown","markdown"),i.default.defineMIME("text/x-markdown","markdown")},function(e,t,n){"use strict";var r=n(10),i=function(e){return e&&e.__esModule?e:{default:e}}(r);i.default.defineMode("gfm",function(e,t){function n(e){return e.code=!1,null}var r=0,o={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(e){return{code:e.code,codeBlock:e.codeBlock,ateSpace:e.ateSpace}},token:function(e,t){if(t.combineTokens=null,t.codeBlock)return e.match(/^```+/)?(t.codeBlock=!1,null):(e.skipToEnd(),null);if(e.sol()&&(t.code=!1),e.sol()&&e.match(/^```+/))return e.skipToEnd(),t.codeBlock=!0,null;if("`"===e.peek()){e.next();var n=e.pos;e.eatWhile("`");var i=1+e.pos-n;return t.code?i===r&&(t.code=!1):(r=i,t.code=!0),null}return t.code?(e.next(),null):e.eatSpace()?(t.ateSpace=!0,null):(e.next(),null)},blankLine:n},a={taskLists:!0,strikethrough:!0,emoji:!0};for(var l in t)a[l]=t[l];return a.name="markdown",i.default.overlayMode(i.default.getMode(e,a),o)},"markdown"),i.default.defineMIME("text/x-gfm","gfm")},function(e,t,n){"use strict";function r(e,t){var n=t.line,r=0,i=0,o=a.exec(e.getLine(n)),l=o[1];do{r+=1;var s=n+r,u=e.getLine(s),c=a.exec(u);if(c){var d=c[1],f=parseInt(o[3],10)+r-i,h=parseInt(c[3],10),p=h;if(l!==d||isNaN(h)){if(l.length>d.length)return;if(l.length<d.length&&1===r)return;i+=1}else f===h&&(p=h+1),f>h&&(p=f+1),e.replaceRange(u.replace(a,d+p+c[4]+c[5]),{line:s,ch:0},{line:s,ch:u.length})}}while(c)}var i=n(10),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,l=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,s=/[*+-]\s/;o.default.commands.indentOrderedList=function(e){if(e.getOption("disableInput"))return o.default.Pass;for(var t=e.listSelections(),n=0;n<t.length;n++){var r=t[n].head,i=e.getLine(r.line),l=i.substr(0,r.ch);a.test(l)||e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertSoftTab")}e.execCommand("fixOrderedListNumber")},o.default.commands.newlineAndIndentContinueMarkdownList=function(e){if(e.getOption("disableInput"))return o.default.Pass;for(var t=e.listSelections(),n=[],i=0;i<t.length;i++){var u=t[i].head,c=e.getStateAfter(u.line),d=!1!==c.list,f=0!==c.quote,h=e.getLine(u.line),p=a.exec(h),g=/^\s*$/.test(h.slice(0,u.ch));if(!t[i].empty()||!d&&!f||!p||g)return void e.execCommand("newlineAndIndent");if(l.test(h))/>\s*$/.test(h)||e.replaceRange("",{line:u.line,ch:0},{line:u.line,ch:u.ch+1}),n[i]="\n";else{var v=p[1],m=p[5],y=!(s.test(p[2])||p[2].indexOf(">")>=0),_=y?parseInt(p[3],10)+1+p[4]:p[2].replace("x"," ");n[i]="\n"+v+_+m,y&&r(e,u)}}e.replaceSelections(n)}},function(e,t,n){"use strict";function r(e){return i(e)&&e.anchor.ch===e.head.ch}function i(e){return e.anchor.line===e.head.line}function o(e,t,n,i){var o=e.getLine(n.line),a=e.getLine(n.line+i),l={anchor:t,head:n};e.replaceRange(a,{line:n.line,ch:0},{line:n.line,ch:o.length},"+input"),e.replaceRange(o,{line:n.line+i,ch:0},{line:n.line+i,ch:a.length},"+input"),r(l)?e.setCursor({line:n.line+i,ch:n.ch}):e.setSelection({line:t.line+i,ch:t.ch},{line:n.line+i,ch:n.ch})}function a(e,t,n,r){var i=e.getRange({line:t.line,ch:0},{line:n.line,ch:e.getLine(n.line).length}),o=r>0?n:t,a=e.getLine(o.line+r),l=void 0;l=r>0?t:n,e.replaceRange(a,{line:l.line,ch:0},{line:l.line,ch:e.getLine(l.line).length},"+input"),e.replaceRange(i,{line:t.line+r,ch:0},{line:n.line+r,ch:e.getLine(n.line+r).length},"+input"),e.setSelection({line:t.line+r,ch:t.ch},{line:n.line+r,ch:n.ch})}var l=n(10),s=function(e){return e&&e.__esModule?e:{default:e}}(l);s.default.commands.replaceLineTextToUpper=function(e){if(e.getOption("disableInput"))return s.default.Pass;for(var t=e.listSelections(),n=0;n<t.length;n++){var l=t[n],u=l.anchor,c=l.head;if(i(l)&&c.line>0)o(e,u,c,-1);else if(!r(l)){var d=u.line<c.line?u.line:c.line;if(d>0){var f=u.line===d?u:c,h=u.line===d?c:u;a(e,f,h,-1)}}}},s.default.commands.replaceLineTextToLower=function(e){if(e.getOption("disableInput"))return s.default.Pass;for(var t=e.listSelections(),n=0;n<t.length;n++){var l=t[n],u=l.anchor,c=l.head,d=c.line===e.lastLine();if(i(l)&&!d)o(e,u,c,1);else if(!r(l)){var f=u.line<c.line?u.line:c.line,h=u.line===f?u:c,p=u.line===f?c:u;p.line<e.lastLine()&&a(e,h,p,1)}}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=/^[ \t]*[\d]+\. .*/,a=/^[ \t]*[-*] .*/,l=/^[ \t]*[-*]( \[[ xX]])? .*/,s=/^\|([-\s\w\d\t<>?!@#$%^&*()_=+\\\/'";: \r[\]]*\|+)+/i,u=/^#+\s/,c=/^ {0,3}(```|\||>)/,d=function(){function e(t){r(this,e),this.mde=t,this.eventManager=t.eventManager,this.name="list"}return i(e,[{key:"isListOrParagraph",value:function(e){return!c.test(e)&&!s.test(e)&&!u.test(e)}},{key:"appendBlankLineIfNeed",value:function(e,t,n,r){var i=e.getDoc(),o=0,a=r!==n,l=i.getLine(this._getEndLineNumberOfList(i,n)+1),s=i.getLine(this._getStartLineNumberOfList(i,r)-1),u=i.getLine(t+1);(a&&this._isNeedAppendBlankLine(l)||!a&&this._isNeedAppendBlankLine(u))&&i.replaceRange("\n",{line:t,ch:i.getLine(t).length});var c=i.getLine(t-1);if((a&&this._isNeedAppendBlankLine(s)||!a&&this._isNeedAppendBlankLine(c))&&(i.replaceRange("\n",{line:r,ch:0}),o+=1),!a){var d=t+o;e.setCursor(d,i.getLine(d).length)}}},{key:"_isNeedAppendBlankLine",value:function(e){return e&&0!==e.length&&!this._isAList(e)}},{key:"createSortedLineRange",value:function(e){var t=e.from.line>e.to.line;return{start:{line:t?e.to.line:e.from.line,ch:0}.line,end:{line:t?e.from.line:e.to.line,ch:0}.line}}},{key:"expandLineRangeIfNeed",value:function(e,t,n){var r=this.createSortedLineRange(t),i=r.start,o=r.end,a=this._isDifferentListType(n,e.getLine(i)),l=this._isDifferentListType(n,e.getLine(o));return a&&(i=this._getStartLineNumberOfList(e,i)),l&&(o=this._getEndLineNumberOfList(e,o)),{start:i,end:o}}},{key:"replaceLineText",value:function(e,t,n,r){var i=e.getLine(t),o={line:t,ch:0},a={line:t,ch:i.length};i=i.replace(n,r),e.replaceRange(i,o,a)}},{key:"_isDifferentListType",value:function(e,t){return t&&0!==t.length&&e.call(this,t)}},{key:"_isAList",value:function(e){return e&&0!==e.length&&this._isListLine(e)}},{key:"_isListLine",value:function(e){return!!(e.match(l)||e.match(a)||e.match(o))}},{key:"_getStartLineNumberOfList",value:function(e,t){var n=void 0;for(n=t;n>0;n-=1){var r=e.getLine(n-1);if(!r||!this._isListLine(r))break}return n}},{key:"_getEndLineNumberOfList",value:function(e,t){var n=e.lineCount(),r=void 0;for(r=t;r<n;r+=1){var i=e.getLine(r+1);if(!i||!this._isListLine(i))break}return r}}]),e}();t.default=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){r(this,e),this._mde=t,this.setRange(n||t.getRange())}return i(e,[{key:"_setStart",value:function(e){this._start=e}},{key:"_setEnd",value:function(e){this._end=e}},{key:"setRange",value:function(e){this._setStart(e.start),this._setEnd(e.end)}},{key:"setEndBeforeRange",value:function(e){this._setEnd(e.start)}},{key:"expandStartOffset",value:function(){var e=this._start;0!==e.ch&&(e.ch-=1)}},{key:"expandEndOffset",value:function(){var e=this._end;e.ch<this._mde.getEditor().getDoc().getLine(e.line).length&&(e.ch+=1)}},{key:"getTextContent",value:function(){return this._mde.getEditor().getRange(this._start,this._end)}},{key:"replaceContent",value:function(e){this._mde.getEditor().replaceRange(e,this._start,this._end,"+input")}},{key:"deleteContent",value:function(){this._mde.getEditor().replaceRange("",this._start,this._end,"+delete")}},{key:"peekStartBeforeOffset",value:function(e){var t={line:this._start.line,ch:Math.max(this._start.ch-e,0)};return this._mde.getEditor().getRange(t,this._start)}}]),e}();t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(){function e(){r(this,e),this.globalTOID=null,this.lazyRunFunctions={}}return i(e,[{key:"run",value:function(e,t,n,r){var i=void 0;return a.default.isString(e)?i=this._runRegisteredRun(e,t,n,r):(i=this._runSingleRun(e,t,n,r,this.globalTOID),this.globalTOID=i),i}},{key:"registerLazyRunFunction",value:function(e,t,n,r){r=r||this,this.lazyRunFunctions[e]={fn:t,delay:n,context:r,TOID:null}}},{key:"_runSingleRun",value:function(e,t,n,r,i){return this._clearTOIDIfNeed(i),i=setTimeout(function(){e.call(n,t)},r)}},{key:"_runRegisteredRun",value:function(e,t,n,r){var i=this.lazyRunFunctions[e],o=i.fn,a=i.TOID;return r=r||i.delay,n=n||i.context,a=this._runSingleRun(o,t,n,r,a),i.TOID=a,a}},{key:"_clearTOIDIfNeed",value:function(e){e&&clearTimeout(e)}}]),e}();t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),l=r(a),s=n(1),u=r(s),c=n(4),d=r(c),f=n(69),h=r(f),p=n(71),g=r(p),v=n(72),m=r(v),y=n(36),_=r(y),b=n(37),w=r(b),k=n(73),E=r(k),C=n(74),T=r(C),M=n(75),S=r(M),O=n(38),x=r(O),I=n(76),L=r(I),A=n(22),P=r(A),N=n(78),R=r(N),B=n(32),D=r(B),j=n(79),H=r(j),$=P.default.getSharedInstance(),F=/<(.+)>(<br>|<br \/>|<BR>|<BR \/>)<\/\1>/g,U=/(?:<br>|<br \/>|<BR>|<BR \/>)<\/(.+?)>/g,W=/\b(H[\d]|LI|P|BLOCKQUOTE|TD|PRE)\b/,q="undefined"!=typeof MutationObserver,V=function(){function e(t,n){var r=this;i(this,e),this.componentManager=new D.default(this),this.eventManager=n,this.$editorContainerEl=t,this._height=0,this._silentChange=!1,this._keyEventHandlers={},this._managers={},this._initEvent(),this._initDefaultKeyEventHandler(),this.debouncedPostProcessForChange=u.default.debounce(function(){return r.postProcessForChange()},0)}return o(e,[{key:"init",value:function(){var e=(0,l.default)("<div />");this.$editorContainerEl.append(e),this.editor=new L.default(e[0],{blockTag:"DIV",leafNodeNames:{HR:!1}}),this.editor.blockCommandShortcuts(),this._clipboardManager=new h.default(this),this._initSquireEvent(),this._clipboardManager.init(),this.get$Body().addClass("tui-editor-contents"),this.$editorContainerEl.css("position","relative"),this.codeBlockGadget=new H.default({eventManager:this.eventManager,container:this.$editorContainerEl,wysiwygEditor:this})}},{key:"_preprocessForInlineElement",value:function(e){return e.replace(/<br>( *)<img/g,"<br><br>$1<img")}},{key:"_initEvent",value:function(){var e=this;this.eventManager.listen("wysiwygSetValueBefore",function(t){return e._preprocessForInlineElement(t)}),this.eventManager.listen("wysiwygKeyEvent",function(t){return e._runKeyEventHandlers(t.data,t.keyMap)}),this.eventManager.listen("wysiwygRangeChangeAfter",function(){return e.scrollIntoCursor()})}},{key:"addKeyEventHandler",value:function(e,t){var n=this;t||(t=e,e="DEFAULT"),u.default.isArray(e)||(e=[e]),e.forEach(function(e){n._keyEventHandlers[e]||(n._keyEventHandlers[e]=[]),n._keyEventHandlers[e].push(t)})}},{key:"removeKeyEventHandler",value:function(e,t){t||(t=e,e="DEFAULT");var n=this._keyEventHandlers[e];n&&(this._keyEventHandlers[e]=n.filter(function(e){return e!==t}))}},{key:"_runKeyEventHandlers",value:function(e,t){var n=this.getRange(),r=void 0,i=void 0;r=this._keyEventHandlers.DEFAULT,r&&u.default.forEachArray(r,function(r){return i=r(e,n,t)}),(r=this._keyEventHandlers[t])&&!1!==i&&u.default.forEachArray(r,function(r){return r(e,n,t)})}},{key:"_initSquireEvent",value:function(){var e=this,t=this.getEditor(),n=!1;t.addEventListener("copy",function(t){e.eventManager.emit("copy",{source:"wysiwyg",data:t}),u.default.debounce(function(){e.isEditorValid()&&e.eventManager.emit("copyAfter",{source:"wysiwyg",data:t})})()}),t.addEventListener(u.default.browser.msie?"beforecut":"cut",function(t){e.eventManager.emit("cut",{source:"wysiwyg",data:t}),u.default.debounce(function(){e.isEditorValid()&&e.eventManager.emit("cutAfter",{source:"wysiwyg",data:t})})()}),t.addEventListener(u.default.browser.msie?"beforepaste":"paste",function(t){e.eventManager.emit("paste",{source:"wysiwyg",data:t})}),t.addEventListener("dragover",function(e){return e.preventDefault(),!1}),t.addEventListener("drop",function(t){return t.preventDefault(),e.eventManager.emit("drop",{source:"wysiwyg",data:t}),!1}),t.addEventListener("input",u.default.debounce(function(){if(e.isEditorValid()){if(e._silentChange)e._silentChange=!1;else{var t={source:"wysiwyg"};e.eventManager.emit("changeFromWysiwyg",t),e.eventManager.emit("change",t),e.eventManager.emit("contentChangedFromWysiwyg",e)}e.getEditor().preserveLastLine()}},0)),t.addEventListener("keydown",function(t){e.getEditor().getSelection().collapsed||(n=!0),e.eventManager.emit("keydown",{source:"wysiwyg",data:t}),e._onKeyDown(t)}),u.default.browser.firefox&&(t.addEventListener("keypress",function(t){var r=t.keyCode;if(13===r||9===r){e.getEditor().getSelection().collapsed||(n=!0),e.eventManager.emit("keydown",{source:"wysiwyg",data:t}),e._onKeyDown(t)}}),t.addEventListener("keyup",function(){var t=e.getRange();if(d.default.isTextNode(t.commonAncestorContainer)&&d.default.isTextNode(t.commonAncestorContainer.previousSibling)){var n=t.commonAncestorContainer.previousSibling.length,r=t.commonAncestorContainer;t.commonAncestorContainer.previousSibling.appendData(t.commonAncestorContainer.data),t.setStart(t.commonAncestorContainer.previousSibling,n+t.startOffset),t.collapse(!0),r.parentNode.removeChild(r),e.setRange(t),t.detach()}})),t.addEventListener("keyup",function(t){n&&(e.debouncedPostProcessForChange(),n=!1),e.eventManager.emit("keyup",{source:"wysiwyg",data:t})}),this.$editorContainerEl.on("scroll",function(t){e.eventManager.emit("scroll",{source:"wysiwyg",data:t})}),t.addEventListener("click",function(t){e.eventManager.emit("click",{source:"wysiwyg",data:t})}),t.addEventListener("mousedown",function(t){e.eventManager.emit("mousedown",{source:"wysiwyg",data:t})}),t.addEventListener("mouseover",function(t){e.eventManager.emit("mouseover",{source:"wysiwyg",data:t})}),t.addEventListener("mouseout",function(t){e.eventManager.emit("mouseout",{source:"wysiwyg",data:t})}),t.addEventListener("mouseup",function(t){e.eventManager.emit("mouseup",{source:"wysiwyg",data:t})}),t.addEventListener("contextmenu",function(t){e.eventManager.emit("contextmenu",{source:"wysiwyg",data:t})}),t.addEventListener("focus",function(){e.eventManager.emit("focus",{source:"wysiwyg"})}),t.addEventListener("blur",function(){e.fixIMERange(),e.eventManager.emit("blur",{source:"wysiwyg"})}),t.addEventListener("pathChange",function(t){var n={bold:/(>B|>STRONG|^B$|^STRONG$)/.test(t.path),italic:/(>I|>EM|^I$|^EM$)/.test(t.path),strike:/(^S>|>S$|>S>|^S$)/.test(t.path),code:/CODE/.test(t.path),codeBlock:/PRE/.test(t.path),quote:/BLOCKQUOTE/.test(t.path),list:/LI(?!.task-list-item)/.test(e._getLastLiString(t.path)),task:/LI.task-list-item/.test(e._getLastLiString(t.path)),source:"wysiwyg"};e.eventManager.emit("stateChange",n)}),t.addEventListener("willPaste",function(t){e.eventManager.emit("willPaste",{source:"wysiwyg",data:t})})}},{key:"_getLastLiString",value:function(e){var t=/LI[^UO]*$/.exec(e);return t?t[0]:""}},{key:"_onKeyDown",value:function(e){var t=$.convert(e);e.keyCode&&(this.eventManager.emit("keyMap",{source:"wysiwyg",keyMap:t,data:e}),e.defaultPrevented||this.eventManager.emit("wysiwygKeyEvent",{keyMap:t,data:e}))}},{key:"_initDefaultKeyEventHandler",value:function(){var e=this;this.addKeyEventHandler("ENTER",function(t,n){e._isInOrphanText(n)&&e.defer(function(){e._wrapDefaultBlockToOrphanTexts(),e.breakToNewDefaultBlock(n,"before")}),e.defer(function(){return e.scrollIntoCursor()})}),this.addKeyEventHandler("TAB",function(t){var n=e.getEditor(),r=n.getSelection(),i=r.collapsed&&e._isCursorNotInRestrictedAreaOfTabAction(n),o=!r.collapsed&&d.default.isTextNode(r.commonAncestorContainer);return t.preventDefault(),!i&&!o||(n.insertPlainText(""),!1)})}},{key:"_wrapDefaultBlockToOrphanTexts",value:function(){this.get$Body().contents().filter(this.findTextNodeFilter).each(function(e,t){t.nextSibling&&"BR"===t.nextSibling.tagName&&(0,l.default)(t.nextSibling).remove(),(0,l.default)(t).wrap("<div />")})}},{key:"_isInOrphanText",value:function(e){return e.startContainer.nodeType===Node.TEXT_NODE&&e.startContainer.parentNode===this.get$Body()[0]}},{key:"_wrapDefaultBlockTo",value:function(e){this.saveSelection(e),this._joinSplitedTextNodes(),this.restoreSavedSelection(),e=this.getRange();var t=e.startContainer,n=e.startOffset,r=this.getEditor().createDefaultBlock([e.startContainer]),i=d.default.getChildNodeByOffset(e.startContainer,e.startOffset);i?e.setStartBefore(i):e.selectNodeContents(e.startContainer),e.collapse(!0),e.insertNode(r),e.setStart(t,n),e.collapse(!0),this.setRange(e)}},{key:"findTextNodeFilter",value:function(){return this.nodeType===Node.TEXT_NODE}},{key:"_joinSplitedTextNodes",value:function(){var e=void 0,t=void 0,n=[];this.get$Body().contents().filter(this.findTextNodeFilter).each(function(r,i){e===i.previousSibling?(t.nodeValue+=i.nodeValue,n.push(i)):t=i,e=i}),(0,l.default)(n).remove()}},{key:"saveSelection",value:function(e){e||(e=this.getRange()),this.getEditor()._saveRangeToBookmark(e)}},{key:"setSelectionByContainerAndOffset",value:function(e,t,n,r){var i=this.getEditor(),o=i.getSelection();return o.setStart(e,t),o.setEnd(n,r),i.setSelection(o),o}},{key:"restoreSavedSelection",value:function(){this.setRange(this.getEditor()._getRangeAndRemoveBookmark())}},{key:"reset",value:function(){this.setValue("")}},{key:"changeBlockFormatTo",value:function(e){this.getEditor().changeBlockFormatTo(e),this.eventManager.emit("wysiwygRangeChangeAfter",this)}},{key:"makeEmptyBlockCurrentSelection",value:function(){var e=this;this.getEditor().modifyBlocks(function(t){return t.textContent||(t=e.getEditor().createDefaultBlock()),t})}},{key:"focus",value:function(){var e=this.scrollTop();this.editor.focus(),e!==this.scrollTop()&&this.scrollTop(e)}},{key:"blur",value:function(){this.editor.blur()}},{key:"remove",value:function(){this.getEditor().destroy(),this.editor=null,this.$body=null,this.eventManager=null}},{key:"setHeight",value:function(e){this._height=e,this.$editorContainerEl.css("overflow","auto"),this.$editorContainerEl.css("height","100%"),this.$editorContainerEl.parent().height(e);var t=parseInt(this.$editorContainerEl.css("padding-top"),10)-parseInt(this.$editorContainerEl.css("padding-bottom"),10),n=parseInt(this.get$Body().css("margin-top"),10)-parseInt(this.get$Body().css("margin-bottom"),10);this.get$Body().css("min-height",e-n-t+"px")}},{key:"setMinHeight",value:function(e){this.get$Body().get(0).style.minHeight=e+"px"}},{key:"setValue",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e=this.eventManager.emitReduce("wysiwygSetValueBefore",e),this.editor.setHTML(e),this.eventManager.emit("wysiwygSetValueAfter",this),this.eventManager.emit("contentChangedFromWysiwyg",this),t&&this.moveCursorToEnd(),this.getEditor().preserveLastLine(),this.getEditor().removeLastUndoStack(),this.getEditor().saveUndoState()}},{key:"insertText",value:function(e){this.editor.insertPlainText(e)}},{key:"getValue",value:function(){this._prepareGetHTML();var e=this.editor.getHTML();return e=e.replace(F,function(e,t){return"li"===t?e:"td"===t||"th"===t?"<"+t+"></"+t+">":"<br />"}),e=e.replace(U,"</$1>"),e=e.replace(/<div[^>]*>/g,""),e=e.replace(/<\/div>/g,"<br />"),e=this.eventManager.emitReduce("wysiwygProcessHTMLText",e)}},{key:"_prepareGetHTML",value:function(){var e=this;this.getEditor().modifyDocument(function(){e._joinSplitedTextNodes(),e.eventManager.emit("wysiwygGetValueBefore",e)})}},{key:"postProcessForChange",value:function(){var e=this;this.isEditorValid()&&this.getEditor().modifyDocument(function(){e.eventManager.emit("wysiwygRangeChangeAfter",e)})}},{key:"readySilentChange",value:function(){q&&!this.getEditor().isIgnoreChange()&&(this._silentChange=!0)}},{key:"getEditor",value:function(){return this.editor}},{key:"replaceSelection",value:function(e,t){this.getEditor().replaceSelection(e,t)}},{key:"replaceRelativeOffset",value:function(e,t,n){this.getEditor().replaceRelativeOffset(e,t,n)}},{key:"addWidget",value:function(e,t,n,r){var i=this.getEditor().getSelectionPosition(e,n,r),o=this.$editorContainerEl.offset();this.$editorContainerEl.append(t),(0,l.default)(t).css({position:"absolute",top:i.top-o.top+this.scrollTop(),left:i.left-o.left})}},{key:"get$Body",value:function(){return this.getEditor().get$Body()}},{key:"hasFormatWithRx",value:function(e){return this.getEditor().getPath().match(e)}},{key:"breakToNewDefaultBlock",value:function(e,t){var n=this.editor.createDefaultBlock(),r=d.default.getChildNodeByOffset(e.startContainer,e.startOffset)||d.default.getChildNodeByOffset(e.startContainer,e.startOffset-1),i=d.default.getParentUntil(r,this.get$Body()[0]);"before"===t?(0,l.default)(i).before(n):(0,l.default)(i).after(n),e.setStart(n,0),e.collapse(!0),this.setRange(e)}},{key:"replaceContentText",value:function(e,t,n){var r=(0,l.default)(e).html();(0,l.default)(e).html(r.replace(t,n))}},{key:"unwrapBlockTag",value:function(e){e||(e=function(e){return W.test(e)}),this.getEditor().changeBlockFormat(e),this.eventManager.emit("wysiwygRangeChangeAfter",this)}},{key:"scrollIntoCursor",value:function(){var e=this.scrollTop(),t=this.getEditor().getCursorPosition(),n=t.top,r=t.height,i=this.$editorContainerEl.get(0).getBoundingClientRect(),o=i.top,a=i.height,l=n-o,s=n+r-(o+a);l<0?this.scrollTop(e+l):s>0&&this.scrollTop(e+s)}},{key:"moveCursorToEnd",value:function(){this.getEditor().moveCursorToEnd(),this.scrollIntoCursor(),this._correctRangeAfterMoveCursor("end")}},{key:"moveCursorToStart",value:function(){this.getEditor().moveCursorToStart(),this.scrollTop(0)}},{key:"scrollTop",value:function(e){return u.default.isUndefined(e)?this.$editorContainerEl.scrollTop():this.$editorContainerEl.scrollTop(e)}},{key:"_correctRangeAfterMoveCursor",value:function(e){var t=this.getRange(),n=this.get$Body().get(0);if("start"===e)for(;n.firstChild;)n=n.firstChild;else for(;n.lastChild;)n=n.lastChild;"BR"===n.tagName?t.setStartBefore(n):t.setStartAfter(n),t.collapse(!0),this.setRange(t)}},{key:"getRange",value:function(){return this.getEditor().getSelection().cloneRange()}},{key:"getIMERange",value:function(){var e=void 0,t=getSelection();return t&&t.rangeCount&&(e=t.getRangeAt(0).cloneRange()),e}},{key:"fixIMERange",value:function(){var e=this.getIMERange();e&&(0,l.default)(e.commonAncestorContainer).closest(this.$editorContainerEl).length&&this.setRange(e)}},{key:"setRange",value:function(e){this.getEditor().setSelection(e)}},{key:"getTextObject",value:function(e){return new R.default(this,e)}},{key:"defer",value:function(e,t){var n=this,r=t||0;setTimeout(function(){n.isEditorValid()&&e(n)},r)}},{key:"isEditorValid",value:function(){return this.getEditor()&&l.default.contains(this.$editorContainerEl[0].ownerDocument,this.$editorContainerEl[0])}},{key:"_isCursorNotInRestrictedAreaOfTabAction",value:function(e){return!e.hasFormat("li")&&!e.hasFormat("blockquote")&&!e.hasFormat("table")}}],[{key:"factory",value:function(t,n,r){var i=new e(t,n,r);return i.init(),i.componentManager.addManager(g.default),i.componentManager.addManager(m.default),i.componentManager.addManager(w.default),i.componentManager.addManager(_.default),i.componentManager.addManager(E.default),i.componentManager.addManager(T.default),i.componentManager.addManager(S.default),i.componentManager.addManager(x.default),i}}]),e}();t.default=V},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),l=r(a),s=n(1),u=r(s),c=n(4),d=r(c),f=n(70),h=r(f),p=n(3),g=r(p),v=function(){function e(t){i(this,e),this.wwe=t,this._pch=new h.default(this.wwe),this._selectedSellCount=0,this._$clipboardArea=null}return o(e,[{key:"init",value:function(){var e=this;this.wwe.eventManager.listen("willPaste",function(t){return e._onWillPaste(t.data)}),this.wwe.eventManager.listen("copy",this._onCopyCut.bind(this)),this.wwe.eventManager.listen("copyAfter",this._onCopyAfter.bind(this)),this.wwe.eventManager.listen("cut",this._onCopyCut.bind(this)),this.wwe.eventManager.listen("cutAfter",this._onCutAfter.bind(this))}},{key:"_onCopyCut",value:function(e){var t=this.wwe.componentManager.getManager("tableSelection");if(t.getSelectedCells().length){if(!t.mergedTableSelectionManager)return t.createRangeBySelectedCells(),void t.removeClassAttrbuteFromAllCellsIfNeed();var n=this.wwe.getEditor(),r=e.data,i=n.getSelection().cloneRange(),o=(0,l.default)("<div />");this._extendRange(i),o.append(i.cloneContents()),this._updateCopyDataForListTypeIfNeed(i,o),this.wwe.eventManager.emit("copyBefore",{source:"wysiwyg",$clipboardContainer:o}),this._setClipboardData(r,o.html(),o.text())}}},{key:"_clearClipboardArea",value:function(){this._$clipboardArea&&(this._$clipboardArea.remove(),this._$clipboardArea=null)}},{key:"_onCopyAfter",value:function(){this.wwe.getEditor().get$Body().focus(),this._clearClipboardArea()}},{key:"_onCutAfter",value:function(){this.wwe.getEditor().getSelection().deleteContents(),this.wwe.getEditor().focus(),this._clearClipboardArea()}},{key:"_onWillPaste",value:function(e){var t=this,n=(0,l.default)("<div>").append(e.fragment.cloneNode(!0));this._setTableBookmark(n),this._pasteToTable(n)?e.preventDefault():(this._preparePaste(n),this._setTableBookmark(n),e.fragment=document.createDocumentFragment(),(0,l.default)(n[0].childNodes).each(function(t,n){e.fragment.appendChild(n)}));var r=function e(){t.wwe.getEditor().removeEventListener("input",e),t.wwe.eventManager.emit("wysiwygRangeChangeAfter",t),t._focusTableBookmark()};this.wwe.getEditor().addEventListener("input",r)}},{key:"_setClipboardData",value:function(e,t,n){u.default.browser.msie?(e.squirePrevented=!0,this._$clipboardArea=this._createClipboardArea(),this._$clipboardArea.html(t),this._$clipboardArea.focus(),window.getSelection().selectAllChildren(this._$clipboardArea[0])):(e.preventDefault(),e.stopPropagation(),e.clipboardData.setData("text/html",t),e.clipboardData.setData("text/plain",n))}},{key:"_createClipboardArea",value:function(){return(0,l.default)("<DIV>").attr({contenteditable:"true",style:"position:fixed; overflow:hidden; top:0; right:100%; width:1px; height:1px;"}).appendTo(document.body)}},{key:"_updateCopyDataForListTypeIfNeed",value:function(e,t){var n=e.commonAncestorContainer.nodeName;if("UL"===n||"OL"===n){var r=(0,l.default)("<"+n+" />");r.append(t.html()),t.html(""),t.append(r)}}},{key:"_removeEmptyFontElement",value:function(e){e.children("font").each(function(e,t){var n=(0,l.default)(t);n.text().trim()||n.remove()})}},{key:"_pasteToTable",value:function(e){var t=this.wwe.componentManager.getManager("table"),n=this.wwe.componentManager.getManager("tableSelection"),r=this.wwe.getEditor().getSelection(),i=t.isInTable(r),o=e.get(0),a=o.childNodes,l=1===a.length&&"TABLE"===a[0].nodeName,s=!1;return i&&(l?(t.pasteClipboardData(e.first()),e.html(""),s=!0):n.getSelectedCells().length&&(alert(g.default.get("Cannot paste values other than a table in the cell selection state")),e.html(""),s=!0)),s}},{key:"_preparePaste",value:function(e){this._removeEmptyFontElement(e),this._pch.preparePaste(e),this.wwe.eventManager.emit("pasteBefore",{source:"wysiwyg",$clipboardContainer:e})}},{key:"_setTableBookmark",value:function(e){var t=(0,l.default)(e[0].childNodes).last();t[0]&&"TABLE"===t[0].nodeName&&t.addClass("tui-paste-table-bookmark")}},{key:"_focusTableBookmark",value:function(){var e=this.wwe.getEditor(),t=e.getSelection().cloneRange(),n=e.get$Body().find(".tui-paste-table-bookmark"),r=e.get$Body().find(".tui-paste-table-cell-bookmark");n.length&&(n.removeClass("tui-paste-table-bookmark"),t.setEndAfter(n[0]),t.collapse(!1),e.setSelection(t)),r.length&&(r.removeClass("tui-paste-table-cell-bookmark"),t.selectNodeContents(r[0]),t.collapse(!1),e.setSelection(t))}},{key:"_extendRange",value:function(e){(!d.default.isTextNode(e.commonAncestorContainer)||0===e.startOffset&&e.commonAncestorContainer.textContent.length===e.endOffset||"TD"===e.commonAncestorContainer.nodeName)&&(0===e.startOffset&&(e=this._extendStartRange(e)),e.endOffset===d.default.getOffsetLength(e.endContainer)&&(e=this._extendEndRange(e)),this._isWholeCommonAncestorContainerSelected(e)&&e.selectNode(e.commonAncestorContainer),this.wwe.getEditor().setSelection(e))}},{key:"_extendStartRange",value:function(e){for(var t=e.startContainer;t.parentNode!==e.commonAncestorContainer&&t.parentNode!==this.wwe.get$Body()[0]&&!t.previousSibling;)t=t.parentNode;return e.setStart(t.parentNode,d.default.getNodeOffsetOfParent(t)),e}},{key:"_extendEndRange",value:function(e){for(var t=e.endContainer,n=t.nextSibling;t.parentNode!==e.commonAncestorContainer&&t.parentNode!==this.wwe.get$Body()[0]&&(!n||"BR"===d.default.getNodeName(n)&&t.parentNode.lastChild===n);)t=t.parentNode,n=t.nextSibling;return e.setEnd(t.parentNode,d.default.getNodeOffsetOfParent(t)+1),e}},{key:"_isWholeCommonAncestorContainerSelected",value:function(e){return e.commonAncestorContainer.nodeType===Node.ELEMENT_NODE&&e.commonAncestorContainer!==this.wwe.get$Body()[0]&&0===e.startOffset&&e.endOffset===e.commonAncestorContainer.childNodes.length&&e.commonAncestorContainer===e.startContainer&&e.commonAncestorContainer===e.endContainer}}]),e}();t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),l=r(a),s=n(1),u=r(s),c=n(4),d=r(c),f=n(35),h=r(f),p=function(){function e(t){i(this,e),this.wwe=t}return o(e,[{key:"preparePaste",value:function(e){var t=this.wwe.getEditor().getSelection().cloneRange(),n=this.wwe.componentManager.getManager("codeblock"),r=!1,i=(0,l.default)("<div />"),o=void 0,a=void 0,s=void 0;this._pasteFirstAid(e);var c=u.default.toArray(e[0].childNodes);for(c.length&&"DIV"===c[0].tagName&&(i.append(this._unwrapFragmentFirstChildForPasteAsInline(c[0])),c.shift());c.length;)a=c[0],o=d.default.getNodeName(a),s="LI"===o||"UL"===o||"OL"===o,n.isInCodeBlock(t)?i.append(n.prepareToPasteOnCodeblock(c)):s?(i.append(this._prepareToPasteList(c,t,r)),r=!0):i.append(c.shift());e.html(i.html())}},{key:"_wrapOrphanNodeWithDiv",value:function(e){var t=(0,l.default)("<div />"),n=u.default.toArray(e[0].childNodes),r=void 0;return u.default.forEachArray(n,function(e){var n=3===e.nodeType,i=/^(SPAN|A|CODE|EM|I|STRONG|B|S|ABBR|ACRONYM|CITE|DFN|KBD|SAMP|VAR|BDO|Q|SUB|SUP)$/gi.test(e.tagName);n||i?(r||(r=document.createElement("div"),t.append(r)),r.appendChild(e)):(r&&"BR"!==r.lastChild.tagName&&r.appendChild((0,l.default)("<br/>")[0]),r=null,t.append(e))}),t.html()}},{key:"_pasteFirstAid",value:function(e){var t=this,n="div, section, article, aside, nav, menus, p";e.html((0,h.default)(e.html(),!0)),e.find("*").each(function(e,n){t._removeStyles(n)}),this._unwrapIfNonBlockElementHasBr(e),this._unwrapNestedBlocks(e,n),this._removeUnnecessaryBlocks(e,n),e.html(this._wrapOrphanNodeWithDiv(e)),this._preElementAid(e),this._tableElementAid(e),e.children("br").remove()}},{key:"_preElementAid",value:function(e){this.wwe.componentManager.getManager("codeblock").splitCodeblockToEachLine(e)}},{key:"_unwrapIfNonBlockElementHasBr",value:function(e){e.find("span, a, b, em, i, s").each(function(e,t){var n=(0,l.default)(t).children("br");n.length&&"LI"!==t.nodeName&&"UL"!==t.nodeName&&n.eq(0).unwrap()})}},{key:"_unwrapNestedBlocks",value:function(e,t){e.find(":not(:has(*))").not("b,s,i,em,code,span").each(function(n,r){for(var i="BR"===r.nodeName?(0,l.default)(r.parentNode):(0,l.default)(r);i.parents(t).length;){var o=i.parent(t);o.length&&o[0]!==e[0]?i.unwrap():i=i.parent()}})}},{key:"_removeUnnecessaryBlocks",value:function(e,t){e.find(t).each(function(e,n){var r=(0,l.default)(n),i=n.tagName,o="DIV"===i,a=0!==r.parent("li").length,s=0!==r.parent("blockquote").length,u=r.children(t).length;o&&(a||s||!u)||r.replaceWith(r.html())})}},{key:"_removeStyles",value:function(e){var t=(0,l.default)(e),n=void 0;"SPAN"!==d.default.getNodeName(t[0])?t.removeAttr("style"):(t.attr("style")&&(n=t.css("color")),t.removeAttr("style"),n?t.css("color",n):t.contents().unwrap())}},{key:"_prepareToPasteList",value:function(e,t,n){var r=d.default.getNodeName(e[0]),i=e.shift(),o=this.wwe.getEditor().getDocument().createDocumentFragment();if("LI"!==r&&e.length&&"LI"===e[0].tagName&&(r="LI",i=this._makeNodeAndAppend({tagName:r},i)),"OL"===r||"UL"===r)!n&&this.wwe.getEditor().hasFormat("LI")?(0,l.default)(o).append(this._wrapCurrentFormat(i)):(0,l.default)(o).append(i);else if("LI"===r){var a=this.wwe.getEditor().getDocument().createDocumentFragment();for(a.appendChild(i);e.length&&"LI"===e[0].tagName;)a.appendChild(e.shift());!n&&this.wwe.getEditor().hasFormat("LI")?(0,l.default)(o).append(this._wrapCurrentFormat(a)):!t||"UL"!==t.commonAncestorName&&"OL"!==t.commonAncestorName?(0,l.default)(o).append(this._makeNodeAndAppend({tagName:"UL"},a)):(0,l.default)(o).append(this._makeNodeAndAppend({tagName:t.commonAncestorName},a))}return o}},{key:"_unwrapFragmentFirstChildForPasteAsInline",value:function(e){return(0,l.default)(e).find("br").remove(),e.childNodes}},{key:"_wrapCurrentFormat",value:function(e){var t=this,n=void 0;return this._eachCurrentPath(function(r){"DIV"!==r.tagName&&(n=d.default.isElemNode(e)?e.tagName:e.firstChild.tagName,r.tagName!==n&&(e=t._makeNodeAndAppend(r,e)))}),e}},{key:"_eachCurrentPath",value:function(e){for(var t=d.default.getPath(this.wwe.getEditor().getSelection().startContainer,this.wwe.get$Body()[0]),n=t.length-1;n>-1;n-=1)e(t[n])}},{key:"_makeNodeAndAppend",value:function(e,t){var n=(0,l.default)("<"+e.tagName+"/>");return n.append(t),e.id&&n.attr("id",e.id),e.className&&n.addClass(e.className),n[0]}},{key:"_tableElementAid",value:function(e){this._removeColgroup(e),this._completeTableIfNeed(e),this._updateTableIDClassName(e)}},{key:"_removeColgroup",value:function(e){e.find("colgroup").remove()}},{key:"_completeTableIfNeed",value:function(e){var t=this.wwe.componentManager.getManager("table"),n=t.wrapDanglingTableCellsIntoTrIfNeed(e);n&&e.append(n);var r=t.wrapTrsIntoTbodyIfNeed(e);r&&e.append(r);var i=t.wrapTheadAndTbodyIntoTableIfNeed(e);i&&e.append(i)}},{key:"_updateTableIDClassName",value:function(e){var t=this.wwe.componentManager.getManager("table");e.find("table").each(function(e,t){(0,l.default)(t).removeClass(function(e,t){return t.replace(/.*\s*(te-content-table-\d+)\s*.*/,"$1")})}),e.find("table").each(function(e,n){(0,l.default)(n).addClass(t.getTableIDClassName())})}}]),e}();t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),l=r(a),s=n(4),u=r(s),c=/<li/i,d=function(){function e(t){i(this,e),this.wwe=t,this.eventManager=t.eventManager,this.name="list",this._init()}return o(e,[{key:"_init",value:function(){this._initEvent(),this._initKeyHandler()}},{key:"_initEvent",value:function(){var e=this;this.eventManager.listen("wysiwygSetValueBefore",function(t){return e._convertToArbitraryNestingList(t)}),this.eventManager.listen("wysiwygRangeChangeAfter",function(){e._findAndRemoveEmptyList(),e._removeBranchListAll()}),this.eventManager.listen("wysiwygSetValueAfter",function(){e._removeBranchListAll()}),this.eventManager.listen("wysiwygProcessHTMLText",function(t){return t=e._insertBlankToBetweenSameList(t),t=e._convertFromArbitraryNestingList(t)}),this.eventManager.listen("convertorAfterHtmlToMarkdownConverted",function(e){return e.replace(/:BLANK_LINE:\n/g,"")})}},{key:"_initKeyHandler",value:function(){var e=this;this.wwe.addKeyEventHandler(["TAB","CTRL+]","META+]"],function(t,n){var r=void 0;return n.collapsed&&e.wwe.getEditor().hasFormat("LI")&&(t.preventDefault(),e.eventManager.emit("command","Indent"),r=!1),r}),this.wwe.addKeyEventHandler(["SHIFT+TAB","CTRL+[","META+["],function(t,n){var r=void 0;if(n.collapsed&&e.wwe.getEditor().hasFormat("LI")){t.preventDefault();var i=(0,l.default)(n.startContainer).closest("li").children("OL,UL");e.eventManager.emit("command","Outdent"),i.length&&!i.prev().length&&e._removeBranchList(i),r=!1}return r}),this.wwe.addKeyEventHandler("ENTER",function(t,n){n.collapsed&&e.wwe.getEditor().hasFormat("LI")&&e.wwe.defer(function(){var t=e.wwe.getRange(),n=(0,l.default)(t.startContainer).parents("li").eq(0);e._removeBranchListAll(n)})}),this.wwe.addKeyEventHandler("BACK_SPACE",function(t,n){n.collapsed&&e.wwe.getEditor().hasFormat("LI")&&e.wwe.defer(function(){e._removeBranchListAll()})})}},{key:"_findAndRemoveEmptyList",value:function(){this.wwe.get$Body().find("OL,UL").each(function(e,t){c.test(t.innerHTML)||(0,l.default)(t).remove()})}},{key:"_removeBranchListAll",value:function(e){var t=this;e=e?(0,l.default)(e):this.wwe.get$Body(),e.find("li ul, li ol").each(function(e,n){n&&!n.previousSibling&&t._removeBranchList(n)})}},{key:"_removeBranchList",value:function(e){for(var t=(0,l.default)(e),n=t;!n[0].previousSibling&&n[0].parentElement.tagName.match(/UL|OL|LI/g);)n=n.parent();var r=n.children("li").eq(0);n.prepend(t.children().unwrap()),r.remove()}},{key:"_insertBlankToBetweenSameList",value:function(e){return e.replace(/<\/(ul|ol)>(<br \/>|<br>){0,}<\1>/g,"</$1>:BLANK_LINE:<$1>")}},{key:"_convertToArbitraryNestingList",value:function(e){var t=document.createElement("div");t.innerHTML=e;for(var n=t.querySelector("li > ul, li > ol");null!==n;){var r=n.parentNode;r.parentNode.insertBefore(n,r.nextElementSibling),n=t.querySelector("li > ul, li > ol")}return t.innerHTML}},{key:"_convertFromArbitraryNestingList",value:function(e){var t=document.createElement("div");t.innerHTML=e;for(var n=t.querySelector("ol > ol, ol > ul, ul > ol, ul > ul");null!==n;){for(var r=n.previousElementSibling;r&&"LI"!==r.tagName;)r=r.previousElementSibling;r?r.appendChild(n):this._unwrap(n),n=t.querySelector("ol > ol, ol > ul, ul > ol, ul > ul")}return t.innerHTML}},{key:"_unwrap",value:function(e){for(var t=document.createDocumentFragment();e.firstChild;)t.appendChild(e.firstChild);e.parentNode.replaceChild(t,e)}},{key:"getLinesOfSelection",value:function(e,t){var n=[],r=!1,i=!0,o=void 0;u.default.isTextNode(e)&&(e=(0,l.default)(e).parents("DIV,LI").first().get(0)),u.default.isTextNode(t)&&(t=(0,l.default)(t).parents("DIV,LI").first().get(0));for(var a=e;i&&(0,l.default)(a).is("DIV,LI");a=o)n.push(a),a===t?r=!0:o=this._getNextLine(a,t),i=o&&!r;return n}},{key:"_getNextLine",value:function(e,t){var n=e.nextElementSibling;return n?(0,l.default)(n).is("OL,UL")&&(n=n.querySelector("li")):n=e.parentNode.nextElementSibling,(0,l.default)(n).is("DIV,LI")||n===t?n:this._getNextLine(n)}},{key:"mergeList",value:function(e){var t=e.parentNode,n=t.previousElementSibling,r=t.nextElementSibling;t.firstElementChild===e&&n&&(0,l.default)(n).is("OL,UL")&&(this._mergeList(t,n),t=n),t.lastElementChild===e&&r&&(0,l.default)(r).is("OL,UL")&&this._mergeList(r,t)}},{key:"_mergeList",value:function(e,t){var n=e.firstElementChild;if(t&&(0,l.default)(t).is("OL,UL")){for(;n;){var r=n.nextElementSibling;t.appendChild(n),n=r}e.parentNode.removeChild(e)}}}]),e}();t.default=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(){function e(t){r(this,e),this.wwe=t,this.eventManager=t.eventManager,this.name="task",this._init()}return i(e,[{key:"_init",value:function(){this._initKeyHandler(),this._initEvent(),this.wwe.getEditor().addEventListener("mousedown",function(e){var t=e.offsetX<18&&e.offsetY<18;e.target.hasAttribute("data-te-task")&&t&&(0,a.default)(e.target).toggleClass("checked")})}},{key:"_initEvent",value:function(){var e=this;this.eventManager.listen("wysiwygSetValueAfter",function(){e._removeTaskListClass()})}},{key:"_initKeyHandler",value:function(){var e=this;this.wwe.addKeyEventHandler("ENTER",function(t,n){e.isInTaskList(n)&&e.wwe.defer(function(){var t=e.wwe.getRange();(0,a.default)(t.startContainer).closest("li").removeClass("checked")})})}},{key:"isInTaskList",value:function(e){var t=void 0;return e||(e=this.wwe.getEditor().getSelection().cloneRange()),t=e.startContainer.nodeType===Node.ELEMENT_NODE&&"LI"===e.startContainer.tagName?e.startContainer:(0,a.default)(e.startContainer).parents("li").get(0),(0,a.default)(t).hasClass("task-list-item")}},{key:"unformatTask",value:function(e){var t=(0,a.default)(e).closest("li");t.removeClass("task-list-item"),t.removeClass("checked"),t.removeAttr("data-te-task"),t.attr("class")||t.removeAttr("class")}},{key:"formatTask",value:function(e){var t=(0,a.default)(e),n=t.closest("li");n.addClass("task-list-item"),n.attr("data-te-task","")}},{key:"_formatTaskIfNeed",value:function(){var e=this.wwe.getEditor().getSelection().cloneRange();this.isInTaskList(e)&&this.formatTask(e.startContainer)}},{key:"_removeTaskListClass",value:function(){this.wwe.get$Body().find(".task-list").each(function(e,t){(0,a.default)(t).removeClass("task-list")})}}]),e}();t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){return this.nodeType===Node.TEXT_NODE}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),s=r(l),u=n(4),c=r(u),d=function(){function e(t){i(this,e),this.wwe=t,this.eventManager=t.eventManager,this.name="hr",this._init()}return a(e,[{key:"_init",value:function(){this._initKeyHandler(),this._initEvent()}},{key:"_initEvent",value:function(){var e=this;this.eventManager.listen("wysiwygSetValueAfter",function(){e._unwrapDivOnHr()}),this.eventManager.listen("wysiwygGetValueBefore",function(){e._wrapDefaultBlockToOrphanTexts()})}},{key:"_initKeyHandler",value:function(){var e=this;this.wwe.addKeyEventHandler(function(t,n){return e._onTypedInHr(n)}),this.wwe.addKeyEventHandler("ENTER",function(t,n){return!n.collapsed||e._removeHrOnEnter(n,t)}),this.wwe.addKeyEventHandler("BACK_SPACE",function(t,n){return!n.collapsed||e._removeHrOnBackspace(n,t)})}},{key:"_isInHr",value:function(e){return"HR"===c.default.getNodeName(e.startContainer.childNodes[e.startOffset])}},{key:"_isNearHr",value:function(e){var t=c.default.getChildNodeByOffset(e.startContainer,e.startOffset-1);return"HR"===c.default.getNodeName(t)}},{key:"_onTypedInHr",value:function(e){var t=this;(this._isInHr(e)||this._isNearHr(e))&&this.wwe.defer(function(e){e.saveSelection(),t._wrapDefaultBlockToOrphanTexts(),e.restoreSavedSelection()})}},{key:"_removeHrOnEnter",value:function(e,t){var n=void 0,r=void 0;return this._isInHr(e)?n=c.default.getChildNodeByOffset(e.startContainer,e.startOffset):this._isNearHr(e)&&(n=c.default.getChildNodeByOffset(e.startContainer,e.startOffset-1),r="before"),this._changeHrToNewDefaultBlock(n,e,t,r)}},{key:"_removeHrOnBackspace",value:function(e,t){var n=void 0,r=void 0;return this._isInHr(e)?n=c.default.getChildNodeByOffset(e.startContainer,e.startOffset):0===e.startOffset?(n=c.default.getTopPrevNodeUnder(e.startContainer,this.wwe.get$Body()[0]),r="none"):this._isNearHr(e)&&(n=c.default.getChildNodeByOffset(e.startContainer,e.startOffset-1),r="before"),this._changeHrToNewDefaultBlock(n,e,t,r)}},{key:"_changeHrToNewDefaultBlock",value:function(e,t,n,r){return!e||"HR"!==c.default.getNodeName(e)||(n.preventDefault(),"none"!==r&&this.wwe.breakToNewDefaultBlock(t,r),(0,s.default)(e).remove(),!1)}},{key:"_unwrapDivOnHr",value:function(){var e=this.wwe.get$Body().get(0);this.wwe.get$Body().find("hr").each(function(t,n){var r=(0,s.default)(n).parent("div");r[0]!==e&&(r.find("br").remove(),(0,s.default)(n).unwrap())})}},{key:"_wrapDefaultBlockToOrphanTexts",value:function(){this.wwe.get$Body().contents().filter(o).each(function(e,t){(0,s.default)(t).wrap("<div />")})}}]),e}();t.default=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(){function e(t){r(this,e),this.wwe=t,this.eventManager=t.eventManager,this.name="p",this._initEvent()}return i(e,[{key:"_initEvent",value:function(){var e=this;this.eventManager.listen("wysiwygSetValueBefore",function(t){return e._splitPtagContentLines(t)}),this.eventManager.listen("wysiwygSetValueAfter",function(){e._ensurePtagContentWrappedWithDiv(),e._unwrapPtags()})}},{key:"_splitPtagContentLines",value:function(e){if(e){var t=(0,a.default)("<div />");t.html(e),t.find("p").each(function(e,t){var n=t.innerHTML,r=n.split(/<br>/gi),i=r.length-1,o=t.nextElementSibling||t.nextSibling,l="";l=r.map(function(e,t){var n="";return t>0&&t<i&&(e=e||"<br>"),e&&(n="<div>"+e+"</div>"),n}),o&&"P"===o.nodeName&&l.push("<div><br></div>"),(0,a.default)(t).replaceWith((0,a.default)(l.join("")))}),e=t.html()}return e}},{key:"_ensurePtagContentWrappedWithDiv",value:function(){this.wwe.get$Body().find("p").each(function(e,t){(0,a.default)(t).find("div").length<=0&&(0,a.default)(t).wrapInner("<div />"),(0,a.default)(t).next().is("p")&&(0,a.default)(t).append("<div><br></div>")})}},{key:"_unwrapPtags",value:function(){this.wwe.get$Body().find("div").each(function(e,t){(0,a.default)(t).parent().is("p")&&(0,a.default)(t).unwrap()})}}]),e}();t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),l=r(a),s=n(4),u=r(s),c=/h[\d]/i,d=function(){function e(t){i(this,e),this.wwe=t,this.eventManager=t.eventManager,this.name="heading",this._init()}return o(e,[{key:"_init",value:function(){this._initEvent(),this._initKeyHandler()}},{key:"_initEvent",value:function(){var e=this;this.eventManager.listen("wysiwygSetValueAfter",function(){e._wrapDefaultBlockToHeadingInner()})}},{key:"_initKeyHandler",value:function(){var e=this;this.wwe.addKeyEventHandler("ENTER",function(t,n){return!e.wwe.hasFormatWithRx(c)||(e._onEnter(t,n),!1)}),this.wwe.addKeyEventHandler("BACK_SPACE",function(t,n){return!e.wwe.hasFormatWithRx(c)||(e._removePrevTopNodeIfNeed(t,n),!1)})}},{key:"_wrapDefaultBlockToHeadingInner",value:function(){this.wwe.get$Body().find("h1, h2, h3, h4, h5, h6").each(function(e,t){(0,l.default)(t).children("div, p").length<=0&&(0,l.default)(t).wrapInner("<div />")})}},{key:"_unwrapHeading",value:function(){this.wwe.unwrapBlockTag(function(e){return c.test(e)})}},{key:"_onEnter",value:function(e,t){var n=this;t.startOffset>0?this.wwe.defer(function(e){n._unwrapHeading(),e.getEditor().removeLastUndoStack()}):(e.preventDefault(),this._insertEmptyBlockToPrevious(t))}},{key:"_insertEmptyBlockToPrevious",value:function(e){this.wwe.getEditor().saveUndoState(e),(0,l.default)("<div><br></div>").insertBefore(u.default.getParentUntil(e.startContainer,this.wwe.get$Body()[0]))}},{key:"_removePrevTopNodeIfNeed",value:function(e,t){var n=!1;if(t.collapsed&&0===t.startOffset){var r=t.startContainer,i=u.default.getTopPrevNodeUnder(r,this.wwe.get$Body()[0]),o=i&&0===i.textContent.length,a=this.wwe.getEditor();0===r.textContent.length?n=this._removeHedingAndChangeSelection(e,t,i):o&&(e.preventDefault(),a.saveUndoState(t),(0,l.default)(i).remove(),n=!0)}return n}},{key:"_removeHedingAndChangeSelection",value:function(e,t,n){var r=t.startContainer,i=this.wwe.getEditor(),o=this.wwe.get$Body(),a=c.test(u.default.getNodeName(r)),s=a?r:(0,l.default)(r).parents("h1,h2,h3,h4,h5,h6")[0],d=n,f=1;return e.defaultPrevented||(e.preventDefault(),i.saveUndoState(t)),(0,l.default)(s).remove(),n||(d=o.children("div").first().get(0),f=0),t.setStart(d,f),t.collapse(!0),i.setSelection(t),!0}}]),e}();t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(77),h=r(f),p=n(4),g=r(p),v=n(23),m=/\b(H[\d]|LI|P|BLOCKQUOTE|TD)\b/,y=/Trident\/[456]\./.test(navigator.userAgent),_=function(e){function t(){var e;i(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var l=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return l._decorateHandlerToCancelable("copy"),l._decorateHandlerToCancelable(y?"beforecut":"cut"),l._decorateHandlerToCancelable(y?"beforepaste":"paste"),l.get$Body=function(){return l.$body=l.$body||(0,u.default)(l.getRoot()),l.$body},l}return a(t,e),l(t,[{key:"_decorateHandlerToCancelable",value:function(e){var t=this._events[e];if(t.length>1)throw new Error("too many"+e+"handlers in squire");var n=t[0].bind(this);t[0]=function(e){e.defaultPrevented||e.squirePrevented||n(e)}}},{key:"changeBlockFormat",value:function(e,t){var n=this;this.modifyBlocks(function(r){var i=void 0,o=void 0,a=void 0,l=void 0,s=void 0,u=void 0,c=void 0;if(r.childNodes.length?i=r.childNodes.item(0):(i=n.createDefaultBlock(),r.appendChild(i)),e){for(;i.firstChild;)i=i.firstChild;for(c=function(e){l.appendChild(e)};i!==r;){if(s=i.tagName,d.default.isFunction(e)?e(s):s===e){l=i.childNodes.item(0),(!g.default.isElemNode(l)||i.childNodes.length>1)&&(l=n.createDefaultBlock(),d.default.forEachArray(d.default.toArray(i.childNodes),c),(u=l.lastChild)&&"BR"===g.default.getNodeName(u)&&l.removeChild(u)),a=t?n.createElement(t,[l]):l,o=n.getDocument().createDocumentFragment(),o.appendChild(a),r=o;break}i=i.parentNode}}return o&&e||!t||"DIV"!==g.default.getNodeName(r.childNodes[0])||(r=n.createElement(t,[r.childNodes[0]])),r})}},{key:"changeBlockFormatTo",value:function(e){this.changeBlockFormat(function(e){return m.test(e)},e)}},{key:"getCaretPosition",value:function(){return this.getCursorPosition()}},{key:"replaceSelection",value:function(e,t){t&&this.setSelection(t),this._ignoreChange=!0,this.insertHTML(e)}},{key:"replaceRelativeOffset",value:function(e,t,n){var r=this.getSelection().cloneRange();this._replaceRelativeOffsetOfSelection(e,t,n,r)}},{key:"_replaceRelativeOffsetOfSelection",value:function(e,t,n,r){var i=void 0,o=void 0,a=void 0,l=r.endContainer,s=r.endOffset;"TEXT"!==g.default.getNodeName(l)&&(l=this._getClosestTextNode(l,s))&&(s=g.default.isTextNode(l)?l.nodeValue.length:l.textContent.length),l?(i=this.getSelectionInfoByOffset(l,s+t),r.setStart(i.element,i.offset),a=s+(t+n),o=this.getSelectionInfoByOffset(l,a),r.setEnd(o.element,o.offset),this.replaceSelection(e,r)):this.replaceSelection(e)}},{key:"_getClosestTextNode",value:function(e,t){var n=g.default.getChildNodeByOffset(e,t-1);return"TEXT"!==g.default.getNodeName(n)&&(n=n.previousSibling),n}},{key:"getSelectionInfoByOffset",value:function(e,t){var n=void 0,r=void 0,i=void 0,o=void 0,a=t>=0?"next":"previous",l=Math.abs(t),s=n;for(n="next"===a?e:e.previousSibling,i=l,o=0;n&&(r=g.default.isTextNode(n)?n.nodeValue.length:n.textContent.length,o+=r,!(l<=o));)i-=r,g.default.getTextLength(n)>0&&(s=n),n=n[a+"Sibling"];return n||(n=s,i=g.default.getTextLength(n)),"previous"===a&&(i=g.default.getTextLength(n)-i),{element:n,offset:i}}},{key:"getSelectionPosition",value:function(e,t,n){var r=this.createElement("INPUT"),i=e.cloneRange(),o=this.getSelectionInfoByOffset(e.endContainer,e.endOffset+(n||0));i.setStart(i.startContainer,i.startOffset),i.setEnd(o.element,o.offset),this._ignoreChange=!0,this.insertElement(r,i);var a=(0,u.default)(r).offset();return"over"!==t&&(a.top+=(0,u.default)(r).outerHeight()),r.parentNode.removeChild(r),e.setStart(e.endContainer,e.endOffset),e.collapse(!0),this.setSelection(e),a}},{key:"removeLastUndoStack",value:function(){this._undoStack.length&&(this._undoStackLength-=1,this._undoIndex-=1,this._undoStack.pop(),this._isInUndoState=!1)}},{key:"replaceParent",value:function(e,t,n){var r=(0,u.default)(e).closest(t);r.length&&(r.wrapInner("<"+n+"/>"),r.children().unwrap())}},{key:"preserveLastLine",value:function(){var e=this.get$Body().children().last();"DIV"!==g.default.getNodeName(e[0])&&(this._ignoreChange=!0,(0,u.default)(this.createDefaultBlock()).insertAfter(e))}},{key:"scrollTop",value:function(e){return d.default.isUndefined(e)?this.get$Body().scrollTop():this.get$Body().scrollTop(e)}},{key:"isIgnoreChange",value:function(){return this._ignoreChange}},{key:"focus",value:function(){h.default.prototype.focus.call(this)}},{key:"blockCommandShortcuts",value:function(){var e=this,t=v.isMac?"meta":"ctrl";["b","i","u","shift-7","shift-5","shift-6","shift-8","shift-9","[","]"].forEach(function(n){e.setKeyHandler(t+"-"+n,function(e,t){t.preventDefault()})})}}]),t}(h.default);t.default=_},function(e,t){e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),l=r(a),s=n(4),u=r(s),c=l.default.browser.msie&&11===l.default.browser.version,d=-1!==navigator.appVersion.indexOf("Win")&&l.default.browser.chrome,f=c||d,h=function(){function e(t,n){i(this,e),this._wwe=t,f&&(this.isComposition=!1,this._initCompositionEvent()),this.setRange(n||this._wwe.getRange())}return o(e,[{key:"_initCompositionEvent",value:function(){var e=this;this._wwe.getEditor().addEventListener("compositionstart",function(){e.isComposition=!0}),this._wwe.getEditor().addEventListener("compositionend",function(){e.isComposition=!1})}},{key:"setRange",value:function(e){this._range&&this._range.detach(),this._range=e}},{key:"expandStartOffset",value:function(){var e=this._range;u.default.isTextNode(e.startContainer)&&e.startOffset>0&&e.setStart(e.startContainer,e.startOffset-1)}},{key:"expandEndOffset",value:function(){var e=this._range;u.default.isTextNode(e.endContainer)&&e.endOffset<e.endContainer.nodeValue.length&&e.setEnd(e.endContainer,e.endOffset+1)}},{key:"setEndBeforeRange",value:function(e){var t=e.startOffset;this.isComposition&&(t+=1),this._range.setEnd(e.startContainer,t)}},{key:"getTextContent",value:function(){return this._range.cloneContents().textContent}},{key:"replaceContent",value:function(e){this._wwe.getEditor().setSelection(this._range),this._wwe.getEditor().insertHTML(e),this._range=this._wwe.getRange()}},{key:"deleteContent",value:function(){this._wwe.getEditor().setSelection(this._range),this._wwe.getEditor().insertHTML(""),this._range=this._wwe.getRange()}},{key:"peekStartBeforeOffset",value:function(e){var t=this._range.cloneRange();return t.setStart(t.startContainer,Math.max(t.startOffset-e,0)),t.setEnd(this._range.startContainer,this._range.startOffset),t.cloneContents().textContent}}]),e}();t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},u=n(0),c=r(u),d=n(80),f=r(d),h=function(e){function t(e){var n=e.eventManager,r=e.container,a=e.wysiwygEditor;i(this,t);var l=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{eventManager:n,container:r,attachedSelector:"pre"}));return l._wysiwygEditor=a,l._popupCodeBlockLanguages=null,l._initDOM(),l._initDOMEvent(),l}return a(t,e),l(t,[{key:"_initDOM",value:function(){this.$el.addClass("code-block-header"),this._$languageLabel=(0,c.default)("<span>text</span>"),this.$el.append(this._$languageLabel),this._$buttonOpenModalEditor=(0,c.default)('<button type="button">Editor</button>'),this.$el.append(this._$buttonOpenModalEditor)}},{key:"_initDOMEvent",value:function(){var e=this;this._$buttonOpenModalEditor.on("click",function(){return e._openPopupCodeBlockEditor()})}},{key:"_openPopupCodeBlockEditor",value:function(){this._eventManager.emit("openPopupCodeBlockEditor",this.getAttachedElement())}},{key:"_updateLanguage",value:function(){var e=this.getAttachedElement(),t=e?e.getAttribute("data-language"):null;this._$languageLabel.text(t||"text")}},{key:"syncLayout",value:function(){var e=(0,c.default)(this.getAttachedElement()),t=e.offset();t.left=t.left+(e.outerWidth()-250),this.$el.offset(t),this.$el.height(30),this.$el.width(250)}},{key:"onShow",value:function(){var e=this;s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onShow",this).call(this),this._onAttachedElementChange=function(){return e._updateLanguage()},(0,c.default)(this.getAttachedElement()).on("language-changed",this._onAttachedElementChange),this._updateLanguage()}},{key:"onHide",value:function(){(0,c.default)(this.getAttachedElement()).off("language-changed",this._onAttachedElementChange),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onHide",this).call(this)}}]),t}(f.default);t.default=h},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(){function e(t){var n=t.eventManager,i=t.container,o=t.attachedSelector;r(this,e),this._eventManager=n,this._attachedSelector="[contenteditable=true] "+o,this._$container=(0,a.default)(i),this._$attachedElement=null,this.active=!1,this._createElement(),this._initEvent()}return i(e,[{key:"_createElement",value:function(){this.$el=(0,a.default)('<div class="te-ww-block-overlay">'),this.$el.css({position:"absolute",display:"none","z-index":1}),this._$container.append(this.$el)}},{key:"_initEvent",value:function(){var e=this;this._eventManager.listen("change",this._onChange.bind(this)),this._eventManager.listen("mouseover",this._onMouseOver.bind(this)),this._eventManager.listen("focus",function(){e.setVisibility(!1)}),this._eventManager.listen("mousedown",function(){e.setVisibility(!1)})}},{key:"_onChange",value:function(){this._$attachedElement&&a.default.contains(document,this._$attachedElement[0])?this.syncLayout():this.setVisibility(!1)}},{key:"_onMouseOver",value:function(e){var t=e.data,n=(0,a.default)(t.target),r=n.closest(this._attachedSelector);r.length?(this._$attachedElement=r,this.setVisibility(!0)):n.closest(this.$el).length?this.setVisibility(!0):this.active||this.setVisibility(!1)}},{key:"syncLayout",value:function(){this.$el.offset(this._$attachedElement.offset()),this.$el.width(this._$attachedElement.outerWidth()),this.$el.height(this._$attachedElement.outerHeight())}},{key:"getAttachedElement",value:function(){return this._$attachedElement?this._$attachedElement.get(0):null}},{key:"getVisibility",value:function(){return"block"===this.$el.css("display")}},{key:"setVisibility",value:function(e){e&&this._$attachedElement?this.getVisibility()||(this.$el.css("display","block"),this.syncLayout(),this.onShow()):e||this.getVisibility()&&(this.$el.css("display","none"),this.onHide())}},{key:"onShow",value:function(){}},{key:"onHide",value:function(){this.active=!1,this._$attachedElement=null}}]),e}();t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),l=['<div class="tui-editor">','<div class="te-md-container">','<div class="te-editor" />','<div class="te-md-splitter" />','<div class="te-preview" />',"</div>",'<div class="te-ww-container">','<div class="te-editor" />',"</div>","</div>"].join(""),s=function(){function e(t,n){r(this,e),this.$el=(0,a.default)(t.el),this.height=t.height,this.type=t.initialEditType,this.eventManager=n,this.init(),this._initEvent()}return i(e,[{key:"init",value:function(){this._renderLayout(),this._initMarkdownAndPreviewSection(),this._initWysiwygSection()}},{key:"_initEvent",value:function(){this.eventManager.listen("hide",this.hide.bind(this)),this.eventManager.listen("show",this.show.bind(this))}},{key:"_renderLayout",value:function(){this.$el.css("box-sizing","border-box"),this.$containerEl=(0,a.default)(l).appendTo(this.$el)}},{key:"switchToWYSIWYG",value:function(){this.$containerEl.removeClass("te-md-mode"),this.$containerEl.addClass("te-ww-mode")}},{key:"switchToMarkdown",value:function(){this.$containerEl.removeClass("te-ww-mode"),this.$containerEl.addClass("te-md-mode")}},{key:"_initMarkdownAndPreviewSection",value:function(){this.$mdEditorContainerEl=this.$containerEl.find(".te-md-container .te-editor"),this.$previewEl=this.$containerEl.find(".te-md-container .te-preview")}},{key:"_initWysiwygSection",value:function(){this.$wwEditorContainerEl=this.$containerEl.find(".te-ww-container .te-editor")}},{key:"_verticalSplitStyle",value:function(){this.$containerEl.find(".te-md-container").removeClass("te-preview-style-tab"),this.$containerEl.find(".te-md-container").addClass("te-preview-style-vertical")}},{key:"_tabStyle",value:function(){this.$containerEl.find(".te-md-container").removeClass("te-preview-style-vertical"),this.$containerEl.find(".te-md-container").addClass("te-preview-style-tab")}},{key:"changePreviewStyle",value:function(e){"tab"===e?this._tabStyle():"vertical"===e&&this._verticalSplitStyle()}},{key:"hide",value:function(){this.$el.find(".tui-editor").addClass("te-hide")}},{key:"show",value:function(){this.$el.find(".tui-editor").removeClass("te-hide")}},{key:"remove",value:function(){this.$el.find(".tui-editor").remove()}},{key:"getEditorEl",value:function(){return this.$containerEl}},{key:"getPreviewEl",value:function(){return this.$previewEl}},{key:"getMdEditorContainerEl",value:function(){return this.$mdEditorContainerEl}},{key:"getWwEditorContainerEl",value:function(){return this.$wwEditorContainerEl}}]),e}();t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(){function e(t,n,i){r(this,e),this.name=t,this.type=n,i&&this.setKeyMap(i)}return i(e,[{key:"getName",value:function(){return this.name}},{key:"getType",value:function(){return this.type}},{key:"isMDType",value:function(){return this.type===e.TYPE.MD}},{key:"isWWType",value:function(){return this.type===e.TYPE.WW}},{key:"isGlobalType",value:function(){return this.type===e.TYPE.GB}},{key:"setKeyMap",value:function(e,t){this.keyMap=[e,t]}}]),e}();l.factory=function(e,t){var n=void 0;"markdown"===e?n=l.TYPE.MD:"wysiwyg"===e?n=l.TYPE.WW:"global"===e&&(n=l.TYPE.GB);var r=new l(t.name,n);return a.default.extend(r,t),r},l.TYPE={MD:0,WW:1,GB:2},t.default=l},function(e,t){e.exports=a},function(e,t,n){"use strict";function r(e){e.content=e.content.slice(4),e.children[0].content=e.children[0].content.slice(4)}function i(e){var t=!1;return 0!==e.content.indexOf("[x]")&&0!==e.content.indexOf("[X]")||(t=!0),t}function o(e,t,n){var r=e.attrIndex(t),i=[t,n];r<0?e.attrPush(i):e.attrs[r]=i}function a(e,t){return"inline"===e[t].type&&"paragraph_open"===e[t-1].type&&"list_item_open"===e[t-2].type&&(0===e[t].content.indexOf("[ ]")||0===e[t].content.indexOf("[x]")||0===e[t].content.indexOf("[X]"))}var l=function(e){e.core.ruler.after("inline","tui-task-list",function(e){var t,n,l=e.tokens;for(n=2;n<l.length;n+=1)a(l,n)&&(t=i(l[n])?"task-list-item checked":"task-list-item",r(l[n]),o(l[n-2],"class",t),o(l[n-2],"data-te-task",""))})};e.exports=l},function(e,t,n){"use strict";function r(e,t,n){var r=e.attrIndex(t),i=[t,n];r<0?e.attrPush(i):e.attrs[r]=i}function i(e){return!0===e.block&&"code"===e.tag&&"fence"===e.type}function o(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var a=function(e){e.core.ruler.after("block","tui-code-block",function(e){var t,n,a,l=e.tokens;for(n=0;n<l.length;n+=1)t=l[n],i(t)&&(a=t.markup.length,a>3&&r(t,"data-backticks",a),t.info&&r(t,"data-language",o(t.info.replace(" ",""),!0)))})};e.exports=a},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i,o,a=/ {0,3}(?:-|\*|\d\.) /,l=e.src.split("\n"),s=l[t],u=0;if(s.match(a)||e.sCount[t]-e.blkIndent<4)return!1;for(i=r=t+1;r<n;)if(e.isEmpty(r)){if(++u>=2&&"list"===e.parentType)break;r++}else{if(u=0,!(e.sCount[r]-e.blkIndent>=4))break;r++,i=r}return e.line=i,o=e.push("code_block","code",0),o.content=e.getLines(t,i,4+e.blkIndent,!0),o.map=[t,e.line],!0}},function(e,t,n){"use strict";function r(e){switch(e){case 9:case 32:return!0}return!1}e.exports=function(e,t,n,i){var o,a,l,s,u,c,d,f,h,p,g,v,m,y,_,b,w,k,E,C,T=e.lineMax,M=e.bMarks[t]+e.tShift[t],S=e.eMarks[t],O=/(?:-|\*|\d+\.) {1,4}(?:> {0,3})[^>]*$/,x=e.src.split("\n"),I=x[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(M++))return!1;if(I.match(O))return!1;if(i)return!0;for(s=h=e.sCount[t]+M-(e.bMarks[t]+e.tShift[t]),32===e.src.charCodeAt(M)?(M++,s++,h++,o=!1,b=!0):9===e.src.charCodeAt(M)?(b=!0,(e.bsCount[t]+h)%4==3?(M++,s++,h++,o=!1):o=!0):b=!1,p=[e.bMarks[t]],e.bMarks[t]=M;M<S&&(a=e.src.charCodeAt(M),r(a));)9===a?h+=4-(h+e.bsCount[t]+(o?1:0))%4:h++,M++;for(g=[e.bsCount[t]],e.bsCount[t]=e.sCount[t]+1+(b?1:0),c=M>=S,y=[e.sCount[t]],e.sCount[t]=h-s,_=[e.tShift[t]],e.tShift[t]=M-e.bMarks[t],k=e.md.block.ruler.getRules("blockquote"),m=e.parentType,e.parentType="blockquote",C=!1,f=t+1;f<n&&(e.sCount[f]<e.blkIndent&&(C=!0),M=e.bMarks[f]+e.tShift[f],S=e.eMarks[f],!(M>=S));f++)if(62!==e.src.charCodeAt(M++)||C){if(c)break;for(w=!1,l=0,u=k.length;l<u;l++)if(k[l](e,f,n,!0)){w=!0;break}if(w){e.lineMax=f,0!==e.blkIndent&&(p.push(e.bMarks[f]),g.push(e.bsCount[f]),_.push(e.tShift[f]),y.push(e.sCount[f]),e.sCount[f]-=e.blkIndent);break}p.push(e.bMarks[f]),g.push(e.bsCount[f]),_.push(e.tShift[f]),y.push(e.sCount[f]),e.sCount[f]=-1}else{for(s=h=e.sCount[f]+M-(e.bMarks[f]+e.tShift[f]),32===e.src.charCodeAt(M)?(M++,s++,h++,o=!1,b=!0):9===e.src.charCodeAt(M)?(b=!0,(e.bsCount[f]+h)%4==3?(M++,s++,h++,o=!1):o=!0):b=!1,p.push(e.bMarks[f]),e.bMarks[f]=M;M<S&&(a=e.src.charCodeAt(M),r(a));)9===a?h+=4-(h+e.bsCount[f]+(o?1:0))%4:h++,M++;c=M>=S,g.push(e.bsCount[f]),e.bsCount[f]=e.sCount[f]+1+(b?1:0),y.push(e.sCount[f]),e.sCount[f]=h-s,_.push(e.tShift[f]),e.tShift[f]=M-e.bMarks[f]}for(v=e.blkIndent,e.blkIndent=0,E=e.push("blockquote_open","blockquote",1),E.markup=">",E.map=d=[t,0],e.md.block.tokenize(e,t,f),E=e.push("blockquote_close","blockquote",-1),E.markup=">",e.lineMax=T,e.parentType=m,d[1]=e.line,l=0;l<_.length;l++)e.bMarks[l+t]=p[l],e.tShift[l+t]=_[l],e.sCount[l+t]=y[l],e.bsCount[l+t]=g[l];return e.blkIndent=v,!0}},function(e,t,n){"use strict";function r(e,t){var n=e.bMarks[t]+e.blkIndent,r=e.eMarks[t];return e.src.substr(n,r-n)}function i(e){var t,n=[],r=0,i=e.length,o=0,a=0,l=!1,s=0;for(t=e.charCodeAt(r);r<i;)96===t&&o%2==0?(l=!l,s=r):124!==t||o%2!=0||l?92===t?o+=1:o=0:(n.push(e.substring(a,r)),a=r+1),r+=1,r===i&&l&&(l=!1,r=s+1),t=e.charCodeAt(r);return n.push(e.substring(a)),n}e.exports=function(e,t,n,o){var a,l,s,u,c,d,f,h,p,g,v,m,y;if(t+2>n)return!1;if(c=t+1,e.sCount[c]<e.blkIndent)return!1;if((s=e.bMarks[c]+e.tShift[c])>=e.eMarks[c])return!1;if(124!==(a=e.src.charCodeAt(s))&&45!==a&&58!==a)return!1;if(l=r(e,t+1),!/^[-:| ]+$/.test(l))return!1;for(d=l.split("|"),p=[],u=0;u<d.length;u+=1){if(!(v=d[u].trim())){if(0===u||u===d.length-1)continue;return!1}if(!/^:?-+:?$/.test(v))return!1;58===v.charCodeAt(v.length-1)?p.push(58===v.charCodeAt(0)?"center":"right"):58===v.charCodeAt(0)?p.push("left"):p.push("")}if(g=p.length,l=r(e,t).trim(),-1===l.indexOf("|"))return!1;if(d=i(l.replace(/^\||\|$/g,"")),(f=d.length)>g)return!1;if(f<g){for(u=0;u<g-f;u+=1)d.push("");f=d.length}if(o)return!0;for(h=e.push("table_open","table",1),h.map=m=[t,0],h=e.push("thead_open","thead",1),h.map=[t,t+1],h=e.push("tr_open","tr",1),h.map=[t,t+1],u=0;u<f;u+=1)h=e.push("th_open","th",1),h.map=[t,t+1],p[u]&&(h.attrs=[["align",p[u]]]),h=e.push("inline","",0),h.content=d[u].trim(),h.map=[t,t+1],h.children=[],h=e.push("th_close","th",-1);for(h=e.push("tr_close","tr",-1),h=e.push("thead_close","thead",-1),h=e.push("tbody_open","tbody",1),h.map=y=[t+2,0],c=t+2;c<n&&!(e.sCount[c]<e.blkIndent)&&(l=r(e,c),-1!==l.indexOf("|"));c+=1){for(d=i(l.replace(/^\||\|\s*$/g,"")),h=e.push("tr_open","tr",1),u=0;u<f;u+=1)h=e.push("td_open","td",1),p[u]&&(h.attrs=[["align",p[u]]]),h=e.push("inline","",0),h.content=d[u]?d[u].trim():"",h.children=[],h=e.push("td_close","td",-1);h=e.push("tr_close","tr",-1)}return h=e.push("tbody_close","tbody",-1),h=e.push("table_close","table",-1),m[1]=y[1]=c,e.line=c,!0}},function(e,t,n){"use strict";var r=["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],i=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^<("+r.join("|")+")","i"),/^\/?>$/,!0],[new RegExp("^</?(address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|pre|section|source|title|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?=(\\s|/?>|$))","i"),/^$/,!0],[/^(?:<[A-Za-z][A-Za-z0-9\-]*(?:\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\s*=\s*(?:[^"'=<>`\x00-\x20]+|'[^']*'|"[^"]*"))?)*\s*\/?>|<\/[A-Za-z][A-Za-z0-9\-]*\s*>)\s*$/,/^$/,!1]];e.exports=function(e,t,n,r){var o,a,l,s,u=e.bMarks[t]+e.tShift[t],c=e.eMarks[t];if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(u))return!1;for(s=e.src.slice(u,c),o=0;o<i.length;o++)if(i[o][0].test(s)){if(5===o)return!1;break}if(o===i.length)return!1;if(r)return i[o][2];if(a=t+1,!i[o][1].test(s))for(;a<n&&!(e.sCount[a]<e.blkIndent);a++)if(u=e.bMarks[a]+e.tShift[a],c=e.eMarks[a],s=e.src.slice(u,c),i[o][1].test(s)){0!==s.length&&a++;break}return e.line=a,l=e.push("html_block","",0),l.map=[t,a],l.content=e.getLines(t,a,e.blkIndent,!0),!0}},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,o,a,l,s=e.pos;if(96!==e.src.charCodeAt(s))return!1;for(n=s,s++,r=e.posMax;s<r&&96===e.src.charCodeAt(s);)s++;for(i=e.src.slice(n,s),o=a=s;-1!==(o=e.src.indexOf("`",a));){for(a=o+1;a<r&&96===e.src.charCodeAt(a);)a++;if(a-o===i.length)return t||(l=e.push("code_inline","code",0),l.markup=i,l.content=e.src.slice(s,o).replace(/[ \n]+/g," ").trim(),l.attrSet("data-backticks",l.markup.length)),e.pos=a,!0}return t||(e.pending+=i),e.pos+=i.length,!0}},function(e,t){e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),l=r(a),s=n(1),u=r(s),c=n(33),d=r(c),f=n(39),h=r(f),p=n(2),g=r(p),v=n(40),m=r(v),y=n(41),_=r(y),b=n(4),w=r(b),k=n(24),E=r(k),C=function(){function e(t){var n=this;i(this,e),this.options=l.default.extend({useDefaultHTMLSanitizer:!0,codeBlockLanguages:k.CodeBlockManager.getHighlightJSLanguages()},t),this.eventManager=new h.default,this.commandManager=new g.default(this),this.convertor=new _.default(this.eventManager),this.toMarkOptions=null,this.options.useDefaultHTMLSanitizer&&this.convertor.initHtmlSanitizer(),this.options.hooks&&u.default.forEach(this.options.hooks,function(e,t){n.addHook(t,e)}),this.options.events&&u.default.forEach(this.options.events,function(e,t){n.on(t,e)}),this.preview=new d.default((0,l.default)(this.options.el),this.eventManager,this.convertor,!0),this.preview.$el.on("mousedown",l.default.proxy(this._toggleTask,this)),m.default.applyExtension(this,this.options.exts),this.setValue(this.options.initialValue),this.eventManager.emit("load",this)}return o(e,[{key:"_toggleTask",value:function(e){var t=e.offsetX<18&&e.offsetY>18;e.target.hasAttribute("data-te-task")&&!t&&((0,l.default)(e.target).toggleClass("checked"),this.eventManager.emit("change",{source:"viewer",data:e}))}},{key:"setMarkdown",value:function(e){this.markdownValue=e=e||"",this.preview.refresh(this.markdownValue),this.eventManager.emit("setMarkdownAfter",this.markdownValue)}},{key:"setValue",value:function(e){this.setMarkdown(e)}},{key:"on",value:function(e,t){this.eventManager.listen(e,t)}},{key:"off",value:function(e){this.eventManager.removeEventHandler(e)}},{key:"remove",value:function(){this.eventManager.emit("removeEditor"),this.preview.$el.off("mousedown",l.default.proxy(this._toggleTask,this)),this.options=null,this.eventManager=null,this.commandManager=null,this.convertor=null,this.preview=null}},{key:"addHook",value:function(e,t){this.eventManager.removeEventHandler(e),this.eventManager.listen(e,t)}},{key:"isViewer",value:function(){return!0}},{key:"isMarkdownMode",value:function(){return!1}},{key:"isWysiwygMode",value:function(){return!1}}],[{key:"defineExtension",value:function(e,t){m.default.defineExtension(e,t)}}]),e}();C.isViewer=!0,C.domUtils=w.default,C.codeBlockManager=E.default,C.markdownitHighlight=_.default.getMarkdownitHighlightRenderer(),C.i18n=null,C.Button=null,C.WwCodeBlockManager=null,C.WwTableManager=null,C.WwTableSelectionManager=null,e.exports=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),l=r(a),s=n(94),u=r(s),c=n(46),d=r(c),f=n(7),h=r(f),p=n(98),g=r(p),v=n(99),m=r(v),y=n(100),_=r(y),b=n(101),w=r(b),k=n(102),E=r(k),C=n(103),T=r(C),M=n(104),S=r(M),O=n(105),x=r(O),I=n(3),L=r(I),A=n(30),P=r(A),N=function(){function e(t){i(this,e),Object.defineProperty(this,"name",{enumerable:!0,writable:!0,value:"default"}),Object.defineProperty(this,"_popups",{enumerable:!0,writable:!0,value:[]}),this._editor=t,this._initialEditType=t.options.initialEditType,this._init(t.options),this._initEvent()}return o(e,[{key:"_init",value:function(e){var t=e.el,n=e.toolbarItems,r=e.hideModeSwitch;this.$el=(0,l.default)('\n    <div class="tui-editor-defaultUI">\n        <div class="te-toolbar-section"><div class="te-markdown-tab-section"></div></div>\n        <div class="te-editor-section"></div>\n        <div class="te-mode-switch-section"></div>\n    </div>\n').appendTo(t),this._container=t,this._editorSection=this.$el.find(".te-editor-section").get(0),this._editorSection.appendChild(this._editor.layout.getEditorEl().get(0)),this._initToolbar(this._editor.eventManager,n),this._initModeSwitch(r),this._initPopupAddLink(),this._initPopupAddImage(),this._initPopupAddTable(),this._initPopupAddHeading(),this._initPopupTableUtils(),this._initPopupCodeBlockLanguages(),this._initPopupCodeBlockEditor(),this._initMarkdownTab()}},{key:"_initEvent",value:function(){this._editor.eventManager.listen("hide",this.hide.bind(this)),this._editor.eventManager.listen("show",this.show.bind(this)),this._editor.eventManager.listen("changeMode",this._markdownTabControl.bind(this)),this._editor.eventManager.listen("changePreviewStyle",this._markdownTabControl.bind(this))}},{key:"_initToolbar",value:function(e,t){var n=new u.default(e,t);this._toolbar=n,this.$el.find(".te-toolbar-section").append(n.$el)}},{key:"_initModeSwitch",value:function(e){var t=this,n=this.$el.find(".te-mode-switch-section"),r="markdown"===this._initialEditType?g.default.TYPE.MARKDOWN:g.default.TYPE.WYSIWYG,i=new g.default(n,r);this._modeSwitch=i,e&&i.hide(),i.on("modeSwitched",function(e,n){return t._editor.changeMode(n)})}},{key:"_initMarkdownTab",value:function(){var e=this._editor;this._markdownTab=new d.default({initName:L.default.get("Write"),items:[L.default.get("Write"),L.default.get("Preview")],sections:[e.layout.getMdEditorContainerEl(),e.layout.getPreviewEl()]}),this._$markdownTabSection=this.$el.find(".te-markdown-tab-section"),this._$markdownTabSection.append(this._markdownTab.$el),this._markdownTab.on("itemClick",function(t,n){n===L.default.get("Preview")?(e.eventManager.emit("previewNeedsRefresh"),e.eventManager.emit("changePreviewTabPreview"),e.eventManager.emit("closeAllPopup")):(e.getCodeMirror().focus(),e.eventManager.emit("changePreviewTabWrite"))})}},{key:"_markdownTabControl",value:function(){this._editor.isMarkdownMode()&&"tab"===this._editor.getCurrentPreviewStyle()?(this._$markdownTabSection.show(),this._markdownTab.activate(L.default.get("Write"))):this._$markdownTabSection.hide()}},{key:"_initPopupAddLink",value:function(){this._popups.push(new m.default({$target:this.$el,editor:this._editor}))}},{key:"_initPopupAddImage",value:function(){this._popups.push(new _.default({$target:this.$el,eventManager:this._editor.eventManager}))}},{key:"_initPopupAddTable",value:function(){this._popups.push(new E.default({$target:this._toolbar.$el,eventManager:this._editor.eventManager,$button:this.$el.find("button.tui-table"),css:{position:"absolute"}}))}},{key:"_initPopupAddHeading",value:function(){this._popups.push(new T.default({$target:this._toolbar.$el,eventManager:this._editor.eventManager,$button:this.$el.find("button.tui-heading"),css:{position:"absolute"}}))}},{key:"_initPopupTableUtils",value:function(){var e=this;this._editor.eventManager.listen("contextmenu",function(t){(0,l.default)(t.data.target).parents("[contenteditable=true] table").length>0&&(t.data.preventDefault(),e._editor.eventManager.emit("openPopupTableUtils",t.data))}),this._popups.push(new w.default({$target:this.$el,eventManager:this._editor.eventManager}))}},{key:"_initPopupCodeBlockLanguages",value:function(){var e=this._editor;this._popups.push(new S.default({$target:this.$el,eventManager:e.eventManager,languages:e.options.codeBlockLanguages}))}},{key:"_initPopupCodeBlockEditor",value:function(){this._popups.push(new x.default({$target:this.$el,eventManager:this._editor.eventManager,convertor:this._editor.convertor}))}},{key:"getToolbar",value:function(){return this._toolbar}},{key:"setToolbar",value:function(e){this._toolbar.destroy(),this._toolbar=e}},{key:"getModeSwitch",value:function(){return this._modeSwitch}},{key:"getEditorSectionHeight",value:function(){var e=this._editorSection.getBoundingClientRect();return e.bottom-e.top}},{key:"getEditorHeight",value:function(){var e=this._container.getBoundingClientRect();return e.bottom-e.top}},{key:"hide",value:function(){this.$el.addClass("te-hide")}},{key:"show",value:function(){this.$el.removeClass("te-hide")}},{key:"remove",value:function(){this.$el.remove(),P.default.hide()}},{key:"createPopup",value:function(e){return new h.default(e)}}]),e}();t.default=N},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},u=n(95),c=r(u),d=n(3),f=r(d),h=n(43),p=r(h),g=n(97),v=r(g),m=n(45),y=r(m),_=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r._init(e),r._bindWidthChangedEvent(),r}return a(t,e),l(t,[{key:"insertItem",value:function(e,n){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertItem",this).call(this,e,n),this._arrangeMoreButton()}},{key:"_init",value:function(e){var t=y.default.create("button",{name:"more",className:"tui-more",tooltip:f.default.get("More"),event:v.default.OPEN_EVENT});this._moreButton=t,this._popupDropdownToolbar=new v.default({eventManager:e,$target:this.$el,$button:t.$el}),this.addItem(t)}},{key:"_bindWidthChangedEvent",value:function(){var e=this;this._observer=new c.default(function(){e._popupDropdownToolbar.hide(),e._balanceButtons()}),this._observer.observe(this.$el.get(0))}},{key:"_balanceButtons",value:function(){var e=this;this._popupDropdownToolbar.getItems().forEach(function(n){e._popupDropdownToolbar.removeItem(n,!1);var r=e.getItems().length;s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertItem",e).call(e,r,n)}),this.removeItem(this._moreButton,!1),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertItem",this).call(this,0,this._moreButton);var n=this.$el.height();this.getItems().filter(function(e){return e.$el.position().top>n}).forEach(function(t){e.removeItem(t,!1),e._popupDropdownToolbar.addItem(t)}),this._arrangeMoreButton()}},{key:"_arrangeMoreButton",value:function(){if(this._popupDropdownToolbar){this.removeItem(this._moreButton,!1);var e=this._popupDropdownToolbar.getItems().length>0,n=this.getItems().length;e&&s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertItem",this).call(this,n,this._moreButton)}}},{key:"destroy",value:function(){this._observer&&this._observer.disconnect()}}]),t}(p.default);t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function n(e){return parseFloat(e)||0}function r(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return t.reduce(function(t,r){return t+n(e["border-"+r+"-width"])},0)}function i(e){for(var t=["top","right","bottom","left"],r={},i=0,o=t;i<o.length;i+=1){var a=o[i],l=e["padding-"+a];r[a]=n(l)}return r}function o(e){var t=e.getBBox();return c(0,0,t.width,t.height)}function a(e){var t=e.clientWidth,o=e.clientHeight;if(!t&&!o)return k;var a=w(e).getComputedStyle(e),s=i(a),u=s.left+s.right,d=s.top+s.bottom,f=n(a.width),h=n(a.height);if("border-box"===a.boxSizing&&(Math.round(f+u)!==t&&(f-=r(a,"left","right")+u),Math.round(h+d)!==o&&(h-=r(a,"top","bottom")+d)),!l(e)){var p=Math.round(f+u)-t,g=Math.round(h+d)-o;1!==Math.abs(p)&&(f-=p),1!==Math.abs(g)&&(h-=g)}return c(s.left,s.top,f,h)}function l(e){return e===w(e).document.documentElement}function s(e){return f?E(e)?o(e):a(e):k}function u(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return b(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}function c(e,t,n,r){return{x:e,y:t,width:n,height:r}}var d=function(){function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return"undefined"!=typeof Map?Map:function(){function t(){this.__entries__=[]}var n={size:{configurable:!0}};return n.size.get=function(){return this.__entries__.length},t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){var n=this;void 0===t&&(t=null);for(var r=0,i=n.__entries__;r<i.length;r+=1){var o=i[r];e.call(t,o[1],o[0])}},Object.defineProperties(t.prototype,n),t}()}(),f="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,h=function(){return void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")()}(),p=function(){return"function"==typeof requestAnimationFrame?requestAnimationFrame.bind(h):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),g=2,v=function(e,t){function n(){o&&(o=!1,e()),a&&i()}function r(){p(n)}function i(){var e=Date.now();if(o){if(e-l<g)return;a=!0}else o=!0,a=!1,setTimeout(r,t);l=e}var o=!1,a=!1,l=0;return i},m=["top","right","bottom","left","width","height","size","weight"],y="undefined"!=typeof MutationObserver,_=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=v(this.refresh.bind(this),20)};_.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},_.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},_.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},_.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},_.prototype.connect_=function(){f&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),y?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},_.prototype.disconnect_=function(){f&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},_.prototype.onTransitionEnd_=function(e){var t=e.propertyName;void 0===t&&(t=""),m.some(function(e){return!!~t.indexOf(e)})&&this.refresh()},_.getInstance=function(){return this.instance_||(this.instance_=new _),this.instance_},_.instance_=null;var b=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n+=1){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},w=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||h},k=c(0,0,0,0),E=function(){return"undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof w(e).SVGGraphicsElement}:function(e){return e instanceof w(e).SVGElement&&"function"==typeof e.getBBox}}(),C=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=c(0,0,0,0),this.target=e};C.prototype.isActive=function(){var e=s(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},C.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var T=function(e,t){var n=u(t);b(this,{target:e,contentRect:n})},M=function(e,t,n){if(this.activeObservations_=[],this.observations_=new d,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n};M.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof w(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new C(e)),this.controller_.addObserver(this),this.controller_.refresh())}},M.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof w(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},M.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},M.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},M.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new T(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},M.prototype.clearActive=function(){this.activeObservations_.splice(0)},M.prototype.hasActive=function(){return this.activeObservations_.length>0};var S="undefined"!=typeof WeakMap?new WeakMap:new d,O=function(e){if(!(this instanceof O))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=_.getInstance(),n=new M(e,t,this);S.set(this,n)};["observe","unobserve","disconnect"].forEach(function(e){O.prototype[e]=function(){return(t=S.get(this))[e].apply(t,arguments);var t}});var x=function(){return void 0!==h.ResizeObserver?h.ResizeObserver:O}();t.default=x}.call(t,n(12))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),l=function(e){return e&&e.__esModule?e:{default:e}}(a),s=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(l.default);t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},u=n(1),c=r(u),d=n(7),f=r(d),h=n(43),p=r(h),g=function(e){function t(e){return i(this,t),e=c.default.extend({header:!1,className:"te-dropdown-toolbar"},e),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),l(t,[{key:"getToolbar",value:function(){return this._toolbar}},{key:"getItems",value:function(){return this.getToolbar().getItems()}},{key:"getItem",value:function(e){return this.getToolbar().getItem(e)}},{key:"setItems",value:function(e){this.getToolbar().setItems(e)}},{key:"addItem",value:function(e){this.getToolbar().addItem(e)}},{key:"insertItem",value:function(e,t){this.getToolbar().insertItem(e,t)}},{key:"indexOfItem",value:function(e){return this.getToolbar().indexOfItem(e)}},{key:"removeItem",value:function(e,t){return this.getToolbar().removeItem(e,t)}},{key:"removeAllItems",value:function(){this.getToolbar().removeAllItems()}},{key:"_initInstance",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initInstance",this).call(this,e);var n=e.$button,r=e.eventManager;this._$button=n,this._eventManager=r,this._toolbar=new p.default(r)}},{key:"_initDOM",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initDOM",this).call(this),this.setContent(this._toolbar.$el)}},{key:"_initEditorEvent",value:function(){var e=this;s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initEditorEvent",this).call(this),this._eventManager.listen("focus",function(){return e.hide()}),this._eventManager.listen("closeAllPopup",function(){return e.hide()}),this._eventManager.listen(t.OPEN_EVENT,function(){var t=e.isShow();e._eventManager.emit("closeAllPopup"),t||e.show(),e.$el.css({left:"-1000px"});var n=e._$button,r=n.position(),i=n.outerHeight(!0),o=(i-n.outerHeight())/2,a=r.top+i-o,l=r.left+n.outerWidth(!0)-e.$el.outerWidth(!0);e.$el.css({top:a,left:l})})}}]),t}(f.default);Object.defineProperty(g,"OPEN_EVENT",{enumerable:!0,writable:!0,value:"openDropdownToolbar"}),t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(14),h=r(f),p=n(3),g=r(p),v="markdown",m=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{tagName:"div",className:"te-mode-switch"}));return Object.defineProperty(r,"_buttons",{enumerable:!0,writable:!0,value:{}}),r._render(e),r._switchType(d.default.isExisty(n)?n:v),r}return a(t,e),l(t,[{key:"isShown",value:function(){return"block"===this._$rootElement.css("display")}},{key:"show",value:function(){this._$rootElement.css("display","block")}},{key:"hide",value:function(){this._$rootElement.css("display","none")}},{key:"_render",value:function(e){this._buttons.$markdown=(0,u.default)('<button class="te-switch-button markdown" type="button">'+g.default.get("Markdown")+"</button>"),this._buttons.$wysiwyg=(0,u.default)('<button class="te-switch-button wysiwyg" type="button">'+g.default.get("WYSIWYG")+"</button>"),this.$el.append(this._buttons.$markdown),this.$el.append(this._buttons.$wysiwyg),e&&(e.append(this.$el),this._$rootElement=e),this.on("click .markdown",this._changeMarkdown.bind(this)),this.on("click .wysiwyg",this._changeWysiwyg.bind(this)),this.show()}},{key:"_changeMarkdown",value:function(){this._switchType(v)}},{key:"_changeWysiwyg",value:function(){this._switchType("wysiwyg")}},{key:"_setActiveButton",value:function(e){this._buttons.$markdown.removeClass("active"),this._buttons.$wysiwyg.removeClass("active"),this._buttons["$"+e].addClass("active")}},{key:"_switchType",value:function(e){this._type!==e&&(this._type=e,this._setActiveButton(e),this.trigger("modeSwitched",this._type))}}]),t}(h.default);Object.defineProperty(m,"TYPE",{enumerable:!0,writable:!0,value:{MARKDOWN:v,WYSIWYG:"wysiwyg"}}),t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},u=n(1),c=r(u),d=n(7),f=r(d),h=n(3),p=r(h),g=/^(https?:\/\/)?([\da-z.-]+)\.([a-z.]{2,6})(\/([^\s]*))?$/,v=function(e){function t(e){i(this,t);var n='\n            <label for="linkText">'+p.default.get("Link text")+'</label>\n            <input type="text" class="te-link-text-input" />\n            <label for="url">'+p.default.get("URL")+'</label>\n            <input type="text" class="te-url-input" />\n            <div class="te-button-section">\n                <button type="button" class="te-ok-button">'+p.default.get("OK")+'</button>\n                <button type="button" class="te-close-button">'+p.default.get("Cancel")+"</button>\n            </div>\n        ";return e=c.default.extend({header:!0,title:p.default.get("Insert link"),className:"te-popup-add-link tui-editor-popup",content:n},e),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),l(t,[{key:"_initInstance",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initInstance",this).call(this,e),this._editor=e.editor,this._eventManager=e.editor.eventManager}},{key:"_initDOM",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initDOM",this).call(this);var e=this.$el.get(0);this._inputText=e.querySelector(".te-link-text-input"),this._inputURL=e.querySelector(".te-url-input")}},{key:"_initDOMEvent",value:function(){var e=this;s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initDOMEvent",this).call(this),this.on("click .te-close-button",function(){return e.hide()}),this.on("click .te-ok-button",function(){return e._addLink()}),this.on("shown",function(){var t=e._inputText,n=e._inputURL,r=e._editor.getSelectedText().trim();t.value=r,g.exec(r)&&(n.value=r),r.length>0&&n.value.length<1?n.focus():(t.focus(),t.setSelectionRange(0,r.length))}),this.on("hidden",function(){e._resetInputs()})}},{key:"_initEditorEvent",value:function(){var e=this;s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initEditorEvent",this).call(this);var n=this._eventManager;n.listen("focus",function(){return e.hide()}),n.listen("closeAllPopup",function(){return e.hide()}),n.listen("openPopupAddLink",function(){n.emit("closeAllPopup"),e.show()})}},{key:"_addLink",value:function(){var e=this._getValue(),t=e.url,n=e.linkText;return this._clearValidationStyle(),n.length<1?void this._inputText.classList.add("wrong"):t.length<1?void this._inputURL.classList.add("wrong"):(this._eventManager.emit("command","AddLink",{linkText:n,url:t}),void this.hide())}},{key:"_getValue",value:function(){return{url:this._inputURL.value,linkText:this._inputText.value}}},{key:"_clearValidationStyle",value:function(){this._inputURL.classList.remove("wrong"),this._inputText.classList.remove("wrong")}},{key:"_resetInputs",value:function(){this._inputText.value="",this._inputURL.value="",this._clearValidationStyle()}}]),t}(f.default);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},u=n(1),c=r(u),d=n(7),f=r(d),h=n(46),p=r(h),g=n(3),v=r(g),m="te-image-url-input",y="te-image-file-input",_="te-alt-text-input",b="te-ok-button",w="te-close-button",k="te-file-type",E="te-url-type",C="te-tab-section",T=function(e){function t(e){i(this,t);var n='\n            <div class="'+C+'"></div>\n            <div class="'+E+'">\n                <label for="">'+v.default.get("Image URL")+'</label>\n                <input type="text" class="'+m+'" />\n            </div>\n            <form enctype="multipart/form-data" class="'+k+'">\n                <label for="">'+v.default.get("Select image file")+'</label>\n                <input type="file" class="'+y+'" accept="image/*" />\n            </form>\n            <label for="url">'+v.default.get("Description")+'</label>\n            <input type="text" class="'+_+'" />\n            <div class="te-button-section">\n                <button type="button" class="'+b+'">'+v.default.get("OK")+'</button>\n                <button type="button" class="'+w+'">'+v.default.get("Cancel")+"</button>\n            </div>\n        ";return e=c.default.extend({header:!0,title:v.default.get("Insert image"),className:"te-popup-add-image tui-editor-popup",content:n},e),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),l(t,[{key:"_initInstance",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initInstance",this).call(this,e),this.eventManager=e.eventManager}},{key:"_initDOM",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initDOM",this).call(this);var e=this.$el;this._$imageUrlInput=e.find("."+m),this._$imageFileInput=e.find("."+y),this._$altTextInput=e.find("."+_);var n=e.find("."+k),r=e.find("."+E),i=this.$body.find("."+C);this.tab=new p.default({initName:v.default.get("File"),items:[v.default.get("File"),v.default.get("URL")],sections:[n,r]}),i.append(this.tab.$el)}},{key:"_initDOMEvent",value:function(){var e=this;s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initDOMEvent",this).call(this),this.on("shown",function(){return e._$imageUrlInput.focus()}),this.on("hidden",function(){return e._resetInputs()}),this.on("change ."+y,function(){var t=e._$imageFileInput.val().split("\\").pop();e._$altTextInput.val(t)}),this.on("click ."+w,function(){return e.hide()}),this.on("click ."+b,function(){var t=e._$imageUrlInput.val(),n=e._$altTextInput.val();if(t)e._applyImage(t,n);else{var r=e._$imageFileInput.get(0).files.item(0),i=function(t,r){return e._applyImage(t,n||r)};e.eventManager.emit("addImageBlobHook",r,i,"ui")}e.hide()}),this.tab.on("itemClick",function(){return e._resetInputs()})}},{key:"_initEditorEvent",value:function(){var e=this;s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initEditorEvent",this).call(this),this.eventManager.listen("focus",function(){return e.hide()}),this.eventManager.listen("closeAllPopup",function(){return e.hide()}),this.eventManager.listen("openPopupAddImage",function(){e.eventManager.emit("closeAllPopup"),e.show()})}},{key:"_applyImage",value:function(e,t){this.eventManager.emit("command","AddImage",{imageUrl:e,altText:t||"image"}),this.hide()}},{key:"_resetInputs",value:function(){this.$el.find("input").val("")}}]),t}(f.default);t.default=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},u=n(0),c=r(u),d=n(1),f=r(d),h=n(7),p=r(h),g=n(3),v=r(g),m=function(e){function t(e){i(this,t);var n='\n            <button type="button" class="te-table-add-row">'+v.default.get("Add row")+'</button>\n            <button type="button" class="te-table-add-col">'+v.default.get("Add col")+'</button>\n            <button type="button" class="te-table-remove-row">'+v.default.get("Remove row")+'</button>\n            <button type="button" class="te-table-remove-col">'+v.default.get("Remove col")+'</button>\n            <hr/>\n            <button type="button" class="te-table-col-align-left">'+v.default.get("Align left")+'</button>\n            <button type="button" class="te-table-col-align-center">'+v.default.get("Align center")+'</button>\n            <button type="button" class="te-table-col-align-right">'+v.default.get("Align right")+'</button>\n            <hr/>\n            <button type="button" class="te-table-remove">'+v.default.get("Remove table")+"</button>\n        ";return e=f.default.extend({header:!1,className:"te-popup-table-utils",content:n},e),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),l(t,[{key:"_initInstance",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initInstance",this).call(this,e),this.eventManager=e.eventManager}},{key:"_initDOMEvent",value:function(){var e=this;s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initDOMEvent",this).call(this),this.on("click .te-table-add-row",function(){return e.eventManager.emit("command","AddRow")}),this.on("click .te-table-add-col",function(){return e.eventManager.emit("command","AddCol")}),this.on("click .te-table-remove-row",function(){return e.eventManager.emit("command","RemoveRow")}),this.on("click .te-table-col-align-left",function(){return e.eventManager.emit("command","AlignCol","left")}),this.on("click .te-table-col-align-center",function(){return e.eventManager.emit("command","AlignCol","center")}),this.on("click .te-table-col-align-right",function(){return e.eventManager.emit("command","AlignCol","right")}),this.on("click .te-table-remove-col",function(){return e.eventManager.emit("command","RemoveCol")}),this.on("click .te-table-remove",function(){return e.eventManager.emit("command","RemoveTable")})}},{key:"_initEditorEvent",value:function(){var e=this;s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initEditorEvent",this).call(this),this.eventManager.listen("focus",function(){return e.hide()}),this.eventManager.listen("mousedown",function(){return e.hide()}),this.eventManager.listen("closeAllPopup",function(){return e.hide()}),this.eventManager.listen("openPopupTableUtils",function(t){var n=e.$el.parent().offset(),r=t.clientX-n.left,i=t.clientY-n.top+(0,c.default)(window).scrollTop();e.$el.css({position:"absolute",top:i+5,left:r+10}),e.eventManager.emit("closeAllPopup"),e.show()})}}]),t}(p.default);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},u=n(1),c=r(u),d=n(7),f=r(d),h='\n    <div class="te-table-selection">\n        <div class="te-table-header"></div>\n        <div class="te-table-body"></div>\n        <div class="te-selection-area"></div>\n    </div>\n    <p class="te-description"></p>\n',p=function(e){function t(e){return i(this,t),e=c.default.extend({header:!1,className:"te-popup-add-table",content:h},e),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),l(t,[{key:"_initInstance",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initInstance",this).call(this,e),this._selectedBound={},this._tableBound={},this._eventManager=e.eventManager,this._$button=e.$button}},{key:"_initDOM",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initDOM",this).call(this),this._cacheElements(),this._setTableSizeByBound(5,7)}},{key:"_initDOMEvent",value:function(e){var n=this;s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initDOMEvent",this).call(this,e),this.on("mousemove .te-table-selection",function(e){var t=e.pageX-n._selectionOffset.left,r=e.pageY-n._selectionOffset.top,i=n._getSelectionBoundByOffset(t,r);n._resizeTableBySelectionIfNeed(i.col,i.row),n._setSelectionAreaByBound(i.col,i.row),n._setDisplayText(i.col,i.row),n._setSelectedBound(i.col,i.row)}),this.on("click .te-table-selection",function(){var e=n._getSelectedTableSize();n._eventManager.emit("command","Table",e.col,e.row)})}},{key:"_initEditorEvent",value:function(){var e=this;s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initEditorEvent",this).call(this),this._eventManager.listen("focus",function(){return e.hide()}),this._eventManager.listen("closeAllPopup",function(){return e.hide()}),this._eventManager.listen("openPopupAddTable",function(){var t=e._$button,n=t.get(0),r=n.offsetTop,i=n.offsetLeft;e.$el.css({top:r+t.outerHeight(),left:i}),e._eventManager.emit("closeAllPopup"),e.show(),e._selectionOffset=e.$el.find(".te-table-selection").offset()})}},{key:"_cacheElements",value:function(){this.$header=this.$el.find(".te-table-header"),this.$body=this.$el.find(".te-table-body"),this.$selection=this.$el.find(".te-selection-area"),this.$desc=this.$el.find(".te-description")}},{key:"_resizeTableBySelectionIfNeed",value:function(e,t){var n=this._getResizedTableBound(e,t);n&&this._setTableSizeByBound(n.col,n.row)}},{key:"_getResizedTableBound",value:function(e,t){var n=void 0,r=void 0,i=void 0;return e>=5&&e<9?n=e+1:e<5&&(n=5),t>=7&&t<14?r=t+1:t<7&&(r=7),this._isNeedResizeTable(n,r)&&(i={row:r||this._tableBound.row,col:n||this._tableBound.col}),i}},{key:"_isNeedResizeTable",value:function(e,t){return e&&e!==this._tableBound.col||t&&t!==this._tableBound.row}},{key:"_getBoundByOffset",value:function(e,t){return{row:parseInt(t/17,10),col:parseInt(e/25,10)}}},{key:"_getOffsetByBound",value:function(e,t){return{x:25*e+25,y:17*t+17}}},{key:"_setTableSizeByBound",value:function(e,t){var n=this._getOffsetByBound(e,t-1);this._setTableSize(n.x,n.y),this._tableBound.row=t,this._tableBound.col=e}},{key:"_getSelectionBoundByOffset",value:function(e,t){var n=this._getBoundByOffset(e,t);return n.row<1?n.row=1:n.row>this._tableBound.row&&(n.row=this._tableBound.row),n.col<1?n.col=1:n.col>this._tableBound.col&&(n.col=this._tableBound.col),n}},{key:"_setSelectionAreaByBound",value:function(e,t){var n=this._getOffsetByBound(e,t);this._setSelectionArea(n.x,n.y)}},{key:"_setSelectedBound",value:function(e,t){this._selectedBound.col=e,this._selectedBound.row=t}},{key:"_getSelectedTableSize",value:function(){return{row:this._selectedBound.row+1,col:this._selectedBound.col+1}}},{key:"_setDisplayText",value:function(e,t){this.$desc.html(e+1+" x "+(t+1))}},{key:"_setTableSize",value:function(e,t){e+=1,t+=1,this.$header.css({height:17,width:e}),this.$body.css({height:t,width:e}),this.$el.css({width:e+30})}},{key:"_setSelectionArea",value:function(e,t){e+=1,t+=1,this.$selection.css({height:t,width:e})}}]),t}(f.default);p.CELL_WIDTH=25,p.CELL_HEIGHT=17,p.MIN_ROW_SELECTION_INDEX=1,p.MIN_COL_SELECTION_INDEX=1,t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},u=n(0),c=r(u),d=n(1),f=r(d),h=n(7),p=r(h),g=n(3),v=r(g),m=function(e){function t(e){i(this,t);var n='\n            <ul>\n                <li data-value="1" data-type="Heading"><h1>'+v.default.get("Heading")+' 1</h1></li>\n                <li data-value="2" data-type="Heading"><h2>'+v.default.get("Heading")+' 2</h2></li>\n                <li data-value="3" data-type="Heading"><h3>'+v.default.get("Heading")+' 3</h3></li>\n                <li data-value="4" data-type="Heading"><h4>'+v.default.get("Heading")+' 4</h4></li>\n                <li data-value="5" data-type="Heading"><h5>'+v.default.get("Heading")+' 5</h5></li>\n                <li data-value="6" data-type="Heading"><h6>'+v.default.get("Heading")+' 6</h6></li>\n                <li data-type="Paragraph"><div>'+v.default.get("Paragraph")+"</div></li>\n            </ul>\n        ";return e=f.default.extend({header:!1,className:"te-heading-add",content:n},e),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),l(t,[{key:"_initInstance",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initInstance",this).call(this,e),this._eventManager=e.eventManager,this._$button=e.$button}},{key:"_initDOMEvent",value:function(){var e=this;s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initDOMEvent",this).call(this),this.on("click li",function(t){var n=(0,c.default)(t.target).closest("li");e._eventManager.emit("command",n.data("type"),n.data("value"))})}},{key:"_initEditorEvent",value:function(){var e=this;s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initEditorEvent",this).call(this),this._eventManager.listen("focus",this.hide.bind(this)),this._eventManager.listen("closeAllPopup",this.hide.bind(this)),this._eventManager.listen("openHeadingSelect",function(){var t=e._$button,n=t.get(0),r=n.offsetTop,i=n.offsetLeft;e.$el.css({top:r+t.outerHeight(),left:i}),e._eventManager.emit("closeAllPopup"),e.show()})}}]),t}(p.default);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},u=n(0),c=r(u),d=n(1),f=r(d),h=n(7),p=r(h),g="te-popup-code-block-lang-",v=function(e){function t(e){i(this,t);var n=[];return e.languages.forEach(function(e){return n.push('<button type="button" class="'+g+e+'" data-lang="'+e+'">'+e+"</button>")}),e=f.default.extend({header:!1,className:"te-popup-code-block-languages",content:n.join("")},e),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),l(t,[{key:"_initInstance",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initInstance",this).call(this,e),this._onSelectedLanguage=null,this._onDismissed=null,this._currentButton=null,this._$buttons=null,this._languages=e.languages,this.eventManager=e.eventManager}},{key:"_initDOM",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initDOM",this).call(this,e),this.$el.css("z-index",1e4),this._$buttons=this.$el.find("button"),this._activateButtonByIndex(0)}},{key:"_initDOMEvent",value:function(){var e=this;s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initDOMEvent",this).call(this);var n=function(t){var n=(0,c.default)(t.target).data("lang");e._onSelectedLanguage&&e._onSelectedLanguage(n),e.hide()};this._languages.forEach(function(t){return e.on("mousedown ."+g+t,n)})}},{key:"_initEditorEvent",value:function(){var e=this;s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initEditorEvent",this).call(this),this.eventManager.listen("openPopupCodeBlockLanguages",function(t){e.show(t.callback);var n=e.$el.get(0).style;return n.top=t.offset.top+"px",n.left=t.offset.left+"px",e.setCurrentLanguage(t.language),e}),this.eventManager.listen("focus",function(){return e.hide()}),this.eventManager.listen("mousedown",function(){return e.hide()}),this.eventManager.listen("closeAllPopup",function(){return e.hide()}),this.eventManager.listen("closePopupCodeBlockLanguages",function(){return e.hide()}),this.eventManager.listen("scroll",function(){return e.hide()})}},{key:"_activateButtonByIndex",value:function(e){this._currentButton&&(0,c.default)(this._currentButton).removeClass("active"),this._currentButton=this._$buttons.get(e),(0,c.default)(this._currentButton).addClass("active"),(this._currentButton && this._currentButton.scrollIntoView())}},{key:"prev",value:function(){var e=this._$buttons.index(this._currentButton)-1;e<0&&(e=this._$buttons.length-1),this._activateButtonByIndex(e)}},{key:"next",value:function(){var e=this._$buttons.index(this._currentButton)+1;e>=this._$buttons.length&&(e=0),this._activateButtonByIndex(e)}},{key:"getCurrentLanguage",value:function(){return(0,c.default)(this._currentButton).data("lang")}},{key:"setCurrentLanguage",value:function(e){var t=this._$buttons.filter("."+g+e);if(t.length>0){var n=this._$buttons.index(t);this._activateButtonByIndex(n)}}},{key:"show",value:function(e){this._onSelectedLanguage=e.selected,this._onDismissed=e.dismissed,s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this)}},{key:"hide",value:function(){this._onDismissed&&this._onDismissed(),this._onSelectedLanguage=null,this._onDismissed=null,s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"hide",this).call(this)}}]),t}(p.default);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},u=n(0),c=r(u),d=n(1),f=r(d),h=n(7),p=r(h),g=n(106),v=r(g),m=n(107),y=r(m),_=n(108),b=r(_),w=n(109),k=r(w),E=n(3),C=r(E),T="popup-editor-",M="te-ok-button",S="te-close-button",O='\n    <button type="button" class="'+T+'toggle-scroll"></button>\n    <button type="button" class="'+T+'toggle-preview"></button>\n    <button type="button" class="'+T+'toggle-fit"></button>\n    <button type="button" class="tui-popup-close-button"></button>\n',x=function(e){function t(e){i(this,t);var n='\n            <div class="'+T+'body"></div>\n            <div class="te-button-section">\n                <button type="button" class="'+M+'">'+C.default.get("OK")+'</button>\n                <button type="button" class="'+S+'">'+C.default.get("Cancel")+"</button>\n            </div>\n        ";return e=f.default.extend({header:!0,title:"CodeBlock Editor",content:n,className:"tui-popup-code-block-editor",headerButtons:O,modal:!0},e),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),l(t,[{key:"_initInstance",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initInstance",this).call(this,e),this.eventManager=e.eventManager,this.convertor=e.convertor}},{key:"_initDOM",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initDOM",this).call(this,e);var n=this.$el.get(0);this._body=n.querySelector("."+T+"body"),this._toggleFitButton=n.querySelector("."+T+"toggle-fit"),this._togglePreviewButton=n.querySelector("."+T+"toggle-preview"),this._toggleScrollButton=n.querySelector("."+T+"toggle-scroll"),this._okButton=n.querySelector("."+M),this._closeButton=n.querySelector("."+S),this._codeMirrorWrapper=this._createCodeBlockEditor(),this._previewWrapper=this._createPreview(),this._scrollSyncSplit=new v.default(this._body,this._codeMirrorWrapper,this._previewWrapper),this._updateFitWindowButton(),this._updatePreviewButton(),this._updateScrollButton(),this._codeBlockLanguagesCombo=this._createCodeBlockLanguagesCombo()}},{key:"_initDOMEvent",value:function(){var e=this;s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initDOMEvent",this).call(this),this.on("scroll",function(e){return e.preventDefault()}),this.on("click ."+T+"toggle-fit",function(){return e._toggleFitToWindow()}),this.on("click ."+T+"toggle-preview",function(){return e._togglePreview()}),this.on("click ."+T+"toggle-scroll",function(){return e._toggleScroll()}),this.on("click ."+M,function(){return e._save()}),this.on("click ."+S,function(){return e.hide()}),this.on("click ."+T+"close",function(){return e.hide()}),this.on("click ."+T+"editor-wrapper",function(t){t.target===e._codeMirrorWrapper&&e._focusEditor(!0)})}},{key:"_initEditorEvent",value:function(){var e=this;s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initEditorEvent",this).call(this),this.eventManager.listen("openPopupCodeBlockEditor",function(t){return e.eventManager.emit("closeAllPopup"),e.show(t),e}),this.eventManager.listen("closeAllPopup",this.hide.bind(this)),this.eventManager.listen("closePopupCodeBlockEditor",this.hide.bind(this))}},{key:"_createCodeBlockEditor",value:function(){var e=document.createElement("div");return e.classList.add(T+"editor-wrapper"),this._codeBlockEditor=new y.default(e,this.eventManager),e}},{key:"_createPreview",value:function(){var e=document.createElement("div");return this._codeBlockPreview=new b.default((0,c.default)(e),this.eventManager,this.convertor,this._codeBlockEditor),e}},{key:"_createCodeBlockLanguagesCombo",value:function(){var e=this,t=this.getTitleElement(),n=new k.default(this.eventManager);return n.setOnLanguageSelected(function(t){e._codeBlockEditor.setLanguage(t),e._codeBlockEditor.refresh(),e._focusEditor()}),t.innerHTML="CodeBlock Editor",t.appendChild(n.getElement()),n}},{key:"_updateFitWindowButton",value:function(){(0,c.default)(this._toggleFitButton).toggleClass("active",this.isFitToWindow())}},{key:"_updatePreviewButton",value:function(){(0,c.default)(this._togglePreviewButton).toggleClass("active",this._scrollSyncSplit.isSplitView())}},{key:"_updateScrollButton",value:function(){this._scrollSyncSplit.isSplitView()?this._toggleScrollButton.style.display="inline-block":this._toggleScrollButton.style.display="none",(0,c.default)(this._toggleScrollButton).toggleClass("active",this._scrollSyncSplit.isScrollSynced())}},{key:"_focusEditor",value:function(e){this._codeBlockEditor.focus(),e?this._codeBlockEditor.moveCursorToEnd():this._codeBlockEditor.moveCursorToStart()}},{key:"_togglePreview",value:function(){this._scrollSyncSplit.toggleSplitView(),this._updatePreviewButton(),this._updateScrollButton(),this._codeBlockEditor.refresh()}},{key:"_toggleFitToWindow",value:function(){this.toggleFitToWindow(),this._updateFitWindowButton(),this._codeBlockEditor.refresh()}},{key:"_toggleScroll",value:function(){this._scrollSyncSplit.toggleScrollSync(),this._updateScrollButton()}},{key:"_save",value:function(){this._codeBlockEditor.save(this._codeBlockElement),this.hide()}},{key:"_load",value:function(e){this._codeBlockElement=e,this._codeBlockEditor.load(e),this._codeBlockLanguagesCombo.setLanguage(this._codeBlockEditor.getLanguage()),this._focusEditor(),this._codeBlockPreview.refresh()}},{key:"show",value:function(e){if(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),!e)throw new Error("should be called with codeBlockElement");this._load(e)}},{key:"hide",value:function(){this.setFitToWindow(!1),this._codeBlockEditor&&this._codeBlockEditor.clear(),this._codeBlockPreview&&this._codeBlockPreview.clear(),this._codeBlockElement=null,s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"hide",this).call(this)}}]),t}(p.default);t.default=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),l=r(a),s=n(1),u=r(s),c={left:"tui-split-content-left",right:"tui-split-content-right"},d=function(){function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i(this,e),o=u.default.extend({showScrollSyncButton:!1,scrollSync:!0,splitView:!0},o),this._baseElement=t,this._contentElements=[],this._initDom(n,r,o),this._initDomEvent()}return o(e,[{key:"_initDom",value:function(e,t,n){var r=document.createElement("div");r.className="tui-split-scroll",this._el=r;var i=document.createElement("div");i.className="tui-split-scroll-wrapper",this._scrollWrapper=i,this._setScrollSync(n.scrollSync),this.setSplitView(n.splitView);var o=document.createElement("div");o.className="tui-split-scroll-content",this._contentWrapper=o;var a=document.createElement("div");a.className="tui-splitter",this._baseElement.appendChild(r),r.appendChild(i),i.appendChild(o),i.appendChild(a),this._setLeft(e),this._setRight(t)}},{key:"_initDomEvent",value:function(){this._contentWrapper.addEventListener("scroll",this.sync.bind(this))}},{key:"_requireScrollIntoView",value:function(e){var t=e.target,n=t.getBoundingClientRect(),r=n.top,i=n.bottom,o=void 0,a=void 0,s=void 0;if(this.isScrollSynced())s=this._contentWrapper;else if((0,l.default)(t).parents(this._contentElements.left).length)s=this._contentElements.left;else{if(!(0,l.default)(t).parents(this._contentElements.right).length)return;s=this._contentElements.right}var u=s.getBoundingClientRect();o=u.top,a=u.bottom,r<o?s.scrollTop=s.scrollTop+r-o:i>a&&(s.scrollTop=s.scrollTop+i-a),this.sync()}},{key:"_setContentElement",value:function(e,t){var n=this,r=this._contentElements[t];r&&((0,l.default)(r).off("requireScrollIntoView"),this._contentWrapper.removeChild(r)),e.classList.add(c[t]),this._contentWrapper.appendChild(e),(0,l.default)(e).on("requireScrollIntoView",function(e){return n._requireScrollIntoView(e)}),(0,l.default)(e).on("requireScrollSync",function(){return n.sync()}),this._contentElements[t]=e,this.sync()}},{key:"_setLeft",value:function(e){this._setContentElement(e,"left")}},{key:"_setRight",value:function(e){this._setContentElement(e,"right")}},{key:"_setScrollSync",value:function(e){(0,l.default)(this._el).toggleClass("scroll-sync",e)}},{key:"toggleScrollSync",value:function(){this._el.classList.toggle("scroll-sync")}},{key:"setSplitView",value:function(e){(0,l.default)(this._el).toggleClass("single-content",!e)}},{key:"toggleSplitView",value:function(){this._el.classList.toggle("single-content")}},{key:"isScrollSynced",value:function(){return this._el.classList.contains("scroll-sync")}},{key:"isSplitView",value:function(){return!this._el.classList.contains("single-content")}},{key:"sync",value:function(){if(this._contentElements.left&&this._contentElements.right){var e=this._contentWrapper.clientHeight,t=this._contentWrapper.scrollTop,n=this._contentElements.left,r=this._contentElements.right,i=n.offsetHeight-e>0?n:r,o=i===n?r:n,a=i.offsetHeight,l=Math.max(a-e,0),s=Math.max(o.offsetHeight,e),u=a-s;i.style.top="0px",o.style.top=t/l*u+"px"}}},{key:"scrollTop",value:function(e){this._contentWrapper.scrollTop=e}}]),e}();t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(31),d=r(c),f=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{singleCursorHeightPerLine:!1,theme:"none"}));return r._language="",r._eventManager=n,r._initEvent(),r}return a(t,e),l(t,[{key:"_initEvent",value:function(){var e=this;this.on("cursorActivity",this._onRequireScrollIntoView.bind(this)),this.on("beforeChange",function(t,n){"paste"===n.origin&&e._eventManager.emit("pasteBefore",{source:"codeblock",data:n})})}},{key:"_onRequireScrollIntoView",value:function(){var e=this.getCursor(),t=this.getWrapperElement();setTimeout(function(){var n=t.querySelector("pre:nth-child("+(e.line+1)+")");(0,u.default)(n).trigger("requireScrollIntoView")},0)}},{key:"load",value:function(e){var t=e.cloneNode(!0),n=[],r=t.querySelectorAll("div");[].slice.call(r).forEach(function(e){n.push(e.innerText.replace(/\n$/,""))}),this.setLanguage(t.getAttribute("data-language")||""),this.setEditorCodeText(n.join("\n"))}},{key:"save",value:function(e){e.innerHTML="",this.getEditorCodeText().split("\n").forEach(function(t){var n=document.createElement("div");e.appendChild(n);var r=void 0;r=t.length>0?document.createTextNode(t):document.createElement("br"),n.appendChild(r)}),e.setAttribute("data-language",this._language),(0,u.default)(e).trigger("language-changed")}},{key:"clear",value:function(){this.setLanguage(""),this.setEditorCodeText("")}},{key:"getLanguage",value:function(){return this._language}},{key:"setLanguage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._language=e}},{key:"getEditorCodeText",value:function(){return this.getValue()}},{key:"setEditorCodeText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.setValue(e)}},{key:"refresh",value:function(){this.cm.refresh()}}]),t}(d.default);t.default=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},s=n(34),u=function(e){return e&&e.__esModule?e:{default:e}}(s),c=function(e){function t(e,n,o,a){r(this,t);var l=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,!0));return l._codeBlockEditor=a,l._initEvent(),l}return o(t,e),a(t,[{key:"_initEvent",value:function(){var e=this;this._codeBlockEditor.on("update",function(){return e.lazyRunner.run("refresh")})}},{key:"refresh",value:function(){var e=this._codeBlockEditor.getLanguage(),n=this._codeBlockEditor.getEditorCodeText();l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"refresh",this).call(this,"```"+e+"\n"+n+"\n```"),this.$el.trigger("requireScrollSync")}},{key:"clear",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this,"")}}]),t}(u.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),l=r(a),s=n(3),u=r(s),c=n(22),d=r(c),f=function(){function e(t){i(this,e),this._eventManager=t,this._initDOM(),this._initDOMEvent()}return o(e,[{key:"_initDOM",value:function(){this._inputLanguage=(0,l.default)('<input type="text" maxlength="20" placeholder="'+u.default.get("Choose language")+'">').get(0),this._wrapper=(0,l.default)('<span class="te-input-language">').get(0),this._wrapper.appendChild(this._inputLanguage)}},{key:"_initDOMEvent",value:function(){var e=this;this._inputLanguage.addEventListener("keydown",function(t){return e._onKeyEvent(t)}),this._inputLanguage.addEventListener("focus",function(){return e._showPopupCodeBlockLanguages()}),this._inputLanguage.addEventListener("focusout",function(){return e._onFocusOut()}),this._wrapper.addEventListener("mousedown",function(t){t.target===e._wrapper&&(t.preventDefault(),e._toggleFocus())})}},{key:"_showPopupCodeBlockLanguages",value:function(){var e=this,t=this._inputLanguage.getBoundingClientRect();this._wrapper.classList.toggle("active",!0),this.active=!0,this._popupCodeBlockLanguages=this._eventManager.emitReduce("openPopupCodeBlockLanguages",{language:this._prevStoredLanguage,offset:{left:t.left,top:t.bottom},callback:{selected:function(t){return e._onLanguageSelectedFromList(t)},dismissed:function(){e._popupCodeBlockLanguages=null}}})}},{key:"_toggleFocus",value:function(){var e=this._inputLanguage;this._wrapper.classList.contains("active")?e.blur():e.focus()}},{key:"_onFocusOut",value:function(){this._wrapper.classList.toggle("active",!1),this._inputLanguage.value=this._prevStoredLanguage,this._hidePopupCodeBlockLanguages()}},{key:"_onKeyEvent",value:function(e){if(this._popupCodeBlockLanguages)switch(e.which){case d.default.keyCode("UP"):this._popupCodeBlockLanguages.prev(),e.preventDefault();break;case d.default.keyCode("DOWN"):this._popupCodeBlockLanguages.next(),e.preventDefault();break;case d.default.keyCode("ENTER"):case d.default.keyCode("TAB"):var t=this._popupCodeBlockLanguages.getCurrentLanguage();this._inputLanguage.value=t,this._storeInputLanguage(),e.preventDefault();break;default:this._popupCodeBlockLanguages.hide()}else e.which!==d.default.keyCode("ENTER")&&e.which!==d.default.keyCode("TAB")||(this._storeInputLanguage(),e.preventDefault())}},{key:"_onLanguageSelectedFromList",value:function(e){this._inputLanguage.value=e,this._storeInputLanguage()}},{key:"setOnLanguageSelected",value:function(e){this._onLanguageSelected=e}},{key:"_hidePopupCodeBlockLanguages",value:function(){this._eventManager.emit("closePopupCodeBlockLanguages")}},{key:"setLanguage",value:function(e){this._prevStoredLanguage=e,this._inputLanguage.value=e}},{key:"_storeInputLanguage",value:function(){var e=this._inputLanguage.value;this.setLanguage(e),this._onLanguageSelected&&this._onLanguageSelected(e),this._hidePopupCodeBlockLanguages()}},{key:"getElement",value:function(){return this._wrapper}}]),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=/^[*_]{2,}[^*_]+[*_]{2,}$/,a=/[*_]{2,}([^*_]+)[*_]{2,}/g,l=i.default.command("markdown",{name:"Bold",keyMap:["CTRL+B","META+B"],exec:function(e){var t=e.getEditor(),n=t.getDoc(),r=n.getCursor(),i=n.getSelection(),o=!i;if(o&&r.ch>1){i=this.expendSelection(n,r)||i}var a=this.isNeedRemove(i),l=void 0;a?(l=this.remove(i),l=this._removeBoldSyntax(l)):(l=this._removeBoldSyntax(i),l=this.append(l)),n.replaceSelection(l,"around"),o&&!a&&this.setCursorToCenter(n,r),t.focus()},isNeedRemove:function(e){return o.test(e)},append:function(e){return"**"+e+"**"},remove:function(e){return e.substr(2,e.length-4)},expendSelection:function(e,t){var n=e.getSelection(),r=void 0,i={line:t.line,ch:t.ch-2},o={line:t.line,ch:t.ch+2};return e.setSelection(i,o),"****"===n||"____"===n?r=n:e.setSelection(t),r},setCursorToCenter:function(e,t){e.setCursor(t.line,t.ch+2)},_removeBoldSyntax:function(e){return e?e.replace(a,"$1"):""}});t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=/^[*_]{3,}[^*_]+[*_]{3,}$/,a=/^[*_][^*_]+[*_]$/,l=/[*_]([^*_]+)[*_]/g,s=i.default.command("markdown",{name:"Italic",keyMap:["CTRL+I","META+I"],exec:function(e){var t=e.getEditor(),n=t.getDoc(),r=n.getCursor(),i=n.getSelection(),o=!i,a=!1,l=void 0;o&&(r.ch>2&&(l=this.expendWithBoldSelection(n,r))&&(a="with"),"with"!==a&&r.ch>1&&(a=this.expendOnlyBoldSelection(n,r)),!a&&r.ch>0&&(this.expendSelection(n,r),i=l||i));var s=this.isNeedRemove(i),u=void 0;s?(u=this.remove(i),u=this._removeItalicSyntax(u)):(u=this._removeItalicSyntax(i),u=this.append(u)),n.replaceSelection(u,"around"),o&&this.setCursorToCenter(n,r,s),t.focus()},isNeedRemove:function(e){return a.test(e)||o.test(e)},append:function(e){return"_"+e+"_"},remove:function(e){return e.substr(1,e.length-2)},expendWithBoldSelection:function(e,t){var n=e.getSelection(),r=void 0,i={line:t.line,ch:t.ch-3},o={line:t.line,ch:t.ch+3};return e.setSelection(i,o),"******"===n||"______"===n?r=n:e.setSelection(t),r},expendOnlyBoldSelection:function(e,t){var n=e.getSelection(),r=!1,i={line:t.line,ch:t.ch-2},o={line:t.line,ch:t.ch+2};return e.setSelection(i,o),"****"!==n&&"____"!==n||(e.setSelection(t),r="only"),r},expendSelection:function(e,t){var n=e.getSelection(),r=void 0,i={line:t.line,ch:t.ch-2},o={line:t.line,ch:t.ch+2};return e.setSelection(i,o),"****"===n||"____"===n?r=n:e.setSelection(t),r},setCursorToCenter:function(e,t,n){var r=n?-1:1;e.setCursor(t.line,t.ch+r)},_removeItalicSyntax:function(e){return e?e.replace(l,"$1"):""}});t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=/^~~[^~]+~~$/,a=/~~([^~]+)~~/g,l=i.default.command("markdown",{name:"Strike",keyMap:["CTRL+S","META+S"],exec:function(e){var t=e.getEditor(),n=t.getDoc(),r=n.getCursor(),i=n.getSelection(),o=this.hasStrikeSyntax(i),a=void 0;o?(a=this.remove(i),a=this._removeStrikeSyntax(a)):(a=this._removeStrikeSyntax(i),a=this.append(a)),n.replaceSelection(a,"around"),i||o||this.setCursorToCenter(n,r,o),t.focus()},hasStrikeSyntax:function(e){return o.test(e)},append:function(e){return"~~"+e+"~~"},remove:function(e){return e.substr(2,e.length-4)},setCursorToCenter:function(e,t,n){var r=n?-2:2;e.setCursor(t.line,t.ch+r)},_removeStrikeSyntax:function(e){return e?e.replace(a,"$1"):""}});t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=i.default.command("markdown",{name:"Blockquote",keyMap:["CTRL+Q","META+Q"],exec:function(e){for(var t=e.getEditor(),n=t.getDoc(),r=e.getCurrentRange(),i={line:r.from.line,ch:0},o={line:r.to.line,ch:n.getLineHandle(r.to.line).text.length},a=n.getRange(i,o),l=a.split("\n"),s=l.length,u=0;u<s;u+=1)l[u]=">"+l[u];n.replaceRange(l.join("\n"),i,o),r.to.ch+=1,n.setCursor(r.to),t.focus()}});t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=e.match(u),r="";do{r+="#",t-=1}while(t>0);if(n){e=e.split(n[0])[1]}return r+" "+e}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),l=n(2),s=r(l),u=/^#+\s/g,c=s.default.command("markdown",{name:"Heading",exec:function(e,t){var n=e.getEditor(),r=n.getDoc(),o=e.getCurrentRange(),l={line:o.from.line,ch:0},s={line:o.to.line,ch:r.getLineHandle(o.to.line).text.length},u=r.getLine(s.line).length,c=r.getRange(l,s),d=c.split("\n");a.default.forEachArray(d,function(e,n){d[n]=i(e,t)}),r.replaceRange(d.join("\n"),l,s),o.to.ch+=r.getLine(s.line).length-u,r.setSelection(l,o.to),n.focus()}});t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=/^(#{1,6}| *((?:\*|-|\d\.)(?: \[[ xX]])?)) /;return e.replace(t,"")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),l=n(2),s=r(l),u=s.default.command("markdown",{name:"Paragraph",exec:function(e){var t=e.getEditor(),n=t.getDoc(),r=e.getCurrentRange(),o={line:r.from.line,ch:0},l={line:r.to.line,ch:n.getLineHandle(r.to.line).text.length},s=n.getLine(l.line).length,u=n.getRange(o,l),c=u.split("\n");a.default.forEachArray(c,function(e,t){c[t]=i(e)}),n.replaceRange(c.join("\n"),o,l),r.to.ch+=n.getLine(l.line).length-s,n.setSelection(o,l),t.focus()}});t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=i.default.command("markdown",{name:"HR",keyMap:["CTRL+L","META+L"],exec:function(e){var t=e.getEditor(),n=t.getDoc(),r="",i=e.getCurrentRange(),o={line:i.from.line,ch:i.from.ch},a={line:i.to.line,ch:i.to.ch};i.collapsed&&(r=n.getLine(o.line),o.ch=0,a.ch=n.getLineHandle(i.to.line).text.length),n.getLine(o.line).length?r+="\n\n* * *\n\n":r+="\n* * *\n",n.replaceRange(r,o,a),t.focus()}});t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(15),l=r(a),s=l.default.decodeURIGraceful,u=l.default.encodeMarkdownCharacters,c=l.default.escapeMarkdownCharacters,d=o.default.command("markdown",{name:"AddLink",exec:function(e,t){var n=e.getEditor(),r=n.getDoc(),i=e.getCurrentRange(),o={line:i.from.line,ch:i.from.ch},a={line:i.to.line,ch:i.to.ch},l=t.linkText,d=t.url;l=s(l),l=c(l),d=u(d);var f="["+l+"]("+d+")";r.replaceRange(f,o,a),n.focus()}});t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(15),l=r(a),s=l.default.decodeURIGraceful,u=l.default.encodeMarkdownCharacters,c=l.default.escapeMarkdownCharacters,d=o.default.command("markdown",{name:"AddImage",exec:function(e,t){var n=e.getEditor(),r=n.getDoc(),i=e.getCurrentRange(),o={line:i.from.line,ch:i.from.ch},a={line:i.to.line,ch:i.to.ch},l=t.altText,d=t.imageUrl;l=s(l),l=c(l),d=u(d);var f="!["+l+"]("+d+")";r.replaceRange(f,o,a,"+addImage"),n.focus()}});t.default=d},function(e,t,n){"use strict";function r(e){return!(!e||!e.match(l.FIND_MD_UL_TASK_RX))}function i(e){return!(!e||!e.match(l.FIND_MD_TASK_RX)&&!e.match(l.FIND_MD_OL_RX))}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=function(e){return e&&e.__esModule?e:{default:e}}(o),l=n(25),s=/([-*])( \[[ xX]]) /,u=/[\d]+\.( \[[ xX]])? /,c=a.default.command("markdown",{name:"UL",keyMap:["CTRL+U","META+U"],exec:function(e){for(var t=e.getEditor(),n=t.getDoc(),o=e.getCurrentRange(),a=e.componentManager.getManager("list"),c=a.expandLineRangeIfNeed(n,o,i),d=c.start,f=c.end,h=void 0,p=void 0,g=d;g<=f&&(p={line:g,ch:0},h=n.getLine(g),a.isListOrParagraph(h));g+=1)r(h)?a.replaceLineText(n,g,s,"$1 "):i(h)?a.replaceLineText(n,g,u,"* "):h.match(l.FIND_MD_UL_RX)||n.replaceRange("* ",p),g===f&&a.appendBlankLineIfNeed(t,g,f,d);t.focus()}});t.default=c},function(e,t,n){"use strict";function r(e){return!(!e||!e.match(a.FIND_MD_TASK_RX)&&!e.match(a.FIND_MD_UL_RX))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=n(25),l=/([-*]|[\d]+\.)( \[[ xX]])? /,s=o.default.command("markdown",{name:"OL",keyMap:["CTRL+O","META+O"],exec:function(e){for(var t=e.getEditor(),n=t.getDoc(),i=e.getCurrentRange(),o=e.componentManager.getManager("list"),s=o.expandLineRangeIfNeed(n,i,r),u=s.start,c=s.end,d=1,f=void 0,h=void 0,p=u;p<=c&&(h={line:p,ch:0},f=n.getLine(p),o.isListOrParagraph(f));p+=1)r(f)?o.replaceLineText(n,p,l,d+". "):f.match(a.FIND_MD_OL_RX)||n.replaceRange(d+". ",h),d+=1,p===c&&o.appendBlankLineIfNeed(t,p,c,u);t.focus()}});t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=i.default.command("markdown",{name:"Indent",exec:function(e){e.getEditor().execCommand("indentOrderedList")}});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=i.default.command("markdown",{name:"Outdent",exec:function(e){e.getEditor().execCommand("indentLessOrderedList")}});t.default=o},function(e,t,n){"use strict";function r(e,t){for(var n="|",r="|",i=0;e;)t?(n+=" "+t[i]+" |",i+=1):n+="  |",r+=" --- |",e-=1;return n+"\n"+r+"\n"}function i(e,t,n){for(var r="",i=e,o=0;o<t;o+=1){r+="|";for(var a=0;a<e;a+=1)n?(r+=" "+n[i]+" |",i+=1):r+="  |";r+="\n"}return r=r.replace(/\n$/g,"")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=function(e){return e&&e.__esModule?e:{default:e}}(o),l=a.default.command("markdown",{name:"Table",exec:function(e,t,n,o){var a=e.getEditor(),l=a.getDoc(),s="\n";a.getCursor().ch>0&&(s+="\n"),s+=r(t,o),s+=i(t,n-1,o),l.replaceSelection(s),o||a.setCursor(a.getCursor().line-n,2),e.focus()}});t.default=l},function(e,t,n){"use strict";function r(e){return!(!e||!e.match(a.FIND_MD_UL_RX)&&!e.match(a.FIND_MD_OL_RX))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=n(25),l=/([*-] |[\d]+\. )/,s=/([*-] |[\d]+\. )(\[[ xX]] )/,u=o.default.command("markdown",{name:"Task",keyMap:["CTRL+T","META+T"],exec:function(e){for(var t=e.getEditor(),n=t.getDoc(),i=e.getCurrentRange(),o=e.componentManager.getManager("list"),u=o.createSortedLineRange(i),c=u.start,d=u.end,f=void 0,h=void 0,p=c;p<=d;p+=1){h={line:p,ch:0},f=n.getLine(p);var g=!!f.match(s);if(!o.isListOrParagraph(f))break;r(f)&&g?o.replaceLineText(n,p,s,"$1"):r(f)&&!g?o.replaceLineText(n,p,l,"$1[ ] "):f.match(a.FIND_MD_TASK_RX)||n.replaceRange("* [ ] ",h),p===d&&o.appendBlankLineIfNeed(t,p,d,c)}t.focus()}});t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=/^`([^`]+)`$/,a=/`([^`]+)`/g,l=i.default.command("markdown",{name:"Code",keyMap:["SHIFT+CTRL+C","SHIFT+META+C"],exec:function(e){var t=e.getEditor(),n=t.getDoc(),r=n.getSelection(),i=t.getCursor(),o=this.hasStrikeSyntax(r),a=void 0;o?(a=this.remove(r),a=this._removeCodeSyntax(a)):(a=this._removeCodeSyntax(r),a=this.append(a)),n.replaceSelection(a,"around"),r||o||this.setCursorToCenter(n,i,o),t.focus()},setCursorToCenter:function(e,t,n){var r=n?-1:1;e.setCursor(t.line,t.ch+r)},hasStrikeSyntax:function(e){return o.test(e)},append:function(e){return"`"+e+"`"},remove:function(e){return e.substr(1,e.length-2)},_removeCodeSyntax:function(e){return e?e.replace(a,"$1"):""}});t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=i.default.command("markdown",{name:"CodeBlock",keyMap:["SHIFT+CTRL+P","SHIFT+META+P"],exec:function(e){var t=e.getEditor(),n=t.getDoc(),r=e.getCurrentRange(),i=["```",n.getSelection(),"```"],o=1;0!==r.from.ch&&(i.unshift(""),o+=1),r.to.ch!==n.getLine(r.to.line).length&&i.push(""),n.replaceSelection(i.join("\n")),t.setCursor(r.from.line+o,0),t.focus()}});t.default=o},function(e,t,n){"use strict";function r(e){e.hasFormat("b")||e.hasFormat("strong")?e.changeFormat(null,{tag:"b"}):e.hasFormat("a")||e.hasFormat("PRE")||(e.hasFormat("code")&&e.changeFormat(null,{tag:"code"}),e.bold())}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=o.default.command("wysiwyg",{name:"Bold",keyMap:["CTRL+B","META+B"],exec:function(e){var t=e.getEditor(),n=e.componentManager.getManager("tableSelection");if(e.focus(),t.hasFormat("table")&&n.getSelectedCells().length){n.styleToSelectedCells(r);var i=t.getSelection();i.collapse(!0),t.setSelection(i)}else r(t)}});t.default=a},function(e,t,n){"use strict";function r(e){e.hasFormat("i")||e.hasFormat("em")?e.changeFormat(null,{tag:"i"}):e.hasFormat("a")||e.hasFormat("PRE")||(e.hasFormat("code")&&e.changeFormat(null,{tag:"code"}),e.italic())}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=o.default.command("wysiwyg",{name:"Italic",keyMap:["CTRL+I","META+I"],exec:function(e){var t=e.getEditor(),n=e.componentManager.getManager("tableSelection");if(e.focus(),t.hasFormat("table")&&n.getSelectedCells().length){n.styleToSelectedCells(r);var i=t.getSelection();i.collapse(!0),t.setSelection(i)}else r(t)}});t.default=a},function(e,t,n){"use strict";function r(e){e.hasFormat("S")?e.changeFormat(null,{tag:"S"}):e.hasFormat("a")||e.hasFormat("PRE")||(e.hasFormat("code")&&e.changeFormat(null,{tag:"code"}),e.strikethrough())}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=o.default.command("wysiwyg",{name:"Strike",keyMap:["CTRL+S","META+S"],exec:function(e){var t=e.getEditor(),n=e.componentManager.getManager("tableSelection");if(e.focus(),t.hasFormat("table")&&n.getSelectedCells().length){n.styleToSelectedCells(r);var i=t.getSelection();i.collapse(!0),t.setSelection(i)}else r(t)}});t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=i.default.command("wysiwyg",{name:"Blockquote",keyMap:["CTRL+Q","META+Q"],exec:function(e){var t=e.getEditor();e.focus(),t.hasFormat("TABLE")||t.hasFormat("PRE")||(e.unwrapBlockTag(),t.increaseQuoteLevel())}});t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(15),l=r(a),s=l.default.decodeURIGraceful,u=l.default.encodeMarkdownCharacters,c=o.default.command("wysiwyg",{name:"AddImage",exec:function(e,t){var n=e.getEditor(),r=t.altText,i=t.imageUrl;r=s(r),i=u(i),e.focus(),n.hasFormat("PRE")||n.insertImage(i,{alt:r})}});t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(2),l=r(a),s=n(15),u=r(s),c=u.default.decodeURIGraceful,d=u.default.encodeMarkdownCharacters,f=l.default.command("wysiwyg",{name:"AddLink",exec:function(e,t){var n=e.getEditor(),r=t.url,i=t.linkText;if(i=c(i),r=d(r),e.focus(),!n.hasFormat("PRE"))if(n.removeAllFormatting(),n.getSelectedText())n.makeLink(r);else{var a=n.createElement("A",{href:r});(0,o.default)(a).text(i),n.insertElement(a)}}});t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(4),l=r(a),s=o.default.command("wysiwyg",{name:"HR",keyMap:["CTRL+L","META+L"],exec:function(e){var t=e.getEditor(),n=t.getSelection(),r=void 0,i=void 0,o=void 0;if(n.collapsed&&!t.hasFormat("TABLE")&&!t.hasFormat("PRE")){r=l.default.getChildNodeByOffset(n.startContainer,n.startOffset),i=l.default.getTopNextNodeUnder(r,e.get$Body()[0]),i||(i=t.createDefaultBlock(),e.get$Body().append(i));var a=t.createElement("HR");t.modifyBlocks(function(e){return e.appendChild(a),e}),o=a.previousSibling,o&&l.default.isTextNode(o)&&0===l.default.getTextLength(o)&&a.parentNode.removeChild(o),n.selectNodeContents(i),n.collapse(!0),t.setSelection(n)}e.focus()}});t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(2),l=r(a),s=l.default.command("wysiwyg",{name:"Heading",exec:function(e,t){var n=e.getEditor();e.focus(),n.hasFormat("TABLE")||n.hasFormat("PRE")||n.modifyBlocks(function(e){return(0,o.default)(e).children("h1, h2, h3, h4, h5, h6, div").each(function(e,n){var r="<H"+t+" />",i=(0,o.default)(n);if(i.is("DIV"))i.wrap(r);else{var a=(0,o.default)(r);a.insertBefore(n),a.html(i.html()),i.remove()}}),e})}});t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(2),l=r(a),s=l.default.command("wysiwyg",{name:"Paragraph",exec:function(e){var t=e.getEditor();e.focus(),t.hasFormat("TABLE")||t.hasFormat("PRE")||t.modifyBlocks(function(e){var t=(0,o.default)(document.createDocumentFragment());return(0,o.default)(e).children().each(function(e,n){n.nodeName.match(/h\d/i)?t.append((0,o.default)(n).children()):n.nodeName.match(/ul|ol/i)?(0,o.default)(n).find("li").each(function(e,n){t.append((0,o.default)(n).children())}):t.append(n)}),t[0]})}});t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(4),l=r(a),s=o.default.command("wysiwyg",{name:"UL",keyMap:["CTRL+U","META+U"],exec:function(e){var t=e.getEditor(),n=t.getSelection(),r=e.componentManager.getManager("list"),i=n.startContainer,o=n.endContainer,a=n.startOffset,s=n.endOffset;e.focus(),t.saveUndoState(n);for(var u=r.getLinesOfSelection(i,o),c=[],d=0;d<u.length;d+=1){var f=this._changeFormatToUnorderedListIfNeed(e,u[d]);f&&c.push(f)}if(c.length){var h=l.default.containsNode(c[0],i)?i:c[0],p=l.default.containsNode(c[c.length-1],o)?o:c[c.length-1];e.setSelectionByContainerAndOffset(h,a,p,s)}},_changeFormatToUnorderedListIfNeed:function(e,t){var n=e.getEditor(),r=n.getSelection(),i=e.componentManager.getManager("task"),o=void 0;return n.hasFormat("TABLE")||n.hasFormat("PRE")||(r.setStart(t,0),r.collapse(!0),n.setSelection(r),n.hasFormat("LI")?(e.saveSelection(r),i.unformatTask(r.startContainer),n.replaceParent(r.startContainer,"ol","ul"),e.restoreSavedSelection()):(e.unwrapBlockTag(),n.makeUnorderedList()),o=n.getSelection().startContainer),o}});t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(4),l=r(a),s=o.default.command("wysiwyg",{name:"OL",keyMap:["CTRL+O","META+O"],exec:function(e){var t=e.getEditor(),n=t.getSelection(),r=e.componentManager.getManager("list"),i=n.startContainer,o=n.startOffset,a=n.endContainer,s=n.endOffset;e.focus(),t.saveUndoState(n);for(var u=r.getLinesOfSelection(i,a),c=[],d=0;d<u.length;d+=1){var f=this._changeFormatToOrderedListIfNeed(e,u[d]);f&&c.push(f)}if(c.length){var h=l.default.containsNode(c[0],i)?i:c[0],p=l.default.containsNode(c[c.length-1],a)?a:c[c.length-1];e.setSelectionByContainerAndOffset(h,o,p,s)}},_changeFormatToOrderedListIfNeed:function(e,t){var n=e.getEditor(),r=n.getSelection(),i=e.componentManager.getManager("task"),o=void 0;return n.hasFormat("TABLE")||n.hasFormat("PRE")||(r.setStart(t,0),r.collapse(!0),n.setSelection(r),n.hasFormat("LI")?(e.saveSelection(r),i.unformatTask(r.startContainer),n.replaceParent(r.startContainer,"ul","ol"),e.restoreSavedSelection()):(e.unwrapBlockTag(),n.makeOrderedList()),o=n.getSelection().startContainer),o}});t.default=s},function(e,t,n){"use strict";function r(e,t){var n=e.getSelection();n.selectNodeContents(t.find("th")[0]),n.collapse(!0),e.setSelection(n)}function i(e,t){for(var n="<thead><tr>",r=0;e;)n+="<th>",t&&(n+=t[r],r+=1),n+="</th>",e-=1;return n+="</tr></thead>"}function o(e,t,n){for(var r="<tbody>",i=e,o=0;o<t;o+=1){r+="<tr>";for(var a=0;a<e;a+=1)r+="<td>",n&&(r+=n[i],i+=1),r+="</td>";r+="</tr>"}return r+="</tbody>"}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),l=function(e){return e&&e.__esModule?e:{default:e}}(a),s=l.default.command("wysiwyg",{name:"Table",exec:function(e,t,n,a){var l=e.getEditor(),s=e.componentManager.getManager("table").getTableIDClassName(),u=void 0;if(!l.getSelection().collapsed||l.hasFormat("TABLE")||l.hasFormat("PRE"))return void e.focus();u='<table class="'+s+'">',u+=i(t,a),u+=o(t,n-1,a),u+="</table>",l.insertHTML(u),e.focus(),a||r(l,e.get$Body().find("."+s))}});t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.componentManager.getManager("tableSelection"),n=t.getSelectedCells(),r=1;if(n.length>1){var i=n.first().get(0),o=n.last().get(0),a=t.getSelectionRangeFromTable(i,o);r=a.to.row-a.from.row+1}return r}function o(e){var t=e.clone(),n=c.default.browser.msie?"":"<br />";return t.find("td").html(n),t}function a(e,t){var n=e.getSelection();n.selectNodeContents(t.find("td")[0]),n.collapse(!0),e.setSelection(n)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),s=r(l),u=n(1),c=r(u),d=n(2),f=r(d),h=f.default.command("wysiwyg",{name:"AddRow",exec:function(e){var t=e.getEditor(),n=t.getSelection().cloneRange(),r=i(e),l=void 0,u=void 0;if(e.focus(),t.hasFormat("TD")){t.saveUndoState(n),l=(0,s.default)(n.startContainer).closest("tr");for(var c=0;c<r;c+=1)u=o(l),u.insertAfter(l);a(t,u)}else if(t.hasFormat("TH")){t.saveUndoState(n),l=(0,s.default)(n.startContainer).parents("thead").next("tbody").children("tr").eq(0);for(var d=0;d<r;d+=1)u=o(l),u.insertBefore(l);a(t,u)}}});t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.componentManager.getManager("tableSelection"),n=t.getSelectedCells(),r=1;if(n.length>0){var i=n.get(0).parentNode.querySelectorAll("td, th").length;r=Math.min(i,n.length)}return r}function o(e){var t=e.startContainer;return t="TD"===g.default.getNodeName(t)||"TH"===g.default.getNodeName(t)?(0,u.default)(t):(0,u.default)(t).parentsUntil("tr")}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e.index(),r=void 0;e.parents("table").find("tr").each(function(e,i){for(var o="TBODY"===g.default.getNodeName(i.parentNode),a=d.default.browser.msie,l=i.children[n],s=0;s<t;s+=1)r=o?document.createElement("td"):document.createElement("th"),a||r.appendChild(document.createElement("br")),(0,u.default)(r).insertAfter(l)})}function l(e,t){var n=e.getSelection();n.selectNodeContents(t.next()[0]),n.collapse(!0),e.setSelection(n)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),u=r(s),c=n(1),d=r(c),f=n(2),h=r(f),p=n(4),g=r(p),v=h.default.command("wysiwyg",{name:"AddCol",exec:function(e){var t=e.getEditor(),n=t.getSelection().cloneRange(),r=i(e),s=void 0;e.focus(),t.hasFormat("TR")&&(t.saveUndoState(n),s=o(n),a(s,r),l(t,s))}});t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=n.find("td").get(0);t.setStart(i,0),t.collapse(!0),r.setLastCellNode(i),e.setSelection(t)}function o(e,t,n){var r=n.find("tbody tr").length,i=(0,s.default)(e).parents("thead").length,o=t.from.row,a=t.to.row;return i&&(o+=1),(1===o||i)&&a===r&&(a-=1),n.find("tr").slice(o,a+1)}function a(e,t,n){var r=t.getSelectedCells(),i=void 0,a=void 0;if(r.length)i=t.getSelectionRangeFromTable(r.first().get(0),r.last().get(0)),a=o(r.first()[0],i,n);else{var l=(0,s.default)(e.startContainer).closest("td,th").get(0);i=t.getSelectionRangeFromTable(l,l),a=o(l,i,n)}return a}Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),s=r(l),u=n(2),c=r(u),d=c.default.command("wysiwyg",{name:"RemoveRow",exec:function(e){var t=e.getEditor(),n=t.getSelection().cloneRange(),r=(0,s.default)(n.startContainer).parents("table"),o=e.componentManager.getManager("tableSelection"),l=e.componentManager.getManager("table"),u=a(n,o,r),c=r.find("tbody tr").length;if(e.focus(),(t.hasFormat("TD")||t.hasFormat("TABLE"))&&c>1){t.saveUndoState(n);var d=u.last().next()[0]?u.last().next():u.first().prev();d.length&&i(t,n,d,l),u.remove()}o.removeClassAttrbuteFromAllCellsIfNeed()}});t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.startContainer;return t="TD"===h.default.getNodeName(t)||"TH"===h.default.getNodeName(t)?(0,u.default)(t):(0,u.default)(t).parentsUntil("tr")}function o(e){for(var t=e.length,n=0;n<t;n+=1){e.eq(n).length>0&&a(e.eq(n))}}function a(e){var t=e.index();e.parents("table").find("tr").each(function(e,n){(0,u.default)(n).children().eq(t).remove()})}function l(e,t,n){var r=t.get(0);if(t.length&&u.default.contains(document,t)){var i=e.getSelection();i.selectNodeContents(t[0]),i.collapse(!0),e.setSelection(i),n.setLastCellNode(r)}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),u=r(s),c=n(2),d=r(c),f=n(4),h=r(f),p=d.default.command("wysiwyg",{name:"RemoveCol",exec:function(e){var t=e.getEditor(),n=t.getSelection().cloneRange(),r=(0,u.default)(n.startContainer).parents("table"),s=e.componentManager.getManager("table"),c=e.componentManager.getManager("tableSelection"),d=(0,u.default)(n.startContainer).closest("table").find("thead tr th").length>1;if(e.focus(),n.collapse(!0),t.setSelection(n),t.hasFormat("TR",null,n)&&d){var f=r.find("tbody tr:first td").length,h=c.getSelectedCells();if(h.length<f){t.saveUndoState(n);var p=void 0;if(h.length>1){var g=h.last(),v=h.first();p=g.next().length?g.next():v.prev(),o(h)}else{var m=i(n);p=m.next().length?m.next():m.prev(),a(m)}l(t,p,s)}}}});t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){var r=n.isDivided||!1,i=n.startColumnIndex,o=n.endColumnIndex,a=e.find("tr").eq(0).find("td,th").length;e.find("tr").each(function(e,n){(0,s.default)(n).children("td,th").each(function(e,n){r&&(i<=e&&e<=a||e<=o)?(0,s.default)(n).attr("align",t):i<=e&&e<=o&&(0,s.default)(n).attr("align",t)})})}function o(e,t){var n=e.find("tr").eq(0).find("td,th").length,r=t.from,i=t.to,o=void 0,a=void 0,l=void 0;return r.row===i.row?(o=r.cell,a=i.cell):r.row<i.row&&(r.cell<=i.cell?(o=0,a=n-1):(o=r.cell,a=i.cell,l=!0)),{startColumnIndex:o,endColumnIndex:a,isDivided:l}}function a(e,t){var n=t.getSelectedCells(),r=void 0,i=void 0;if(n.length)r=t.getSelectionRangeFromTable(n.first().get(0),n.last().get(0));else{var o=e.startContainer;i=f.default.isTextNode(o)?(0,s.default)(o).parent("td,th")[0]:o,r=t.getSelectionRangeFromTable(i,i)}return r}Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),s=r(l),u=n(2),c=r(u),d=n(4),f=r(d),h=c.default.command("wysiwyg",{name:"AlignCol",exec:function(e,t){var n=e.getEditor(),r=n.getSelection().cloneRange(),l=e.componentManager.getManager("tableSelection"),u=a(r,l);if(e.focus(),n.hasFormat("TR")){n.saveUndoState(r);var c=(0,s.default)(r.startContainer).parents("table");i(c,t,o(c,u))}l.removeClassAttrbuteFromAllCellsIfNeed()}});t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(2),l=r(a),s=l.default.command("wysiwyg",{name:"RemoveTable",exec:function(e){var t=e.getEditor(),n=t.getSelection().cloneRange();if(t.hasFormat("TABLE")){t.saveUndoState(n);(0,o.default)(n.startContainer).closest("table").remove()}e.focus()}});t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(2),l=r(a),s=l.default.command("wysiwyg",{name:"Indent",exec:function(e){var t=e.componentManager.getManager("list"),n=e.getEditor().getSelection(),r=(0,o.default)(n.startContainer).closest("li"),i=void 0,a=void 0,l=void 0,s=r.prev();if(s.length&&r.length){var u=r.find("li").eq(0);e.getEditor().saveUndoState(),a=r.attr("class"),i=s.attr("class"),l=u.attr("class"),r.removeAttr("class"),s.removeAttr("class"),u.length&&!u.children("div").length&&u.removeAttr("class"),e.getEditor().increaseListLevel(),t.mergeList(r.get(0)),r.attr("class",a),s.attr("class",i),u.attr("class",l)}}});t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return!e.next().is("OL,UL")}function o(e){var t=e.getEditor().getSelection();return(0,l.default)(t.startContainer).closest("li")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),l=r(a),s=n(2),u=r(s),c=u.default.command("wysiwyg",{name:"Outdent",exec:function(e){var t=o(e);if(t.length&&i(t)){e.getEditor().saveUndoState();var n=t.attr("class");e.getEditor().decreaseListLevel(),t=o(e),t.attr("class",n)}}});t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(2),l=r(a),s=n(4),u=r(s),c=l.default.command("wysiwyg",{name:"Task",keyMap:["CTRL+T","META+T"],exec:function(e){var t=e.getEditor(),n=t.getSelection(),r=e.componentManager.getManager("list"),i=n.startContainer,o=n.endContainer,a=n.startOffset,l=n.endOffset;e.focus(),t.saveUndoState(n);for(var s=r.getLinesOfSelection(i,o),c=[],d=0;d<s.length;d+=1){var f=this._changeFormatToTaskIfNeed(e,s[d]);f&&c.push(f)}if(c.length){var h=u.default.containsNode(c[0],i)?i:c[0],p=u.default.containsNode(c[c.length-1],o)?o:c[c.length-1];e.setSelectionByContainerAndOffset(h,a,p,l)}},_changeFormatToTaskIfNeed:function(e,t){var n=e.getEditor(),r=n.getSelection(),i=e.componentManager.getManager("task"),a=void 0;return n.hasFormat("TABLE")||n.hasFormat("PRE")||(r.setStart(t,0),r.collapse(!0),n.setSelection(r),n.hasFormat("li")||(n.makeUnorderedList(),t=n.getSelection().startContainer),(0,o.default)(t).hasClass("task-list-item")?i.unformatTask(t):i.formatTask(t),a=n.getSelection().startContainer),a}});t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){"CODE"===h.default.getNodeName(e.startContainer.nextSibling)&&0===h.default.getTextLength(e.startContainer.nextSibling)&&(0,l.default)(e.startContainer.nextSibling).remove()}function o(e,t){if(!t.hasFormat("PRE")&&t.hasFormat("code"))t.changeFormat(null,{tag:"code"}),i(e.getSelection().cloneRange());else if(!t.hasFormat("a")&&!t.hasFormat("PRE")){t.hasFormat("b")?t.removeBold():t.hasFormat("i")&&t.removeItalic(),t.changeFormat({tag:"code"});var n=t.getSelection().cloneRange();n.setStart(n.endContainer,n.endOffset),n.collapse(!0),t.setSelection(n)}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),l=r(a),s=n(1),u=r(s),c=n(2),d=r(c),f=n(4),h=r(f),p=d.default.command("wysiwyg",{name:"Code",keyMap:["SHIFT+CTRL+C","SHIFT+META+C"],exec:function(e){var t=e.getEditor(),n=e.componentManager.getManager("tableSelection"),r=u.default.bind(o,null,e.getEditor());if(e.focus(),t.hasFormat("table")&&n.getSelectedCells().length){n.styleToSelectedCells(r);var i=t.getSelection();i.collapse(!0),t.setSelection(i)}else r(t)}});t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=t.getEditor().getSelection().cloneRange();n.setStartBefore(e.find("div")[0].firstChild),n.collapse(!0),t.getEditor().setSelection(n)}function o(e,t){var n=t.componentManager.getManager("codeblock"),r=void 0,i=void 0;return e.collapsed?i=[(0,l.default)("<div><br></div>")[0]]:(r=e.extractContents(),i=u.default.toArray(r.childNodes)),n.convertToCodeblock(i).innerHTML}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),l=r(a),s=n(1),u=r(s),c=n(2),d=r(c),f=0,h=d.default.command("wysiwyg",{name:"CodeBlock",keyMap:["SHIFT+CTRL+P","SHIFT+META+P"],exec:function(e,t){var n=e.getEditor(),r=n.getSelection().cloneRange();if(!n.hasFormat("PRE")&&!n.hasFormat("TABLE")){var a='data-te-codeblock class = "te-content-codeblock-'+f+'"';t&&(a+=' data-language="'+t+'"');var l=o(r,e);n.insertHTML("<pre "+a+">"+l+"</pre>"),i(e.get$Body().find(".te-content-codeblock-"+f),e),f+=1}e.focus()}});t.default=h},function(e,t,n){"use strict";var r=n(3);(function(e){return e&&e.__esModule?e:{default:e}})(r).default.setLanguage(["en","en_US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row":"Add row","Add col":"Add col","Remove row":"Remove row","Remove col":"Remove col","Align left":"Align left","Align center":"Align center","Align right":"Align right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Cannot paste values other than a table in the cell selection state":"Cannot paste values other than a table in the cell selection state.","Choose language":"Choose language"})},function(e,t,n){"use strict";var r=n(3);(function(e){return e&&e.__esModule?e:{default:e}})(r).default.setLanguage(["ko","ko_KR"],{Markdown:"",WYSIWYG:"",Write:"",Preview:"",Headings:"",Paragraph:"",Bold:"",Italic:"",Strike:"",Code:" ",Line:"",Blockquote:"","Unordered list":" ","Ordered list":" ",Task:"",Indent:"",Outdent:"","Insert link":" ","Insert CodeBlock":" ","Insert table":" ","Insert image":" ",Heading:"","Image URL":" ","Select image file":"  .",Description:"",OK:"",More:" ",Cancel:"",File:"",URL:"","Link text":" ","Add row":" ","Add col":" ","Remove row":" ","Remove col":" ","Align left":" ","Align center":" ","Align right":" ","Remove table":" ","Would you like to paste as table?":"  ?","Text color":" ","Auto scroll enabled":"  ","Auto scroll disabled":"  ","Cannot paste values other than a table in the cell selection state.":"        .","Choose language":" "})},function(e,t,n){"use strict";var r=n(3);(function(e){return e&&e.__esModule?e:{default:e}})(r).default.setLanguage(["zh","zh_CN"],{Markdown:"Markdown",WYSIWYG:"",Write:"",Preview:"",Headings:"",Paragraph:"",Bold:"",Italic:"",Strike:"",Code:"",Line:"",Blockquote:"","Unordered list":"","Ordered list":"",Task:"",Indent:"",Outdent:"","Insert link":"","Insert CodeBlock":"","Insert table":"","Insert image":"",Heading:"","Image URL":"","Select image file":"",Description:"",OK:"",More:"",Cancel:"",File:"",URL:"URL","Link text":"","Add row":"","Add col":"","Remove row":"","Remove col":"","Align left":"","Align center":"","Align right":"","Remove table":"","Would you like to paste as table?":"?","Text color":"","Auto scroll enabled":"","Auto scroll disabled":"","Cannot paste values other than a table in the cell selection state":"","Choose language":""})},function(e,t,n){"use strict";var r=n(3);(function(e){return e&&e.__esModule?e:{default:e}})(r).default.setLanguage(["ja","ja_JP"],{Markdown:"",WYSIWYG:"WYSIWYG",Write:"",Preview:"",Headings:"",Paragraph:"",Bold:"",Italic:"",Strike:"",Code:"",Line:"",Blockquote:"","Unordered list":"","Ordered list":"",Task:"",Indent:"",Outdent:"","Insert link":"","Insert CodeBlock":"","Insert table":"","Insert image":"",Heading:"","Image URL":"URL","Select image file":"",Description:" ",OK:"",More:"",Cancel:"",File:"",URL:"URL","Link text":"","Add row":"","Add col":"","Remove row":"","Remove col":"","Align left":"","Align center":"","Align right":"","Remove table":"","Would you like to paste as table?":"?","Text color":"","Auto scroll enabled":"","Auto scroll disabled":"","Cannot paste values other than a table in the cell selection state":"","Choose language":""})},function(e,t,n){"use strict";var r=n(3);(function(e){return e&&e.__esModule?e:{default:e}})(r).default.setLanguage(["nl","nl_NL"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Koppen",Paragraph:"tekst",Bold:"Vet",Italic:"Cursief",Strike:"Doorhalen",Code:"Inline Code",Line:"Regel",Blockquote:"Citaatblok","Unordered list":"Opsomming","Ordered list":"Genummerde opsomming",Task:"Taak",Indent:"Inspringen",Outdent:"Outdent","Insert link":"Link invoegen","Insert CodeBlock":"Codeblok toevoegen","Insert table":"Tabel invoegen","Insert image":"Afbeelding invoegen",Heading:"Kop","Image URL":"Afbeelding URL","Select image file":"Selecteer een afbeelding",Description:"Omschrijving",OK:"OK",More:"verder",Cancel:"Annuleren",File:"Bestand",URL:"URL","Link text":"Link tekst","Add row":"Rij toevoegen","Add col":"Kolom toevoegen","Remove row":"Rij verwijderen","Remove col":"Kolom verwijderen","Align left":"Links uitlijnen","Align center":"Centreren","Align right":"Rechts uitlijnen","Remove table":"Verwijder tabel","Would you like to paste as table?":"Wil je dit als tabel plakken?","Text color":"Tekstkleur","Auto scroll enabled":"Autoscroll ingeschakeld","Auto scroll disabled":"Autoscroll uitgeschakeld","Cannot paste values other than a table in the cell selection state":"Kan geen waardes anders dan de tabel in de cell plakken","Choose language":"Kies een taal"})},function(e,t,n){"use strict";var r=n(3);(function(e){return e&&e.__esModule?e:{default:e}})(r).default.setLanguage(["es","es_ES"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Escribir",Preview:"Vista previa",Headings:"Encabezados",Paragraph:"Prrafo",Bold:"Negrita",Italic:"Itlica",Strike:"Tachado",Code:"Cdigo",Line:"Lnea",Blockquote:"Cita","Unordered list":"Lista desordenada","Ordered list":"Lista ordenada",Task:"Tarea",Indent:"Sangra",Outdent:"Saliendo","Insert link":"Insertar enlace","Insert CodeBlock":"Insertar bloque de cdigo","Insert table":"Insertar tabla","Insert image":"Insertar imagen",Heading:"Encabezado","Image URL":"URL de la imagen","Select image file":"Seleccionar archivo de imagen",Description:"Descripcin",OK:"Aceptar",More:"Ms",Cancel:"Cancelar",File:"Archivo",URL:"URL","Link text":"Texto del enlace","Add row":"Agregar fila","Add col":"Agregar columna","Remove row":"Eliminar fila","Remove col":"Eliminar columna","Align left":"Alinear a la izquierda","Align center":"Centrar","Align right":"Alinear a la derecha","Remove table":"Eliminar tabla","Would you like to paste as table?":"Desea pegar como tabla?","Text color":"Color del texto","Auto scroll enabled":"Desplazamiento automtico habilitado","Auto scroll disabled":"Desplazamiento automtico deshabilitado","Cannot paste values other than a table in the cell selection state":"Slo se pueden pegar tablas en el modo de seleccin de celdas","Choose language":"Elegir idioma"})},function(e,t,n){"use strict";var r=n(3);(function(e){return e&&e.__esModule?e:{default:e}})(r).default.setLanguage(["de","de_DE"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Verfassen",Preview:"Vorschau",Headings:"berschriften",Paragraph:"Text",Bold:"Fett",Italic:"Kursiv",Strike:"Durchgestrichen",Code:"Code",Line:"Trennlinie",Blockquote:"Blocktext","Unordered list":"Aufzhlung","Ordered list":"Nummerierte Aufzhlung",Task:"Aufgabe",Indent:"inspringen",Outdent:"Uithangen","Insert link":"Link einfgen","Insert CodeBlock":"Codeblock einfgen","Insert table":"Tabelle einfgen","Insert image":"Grafik einfgen",Heading:"Titel","Image URL":"Bild URL","Select image file":"Grafik auswhlen",Description:"Beschreibung",OK:"OK",More:"Mehr",Cancel:"Abbrechen",File:"Datei",URL:"URL","Link text":"Anzuzeigender Text","Add row":"Zeile hinzufgen","Add col":"Spalte hinzufgen","Remove row":"Zeile entfernen","Remove col":"Spalte entfernen","Align left":"Links ausrichten","Align center":"Zentrieren","Align right":"Rechts ausrichten","Remove table":"Tabelle entfernen","Would you like to paste as table?":"Mchten Sie eine Tabelle einfgen?","Text color":"Textfarbe","Auto scroll enabled":"Autoscrollen aktiviert","Auto scroll disabled":"Autoscrollen deaktiviert","Cannot paste values other than a table in the cell selection state":"Im Zellenauswahlstatus knnen keine anderen Werte als eine Tabelle eingefgt werden","Choose language":"Sprache auswhlen"})},function(e,t,n){"use strict";var r=n(3);(function(e){return e&&e.__esModule?e:{default:e}})(r).default.setLanguage(["ru","ru_RU"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"",Preview:" ",Headings:"",Paragraph:"",Bold:"",Italic:"",Strike:"",Code:" ",Line:"",Blockquote:" ","Unordered list":" ","Ordered list":" ",Task:"",Indent:"",Outdent:"","Insert link":" ","Insert CodeBlock":" ","Insert table":" ","Insert image":" ",Heading:"","Image URL":"URL ","Select image file":"  ",Description:"",OK:"",More:"",Cancel:"",File:"",URL:"URL","Link text":" ","Add row":" ","Add col":" ","Remove row":" ","Remove col":" ","Align left":"   ","Align center":"  ","Align right":"   ","Remove table":" ","Would you like to paste as table?":"     ?","Text color":" ","Auto scroll enabled":"  ","Auto scroll disabled":"  ","Cannot paste values other than a table in the cell selection state":"    ,   ,    .","Choose language":" "})},function(e,t,n){"use strict";var r=n(3);(function(e){return e&&e.__esModule?e:{default:e}})(r).default.setLanguage(["fr","fr_FR"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"crire",Preview:"Aperu",Headings:"En-ttes",Paragraph:"Paragraphe",Bold:"Gras",Italic:"Italique",Strike:"Barr",Code:"Code en ligne",Line:"Ligne",Blockquote:"Citation","Unordered list":"Liste non-ordonne","Ordered list":"Liste ordonne",Task:"Tche",Indent:"Retrait",Outdent:"Sortir","Insert link":"Insrer un lien","Insert CodeBlock":"Insrer un bloc de code","Insert table":"Insrer un tableau","Insert image":"Insrer une image",Heading:"En-tte","Image URL":"URL de l'image","Select image file":"Slectionnez un fichier image",Description:"Description",OK:"OK",More:"de plus",Cancel:"Annuler",File:"Fichier",URL:"URL","Link text":"Texte du lien","Add row":"Ajouter une ligne","Add col":"Ajouter une colonne","Remove row":"Supprimer une ligne","Remove col":"Supprimer une colonne","Align left":"Aligner  gauche","Align center":"Aligner au centre","Align right":"Aligner  droite","Remove table":"Supprimer le tableau","Would you like to paste as table?":"Voulez-vous coller ce contenu en tant que tableau ?","Text color":"Couleur du texte","Auto scroll enabled":"Dfilement automatique activ","Auto scroll disabled":"Dfilement automatique dsactiv","Cannot paste values other than a table in the cell selection state":"Impossible de coller autre chose qu'un tableau dans la slection de la cellule.","Choose language":"Choix de la langue"})},function(e,t,n){"use strict";var r=n(3);(function(e){return e&&e.__esModule?e:{default:e}})(r).default.setLanguage(["uk","uk_UA"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"",Preview:" ",Headings:"",Paragraph:"",Bold:"",Italic:"",Strike:"",Code:" ",Line:"",Blockquote:" ","Unordered list":" ","Ordered list":" ",Task:"",Indent:"",Outdent:"","Insert link":" ","Insert CodeBlock":" ","Insert table":" ","Insert image":" ",Heading:"","Image URL":"URL ","Select image file":"  ",Description:"",OK:"OK",More:"",Cancel:"",File:"",URL:"URL","Link text":" ","Add row":" ","Add col":" ","Remove row":" ","Remove col":" ","Align left":"   ","Align center":"  ","Align right":"   ","Remove table":" ","Would you like to paste as table?":"     ?","Text color":" ","Auto scroll enabled":"  ","Auto scroll disabled":"  ","Cannot paste values other than a table in the cell selection state":"    ,   ,    .","Choose language":" "})},function(e,t,n){"use strict";var r=n(3);(function(e){return e&&e.__esModule?e:{default:e}})(r).default.setLanguage(["tr","tr_TR"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Dzenle",Preview:"n izleme",Headings:"Balklar",Paragraph:"Paragraf",Bold:"Kaln",Italic:"talik",Strike:"Alt izgili",Code:"Satr ii kod",Line:"izgi",Blockquote:"Alnt","Unordered list":"Sralanmam liste","Ordered list":"Sral liste",Task:"Grev kutusu",Indent:"Girintiyi arttr",Outdent:"Girintiyi azalt","Insert link":"Balant ekle","Insert CodeBlock":"Kod bloku ekle","Insert table":"Tablo ekle","Insert image":"maj ekle",Heading:"Balk","Image URL":"maj URL","Select image file":"maj dosyas se",Description:"Aklama",OK:"Onay",More:"Daha Fazla",Cancel:"ptal",File:"Dosya",URL:"URL","Link text":"Balant yazs","Add row":"Satr ekle","Add col":"Stun ekle","Remove row":"Satr sil","Remove col":"Stun sil","Align left":"Sola hizala","Align center":"Merkeze hizala","Align right":"Saa hizala","Remove table":"Tabloyu kaldr","Would you like to paste as table?":"Tablo olarak yaptrmak ister misiniz?","Text color":"Metin rengi","Auto scroll enabled":"Otomatik kaydrma ak","Auto scroll disabled":"Otomatik kaydrma kapal","Cannot paste values other than a table in the cell selection state":"Hcre seimi srasnda tablo dnda veriler yaptrlamaz.","Choose language":"Dil seiniz"})},function(e,t,n){"use strict";"function"==typeof Symbol&&Symbol.iterator;!function(r){var i={};i.RELAXED=!1,i.IGNORE_RECORD_LENGTH=!1,i.IGNORE_QUOTES=!1,i.LINE_FEED_OK=!0,i.CARRIAGE_RETURN_OK=!0,i.DETECT_TYPES=!0,i.IGNORE_QUOTE_WHITESPACE=!0,i.DEBUG=!1,i.COLUMN_SEPARATOR=",",i.ERROR_EOF="UNEXPECTED_END_OF_FILE",i.ERROR_CHAR="UNEXPECTED_CHARACTER",i.ERROR_EOL="UNEXPECTED_END_OF_RECORD",i.WARN_SPACE="UNEXPECTED_WHITESPACE";i.parse=function(e){var t=i.result=[];i.COLUMN_SEPARATOR=i.COLUMN_SEPARATOR instanceof RegExp?new RegExp("^"+i.COLUMN_SEPARATOR.source):i.COLUMN_SEPARATOR,i.offset=0,i.str=e,i.record_begin(),i.debug("parse()",e);for(var n;;){if(n=e[i.offset++],i.debug("c",n),null==n){i.escaped&&i.error(i.ERROR_EOF),i.record&&(i.token_end(),i.record_end()),i.debug("...bail",n,i.state,i.record),i.reset();break}if(null==i.record){if(i.RELAXED&&("\n"==n||"\r"==n&&"\n"==e[i.offset+1]))continue;i.record_begin()}if(0==i.state){if((" "===n||"\t"===n)&&'"'==i.next_nonspace()){if(i.RELAXED||i.IGNORE_QUOTE_WHITESPACE)continue;i.warn(i.WARN_SPACE)}if('"'==n&&!i.IGNORE_QUOTES){i.debug("...escaped start",n),i.escaped=!0,i.state=1;continue}i.state=1}1==i.state&&i.escaped?'"'==n?'"'==e[i.offset]?(i.debug("...escaped quote",n),i.token+='"',i.offset++):(i.debug("...escaped end",n),i.escaped=!1,i.state=2):(i.token+=n,i.debug("...escaped add",n,i.token)):"\r"==n?("\n"==e[i.offset]?i.offset++:i.CARRIAGE_RETURN_OK||i.error(i.ERROR_CHAR),i.token_end(),i.record_end()):"\n"==n?(i.LINE_FEED_OK||i.RELAXED||i.error(i.ERROR_CHAR),i.token_end(),i.record_end()):i.test_regex_separator(e)||i.COLUMN_SEPARATOR==n?i.token_end():1==i.state?(i.token+=n,i.debug("...add",n,i.token)):" "===n||"\t"===n?i.IGNORE_QUOTE_WHITESPACE||i.error(i.WARN_SPACE):i.RELAXED||i.error(i.ERROR_CHAR)}return t},i.stream=function(){var e=n(47),t=new e.Transform({objectMode:!0});return t.EOL="\n",t.prior="",t.emitter=function(e){return function(t){e.push(i.parse(t+e.EOL))}}(t),t._transform=function(e,t,n){var r=""==this.prior?e.toString().split(this.EOL):(this.prior+e.toString()).split(this.EOL);this.prior=r.pop(),r.forEach(this.emitter),n()},t._flush=function(e){""!=this.prior&&(this.emitter(this.prior),this.prior=""),e()},t},i.test_regex_separator=function(e){if(!(i.COLUMN_SEPARATOR instanceof RegExp))return!1;var t;return e=e.slice(i.offset-1),t=i.COLUMN_SEPARATOR.exec(e),t&&(i.offset+=t[0].length-1),null!==t},i.stream.json=function(){var e=n(174),t=(n(47),new streamTransform({objectMode:!0}));return t._transform=function(n,r,i){t.push(JSON.stringify(n.toString())+e.EOL),i()},t},i.reset=function(){i.state=null,i.token=null,i.escaped=null,i.record=null,i.offset=null,i.result=null,i.str=null},i.next_nonspace=function(){for(var e,t=i.offset;t<i.str.length;)if(" "!=(e=i.str[t++])&&"\t"!==e)return e;return null},i.record_begin=function(){i.escaped=!1,i.record=[],i.token_begin(),i.debug("record_begin")},i.record_end=function(){i.state=4,!i.IGNORE_RECORD_LENGTH&&!i.RELAXED&&i.result.length>0&&i.record.length!=i.result[0].length&&i.error(i.ERROR_EOL),i.result.push(i.record),i.debug("record end",i.record),i.record=null},i.resolve_type=function(e){return e.match(/^[-+]?[0-9]+(\.[0-9]+)?([eE][-+]?[0-9]+)?$/)?e=parseFloat(e):e.match(/^(true|false)$/i)?e=Boolean(e.match(/true/i)):"undefined"===e?e=void 0:"null"===e&&(e=null),e},i.token_begin=function(){i.state=0,i.token=""},i.token_end=function(){i.DETECT_TYPES&&(i.token=i.resolve_type(i.token)),i.record.push(i.token),i.debug("token end",i.token),i.token_begin()},i.debug=function(){i.DEBUG&&console.log(arguments)},i.dump=function(e){return[e,"at char",i.offset,":",i.str.substr(i.offset-50,50).replace(/\r/gm,"\\r").replace(/\n/gm,"\\n").replace(/\t/gm,"\\t")].join(" ")},i.error=function(e){var t=i.dump(e);throw i.reset(),t},i.warn=function(e){if(i.DEBUG){var t=i.dump(e);try{return void console.warn(t)}catch(e){}try{console.log(t)}catch(e){}}},void 0!==e&&e.exports?e.exports=i:t.CSV=i}()},function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function i(e){return 3*e.length/4-r(e)}function o(e){var t,n,i,o,a,l=e.length;o=r(e),a=new d(3*l/4-o),n=o>0?l-4:l;var s=0;for(t=0;t<n;t+=4)i=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],a[s++]=i>>16&255,a[s++]=i>>8&255,a[s++]=255&i;return 2===o?(i=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,a[s++]=255&i):1===o&&(i=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,a[s++]=i>>8&255,a[s++]=255&i),a}function a(e){return u[e>>18&63]+u[e>>12&63]+u[e>>6&63]+u[63&e]}function l(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(a(r));return i.join("")}function s(e){for(var t,n=e.length,r=n%3,i="",o=[],a=0,s=n-r;a<s;a+=16383)o.push(l(e,a,a+16383>s?s:a+16383));return 1===r?(t=e[n-1],i+=u[t>>2],i+=u[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=u[t>>10],i+=u[t>>4&63],i+=u[t<<2&63],i+="="),o.push(i),o.join("")}t.byteLength=i,t.toByteArray=o,t.fromByteArray=s;for(var u=[],c=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,p=f.length;h<p;++h)u[h]=f[h],c[f.charCodeAt(h)]=h;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,l=8*i-r-1,s=(1<<l)-1,u=s>>1,c=-7,d=n?i-1:0,f=n?-1:1,h=e[t+d];for(d+=f,o=h&(1<<-c)-1,h>>=-c,c+=l;c>0;o=256*o+e[t+d],d+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+d],d+=f,c-=8);if(0===o)o=1-u;else{if(o===s)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=u}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,l,s,u=8*o-i-1,c=(1<<u)-1,d=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),t+=a+d>=1?f/s:f*Math.pow(2,1-d),t*s>=2&&(a++,s/=2),a+d>=c?(l=0,a=c):a+d>=1?(l=(t*s-1)*Math.pow(2,i),a+=d):(l=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&l,h+=p,l/=256,i-=8);for(a=a<<i|l,u+=i;u>0;e[n+h]=255&a,h+=p,a/=256,u-=8);e[n+h-p]|=128*g}},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){e.copy(t,n)}var o=n(20).Buffer;e.exports=function(){function e(){r(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return o.alloc(0);if(1===this.length)return this.head.data;for(var t=o.allocUnsafe(e>>>0),n=this.head,r=0;n;)i(n.data,t,r),r+=n.data.length,n=n.next;return t},e}()},function(e,t,n){function r(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(167),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return u[s]=r,l(s),s++}function i(e){delete u[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(c)setTimeout(a,0,e);else{var t=u[e];if(t){c=!0;try{o(t)}finally{i(e),c=!1}}}}if(!e.setImmediate){var l,s=1,u={},c=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?function(){l=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),l=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},l=function(t){e.port2.postMessage(t)}}():d&&"onreadystatechange"in d.createElement("script")?function(){var e=d.documentElement;l=function(t){var n=d.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){l=function(e){setTimeout(a,0,e)}}(),f.setImmediate=r,f.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(12),n(18))},function(e,t,n){(function(t){function n(e,t){function n(){if(!i){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}if(r("noDeprecation"))return e;var i=!1;return n}function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=n}).call(t,n(12))},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);i.call(this,e)}e.exports=r;var i=n(54),o=n(16);o.inherits=n(13),o.inherits(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(28)},function(e,t,n){e.exports=n(11)},function(e,t,n){e.exports=n(27).Transform},function(e,t,n){e.exports=n(27).PassThrough},function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){"vertical"===e.mdPreviewStyle&&"markdown"===e.currentMode?(d.$el.show(),h.show()):(d.$el.hide(),h.hide())}var n=e.i18n,r={active:n.get("Auto scroll enabled"),inactive:n.get("Auto scroll disabled")};if(!e.isViewer()){var i=e.getCodeMirror(),o=new f.default(i,e.preview),l=new c.default(o,i,e.preview.$el),s=!1,u=!0,d=void 0,h=void 0;if("default"===e.getUI().name){var p=e.getUI().getToolbar();p.addItem("divider"),p.addItem({type:"button",options:{className:"tui-scrollsync",command:"scrollSyncToggle",tooltip:r.active,$el:(0,a.default)('<button class="active tui-scrollsync" type="button"></button>')}});var g=p.getItems();h=g[g.length-2].$el,d=g[g.length-1],t(),e.on("changeMode",t),e.on("changePreviewStyle",t),e.addCommand("markdown",{name:"scrollSyncToggle",exec:function(){u=!u,d._onOut(),u?(d.$el.addClass("active"),d.setTooltip(r.active)):(d.$el.removeClass("active"),d.setTooltip(r.inactive)),d._onOver()}})}i.on("change",function(){s=!1,o.makeSectionList()}),e.on("previewRenderAfter",function(){o.sectionMatch(),u&&l.syncPreviewScrollTopToMarkdown(),s=!0}),e.eventManager.listen("scroll",function(t){u&&(s&&e.preview.isVisible()?"markdown"!==t.source||l.isMarkdownScrollEventBlocked?"preview"!==t.source||l.isPreviewScrollEventBlocked||l.syncMarkdownScrollTopToPreview():l.syncPreviewScrollTopToMarkdown():l.saveScrollInfo())})}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),l=n(5),s=r(l),u=n(176),c=r(u),d=n(177),f=r(d);s.default.defineExtension("scrollSync",i),t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(){function e(t,n,i){r(this,e),this.sectionManager=t,this.cm=n,this.$previewContainerEl=i,this.$contents=this.$previewContainerEl.find(".tui-editor-contents"),this.releaseTimer=null,this._currentTimeoutId=null,this._savedScrollInfo=null}return i(e,[{key:"_getEditorSectionHeight",value:function(e){var t=this.cm.heightAtLine(e.end,"local");return t-=this.cm.heightAtLine(e.start>0?e.start-1:0,"local")}},{key:"_getEditorLineHeightGapInSection",value:function(e,t){var n=this.cm.heightAtLine(t,"local");return n-=this.cm.heightAtLine(e.start>0?e.start-1:0,"local"),Math.max(n,0)}},{key:"_getEditorSectionScrollRatio",value:function(e,t){var n=e.end===e.start;return n?0:this._getEditorLineHeightGapInSection(e,t)/this._getEditorSectionHeight(e)}},{key:"_getScrollFactorsOfEditor",value:function(){var e=this.cm,t=e.getScrollInfo(),n=void 0,r=void 0,i=void 0,o=void 0;t=this._fallbackScrollInfoIfIncorrect(t);var a=t.height-t.top<=t.clientHeight;return a?o={isEditorBottom:a}:(n=e.coordsChar({left:t.left,top:t.top},"local").line,r=this.sectionManager.sectionByLine(n),i=this._getEditorSectionScrollRatio(r,n),o={section:r,sectionRatio:i}),o}},{key:"_getScrollInfoForMarkdown",value:function(){var e=this,t=this.sectionManager.getSectionList(),n=void 0;return a.default.forEachArray(t,function(t){var r=t.$previewSectionEl,i=r.parent().parent(),o=i[0].clientHeight-i.scrollTop()<=i[0].height,a=!0;return o?(n={isPreviewBottom:o},a=!1):e._isTopSection(i,r)&&(n={section:t,sectionRatio:e._getMarkdownEditorScrollRatio(i,r)},a=!1),a}),n}},{key:"_getMarkdownEditorScrollRatio",value:function(e,t){return(e.scrollTop()-t[0].offsetTop)/t.height()}},{key:"_getScrollTopForPreview",value:function(){var e=void 0,t=this._getScrollFactorsOfEditor(),n=t.section,r=t.sectionRatio;return t.isEditorBottom?e=this.$contents.height():n.$previewSectionEl&&(e=n.$previewSectionEl[0].offsetTop,e+=n.$previewSectionEl.height()*r-20),e=e&&Math.max(e,0)}},{key:"_getScrollTopForMarkdown",value:function(){var e=void 0,t=this._getScrollInfoForMarkdown(),n=t.sectionRatio;if(t.isPreviewBottom)e=this.cm.getScrollInfo().height;else if(t.section){var r=t.section,i=this.cm.charCoords({line:r.start,char:0},"local"),o=this.cm.charCoords({line:r.end,char:0},"local");e=i.top,e+=(o.top-i.top)*n}return e=e&&Math.max(e,0)}},{key:"syncPreviewScrollTopToMarkdown",value:function(){var e=this,t=this.$previewContainerEl,n=t.scrollTop(),r=this._getScrollTopForPreview();this.isPreviewScrollEventBlocked=!0,this._animateRun(n,r,function(n){clearTimeout(e.releaseTimer),t.scrollTop(n),e.releaseTimer=setTimeout(function(){e.isPreviewScrollEventBlocked=!1},15)})}},{key:"syncMarkdownScrollTopToPreview",value:function(){var e=this,t=this.cm,n=t.getScrollInfo(),r=n.top,i=this._getScrollTopForMarkdown();this.isMarkdownScrollEventBlocked=!0,this._animateRun(r,i,function(n){clearTimeout(e.releaseTimer),t.scrollTo(0,n),e.releaseTimer=setTimeout(function(){e.isMarkdownScrollEventBlocked=!1},15)})}},{key:"_animateRun",value:function(e,t,n){function r(){var l=Date.now(),s=(l-o)/200,u=void 0;s<1?(u=e+i*Math.cos((1-s)*Math.PI/2),n(Math.ceil(u)),a._currentTimeoutId=setTimeout(r,1)):(n(t),a._currentTimeoutId=null)}var i=t-e,o=Date.now(),a=this;this._currentTimeoutId&&clearTimeout(this._currentTimeoutId),r()}},{key:"_fallbackScrollInfoIfIncorrect",value:function(e){return e.height<0&&this._savedScrollInfo?this._savedScrollInfo:e}},{key:"saveScrollInfo",value:function(){this._savedScrollInfo=this.cm.getScrollInfo()}},{key:"_isTopSection",value:function(e,t){var n=e.scrollTop(),r=t[0].offsetTop,i=t.height(),o=n>=r-57,a=n>r+i;return o&&!a}}]),e}();t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){return this.nodeType===Node.ELEMENT_NODE}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(a),s=/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/,u=/^ *(\*|-|\d+\.|[*-] \[[ xX]])\s/,c=/^ {0,3}(> ?)+\s/,d=/^ {0,3}!\[([^[\]]*)]\(([^)]*)\)/,f=/^ *(?:={1,}|-{1,})\s*$/,h=/^ *(`{3,}|~{3,})[ ]*$/,p=/^ *(`{3,}|~{3,})[ .]*(\S+)? */,g=/\s/g,v=function(){function e(t,n){r(this,e),this.cm=t,this.preview=n,this.$previewContent=n.$el.find(".tui-editor-contents"),this._sectionList=null,this._currentSection=null}return o(e,[{key:"_addNewSection",value:function(e,t){var n=this._makeSectionData(e,t);this._sectionList.push(n),this._currentSection=n}},{key:"getSectionList",value:function(){return this._sectionList||this.makeSectionList(),this._sectionList}},{key:"_makeSectionData",value:function(e,t){return{start:e,end:t,$previewSectionEl:null}}},{key:"_updateCurrentSectionEnd",value:function(e){this._currentSection.end=e}},{key:"_eachLineState",value:function(e){var t=void 0,n=void 0,r=void 0,i=void 0,o=void 0,a=!0,l=!1,s=!1,u="",c=!1,d=!1,f=void 0,h=this.cm.getDoc().lineCount();for(n=0;n<h;n+=1){t=!1,r=this.cm.getLine(n),i=this.cm.getLine(n+1)||"",o=this.cm.getLine(n-1)||"";var p=this._isCodeBlockEnd(o)&&f!==n-1;if(!l||r&&this._isTableCode(r)?!l&&this._isTable(r,i)&&(l=!0):l=!1,s&&p&&(s=!1),!s&&this._isCodeBlockStart(r)&&(s=this._doFollowedLinesHaveCodeBlockEnd(n,h),f=n),d&&0!==r.length?(this._isIndependentImage(s,l,r,o)?(c=!0,d=!0):(c=!1,d=!1),t=!0):this._isAtxHeader(r)?(c=!1,t=!0,d=!1):this._isCodeBlockEnd(r)||l||!this._isSeTextHeader(r,i)?this._isIndependentImage(s,l,r,o)?(c=!0,t=!0,d=!1):c&&0===r.length&&(c=!1,d=!0):(c=!1,t=!0,d=!1),a){if(!(u+=r.trim()))continue;a=!1}e(t,n)}}},{key:"_isIndependentImage",value:function(e,t,n,r){return!e&&!t&&this._isImage(n)&&!this._isList(n)&&!this._isQuote(n)&&0===r.length}},{key:"_doFollowedLinesHaveCodeBlockEnd",value:function(e,t){for(var n=!1,r=e+1;r<t;r+=1)if(this._isCodeBlockEnd(this.cm.getLine(r))){n=!0;break}return n}},{key:"_isCodeBlockStart",value:function(e){return p.test(e)}},{key:"_isCodeBlockEnd",value:function(e){return h.test(e)}},{key:"_isTable",value:function(e,t){return this._isTableCode(e)&&this._isTableAligner(t)}},{key:"_isTableCode",value:function(e){return/(^\S?.*\|.*)/.test(e)}},{key:"_isTableAligner",value:function(e){return/(\s*[-:]+\s*\|)+/.test(e)}},{key:"_isAtxHeader",value:function(e){return s.test(e)}},{key:"_isSeTextHeader",value:function(e,t){return""!==e.replace(g,"")&&!this._isQuote(e)&&t&&f.test(t)}},{key:"_isImage",value:function(e){return d.test(e)}},{key:"_isList",value:function(e){return u.test(e)}},{key:"_isQuote",value:function(e){return c.test(e)}},{key:"makeSectionList",value:function(){var e=this;this._sectionList=[],this._eachLineState(function(t,n){t||!e._sectionList.length?e._addNewSection(n,n):e._updateCurrentSectionEnd(n)})}},{key:"sectionMatch",value:function(){if(this.getSectionList()){var e=this._getPreviewSections();this._matchPreviewSectionsWithSectionlist(e)}}},{key:"_matchPreviewSectionsWithSectionlist",value:function(e){var t=this.getSectionList();e.forEach(function(e,n){var r=t[n];if(r){var i=(0,l.default)("<div class='content-id-"+n+"'></div>");r.$previewSectionEl=(0,l.default)(e).wrapAll(i).parent()}})}},{key:"_getPreviewSections",value:function(){var e=[],t=0,n=!1;return e[0]=[],this.$previewContent.contents().filter(i).each(function(r,i){var o="P"===i.tagName,a=i.tagName.match(/^(H1|H2|H3|H4|H5|H6)$/),l=o&&"IMG"===i.childNodes[0].nodeName;(a||l||n)&&e[t].length&&(e.push([]),t+=1,n=!1),l&&(n=!0),e[t].push(i)}),e}},{key:"sectionByLine",value:function(e){var t=void 0,n=this.getSectionList(),r=n.length;for(t=0;t<r&&!(e<=n[t].end);t+=1);return t===r&&(t=r-1),n[t]}}]),e}();t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.eventManager;if(e.toMarkOptions=e.toMarkOptions||{},e.toMarkOptions.renderer=_.default,u(t),!e.isViewer()){var n=e.wwEditor.componentManager,r=e._ui.popupTableUtils;o(e),a(n),e._ui.popupTableUtils&&H.default.updateContextMenu(r,t,n.getManager("tableSelection"))}}function o(e){e.addCommand(R.default),e.addCommand(D.default)}function a(e){e.removeManager("table"),e.removeManager("tableSelection"),e.addManager(w.default),e.addManager(E.default)}function l(e,t){var n=(0,d.default)("<div>"+e+"</div>"),r=n.find("table");return r.length&&(r.get().forEach(function(e){var n=t(e);(0,d.default)(e).replaceWith(n)}),e=n.html()),e}function s(e){var t=e.command;if(t.isWWType())switch(t.getName()){case"AddRow":e.command=T.default;break;case"AddCol":e.command=S.default;break;case"RemoveRow":e.command=x.default;break;case"RemoveCol":e.command=L.default;break;case"AlignCol":e.command=P.default}}function u(e){e.listen("convertorAfterMarkdownToHtmlConverted",function(e){return l(e,g.default)}),e.listen("convertorBeforeHtmlToMarkdownConverted",function(e){return l(e,m.default)}),e.listen("addCommandBefore",s)}var c=n(0),d=r(c),f=n(5),h=r(f);n(179);var p=n(180),g=r(p),v=n(181),m=r(v),y=n(182),_=r(y),b=n(183),w=r(b),k=n(184),E=r(k),C=n(185),T=r(C),M=n(186),S=r(M),O=n(187),x=r(O),I=n(188),L=r(I),A=n(189),P=r(A),N=n(190),R=r(N),B=n(191),D=r(B),j=n(192),H=r(j);h.default.defineExtension("table",i)},function(e,t,n){"use strict";var r=n(5),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=i.default.i18n;o&&(o.setLanguage(["ko","ko_KR"],{"Merge cells":" ","Unmerge cells":" ","Cannot change part of merged cell":"      .","Cannot paste row merged cells into the table header":"       ."}),o.setLanguage(["en","en_US"],{"Merge cells":"Merge cells","Unmerge cells":"Unmerge cells","Cannot change part of merged cell":"Cannot change part of merged cell.","Cannot paste row merged cells into the table header":"Cannot paste row merged cells into the table header."}),o.setLanguage(["es","es_ES"],{"Merge cells":"Combinar celdas","Unmerge cells":"Separar celdas","Cannot change part of merged cell":"No se puede cambiar parte de una celda combinada.","Cannot paste row merged cells into the table header":"No se pueden pegar celdas combinadas en el encabezado de tabla."}),o.setLanguage(["ja","ja_JP"],{"Merge cells":"","Unmerge cells":"","Cannot change part of merged cell":"","Cannot paste row merged cells into the table header":""}),o.setLanguage(["nl","nl_NL"],{"Merge cells":"cellen samenvoegen","Unmerge cells":"Samenvoegen cellen ongedaan maken","Cannot change part of merged cell":"Kan geen deel uit van samengevoegde cel te veranderen.","Cannot paste row merged cells into the table header":"Kan niet plakken rij samengevoegde cellen in de koptekst. "}),o.setLanguage(["zh","zh_CN"],{"Merge cells":"","Unmerge cells":"","Cannot change part of merged cell":"","Cannot paste row merged cells into the table header":""}),o.setLanguage(["de","de_DE"],{"Merge cells":"Zellen zusammenfhren","Unmerge cells":"Zusammenfhren rckgngig machen","Cannot change part of merged cell":"Der Teil der verbundenen Zelle kann nicht gendert werden.","Cannot paste row merged cells into the table header":"Die Zeile der verbundenen Zellen kann nicht in die Kopfzeile eingefgt werden."}),o.setLanguage(["ru","ru_RU"],{"Merge cells":" ","Unmerge cells":" ","Cannot change part of merged cell":"      .","Cannot paste row merged cells into the table header":"        ."}),o.setLanguage(["fr","fr_FR"],{"Merge cells":"Fusionner les cellules","Unmerge cells":"Sparer les cellules","Cannot change part of merged cell":"Impossible de modifier une partie de la cellule fusionne.","Cannot paste row merged cells into the table header":"Impossible de coller les cellules fusionnes dans l'en-tte du tableau."}),o.setLanguage(["uk","uk_UA"],{"Merge cells":"' ","Unmerge cells":"' ","Cannot change part of merged cell":"      .","Cannot paste row merged cells into the table header":"    '    ."}),o.setLanguage(["tr","tr_TR"],{"Merge cells":"Hcreleri birletir","Unmerge cells":"Hcreleri ayr","Cannot change part of merged cell":"Birletirilmi hcrelerin bir ksm deitirelemez.","Cannot paste row merged cells into the table header":"Satrda birletirilmi hcreler stun balna yaptrlamaz"}))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){var r=new RegExp("^((?:"+n+"=[0-9]+:)?)"+t+"=([0-9]+):(.*)"),i=r.exec(e),o=1;return i&&(o=parseInt(i[2],10),e=i[1]+i[3]),[o,e]}function o(e){var t=e.nodeName,n=e.align||"",r=e.innerHTML.trim(),o=null,a=null,l=i(r,"@cols","@rows");o=l[0],r=l[1];var s=i(r,"@rows","@cols");return a=s[0],r=s[1],{nodeName:t,colspan:o,rowspan:a,content:r,align:n}}function a(e){return e.find("tr").get().map(function(e){return(0,p.default)(e).find("td, th").get().map(o)})}function l(e,t){var n=-1;return v.default.forEach(e,function(e,r){var i=!0;return t(e,r)&&(n=r,i=!1),i}),n}function s(e){var t=l(e,function(e){return"TD"===e[0].nodeName});return[e.slice(0,t),e.slice(t)]}function u(e){e.forEach(function(e){var t=e.length,n=0;e.forEach(function(e){n+=e.colspan-1}),e.splice(t-n)})}function c(e){var t=e.map(function(e,t){return t}),n=t.map(function(){return 0});return e.forEach(function(e,r){var i=e.filter(function(e){return e.rowspan>1}),o=r+1;i.forEach(function(e){var r=e.colspan,i=o+(e.rowspan-1);t.slice(o,i).forEach(function(e){n[e]+=r})})}),n}function d(e){var t=c(e);e.forEach(function(e,n){e.splice(e.length-t[n])})}function f(e){var t=a((0,p.default)(e)),n=s(t),r=n[0],i=n[1];return u(r),u(i),d(i),(0,p.default)(y.default.createTableHtml(t))[0]}Object.defineProperty(t,"__esModule",{value:!0}),t._extractPropertiesForMerge=i,t._parseTableCell=o,t._createTableObjectFrom$Table=a,t._divideTrs=s,t._mergeByColspan=u,t._getRemovalTdCountsByRowspan=c,t._mergeByRowspan=d,t.default=f;var h=n(0),p=r(h),g=n(1),v=r(g),m=n(8),y=r(m)},function(e,t,n){"use strict";function r(e){var t=(0,a.default)(e),n=t.attr("colspan")||"",r=t.attr("rowspan")||"",i=t.html();n&&(i="@cols="+n+":"+i),r&&(i="@rows="+r+":"+i),i&&t.html(i)}function i(e){return(0,a.default)(e).find("td, th").get().forEach(r),e}Object.defineProperty(t,"__esModule",{value:!0}),t._prependMergeSyntaxToContent=r,t.default=i;var o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return d.default.range(0,t).map(function(){return e}).join("")}function o(e){var t=e.align,n=(e.textContent||e.innerText).replace(p,""),r=n.length,o="",a="";return t&&("left"===t?(o=":",r-=1):"right"===t?(a=":",r-=1):"center"===t&&(a=":",o=":",r-=2)),r=Math.max(r,3),o+i("-",r)+a}function a(e){var t=0;return e.filter(function(e){return(0,u.default)(e).attr("colspan")}).forEach(function(e){t+=parseInt((0,u.default)(e).attr("colspan"),10)-1}),t}function l(e,t){var n=(0,u.default)(e).find("th").get(),r=n.map(function(e){return" "+o(e)+" |"}).join("");return r+=i(" --- |",a(n)),t?t+"|"+r+"\n":""}Object.defineProperty(t,"__esModule",{value:!0}),t._getAdditionalThCount=a,t._createTheadMarkdown=l;var s=n(0),u=r(s),c=n(1),d=r(c),f=n(42),h=r(f),p=/@cols=[0-9]+:/g;t.default=h.default.Renderer.factory(h.default.gfmRenderer,{THEAD:l})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n=!1;return f.default.forEach(e,function(e){return!(n=t(e))}),n}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),d=n(1),f=r(d),h=n(5),p=r(h),g=n(6),v=r(g),m=n(8),y=r(m),_=n(9),b=r(_),w=p.default.WwTableManager,k=p.default.i18n,E=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"_updateCopyDataMergeWith",value:function(e,t){e.forEach(function(e){e.forEach(function(e){f.default.isExisty(e.rowMergeWith)&&(e.rowMergeWith-=t.rowIndex),f.default.isExisty(e.colMergeWith)&&(e.colMergeWith-=t.colIndex)})})}},{key:"_createCopyTableData",value:function(e,t,n){var r=e.slice(t.rowIndex,n.rowIndex+1);return r=r.map(function(e){return e.slice(t.colIndex,n.colIndex+1)}),this._updateCopyDataMergeWith(r,t),r}},{key:"updateTableHtmlOfClipboardIfNeed",value:function(e){var t=this.wwe.componentManager.getManager("tableSelection").getSelectedCells();if(t.length){var n=v.default.createTableData((0,c.default)(t[0]).closest("TABLE")),r=b.default.getTableSelectionRange(n,t),i=r.start,o=r.end,a=this._createCopyTableData(n,i,o),l=v.default.createCellIndexData(a),s=v.default.createRenderData(a,l);e.html(y.default.createTableHtml(s))}}},{key:"prepareToTableCellStuffing",value:function(e){var t=e[0].length,n=!1;return e.slice(1).forEach(function(e){var r=e.length;t!==r&&(n=!0,t<r&&(t=r))}),{maximumCellLength:t,needTableCellStuffingAid:n}}},{key:"tableCellAppendAidForTableElement",value:function(e){var t=(0,c.default)(e),n=v.default.createTableData(t),r=v.default.addTbodyOrTheadIfNeed(n),i=this.prepareToTableCellStuffing(n),o=i.needTableCellStuffingAid;o&&v.default.stuffCellsIntoIncompleteRow(n,i.maximumCellLength),(r||o)&&y.default.replaceTable(t,n)}},{key:"_findStartCell",value:function(e){return 1===e.length?e.get(0):this.wwe.getEditor().getSelection().startContainer}},{key:"_findStartCellIndex",value:function(e,t){var n=v.default.createCellIndexData(e);return v.default.findCellIndex(n,t)}},{key:"_hasRowMergedHeader",value:function(e,t,n){var r="TH"===t[n.rowIndex][n.colIndex].nodeName,i=l(e[0],function(e){return e.rowspan&&e.rowspan>1});return r&&i}},{key:"_isExactlyFit",value:function(e,t,n){return t%e.length==0&&n%e[0].length==0}},{key:"_updateClipboardTableData",value:function(e,t,n){var r=e.length,i=e[0].length,o=parseInt(t/r,10),a=parseInt(n/i,10);if(o>1){var l=JSON.parse(JSON.stringify(e));f.default.range(0,o-1).forEach(function(){var t=JSON.parse(JSON.stringify(l));e.push.apply(e,t)})}if(a>1){var s=JSON.parse(JSON.stringify(e));f.default.range(0,a-1).forEach(function(){var t=JSON.parse(JSON.stringify(s));e.forEach(function(e,n){e.push.apply(e,t[n])})})}}},{key:"_updateTableDataByClipboardData",value:function(e,t,n){var r=n.rowIndex,i=n.colIndex;e.forEach(function(e,n){var o=r+n;e.forEach(function(e,n){var r=i+n,a=t[o][r];e.nodeName=a.nodeName,t[o][r]=e})})}},{key:"_isPossibleToPaste",value:function(e,t,n){var r=t.rowIndex,i=t.colIndex,o=n.rowIndex,a=n.colIndex,s=e.slice(r,o+1),u=s[0].slice(i,a+1),c=!l(u,function(e){return f.default.isExisty(e.rowMergeWith)});if(c){c=!l(f.default.pluck(s,i),function(e){return f.default.isExisty(e.colMergeWith)})}if(c&&e.length>o+1){c=!l(e[o+1].slice(i,a+1),function(e){return f.default.isExisty(e.rowMergeWith)})}if(c&&e[0].length>a+1){c=!l(f.default.pluck(s,a+1),function(e){return f.default.isExisty(e.colMergeWith)})}return c}},{key:"_spliceClipboardData",value:function(e,t,n){e.splice(t),e.forEach(function(e){e.splice(n)})}},{key:"_bookmarkLastTd",value:function(e){var t=e.rowIndex,n=e.colIndex,r=this.wwe.getEditor(),i=r.get$Body().find(".tui-paste-table-bookmark"),o=v.default.createTableData(i),a=o[t][n];t=f.default.isExisty(a.rowMergeWith)?a.rowMergeWith:t,n=f.default.isExisty(a.colMergeWith)?a.colMergeWith:n;var l=o[t][n].elementIndex,s=i.find("tr").eq(l.rowIndex).children()[l.colIndex];i.removeClass("tui-paste-table-bookmark"),(0,c.default)(s).addClass("tui-paste-table-cell-bookmark")}},{key:"_updateClipboardDataForPasteToSamllerSelectedArea",value:function(e,t,n,r,i){var o=!0,a={rowIndex:0,colIndex:0},l={rowIndex:n-1,colIndex:r-1};return this._isPossibleToPaste(e,a,l)?(this._spliceClipboardData(e,n,r),this._updateTableDataByClipboardData(e,t,i)):o=!1,o}},{key:"_pasteToSelectedArea",value:function(e,t,n,r){var i=b.default.getTableSelectionRange(n,r),o=i.start,a=i.end,l=a.rowIndex-o.rowIndex+1,s=a.colIndex-o.colIndex+1,u=t.length,c=t[0].length,d=l>=u&&s>=c,f=k.get("Cannot change part of merged cell"),h=!0,p=void 0;this._hasRowMergedHeader(t,n,o)?(f=k.get("Cannot paste row merged cells into the table header"),h=!1):this._isExactlyFit(t,l,s)?(p=a,this._updateClipboardTableData(t,l,s),this._updateTableDataByClipboardData(t,n,o)):d?(p={rowIndex:o.rowIndex+u-1,colIndex:o.colIndex+c-1},this._isPossibleToPaste(n,o,p)?this._updateTableDataByClipboardData(t,n,o):h=!1):(p={rowIndex:o.rowIndex+l-1,colIndex:o.colIndex+s-1},h=this._updateClipboardDataForPasteToSamllerSelectedArea(t,n,l,s,o)),h?(n.className+=" tui-paste-table-bookmark",y.default.replaceTable(e,n),this._bookmarkLastTd(p)):(alert(f),this.wwe.focus())}},{key:"_findEndCellIndex",value:function(e,t){var n=t.rowIndex,r=t.colIndex;return{rowIndex:n+e.length-1,colIndex:r+e[0].length-1}}},{key:"_expandRow",value:function(e,t){var n=e.length,r=e[0].length,i=f.default.range(n,n+t).map(function(e){return f.default.range(0,r).map(function(t){return v.default.createBasicCell(e,t)})});e.push.apply(e,i)}},{key:"_expandCoumn",value:function(e,t){var n=e[0].length,r=f.default.range(n,n+t);e.forEach(function(e,t){var n=e[0].nodeName,i=r.map(function(e){return v.default.createBasicCell(t,e,n)});e.push.apply(e,i)})}},{key:"_expandTableDataIfNeed",value:function(e,t,n){var r=n.rowIndex-e.length+1,i=n.colIndex-e[0].length+1;r>0&&this._expandRow(e,r),i>0&&this._expandCoumn(e,i)}},{key:"_pasteAllClipboardTableData",value:function(e,t,n,r){var i=this._findEndCellIndex(t,r);if(this._hasRowMergedHeader(t,n,r))return alert(k.get("Cannot paste row merged cells into the table header")),void this.wwe.focus();this._expandTableDataIfNeed(n,r,i),this._isPossibleToPaste(n,r,i)?(this._updateTableDataByClipboardData(t,n,r),n.className+=" tui-paste-table-bookmark",y.default.replaceTable(e,n),this._bookmarkLastTd(i)):(alert(k.get("Cannot change part of merged cell")),this.wwe.focus())}},{key:"pasteClipboardData",value:function(e){var t=v.default.createTableData(e),n=this.wwe.componentManager.getManager("tableSelection"),r=n.getSelectedCells(),i=(0,c.default)(this._findStartCell(r)),o=i.closest("table"),a=v.default.createTableData(o),l=this._findStartCellIndex(a,i);r.length>1?this._pasteToSelectedArea(o,t,a,r):this._pasteAllClipboardTableData(o,t,a,l)}}]),t}(w);t.default=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(5),h=r(f),p=n(6),g=r(p),v=n(9),m=r(v),y=h.default.WwTableSelectionManager,_=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._tableData=null,n.mergedTableSelectionManager=!0,n}return a(t,e),l(t,[{key:"_addClassToSelectedCells",value:function(e,t,n){var r=n.start,i=n.end,o=d.default.range(r.colIndex,i.colIndex+1),a=e.find("tr");d.default.range(r.rowIndex,i.rowIndex+1).forEach(function(e){var n=t[e],r=a.eq(e).find("td, th");return o.forEach(function(e){n[e].elementIndex&&r.eq(n[e].elementIndex.colIndex).addClass("te-cell-selected")})})}},{key:"onDragStart",value:function(e){var t=(0,u.default)(e).closest("[contenteditable=true] table");this._tableData=g.default.createTableData(t)}},{key:"onDragEnd",value:function(){this._tableData=null}},{key:"highlightTableCellsBy",value:function(e,t){var n=(0,u.default)(e),r=(0,u.default)(t),i=n.closest("[contenteditable=true] table"),o=m.default.findSelectionRange(this._tableData,n,r);this.removeClassAttrbuteFromAllCellsIfNeed(),this._addClassToSelectedCells(i,this._tableData,o)}},{key:"styleToSelectedCells",value:function(e,t){var n=this.wwe.getEditor(),r=n.getSelection().cloneRange();(0,u.default)(r.startContainer).closest("[contenteditable=true] table").find("tr").get().forEach(function(i){var o=(0,u.default)(i).find(".te-cell-selected"),a=o.first().get(0),l=o.last().get(0);o.length&&(r.setStart(a,0),r.setEnd(l,l.childNodes.length),n.setSelection(r),e(n,t))})}},{key:"hasSelectedBothThAndTd",value:function(e){return e=e||this.getSelectedCells(),e.first()[0].nodeName!==e.last()[0].nodeName}}]),t}(y);t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return{nodeName:"TD",rowMergeWith:e}}function o(e,t){var n=null;return e[t].map(function(r,o){var a=void 0;if(d.default.isExisty(r.rowMergeWith)){var l=r.rowMergeWith,s=e[l][o],u=l+s.rowspan-1;d.default.isExisty(s.colMergeWith)&&n?a=d.default.extend({},n):u>t&&(s.rowspan+=1,a=d.default.extend({},r))}else r.rowspan>1&&(r.rowspan+=1,a=i(t));return a||(a=g.default.createBasicCell(t+1,o)),n=a,a})}function a(e,t){var n=t.start.rowIndex,r=t.end,i=g.default.findRowMergedLastIndex(e,r.rowIndex,r.colIndex),a=d.default.range(n,i+1).map(function(){return o(e,i)});e.splice.apply(e,[i+1,0].concat(a))}function l(e,t,n){var r=g.default.createTableData(e),i=g.default.findRowMergedLastIndex(r,t,n)+1,o=g.default.findElementIndex(r,i,n);return e.find("tr").eq(o.rowIndex).find("td")[o.colIndex]}Object.defineProperty(t,"__esModule",{value:!0}),t._createNewRow=o,t._addRow=a;var s=n(0),u=r(s),c=n(1),d=r(c),f=n(5),h=r(f),p=n(6),g=r(p),v=n(9),m=r(v),y=n(8),_=r(y),b=h.default.CommandManager,w=void 0;b&&(w=b.command("wysiwyg",{name:"AddRow",exec:function(e){var t=e.getEditor(),n=t.getSelection().cloneRange();if(e.focus(),t.hasFormat("TABLE")){var r=(0,u.default)(n.startContainer),i=r.closest("table"),o=g.default.createTableData(i),s=e.componentManager.getManager("tableSelection").getSelectedCells(),c=m.default.getTableSelectionRange(o,s,r);t.saveUndoState(n),a(o,c);var d=_.default.replaceTable(i,o),f=l(d,c.end.rowIndex,c.start.colIndex);_.default.focusToCell(t,n,f)}}})),t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return{nodeName:t,colMergeWith:e}}function o(e,t,n,r){var o=e[n],a=void 0;if(f.default.isExisty(o.colMergeWith)){var l=o.colMergeWith,s=e[l],u=l+s.colspan-1;f.default.isExisty(s.rowMergeWith)&&r?a=f.default.extend({},r):u>n&&(s.colspan+=1,a=f.default.extend({},o))}else o.colspan>1&&(o.colspan+=1,a=i(n,o.nodeName));return a||(a=v.default.createBasicCell(t,n+1,o.nodeName)),a}function a(e,t,n){var r=f.default.range(t,n+1),i=[],a=null;return e.forEach(function(e,t){var l=r.map(function(r,i){var l=a?a[i-1]:null;return o(e,t,n,l)});a=l,i.push(l)}),i}function l(e,t){var n=t.end,r=v.default.findColMergedLastIndex(e,n.rowIndex,n.colIndex),i=a(e,t.start.colIndex,r),o=r+1;e.forEach(function(e,t){e.splice.apply(e,[o,0].concat(i[t]))})}function s(e,t,n){var r=v.default.createTableData(e),i=v.default.findColMergedLastIndex(r,t,n)+1,o=v.default.findElementIndex(r,t,i);return e.find("tr").eq(o.rowIndex).find("td, th")[o.colIndex]}Object.defineProperty(t,"__esModule",{value:!0}),t._createNewColumns=a,t._addColumns=l;var u=n(0),c=r(u),d=n(1),f=r(d),h=n(5),p=r(h),g=n(6),v=r(g),m=n(9),y=r(m),_=n(8),b=r(_),w=p.default.CommandManager,k=void 0;w&&(k=w.command("wysiwyg",{name:"AddCol",exec:function(e){var t=e.getEditor(),n=t.getSelection().cloneRange();if(e.focus(),t.hasFormat("TABLE")){var r=(0,c.default)(n.startContainer),i=r.closest("table"),o=v.default.createTableData(i),a=e.componentManager.getManager("tableSelection").getSelectedCells(),u=y.default.getTableSelectionRange(o,a,r);t.saveUndoState(n),l(o,u);var d=b.default.replaceTable(i,o),f=s(d,u.start.rowIndex,u.end.colIndex);b.default.focusToCell(t,n,f)}}})),t.default=k},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){d.default.range(t,n+1).forEach(function(t){e[t].forEach(function(r,i){if(d.default.isExisty(r.rowMergeWith)){var o=e[r.rowMergeWith][i];o.rowspan&&(o.rowspan-=1)}else if(r.rowspan>1){var a=t+r.rowspan-1;r.rowspan-=n-t+1,a>n&&(e[n+1][i]=d.default.extend({},r))}})})}function o(e,t,n){e.slice(n+1).forEach(function(e){e.forEach(function(e){d.default.isExisty(e.rowMergeWith)&&e.rowMergeWith>=t&&(e.rowMergeWith=n+1)})})}function a(e,t){var n=t.start.rowIndex,r=t.end,a=g.default.findRowMergedLastIndex(e,r.rowIndex,r.colIndex);if(0!==n||0!==a){n=Math.max(n,1),a=Math.max(a,1);var l=a-n+1;e.length-l<2?e.splice(0,e.length):(i(e,n,a),o(e,n,a),e.splice(n,l))}}function l(e,t,n){var r=g.default.createTableData(e);r.length-1<t&&(t-=1);var i=g.default.findElementIndex(r,t,n);return e.find("tr").eq(i.rowIndex).find("th,td")[i.colIndex]}Object.defineProperty(t,"__esModule",{value:!0}),t._removeRow=a;var s=n(0),u=r(s),c=n(1),d=r(c),f=n(5),h=r(f),p=n(6),g=r(p),v=n(9),m=r(v),y=n(8),_=r(y),b=h.default.CommandManager,w=void 0;b&&(w=b.command("wysiwyg",{name:"RemoveRow",exec:function(e){var t=e.getEditor(),n=t.getSelection().cloneRange();if(e.focus(),t.hasFormat("TABLE")){var r=(0,u.default)(n.startContainer),i=r.closest("table"),o=g.default.createTableData(i),s=o.length,c=e.componentManager.getManager("tableSelection").getSelectedCells(),d=m.default.getTableSelectionRange(o,c,r);if(t.saveUndoState(n),a(o,d),o.length<2)i.remove();else if(s!==o.length){var f=_.default.replaceTable(i,o),h=d.start.rowIndex,p=h<o.length?h:h-1,v=l(f,p,d.start.colIndex);_.default.focusToCell(t,n,v)}}}})),t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){e.forEach(function(e){d.default.range(t,n+1).forEach(function(t){var r=e[t];if(d.default.isExisty(r.colMergeWith)){var i=e[r.colMergeWith];i.colspan&&(i.colspan-=1)}else if(r.colspan>1){var o=t+r.colspan-1;r.colspan-=n-t+1,o>n&&(e[n+1]=d.default.extend({},r))}})})}function o(e,t,n){e.forEach(function(e){e.slice(n+1).forEach(function(e){d.default.isExisty(e.colMergeWith)&&e.colMergeWith>=t&&(e.colMergeWith=n+1)})})}function a(e,t){var n=t.start.colIndex,r=t.end,a=g.default.findColMergedLastIndex(e,r.rowIndex,r.colIndex),l=a-n+1;i(e,n,a),o(e,n,a),e.forEach(function(e){e.splice(n,l)})}function l(e,t,n){var r=g.default.createTableData(e);r[0].length-1<n&&(n-=1);var i=g.default.findElementIndex(r,t,n);return e.find("tr").eq(i.rowIndex).find("td, th")[i.colIndex]}Object.defineProperty(t,"__esModule",{value:!0}),t._removeColumns=a;var s=n(0),u=r(s),c=n(1),d=r(c),f=n(5),h=r(f),p=n(6),g=r(p),v=n(9),m=r(v),y=n(8),_=r(y),b=h.default.CommandManager,w=void 0;b&&(w=b.command("wysiwyg",{name:"RemoveCol",exec:function(e){var t=e.getEditor(),n=t.getSelection().cloneRange();if(e.focus(),t.hasFormat("TABLE")){var r=(0,u.default)(n.startContainer),i=r.closest("table"),o=g.default.createTableData(i),s=e.componentManager.getManager("tableSelection").getSelectedCells(),c=m.default.getTableSelectionRange(o,s,r),d=o[0].length;if(t.saveUndoState(n),a(o,c),0===o[0].length)i.remove();else if(d!==o[0].length){var f=_.default.replaceTable(i,o),h=c.start.colIndex,p=h>=o[0].length?h-1:h,v=l(f,c.start.rowIndex,p);_.default.focusToCell(t,n,v)}}}})),t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){u.default.range(t,n+1).forEach(function(t){var n=e[t];u.default.isExisty(n.colMergeWith)?e[n.colMergeWith].align=r:n.align=r})}function o(e,t){var n=h.default.findElementRowIndex(t),r=h.default.findElementColIndex(t);return e.find("tr").eq(n).find("td, th")[r]}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),l=r(a),s=n(1),u=r(s),c=n(5),d=r(c),f=n(6),h=r(f),p=n(9),g=r(p),v=n(8),m=r(v),y=d.default.CommandManager,_=void 0;y&&(_=y.command("wysiwyg",{name:"AlignCol",exec:function(e,t){var n=e.getEditor(),r=n.getSelection().cloneRange();if(e.focus(),n.hasFormat("TABLE")){var a=(0,l.default)(r.startContainer),s=a.closest("table"),u=h.default.createTableData(s),c=e.componentManager.getManager("tableSelection").getSelectedCells(),d=g.default.getTableSelectionRange(u,c,a);i(u[0],d.start.colIndex,d.end.colIndex,t);var f=m.default.replaceTable(s,u),p=o(f,a);m.default.focusToCell(n,r,p)}}})),t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){var r,i=n+1,o=(r=[]).concat.apply(r,e.map(function(e){return e.slice(t,i)})),a=o.filter(function(e){var t=e.content;return t&&t!==E});return a.length?a[0].content:E}function o(e,t,n){var r,i=n+1,o=e.map(function(e){return e.slice(t,i)});(r=[]).concat.apply(r,o).slice(1).forEach(function(e){var t=e.nodeName;h.default.forEach(e,function(t,n){return delete e[n]}),e.nodeName=t})}function a(e,t,n,r){var i=n+1;e.forEach(function(e){e.slice(t,i).forEach(function(e){e.rowMergeWith=r})})}function l(e,t,n,r){var i=n+1;e.forEach(function(e){e.slice(t,i).forEach(function(e){e.colMergeWith=r})})}function s(e,t){var n=t.start,r=t.end,s=n.rowIndex,u=n.colIndex,c=r.rowIndex,d=r.colIndex,f=e[s][u],h=e.slice(s,c+1),p=c-s+1,g=d-u+1;f.rowspan=p,f.colspan=g,f.content=i(h,u,d),o(h,u,d),p>1&&a(h.slice(1),u,d,s),g>1&&l(h,u+1,d,u)}function u(e,t,n){var r=m.default.createTableData(e),i=m.default.findElementIndex(r,t,n);return e.find("tr").eq(i.rowIndex).find("td, th")[i.colIndex]}Object.defineProperty(t,"__esModule",{value:!0}),t._mergeCells=s;var c=n(0),d=r(c),f=n(1),h=r(f),p=n(5),g=r(p),v=n(6),m=r(v),y=n(9),_=r(y),b=n(8),w=r(b),k=g.default.CommandManager,E=h.default.browser.msie?"":"<br>",C=void 0;k&&(C=k.command("wysiwyg",{name:"MergeCells",exec:function(e){var t=e.getEditor();if(e.focus(),t.hasFormat("TABLE")){var n=e.componentManager.getManager("tableSelection"),r=n.getSelectedCells();if(!(r.length<2||n.hasSelectedBothThAndTd(r))){var i=t.getSelection().cloneRange(),o=(0,d.default)(i.startContainer),a=o.closest("table"),l=m.default.createTableData(a),c=_.default.getTableSelectionRange(l,r,o);s(l,c);var f=w.default.replaceTable(a,l),h=u(f,c.start.rowIndex,c.start.colIndex);w.default.focusToCell(t,i,h)}}}})),t.default=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n,r=t.start,i=t.end,o=r.colIndex,a=i.colIndex+1,l=e.slice(r.rowIndex,i.rowIndex+1),s=l.map(function(e){return e.slice(o,a)});return!!(n=[]).concat.apply(n,s).filter(function(e){return e.colspan>1||e.rowspan>1}).length}function o(e,t,n,r,i){var o=t+r,a=n+i,l=d.default.range(n,a);d.default.range(t,o).forEach(function(n){var r=e[n],i=n===t?1:0;l.slice(i).forEach(function(e){r[e]=g.default.createBasicCell(n,e,r[e].nodeName)})})}function a(e,t){var n=t.start,r=t.end,i=d.default.range(n.colIndex,r.colIndex+1);d.default.range(n.rowIndex,r.rowIndex+1).forEach(function(t){i.forEach(function(n){var r=e[t][n],i=r.colspan,a=r.rowspan;(i>1||a>1)&&(r.colspan=1,r.rowspan=1,o(e,t,n,a,i))})})}function l(e,t,n){var r=g.default.createTableData(e),i=g.default.findElementIndex(r,t,n);return e.find("tr").eq(i.rowIndex).find("td, th")[i.colIndex]}Object.defineProperty(t,"__esModule",{value:!0}),t._hasMergedCell=i,t._unmergeCells=a;var s=n(0),u=r(s),c=n(1),d=r(c),f=n(5),h=r(f),p=n(6),g=r(p),v=n(9),m=r(v),y=n(8),_=r(y),b=h.default.CommandManager,w=void 0;b&&(w=b.command("wysiwyg",{name:"UnmergeCells",exec:function(e){var t=e.getEditor(),n=t.getSelection().cloneRange();if(e.focus(),t.hasFormat("TABLE")){var r=(0,u.default)(n.startContainer),o=r.closest("table"),s=g.default.createTableData(o),c=e.componentManager.getManager("tableSelection").getSelectedCells(),d=m.default.getTableSelectionRange(s,c,r);if(i(s,d)){a(s,d);var f=_.default.replaceTable(o,s),h=l(f,d.start.rowIndex,d.start.colIndex);_.default.focusToCell(t,n,h)}}}})),t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=['<button type="button" class="te-table-add-row">'+d.get("Add row")+"</button>",'<button type="button" class="te-table-add-col">'+d.get("Add col")+"</button>",'<button type="button" class="te-table-remove-row">'+d.get("Remove row")+"</button>",'<button type="button" class="te-table-remove-col">'+d.get("Remove col")+"</button>","<hr/>",'<button type="button" class="te-table-merge">'+d.get("Merge cells")+"</button>",'<button type="button" class="te-table-unmerge">'+d.get("Unmerge cells")+"</button>","<hr/>",'<button type="button" class="te-table-col-align-left">'+d.get("Align left")+"</button>",'<button type="button" class="te-table-col-align-center">'+d.get("Align center")+"</button>",'<button type="button" class="te-table-col-align-right">'+d.get("Align right")+"</button>","<hr/>",'<button type="button" class="te-table-remove">'+d.get("Remove table")+"</button>"].join(""),n=(0,s.default)(t);e.setContent(n)}function o(e,t,n){var r=e.$content,i=(0,s.default)(r[5]),o=(0,s.default)(r[6]),a=(0,s.default)(r[7]);e.on("click .te-table-merge",function(){t.emit("command","MergeCells")}),e.on("click .te-table-unmerge",function(){t.emit("command","UnmergeCells")}),t.listen("openPopupTableUtils",function(){var e=n.getSelectedCells(),t=e.length;t?(t<2||n.hasSelectedBothThAndTd(e)?i.hide():i.show(),e.is("[rowspan], [colspan]")?o.show():o.hide(),a.show()):(i.hide(),o.hide(),a.hide())})}function a(e,t,n){i(e),o(e,t,n)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),s=r(l),u=n(5),c=r(u),d=c.default.i18n;t.default={updateContextMenu:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.options.colorSyntax,n=void 0===t?{}:t,r=n.preset,i=n.useCustomSyntax,u=void 0!==i&&i;e.eventManager.listen("convertorAfterMarkdownToHtmlConverted",function(e){return u?e.replace(_,function(e,t,n){return s(n,t).result}):e}),e.eventManager.listen("convertorAfterHtmlToMarkdownConverted",function(e){var t=u?w:b;return e.replace(t,function(e,t,n){return t.match(k)&&(t=c(t)),u?l(n,t).result:e.replace(/ ?class="colour" ?/g," ").replace(k,t)})}),e.isViewer()||"default"!==e.getUI().name||(e.addCommand("markdown",{name:"color",exec:function(e,t){var n=e.getEditor(),r=n.getCursor("from"),i=n.getCursor("to"),o=void 0,a=void 0;if(t){if(u){var c=l(n.getSelection(),t);o=c.result,a=c.from,n.replaceSelection(o)}else{var d=s(n.getSelection(),t);o=d.result,a=d.from,n.replaceSelection(o)}n.setSelection({line:r.line,ch:r.ch+a},{line:i.line,ch:r.line===i.line?i.ch+a:i.ch}),e.focus()}}}),e.addCommand("wysiwyg",{name:"color",exec:function(e,t){if(t){var n=e.getEditor(),r=e.componentManager.getManager("tableSelection");if(n.hasFormat("table")&&r.getSelectedCells().length){r.styleToSelectedCells(o,t);var i=n.getSelection();i.collapse(!0),n.setSelection(i)}else o(n,t)}}}),a(e,r))}function o(e,t){e.hasFormat("PRE")||(t===E?e.changeFormat(null,{class:"colour",tag:"span"}):e.setTextColour(t))}function a(e,t){var n=e.i18n,r=e.getUI().getToolbar(),i=e.options.usageStatistics;e.eventManager.addEventType("colorButtonClicked"),r.insertItem(3,{type:"button",options:{name:"colorSyntax",className:"tui-color",event:"colorButtonClicked",tooltip:n.get("Text color")}});var o=r.indexOfItem("colorSyntax"),a=r.getItem(o),l=a.$el,s=(0,p.default)("<div />"),u=(0,p.default)('<button type="button" class="te-apply-button">'+n.get("OK")+"</button>"),c={container:s[0],usageStatistics:i};t&&(c.preset=t);var d=v.default.create(c),f=d.getColor();s.append(u);var h=e.getUI().createPopup({header:!1,title:!1,content:s,className:"tui-popup-color",$target:e.getUI().getToolbar().$el,css:{width:"auto",position:"absolute"}});e.eventManager.listen("focus",function(){h.hide()}),e.eventManager.listen("colorButtonClicked",function(){if(h.isShow())return void h.hide();var t=l.get(0),n=t.offsetTop,r=t.offsetLeft;h.$el.css({top:n+l.outerHeight(),left:r}),d.slider.toggle(!0),e.eventManager.emit("closeAllPopup"),h.show()}),e.eventManager.listen("closeAllPopup",function(){h.hide()}),e.eventManager.listen("removeEditor",function(){d.off("selectColor")}),d.on("selectColor",function(t){f=t.color,"palette"===t.origin&&(e.exec("color",f),h.hide())}),h.$el.find(".te-apply-button").on("click",function(){e.exec("color",f)})}function l(e,t){return u("{color:"+t+"}",e,"{color}")}function s(e,t){return u('<span style="color:'+t+'">',e,"</span>")}function u(e,t,n){return{result:""+e+t+n,from:e.length,to:e.length+t.length}}function c(e){return e.replace(k,function(e,t,n,r){return"#"+d(t)+d(n)+d(r)})}function d(e){var t=parseInt(e,10);return t=t.toString(16),t=f(t)}function f(e){var t="00"+e;return t.substr(t.length-2)}Object.defineProperty(t,"__esModule",{value:!0});var h=n(0),p=r(h),g=n(194),v=r(g),m=n(5),y=r(m),_=/\{color:(.+?)}(.*?)\{color}/g,b=/<span (?:class="colour" )?style="color:(.+?)"(?: class="colour")?>(.*?)/g,w=/<span (?:class="colour" )?style="color:(.+?)"(?: class="colour")?>(.*?)<\/span>/g,k=/rgb\((\d+)[, ]+(\d+)[, ]+(\d+)\)/g,E="#181818";y.default.defineExtension("colorSyntax",i),t.default=i},function(e,t){e.exports=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){var t=void 0;try{if(!a.default)throw new Error("plantuml-encoder dependency required");t='<img src="'+i+a.default.encode(e)+'" />'}catch(e){t="Error occurred on encoding uml: "+e.message}return t}var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.rendererURL,i=void 0===r?c:r,o=e.options.codeBlockLanguages;d.forEach(function(e){o.indexOf(e)<0&&o.push(e),u.setReplacer(e,t)})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(196),a=r(o),l=n(5),s=r(l),u=s.default.codeBlockManager,c="http://www.plantuml.com/plantuml/png/",d=["uml","plantuml"];s.default.defineExtension("uml",i),t.default=i},function(e,t){e.exports=u},function(e,t,n){"use strict";var r=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(29);i.default.fn.tuiEditor=function(){var e=void 0,t=void 0,n=this.get(0);if(n){for(var r=arguments.length,a=Array(r),l=0;l<r;l++)a[l]=arguments[l];if(e=a[0]||{},t=i.default.data(n,"tuiEditor")){if("string"==typeof e){var s;return(s=t)[e].apply(s,a.slice(1))}}else e.el=n,t=o.factory(e),i.default.data(n,"tuiEditor",t)}return this},e.exports=o}])});

